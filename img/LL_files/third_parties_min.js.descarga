//java/com/google/trends/narrator/fe/client/third_parties_js_bin.jstrimmer_bootstrap.js

//javascript/closure/base.js
/**
 * @license
 * Copyright The Closure Library Authors.
 * SPDX-License-Identifier: Apache-2.0
 */

/**
 * @fileoverview Bootstrap for the Google JS Library (Closure).
 *
 * Avoid including base.js more than once. This is strictly discouraged and not
 * supported. goog.require(...) won't work properly in that case.
 *
 * @suppress {deprecated} Users cannot remove deprecated uses here.
 * @provideGoog
 */


/**
 * @define {boolean} Overridden to true by the compiler.
 */
var COMPILED = false;


/**
 * Base namespace for the Closure library.  Checks to see goog is already
 * defined in the current scope before assigning to prevent clobbering if
 * base.js is loaded more than once.
 *
 * @const
 */
var goog = goog || {};

/**
 * Reference to the global object.
 * https://www.ecma-international.org/ecma-262/9.0/index.html#sec-global-object
 *
 * More info on this implementation here:
 * https://docs.google.com/document/d/1NAeW4Wk7I7FV0Y2tcUFvQdGMc89k2vdgSXInw8_nvCI/edit
 *
 * @const
 * @suppress {undefinedVars} self won't be referenced unless `this` is falsy.
 * @type {!Global}
 */
goog.global =
    // Check `this` first for backwards compatibility.
    // Valid unless running as an ES module or in a function wrapper called
    //   without setting `this` properly.
    // Note that base.js can't usefully be imported as an ES module, but it may
    // be compiled into bundles that are loadable as ES modules.
    this ||
    // https://developer.mozilla.org/en-US/docs/Web/API/Window/self
    // For in-page browser environments and workers.
    self;


/**
 * A hook for overriding the define values in uncompiled mode.
 *
 * In uncompiled mode, `CLOSURE_UNCOMPILED_DEFINES` may be defined before
 * loading base.js.  If a key is defined in `CLOSURE_UNCOMPILED_DEFINES`,
 * `goog.define` will use the value instead of the default value.  This
 * allows flags to be overwritten without compilation (this is normally
 * accomplished with the compiler's "define" flag).
 *
 * Example:
 * <pre>
 *   var CLOSURE_UNCOMPILED_DEFINES = {'goog.DEBUG': false};
 * </pre>
 *
 * @type {Object<string, (string|number|boolean)>|undefined}
 */
goog.global.CLOSURE_UNCOMPILED_DEFINES;


/**
 * A hook for overriding the define values in uncompiled or compiled mode,
 * like CLOSURE_UNCOMPILED_DEFINES but effective in compiled code.  In
 * uncompiled code CLOSURE_UNCOMPILED_DEFINES takes precedence.
 *
 * Also unlike CLOSURE_UNCOMPILED_DEFINES the values must be number, boolean or
 * string literals or the compiler will emit an error.
 *
 * While any @define value may be set, only those set with goog.define will be
 * effective for uncompiled code.
 *
 * Example:
 * <pre>
 *   var CLOSURE_DEFINES = {'goog.DEBUG': false} ;
 * </pre>
 *
 * Currently the Closure Compiler will only recognize very simple definitions of
 * this value when looking for values to apply to compiled code and ignore all
 * other references.  Specifically, it looks the value defined at the variable
 * declaration, as with the example above.
 *
 * TODO(b/202066289): Improve the recognized definitions.
 *
 * @type {!Object<string, (string|number|boolean)>|null|undefined}
 */
goog.global.CLOSURE_DEFINES;


/**
 * Builds an object structure for the provided namespace path, ensuring that
 * names that already exist are not overwritten. For example:
 * "a.b.c" -> a = {};a.b={};a.b.c={};
 * Used by goog.provide and goog.exportSymbol.
 * @param {string} name The name of the object that this file defines.
 * @param {*=} object The object to expose at the end of the path.
 * @param {boolean=} overwriteImplicit If object is set and a previous call
 *     implicitly constructed the namespace given by name, this parameter
 *     controls whether object should overwrite the implicitly constructed
 *     namespace or be merged into it. Defaults to false.
 * @param {?Object=} objectToExportTo The object to add the path to; if this
 *     field is not specified, its value defaults to `goog.global`.
 * @private
 */
goog.exportPath_ = function(name, object, overwriteImplicit, objectToExportTo) {
  var parts = name.split('.');
  var cur = objectToExportTo || goog.global;

  // Internet Explorer exhibits strange behavior when throwing errors from
  // methods externed in this manner.  See the testExportSymbolExceptions in
  // base_test.html for an example.
  if (!(parts[0] in cur) && typeof cur.execScript != 'undefined') {
    cur.execScript('var ' + parts[0]);
  }

  for (var part; parts.length && (part = parts.shift());) {
    if (!parts.length && object !== undefined) {
      if (!overwriteImplicit && goog.isObject(object) &&
          goog.isObject(cur[part])) {
        // Merge properties on object (the input parameter) with the existing
        // implicitly defined namespace, so as to not clobber previously
        // defined child namespaces.
        for (var prop in object) {
          if (object.hasOwnProperty(prop)) {
            cur[part][prop] = object[prop];
          }
        }
      } else {
        // Either there is no existing implicit namespace, or overwriteImplicit
        // is set to true, so directly assign object (the input parameter) to
        // the namespace.
        cur[part] = object;
      }
    } else if (cur[part] && cur[part] !== Object.prototype[part]) {
      cur = cur[part];
    } else {
      cur = cur[part] = {};
    }
  }
};


/**
 * Defines a named value. In uncompiled mode, the value is retrieved from
 * CLOSURE_DEFINES or CLOSURE_UNCOMPILED_DEFINES if the object is defined and
 * has the property specified, and otherwise used the defined defaultValue.
 * When compiled the default can be overridden using the compiler options or the
 * value set in the CLOSURE_DEFINES object. Returns the defined value so that it
 * can be used safely in modules. Note that the value type MUST be either
 * boolean, number, or string.
 *
 * @param {string} name The distinguished name to provide.
 * @param {T} defaultValue
 * @return {T} The defined value.
 * @template T
 */
goog.define = function(name, defaultValue) {
  var value = defaultValue;
  if (!COMPILED) {
    var uncompiledDefines = goog.global.CLOSURE_UNCOMPILED_DEFINES;
    var defines = goog.global.CLOSURE_DEFINES;
    if (uncompiledDefines &&
        // Anti DOM-clobbering runtime check (b/37736576).
        /** @type {?} */ (uncompiledDefines).nodeType === undefined &&
        Object.prototype.hasOwnProperty.call(uncompiledDefines, name)) {
      value = uncompiledDefines[name];
    } else if (
        defines &&
        // Anti DOM-clobbering runtime check (b/37736576).
        /** @type {?} */ (defines).nodeType === undefined &&
        Object.prototype.hasOwnProperty.call(defines, name)) {
      value = defines[name];
    }
  }
  return value;
};


/**
 * @define {number} Integer year indicating the set of browser features that are
 * guaranteed to be present.  This is defined to include exactly features that
 * work correctly on all "modern" browsers that are stable on January 1 of the
 * specified year.  For example,
 * ```js
 * if (goog.FEATURESET_YEAR >= 2019) {
 *   // use APIs known to be available on all major stable browsers Jan 1, 2019
 * } else {
 *   // polyfill for older browsers
 * }
 * ```
 * This is intended to be the primary define for removing
 * unnecessary browser compatibility code (such as ponyfills and workarounds),
 * and should inform the default value for most other defines:
 * ```js
 * const ASSUME_NATIVE_PROMISE =
 *     goog.define('ASSUME_NATIVE_PROMISE', goog.FEATURESET_YEAR >= 2016);
 * ```
 *
 * The default assumption is that IE9 is the lowest supported browser, which was
 * first available Jan 1, 2012.
 *
 * TODO(mathiasb): Reference more thorough documentation when it's available.
 */
goog.FEATURESET_YEAR = goog.define('goog.FEATURESET_YEAR', 2012);


/**
 * @define {boolean} DEBUG is provided as a convenience so that debugging code
 * that should not be included in a production. It can be easily stripped
 * by specifying --define goog.DEBUG=false to the Closure Compiler aka
 * JSCompiler. For example, most toString() methods should be declared inside an
 * "if (goog.DEBUG)" conditional because they are generally used for debugging
 * purposes and it is difficult for the JSCompiler to statically determine
 * whether they are used.
 */
goog.DEBUG = goog.define('goog.DEBUG', true);


/**
 * @define {string} LOCALE defines the locale being used for compilation. It is
 * used to select locale specific data to be compiled in js binary. BUILD rule
 * can specify this value by "--define goog.LOCALE=<locale_name>" as a compiler
 * option.
 *
 * Take into account that the locale code format is important. You should use
 * the canonical Unicode format with hyphen as a delimiter. Language must be
 * lowercase, Language Script - Capitalized, Region - UPPERCASE.
 * There are few examples: pt-BR, en, en-US, sr-Latin-BO, zh-Hans-CN.
 *
 * See more info about locale codes here:
 * http://www.unicode.org/reports/tr35/#Unicode_Language_and_Locale_Identifiers
 *
 * For language codes you should use values defined by ISO 693-1. See it here
 * http://www.w3.org/WAI/ER/IG/ert/iso639.htm. There is only one exception from
 * this rule: the Hebrew language. For legacy reasons the old code (iw) should
 * be used instead of the new code (he).
 *
 * MOE:begin_intracomment_strip
 * See http://g3doc/i18n/identifiers/g3doc/synonyms.
 * MOE:end_intracomment_strip
 */
goog.LOCALE = goog.define('goog.LOCALE', 'en');  // default to en


/**
 * @define {boolean} Whether this code is running on trusted sites.
 *
 * On untrusted sites, several native functions can be defined or overridden by
 * external libraries like Prototype, Datejs, and JQuery and setting this flag
 * to false forces closure to use its own implementations when possible.
 *
 * If your JavaScript can be loaded by a third party site and you are wary about
 * relying on non-standard implementations, specify
 * "--define goog.TRUSTED_SITE=false" to the compiler.
 */
goog.TRUSTED_SITE = goog.define('goog.TRUSTED_SITE', true);


/**
 * @define {boolean} Whether code that calls {@link goog.setTestOnly} should
 *     be disallowed in the compilation unit.
 */
goog.DISALLOW_TEST_ONLY_CODE =
    goog.define('goog.DISALLOW_TEST_ONLY_CODE', COMPILED && !goog.DEBUG);


/**
 * @define {boolean} Whether to use a Chrome app CSP-compliant method for
 *     loading scripts via goog.require. @see appendScriptSrcNode_.
 */
goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING =
    goog.define('goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING', false);


// MOE:begin_strip
/**
 * Read a flag from the runtime flags object.
 * @param {number} googFlagId Enum ordinal
 * @param {boolean} defaultValue Value to return if the flag is not given
 * @return {boolean}
 */
goog.readFlagInternalDoNotUseOrElse = function(googFlagId, defaultValue) {
  var obj = goog.getObjectByName(goog.FLAGS_OBJECT_);
  var val = obj && obj[googFlagId];
  return val != null ? val : defaultValue;
};


/**
 * Name of the object to look for when looking up runtime flag values.  May be a
 * fully qualified object name (e.g. 'foo.bar').
 * @define {string}
 * @private
 */
goog.FLAGS_OBJECT_ = goog.define('goog.FLAGS_OBJECT', 'CLOSURE_FLAGS');


/**
 * Default value for the STAGING flag.  Defaults to `true`, indicating that
 * flags are enabled by default once they reach the STAGING lifecycle stage.
 * Risk-averse products should set this to `false` in their production builds.
 * This is only necessary for non-Boq products because Boq Web configures this
 * via the goog.flag system by default.
 *
 * @define {boolean}
 */
goog.FLAGS_STAGING_DEFAULT = goog.define('goog.FLAGS_STAGING_DEFAULT', true);


/**
 * Read a toggle's value.  This should not be called directly.  Use the
 * `toggle_provider` build rule instead.  See go/toggle-provider.
 * @param {string} name
 * @return {boolean}
 */
goog.readToggleInternalDoNotCallDirectly = function(name) {
  var ordinals = typeof CLOSURE_TOGGLE_ORDINALS === 'object' ?
      CLOSURE_TOGGLE_ORDINALS :
      undefined;
  var ordinal = ordinals && ordinals[name];
  if (typeof ordinal !== 'number') return Boolean(ordinal);
  return Boolean(
      goog.TOGGLES_[Math.floor(ordinal / 30)] & (1 << (ordinal % 30)));
};


/**
 * Bootstrap variable mapping toggle names to ordinals.  This is intended to be
 * read by JSCompiler to replace goog.readToggle...() calls with direct lookups,
 * but is also used by the debug-mode version of the toggle reader.
 * @const {!Object<string, number|boolean>|undefined}
 */
goog.global.CLOSURE_TOGGLE_ORDINALS;


/**
 * @define {string} Global variable to check for toggles.
 * @private
 */
goog.TOGGLE_VAR_ = goog.define('goog.TOGGLE_VAR', '_F_toggles');


/** @private @const {!Array<number>} */
goog.TOGGLES_ = goog.global[goog.TOGGLE_VAR_] || [];
// MOE:end_strip


/**
 * A hook for providing an object that should be used to track the "legacy
 * namespaces". The legacy namespace is where symbols from `goog.provide` as
 * well as symbols from `goog.module` with `goog.module.declareLegacyNamespace`
 * are placed.
 *
 * If this isn't specified, `goog.global` will be considered the legacy
 * namespace object.
 *
 * @type {!Object|undefined}
 */
goog.global.CLOSURE_UNCOMPILED_LEGACY_NAMESPACE_OBJECT;


/**
 * @type {!Object}
 * @private
 */
goog.LEGACY_NAMESPACE_OBJECT_ =
    (!COMPILED &&
     typeof CLOSURE_UNCOMPILED_LEGACY_NAMESPACE_OBJECT !== 'undefined') ?
    CLOSURE_UNCOMPILED_LEGACY_NAMESPACE_OBJECT :
    goog.global;


/**
 * Defines a namespace in Closure.
 *
 * A namespace may only be defined once in a codebase. It may be defined using
 * goog.provide() or goog.module().
 *
 * The presence of one or more goog.provide() calls in a file indicates
 * that the file defines the given objects/namespaces.
 * Provided symbols must not be null or undefined.
 *
 * In addition, goog.provide() creates the object stubs for a namespace
 * (for example, goog.provide("goog.foo.bar") will create the object
 * goog.foo.bar if it does not already exist).
 *
 * Build tools also scan for provide/require/module statements
 * to discern dependencies, build dependency files (see deps.js), etc.
 *
 * @see goog.require
 * @see goog.module
 * @param {string} name Namespace provided by this file in the form
 *     "goog.package.part".
 * deprecated Use goog.module (see b/159289405)
 */
goog.provide = function(name) {
  if (goog.isInModuleLoader_()) {
    throw new Error('goog.provide cannot be used within a module.');
  }
  if (!COMPILED) {
    // Ensure that the same namespace isn't provided twice.
    // A goog.module/goog.provide maps a goog.require to a specific file
    if (goog.isProvided_(name)) {
      throw new Error('Namespace "' + name + '" already declared.');
    }
  }

  goog.constructNamespace_(name);
};


/**
 * @param {string} name Namespace provided by this file in the form
 *     "goog.package.part".
 * @param {?Object=} object The object to embed in the namespace.
 * @param {boolean=} overwriteImplicit If object is set and a previous call
 *     implicitly constructed the namespace given by name, this parameter
 *     controls whether opt_obj should overwrite the implicitly constructed
 *     namespace or be merged into it. Defaults to false.
 * @private
 */
goog.constructNamespace_ = function(name, object, overwriteImplicit) {
  if (!COMPILED) {
    delete goog.implicitNamespaces_[name];

    var namespace = name;
    while ((namespace = namespace.substring(0, namespace.lastIndexOf('.')))) {
      if (goog.getObjectByName(namespace, goog.LEGACY_NAMESPACE_OBJECT_)) {
        break;
      }
      goog.implicitNamespaces_[namespace] = true;
    }
  }

  goog.exportPath_(
      name, object, overwriteImplicit, goog.LEGACY_NAMESPACE_OBJECT_);
};


/**
 * According to the CSP3 spec a nonce must be a valid base64 string.
 * @see https://www.w3.org/TR/CSP3/#grammardef-base64-value
 * @private @const
 */
goog.NONCE_PATTERN_ = /^[\w+/_-]+[=]{0,2}$/;


/**
 * Returns CSP nonce, if set for any script tag.
 * @param {?Window=} opt_window The window context used to retrieve the nonce.
 *     Defaults to global context.
 * @return {string} CSP nonce or empty string if no nonce is present.
 * @private
 */
goog.getScriptNonce_ = function(opt_window) {
  var doc = (opt_window || goog.global).document;
  var script = doc.querySelector && doc.querySelector('script[nonce]');
  if (script) {
    // Try to get the nonce from the IDL property first, because browsers that
    // implement additional nonce protection features (currently only Chrome) to
    // prevent nonce stealing via CSS do not expose the nonce via attributes.
    // See https://github.com/whatwg/html/issues/2369
    var nonce = script['nonce'] || script.getAttribute('nonce');
    if (nonce && goog.NONCE_PATTERN_.test(nonce)) {
      return nonce;
    }
  }
  return '';
};


/**
 * Module identifier validation regexp.
 * Note: This is a conservative check, it is very possible to be more lenient,
 *   the primary exclusion here is "/" and "\" and a leading ".", these
 *   restrictions are intended to leave the door open for using goog.require
 *   with relative file paths rather than module identifiers.
 * @private
 */
goog.VALID_MODULE_RE_ = /^[a-zA-Z_$][a-zA-Z0-9._$]*$/;


/**
 * Defines a module in Closure.
 *
 * Marks that this file must be loaded as a module and claims the namespace.
 *
 * A namespace may only be defined once in a codebase. It may be defined using
 * goog.provide() or goog.module().
 *
 * goog.module() has three requirements:
 * - goog.module may not be used in the same file as goog.provide.
 * - goog.module must be the first statement in the file.
 * - only one goog.module is allowed per file.
 *
 * When a goog.module annotated file is loaded, it is enclosed in
 * a strict function closure. This means that:
 * - any variables declared in a goog.module file are private to the file
 * (not global), though the compiler is expected to inline the module.
 * - The code must obey all the rules of "strict" JavaScript.
 * - the file will be marked as "use strict"
 *
 * NOTE: unlike goog.provide, goog.module does not declare any symbols by
 * itself. If declared symbols are desired, use
 * goog.module.declareLegacyNamespace().
 *
 * MOE:begin_intracomment_strip
 * See the goog.module announcement at http://go/goog.module-announce
 * MOE:end_intracomment_strip
 *
 * See the public goog.module proposal: http://goo.gl/Va1hin
 *
 * @param {string} name Namespace provided by this file in the form
 *     "goog.package.part", is expected but not required.
 * @return {void}
 */
goog.module = function(name) {
  if (typeof name !== 'string' || !name ||
      name.search(goog.VALID_MODULE_RE_) == -1) {
    throw new Error('Invalid module identifier');
  }
  if (!goog.isInGoogModuleLoader_()) {
    throw new Error(
        'Module ' + name + ' has been loaded incorrectly. Note, ' +
        'modules cannot be loaded as normal scripts. They require some kind of ' +
        'pre-processing step. You\'re likely trying to load a module via a ' +
        'script tag or as a part of a concatenated bundle without rewriting the ' +
        'module. For more info see: ' +
        'https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.');
  }
  if (goog.moduleLoaderState_.moduleName) {
    throw new Error('goog.module may only be called once per module.');
  }

  // Store the module name for the loader.
  goog.moduleLoaderState_.moduleName = name;
  if (!COMPILED) {
    // Ensure that the same namespace isn't provided twice.
    // A goog.module/goog.provide maps a goog.require to a specific file
    if (goog.isProvided_(name)) {
      throw new Error('Namespace "' + name + '" already declared.');
    }
    delete goog.implicitNamespaces_[name];
  }
};


/**
 * @param {string} name The module identifier.
 * @return {?} The module exports for an already loaded module or null.
 *
 * Note: This is not an alternative to goog.require, it does not
 * indicate a hard dependency, instead it is used to indicate
 * an optional dependency or to access the exports of a module
 * that has already been loaded.
 * @suppress {missingProvide}
 */
goog.module.get = function(name) {
  return goog.module.getInternal_(name);
};


/**
 * @param {string} name The module identifier.
 * @return {?} The module exports for an already loaded module or null.
 * @private
 */
goog.module.getInternal_ = function(name) {
  if (!COMPILED) {
    if (name in goog.loadedModules_) {
      return goog.loadedModules_[name].exports;
    } else if (!goog.implicitNamespaces_[name]) {
      var ns = goog.getObjectByName(name, goog.LEGACY_NAMESPACE_OBJECT_);
      return ns != null ? ns : null;
    }
  }
  return null;
};

// MOE:begin_strip
/**
 * Defines dynamic import execution path for uncompiled mode.
 *
 * @param {string} name The module identifier.
 * @return {?} The module exports for an already loaded module or null.
 *
 * NOTE: In compiled code, JsCompiler will transpile this function call.
 * DO NOT OPENSOURCE
 */
goog.requireDynamic = function(name) {
  if (!COMPILED) {
    if (!goog.importHandler_ || !goog.uncompiledChunkIdHandler_) {
      throw new Error('Need to setup import handler and chunk id handler.');
    }
    return goog.importHandler_(goog.uncompiledChunkIdHandler_(name))
        .then(function() {
          var module = goog.module.getInternal_(name);
          if (module == null) {
            throw new Error('Module ' + name + ' is not loaded.');
          }
          return module;
        });
  }
  return null;
};


/**
 * Handler for dynamic import.
 * DO NOT OPENSOURCE
 */
goog.importHandler_ = null;


/**
 * Chunk ID calculator.
 * @private {?function(string)}
 * DO NOT OPENSOURCE
 */
goog.uncompiledChunkIdHandler_ = null;


/**
 * Sets import handler.
 * @param {function(string)} fn
 * DO NOT OPENSOURCE
 */
goog.setImportHandlerInternalDoNotCallOrElse = function(fn) {
  goog.importHandler_ = fn;
};


/**
 * Sets chunk ID calculator.
 * @param {function(string)} fn
 * NOTE: The chunk ID calculator is only used in uncompiled mode.
 * DO NOT OPENSOURCE
 */
goog.setUncompiledChunkIdHandlerInternalDoNotCallOrElse = function(fn) {
  goog.uncompiledChunkIdHandler_ = fn;
};


/**
 * This exists purely as a hint to JsTrimmer, so that it can convert it to
 * goog.require in certain circumstances.
 *
 * @param {string} namespace
 * DO NOT OPENSOURCE
 */
goog.maybeRequireFrameworkInternalOnlyDoNotCallOrElse = function(namespace) {};
// MOE:end_strip

/**
 * Types of modules the debug loader can load.
 * @enum {string}
 */
goog.ModuleType = {
  ES6: 'es6',
  GOOG: 'goog'
};


/**
 * @private {?{
 *   moduleName: (string|undefined),
 *   declareLegacyNamespace:boolean,
 *   type: ?goog.ModuleType
 * }}
 */
goog.moduleLoaderState_ = null;


/**
 * @private
 * @return {boolean} Whether a goog.module or an es6 module is currently being
 *     initialized.
 */
goog.isInModuleLoader_ = function() {
  return goog.isInGoogModuleLoader_() || goog.isInEs6ModuleLoader_();
};


/**
 * @private
 * @return {boolean} Whether a goog.module is currently being initialized.
 */
goog.isInGoogModuleLoader_ = function() {
  return !!goog.moduleLoaderState_ &&
      goog.moduleLoaderState_.type == goog.ModuleType.GOOG;
};


/**
 * @private
 * @return {boolean} Whether an es6 module is currently being initialized.
 */
goog.isInEs6ModuleLoader_ = function() {
  var inLoader = !!goog.moduleLoaderState_ &&
      goog.moduleLoaderState_.type == goog.ModuleType.ES6;

  if (inLoader) {
    return true;
  }

  var jscomp = goog.LEGACY_NAMESPACE_OBJECT_['$jscomp'];

  if (jscomp) {
    // jscomp may not have getCurrentModulePath if this is a compiled bundle
    // that has some of the runtime, but not all of it. This can happen if
    // optimizations are turned on so the unused runtime is removed but renaming
    // and Closure pass are off (so $jscomp is still named $jscomp and the
    // goog.provide/require calls still exist).
    if (typeof jscomp.getCurrentModulePath != 'function') {
      return false;
    }

    // Bundled ES6 module.
    return !!jscomp.getCurrentModulePath();
  }

  return false;
};


/**
 * Provide the module's exports as a globally accessible object under the
 * module's declared name.  This is intended to ease migration to goog.module
 * for files that have existing usages.
 * @suppress {missingProvide}
 */
goog.module.declareLegacyNamespace = function() {
  if (!COMPILED && !goog.isInGoogModuleLoader_()) {
    throw new Error(
        'goog.module.declareLegacyNamespace must be called from ' +
        'within a goog.module');
  }
  if (!COMPILED && !goog.moduleLoaderState_.moduleName) {
    throw new Error(
        'goog.module must be called prior to ' +
        'goog.module.declareLegacyNamespace.');
  }
  goog.moduleLoaderState_.declareLegacyNamespace = true;
};


/**
 * Associates an ES6 module with a Closure module ID so that is available via
 * goog.require. The associated ID  acts like a goog.module ID - it does not
 * create any global names, it is merely available via goog.require /
 * goog.module.get / goog.forwardDeclare / goog.requireType. goog.require and
 * goog.module.get will return the entire module as if it was import *'d. This
 * allows Closure files to reference ES6 modules for the sake of migration.
 *
 * @param {string} namespace
 * @suppress {missingProvide}
 */
goog.declareModuleId = function(namespace) {
  if (!COMPILED) {
    if (!goog.isInEs6ModuleLoader_()) {
      throw new Error(
          'goog.declareModuleId may only be called from ' +
          'within an ES6 module');
    }
    if (goog.moduleLoaderState_ && goog.moduleLoaderState_.moduleName) {
      throw new Error(
          'goog.declareModuleId may only be called once per module.');
    }
    if (namespace in goog.loadedModules_) {
      throw new Error(
          'Module with namespace "' + namespace + '" already exists.');
    }
  }
  if (goog.moduleLoaderState_) {
    // Not bundled - debug loading.
    goog.moduleLoaderState_.moduleName = namespace;
  } else {
    // Bundled - not debug loading, no module loader state.
    var jscomp = goog.LEGACY_NAMESPACE_OBJECT_['$jscomp'];
    if (!jscomp || typeof jscomp.getCurrentModulePath != 'function') {
      throw new Error(
          'Module with namespace "' + namespace +
          '" has been loaded incorrectly.');
    }
    var exports = jscomp.require(jscomp.getCurrentModulePath());
    goog.loadedModules_[namespace] = {
      exports: exports,
      type: goog.ModuleType.ES6,
      moduleId: namespace
    };
  }
};


/**
 * Marks that the current file should only be used for testing, and never for
 * live code in production.
 *
 * In the case of unit tests, the message may optionally be an exact namespace
 * for the test (e.g. 'goog.stringTest'). The linter will then ignore the extra
 * provide (if not explicitly defined in the code).
 *
 * @param {string=} opt_message Optional message to add to the error that's
 *     raised when used in production code.
 */
goog.setTestOnly = function(opt_message) {
  if (goog.DISALLOW_TEST_ONLY_CODE) {
    opt_message = opt_message || '';
    throw new Error(
        'Importing test-only code into non-debug environment' +
        (opt_message ? ': ' + opt_message : '.'));
  }
};


/**
 * Forward declares a symbol. This is an indication to the compiler that the
 * symbol may be used in the source yet is not required and may not be provided
 * in compilation.
 *
 * The most common usage of forward declaration is code that takes a type as a
 * function parameter but does not need to require it. By forward declaring
 * instead of requiring, no hard dependency is made, and (if not required
 * elsewhere) the namespace may never be required and thus, not be pulled
 * into the JavaScript binary. If it is required elsewhere, it will be type
 * checked as normal.
 *
 * Before using goog.forwardDeclare, please read the documentation at
 * https://github.com/google/closure-compiler/wiki/Bad-Type-Annotation to
 * understand the options and tradeoffs when working with forward declarations.
 *
 * @param {string} name The namespace to forward declare in the form of
 *     "goog.package.part".
 * @deprecated See go/noforwarddeclaration, Use `goog.requireType` instead.
 */
goog.forwardDeclare = function(name) {};

if (!COMPILED) {
  /**
   * Check if the given name has been goog.provided. This will return false for
   * names that are available only as implicit namespaces.
   * @param {string} name name of the object to look for.
   * @return {boolean} Whether the name has been provided.
   * @private
   */
  goog.isProvided_ = function(name) {
    return (name in goog.loadedModules_) ||
        (!goog.implicitNamespaces_[name] &&
         goog.getObjectByName(name, goog.LEGACY_NAMESPACE_OBJECT_) != null);
  };

  /**
   * Namespaces implicitly defined by goog.provide. For example,
   * goog.provide('goog.events.Event') implicitly declares that 'goog' and
   * 'goog.events' must be namespaces.
   *
   * @type {!Object<string, (boolean|undefined)>}
   * @private
   */
  goog.implicitNamespaces_ = {'goog.module': true};

  // NOTE: We add goog.module as an implicit namespace as goog.module is defined
  // here and because the existing module package has not been moved yet out of
  // the goog.module namespace. This satisfies both the debug loader and
  // ahead-of-time dependency management.
}


/**
 * Returns an object based on its fully qualified external name.  The object
 * is not found if null or undefined.  If you are using a compilation pass that
 * renames property names beware that using this function will not find renamed
 * properties.
 *
 * @param {string} name The fully qualified name.
 * @param {Object=} opt_obj The object within which to look; default is
 *     |goog.global|.
 * @return {?} The value (object or primitive) or, if not found, null.
 */
goog.getObjectByName = function(name, opt_obj) {
  var parts = name.split('.');
  var cur = opt_obj || goog.global;
  for (var i = 0; i < parts.length; i++) {
    cur = cur[parts[i]];
    if (cur == null) {
      return null;
    }
  }
  return cur;
};


/**
 * Adds a dependency from a file to the files it requires.
 * @param {string} relPath The path to the js file.
 * @param {!Array<string>} provides An array of strings with
 *     the names of the objects this file provides.
 * @param {!Array<string>} requires An array of strings with
 *     the names of the objects this file requires.
 * @param {boolean|!Object<string>=} opt_loadFlags Parameters indicating
 *     how the file must be loaded.  The boolean 'true' is equivalent
 *     to {'module': 'goog'} for backwards-compatibility.  Valid properties
 *     and values include {'module': 'goog'} and {'lang': 'es6'}.
 */
goog.addDependency = function(relPath, provides, requires, opt_loadFlags) {
  if (!COMPILED && goog.DEPENDENCIES_ENABLED) {
    goog.debugLoader_.addDependency(relPath, provides, requires, opt_loadFlags);
  }
};


// NOTE(nnaze): The debug DOM loader was included in base.js as an original way
// to do "debug-mode" development.  The dependency system can sometimes be
// confusing, as can the debug DOM loader's asynchronous nature.
//
// With the DOM loader, a call to goog.require() is not blocking -- the script
// will not load until some point after the current script.  If a namespace is
// needed at runtime, it needs to be defined in a previous script, or loaded via
// require() with its registered dependencies.
//
// User-defined namespaces may need their own deps file. For a reference on
// creating a deps file, see:
// MOE:begin_strip
// Internally: http://go/deps-files and http://go/be#js_deps
// MOE:end_strip
// Externally: https://developers.google.com/closure/library/docs/depswriter
//
// Because of legacy clients, the DOM loader can't be easily removed from
// base.js.  Work was done to make it disableable or replaceable for
// different environments (DOM-less JavaScript interpreters like Rhino or V8,
// for example). See bootstrap/ for more information.


/**
 * @define {boolean} Whether to enable the debug loader.
 *
 * If enabled, a call to goog.require() will attempt to load the namespace by
 * appending a script tag to the DOM (if the namespace has been registered).
 *
 * If disabled, goog.require() will simply assert that the namespace has been
 * provided (and depend on the fact that some outside tool correctly ordered
 * the script).
 */
goog.ENABLE_DEBUG_LOADER = goog.define('goog.ENABLE_DEBUG_LOADER', false);


/**
 * @param {string} msg
 * @private
 */
goog.logToConsole_ = function(msg) {
  if (goog.global.console) {
    goog.global.console['error'](msg);
  }
};


/**
 * Implements a system for the dynamic resolution of dependencies that works in
 * parallel with the BUILD system.
 *
 * Note that all calls to goog.require will be stripped by the compiler.
 *
 * @see goog.provide
 * @param {string} namespace Namespace (as was given in goog.provide,
 *     goog.module, or goog.declareModuleId) in the form
 *     "goog.package.part".
 * @return {?} If called within a goog.module or ES6 module file, the associated
 *     namespace or module otherwise null.
 */
goog.require = function(namespace) {
  if (!COMPILED) {
    // Might need to lazy load on old IE.
    if (goog.ENABLE_DEBUG_LOADER) {
      goog.debugLoader_.requested(namespace);
    }

    // If the object already exists we do not need to do anything.
    if (goog.isProvided_(namespace)) {
      if (goog.isInModuleLoader_()) {
        return goog.module.getInternal_(namespace);
      }
    } else if (goog.ENABLE_DEBUG_LOADER) {
      var moduleLoaderState = goog.moduleLoaderState_;
      goog.moduleLoaderState_ = null;
      try {
        goog.debugLoader_.load_(namespace);
      } finally {
        goog.moduleLoaderState_ = moduleLoaderState;
      }
    }

    return null;
  }
};


/**
 * Requires a symbol for its type information. This is an indication to the
 * compiler that the symbol may appear in type annotations, yet it is not
 * referenced at runtime.
 *
 * When called within a goog.module or ES6 module file, the return value may be
 * assigned to or destructured into a variable, but it may not be otherwise used
 * in code outside of a type annotation.
 *
 * Note that all calls to goog.requireType will be stripped by the compiler.
 *
 * @param {string} namespace Namespace (as was given in goog.provide,
 *     goog.module, or goog.declareModuleId) in the form
 *     "goog.package.part".
 * @return {?}
 */
goog.requireType = function(namespace) {
  // Return an empty object so that single-level destructuring of the return
  // value doesn't crash at runtime when using the debug loader. Multi-level
  // destructuring isn't supported.
  return {};
};


/**
 * Path for included scripts.
 * @type {string}
 */
goog.basePath = '';


/**
 * A hook for overriding the base path.
 * @type {string|undefined}
 */
goog.global.CLOSURE_BASE_PATH;


/**
 * A function to import a single script. This is meant to be overridden when
 * Closure is being run in non-HTML contexts, such as web workers. It's defined
 * in the global scope so that it can be set before base.js is loaded, which
 * allows deps.js to be imported properly.
 *
 * The first parameter the script source, which is a relative URI. The second,
 * optional parameter is the script contents, in the event the script needed
 * transformation. It should return true if the script was imported, false
 * otherwise.
 * @type {(function(string, string=): boolean)|undefined}
 */
goog.global.CLOSURE_IMPORT_SCRIPT;


/**
 * When defining a class Foo with an abstract method bar(), you can do:
 * Foo.prototype.bar = goog.abstractMethod
 *
 * Now if a subclass of Foo fails to override bar(), an error will be thrown
 * when bar() is invoked.
 *
 * @type {!Function}
 * @throws {Error} when invoked to indicate the method should be overridden.
 * @deprecated Use "@abstract" annotation instead of goog.abstractMethod in new
 *     code. See
 *     https://github.com/google/closure-compiler/wiki/@abstract-classes-and-methods
 */
goog.abstractMethod = function() {
  throw new Error('unimplemented abstract method');
};


/**
 * Adds a `getInstance` static method that always returns the same
 * instance object.
 * @param {!Function} ctor The constructor for the class to add the static
 *     method to.
 * @suppress {missingProperties} 'instance_' isn't a property on 'Function'
 *     but we don't have a better type to use here.
 */
goog.addSingletonGetter = function(ctor) {
  // instance_ is immediately set to prevent issues with sealed constructors
  // such as are encountered when a constructor is returned as the export object
  // of a goog.module in unoptimized code.
  // Declare type to avoid conformance violations that ctor.instance_ is unknown
  /** @type {undefined|!Object} @suppress {underscore} */
  ctor.instance_ = undefined;
  ctor.getInstance = function() {
    if (ctor.instance_) {
      return ctor.instance_;
    }
    if (goog.DEBUG) {
      // NOTE: JSCompiler can't optimize away Array#push.
      goog.instantiatedSingletons_[goog.instantiatedSingletons_.length] = ctor;
    }
    // Cast to avoid conformance violations that ctor.instance_ is unknown
    return /** @type {!Object|undefined} */ (ctor.instance_) = new ctor;
  };
};


/**
 * All singleton classes that have been instantiated, for testing. Don't read
 * it directly, use the `goog.testing.singleton` module. The compiler
 * removes this variable if unused.
 * @type {!Array<!Function>}
 * @private
 */
goog.instantiatedSingletons_ = [];


/**
 * @define {boolean} Whether to load goog.modules using `eval` when using
 * the debug loader.  This provides a better debugging experience as the
 * source is unmodified and can be edited using Chrome Workspaces or similar.
 * However in some environments the use of `eval` is banned
 * so we provide an alternative.
 */
goog.LOAD_MODULE_USING_EVAL = goog.define('goog.LOAD_MODULE_USING_EVAL', true);


/**
 * @define {boolean} Whether the exports of goog.modules should be sealed when
 * possible.
 */
goog.SEAL_MODULE_EXPORTS = goog.define('goog.SEAL_MODULE_EXPORTS', goog.DEBUG);


/**
 * The registry of initialized modules:
 * The module identifier or path to module exports map.
 * @private @const {!Object<string, {exports:?,type:string,moduleId:string}>}
 */
goog.loadedModules_ = {};


/**
 * True if the debug loader enabled and used.
 * @const {boolean}
 */
goog.DEPENDENCIES_ENABLED = !COMPILED && goog.ENABLE_DEBUG_LOADER;




/**
 * @define {boolean} If true assume that ES modules have already been
 * transpiled by the jscompiler (in the same way that transpile.js would
 * transpile them - to jscomp modules). Useful only for servers that wish to use
 * the debug loader and transpile server side. Thus this is only respected if
 * goog.TRANSPILE is "never".
 */
goog.ASSUME_ES_MODULES_TRANSPILED =
    goog.define('goog.ASSUME_ES_MODULES_TRANSPILED', false);


/**
 * @define {string} Trusted Types policy name. If non-empty then Closure will
 * use Trusted Types.
 */
goog.TRUSTED_TYPES_POLICY_NAME =
    goog.define('goog.TRUSTED_TYPES_POLICY_NAME', 'goog');


/**
 * @package {?boolean}
 * Visible for testing.
 */
goog.hasBadLetScoping = null;


/**
 * @param {function(?):?|string} moduleDef The module definition.
 */
goog.loadModule = function(moduleDef) {
  // NOTE: we allow function definitions to be either in the from
  // of a string to eval (which keeps the original source intact) or
  // in a eval forbidden environment (CSP) we allow a function definition
  // which in its body must call `goog.module`, and return the exports
  // of the module.
  var previousState = goog.moduleLoaderState_;
  try {
    goog.moduleLoaderState_ = {
      moduleName: '',
      declareLegacyNamespace: false,
      type: goog.ModuleType.GOOG
    };
    var origExports = {};
    var exports = origExports;
    if (typeof moduleDef === 'function') {
      exports = moduleDef.call(undefined, exports);
    } else if (typeof moduleDef === 'string') {
      exports = goog.loadModuleFromSource_.call(undefined, exports, moduleDef);
    } else {
      throw new Error('Invalid module definition');
    }

    var moduleName = goog.moduleLoaderState_.moduleName;
    if (typeof moduleName === 'string' && moduleName) {
      // Don't seal legacy namespaces as they may be used as a parent of
      // another namespace
      if (goog.moduleLoaderState_.declareLegacyNamespace) {
        // Whether exports was overwritten via default export assignment.
        // This is important for legacy namespaces as it dictates whether
        // previously a previously loaded implicit namespace should be clobbered
        // or not.
        var isDefaultExport = origExports !== exports;
        goog.constructNamespace_(moduleName, exports, isDefaultExport);
      } else if (
          goog.SEAL_MODULE_EXPORTS && Object.seal &&
          typeof exports == 'object' && exports != null) {
        Object.seal(exports);
      }

      var data = {
        exports: exports,
        type: goog.ModuleType.GOOG,
        moduleId: goog.moduleLoaderState_.moduleName
      };
      goog.loadedModules_[moduleName] = data;
    } else {
      throw new Error('Invalid module name \"' + moduleName + '\"');
    }
  } finally {
    goog.moduleLoaderState_ = previousState;
  }
};


/**
 * @private @const
 */
goog.loadModuleFromSource_ =
    /** @type {function(!Object, string):?} */ (function(exports) {
      // NOTE: we avoid declaring parameters or local variables here to avoid
      // masking globals or leaking values into the module definition.
      'use strict';
      eval(goog.CLOSURE_EVAL_PREFILTER_.createScript(arguments[1]));
      return exports;
    });


/**
 * Normalize a file path by removing redundant ".." and extraneous "." file
 * path components.
 * @param {string} path
 * @return {string}
 * @private
 */
goog.normalizePath_ = function(path) {
  var components = path.split('/');
  var i = 0;
  while (i < components.length) {
    if (components[i] == '.') {
      components.splice(i, 1);
    } else if (
        i && components[i] == '..' && components[i - 1] &&
        components[i - 1] != '..') {
      components.splice(--i, 2);
    } else {
      i++;
    }
  }
  return components.join('/');
};


/**
 * Provides a hook for loading a file when using Closure's goog.require() API
 * with goog.modules.  In particular this hook is provided to support Node.js.
 *
 * @type {(function(string):string)|undefined}
 */
goog.global.CLOSURE_LOAD_FILE_SYNC;


/**
 * Loads file by synchronous XHR. Should not be used in production environments.
 * @param {string} src Source URL.
 * @return {?string} File contents, or null if load failed.
 * @private
 */
goog.loadFileSync_ = function(src) {
  if (goog.global.CLOSURE_LOAD_FILE_SYNC) {
    return goog.global.CLOSURE_LOAD_FILE_SYNC(src);
  } else {
    try {
      /** @type {XMLHttpRequest} */
      var xhr = new goog.global['XMLHttpRequest']();
      xhr.open('get', src, false);
      xhr.send();
      // NOTE: Successful http: requests have a status of 200, but successful
      // file: requests may have a status of zero.  Any other status, or a
      // thrown exception (particularly in case of file: requests) indicates
      // some sort of error, which we treat as a missing or unavailable file.
      return xhr.status == 0 || xhr.status == 200 ? xhr.responseText : null;
    } catch (err) {
      // No need to rethrow or log, since errors should show up on their own.
      return null;
    }
  }
};

//==============================================================================
// Language Enhancements
//==============================================================================


/**
 * This is a "fixed" version of the typeof operator.  It differs from the typeof
 * operator in such a way that null returns 'null' and arrays return 'array'.
 * @param {?} value The value to get the type of.
 * @return {string} The name of the type.
 */
goog.typeOf = function(value) {
  var s = typeof value;

  if (s != 'object') {
    return s;
  }

  if (!value) {
    return 'null';
  }

  if (Array.isArray(value)) {
    return 'array';
  }
  return s;
};


/**
 * Returns true if the object looks like an array. To qualify as array like
 * the value needs to be either a NodeList or an object with a Number length
 * property. Note that for this function neither strings nor functions are
 * considered "array-like".
 *
 * @param {?} val Variable to test.
 * @return {boolean} Whether variable is an array.
 */
goog.isArrayLike = function(val) {
  var type = goog.typeOf(val);
  // We do not use goog.isObject here in order to exclude function values.
  return type == 'array' || type == 'object' && typeof val.length == 'number';
};


/**
 * Returns true if the object looks like a Date. To qualify as Date-like the
 * value needs to be an object and have a getFullYear() function.
 * @param {?} val Variable to test.
 * @return {boolean} Whether variable is a like a Date.
 */
goog.isDateLike = function(val) {
  return goog.isObject(val) && typeof val.getFullYear == 'function';
};


/**
 * Returns true if the specified value is an object.  This includes arrays and
 * functions.
 * @param {?} val Variable to test.
 * @return {boolean} Whether variable is an object.
 */
goog.isObject = function(val) {
  var type = typeof val;
  return type == 'object' && val != null || type == 'function';
  // return Object(val) === val also works, but is slower, especially if val is
  // not an object.
};


/**
 * Gets a unique ID for an object. This mutates the object so that further calls
 * with the same object as a parameter returns the same value. The unique ID is
 * guaranteed to be unique across the current session amongst objects that are
 * passed into `getUid`. There is no guarantee that the ID is unique or
 * consistent across sessions. It is unsafe to generate unique ID for function
 * prototypes.
 *
 * @param {Object} obj The object to get the unique ID for.
 * @return {number} The unique ID for the object.
 */
goog.getUid = function(obj) {
  // TODO(arv): Make the type stricter, do not accept null.
  return Object.prototype.hasOwnProperty.call(obj, goog.UID_PROPERTY_) &&
      obj[goog.UID_PROPERTY_] ||
      (obj[goog.UID_PROPERTY_] = ++goog.uidCounter_);
};


/**
 * Whether the given object is already assigned a unique ID.
 *
 * This does not modify the object.
 *
 * @param {!Object} obj The object to check.
 * @return {boolean} Whether there is an assigned unique id for the object.
 */
goog.hasUid = function(obj) {
  return !!obj[goog.UID_PROPERTY_];
};


/**
 * Removes the unique ID from an object. This is useful if the object was
 * previously mutated using `goog.getUid` in which case the mutation is
 * undone.
 * @param {Object} obj The object to remove the unique ID field from.
 */
goog.removeUid = function(obj) {
  // TODO(arv): Make the type stricter, do not accept null.

  // In IE, DOM nodes are not instances of Object and throw an exception if we
  // try to delete.  Instead we try to use removeAttribute.
  if (obj !== null && 'removeAttribute' in obj) {
    obj.removeAttribute(goog.UID_PROPERTY_);
  }

  try {
    delete obj[goog.UID_PROPERTY_];
  } catch (ex) {
  }
};


/**
 * Name for unique ID property. Initialized in a way to help avoid collisions
 * with other closure JavaScript on the same page.
 * @type {string}
 * @private
 */
goog.UID_PROPERTY_ = 'closure_uid_' + ((Math.random() * 1e9) >>> 0);


/**
 * Counter for UID.
 * @type {number}
 * @private
 */
goog.uidCounter_ = 0;


/**
 * Clones a value. The input may be an Object, Array, or basic type. Objects and
 * arrays will be cloned recursively.
 *
 * WARNINGS:
 * <code>goog.cloneObject</code> does not detect reference loops. Objects that
 * refer to themselves will cause infinite recursion.
 *
 * <code>goog.cloneObject</code> is unaware of unique identifiers, and copies
 * UIDs created by <code>getUid</code> into cloned results.
 *
 * @param {*} obj The value to clone.
 * @return {*} A clone of the input value.
 * @deprecated goog.cloneObject is unsafe. Prefer the goog.object methods.
 */
goog.cloneObject = function(obj) {
  var type = goog.typeOf(obj);
  if (type == 'object' || type == 'array') {
    if (typeof obj.clone === 'function') {
      return obj.clone();
    }
    if (typeof Map !== 'undefined' && obj instanceof Map) {
      return new Map(obj);
    } else if (typeof Set !== 'undefined' && obj instanceof Set) {
      return new Set(obj);
    }
    var clone = type == 'array' ? [] : {};
    for (var key in obj) {
      clone[key] = goog.cloneObject(obj[key]);
    }
    return clone;
  }

  return obj;
};


/**
 * A native implementation of goog.bind.
 * @param {?function(this:T, ...)} fn A function to partially apply.
 * @param {T} selfObj Specifies the object which this should point to when the
 *     function is run.
 * @param {...*} var_args Additional arguments that are partially applied to the
 *     function.
 * @return {!Function} A partially-applied form of the function goog.bind() was
 *     invoked as a method of.
 * @template T
 * @private
 */
goog.bindNative_ = function(fn, selfObj, var_args) {
  return /** @type {!Function} */ (fn.call.apply(fn.bind, arguments));
};


/**
 * A pure-JS implementation of goog.bind.
 * @param {?function(this:T, ...)} fn A function to partially apply.
 * @param {T} selfObj Specifies the object which this should point to when the
 *     function is run.
 * @param {...*} var_args Additional arguments that are partially applied to the
 *     function.
 * @return {!Function} A partially-applied form of the function goog.bind() was
 *     invoked as a method of.
 * @template T
 * @private
 */
goog.bindJs_ = function(fn, selfObj, var_args) {
  if (!fn) {
    throw new Error();
  }

  if (arguments.length > 2) {
    var boundArgs = Array.prototype.slice.call(arguments, 2);
    return function() {
      // Prepend the bound arguments to the current arguments.
      var newArgs = Array.prototype.slice.call(arguments);
      Array.prototype.unshift.apply(newArgs, boundArgs);
      return fn.apply(selfObj, newArgs);
    };

  } else {
    return function() {
      return fn.apply(selfObj, arguments);
    };
  }
};


/**
 * Partially applies this function to a particular 'this object' and zero or
 * more arguments. The result is a new function with some arguments of the first
 * function pre-filled and the value of this 'pre-specified'.
 *
 * Remaining arguments specified at call-time are appended to the pre-specified
 * ones.
 *
 * Also see: {@link #partial}.
 *
 * Usage:
 * <pre>var barMethBound = goog.bind(myFunction, myObj, 'arg1', 'arg2');
 * barMethBound('arg3', 'arg4');</pre>
 *
 * @param {?function(this:T, ...)} fn A function to partially apply.
 * @param {T} selfObj Specifies the object which this should point to when the
 *     function is run.
 * @param {...*} var_args Additional arguments that are partially applied to the
 *     function.
 * @return {!Function} A partially-applied form of the function goog.bind() was
 *     invoked as a method of.
 * @template T
 * @suppress {deprecated} See above.
 * @deprecated use `=> {}` or Function.prototype.bind instead.
 */
goog.bind = function(fn, selfObj, var_args) {
  // TODO(nicksantos): narrow the type signature.
  if ((goog.TRUSTED_SITE && goog.FEATURESET_YEAR > 2012) ||
      (Function.prototype.bind &&
       // NOTE(nicksantos): Somebody pulled base.js into the default Chrome
       // extension environment. This means that for Chrome extensions, they get
       // the implementation of Function.prototype.bind that calls goog.bind
       // instead of the native one. Even worse, we don't want to introduce a
       // circular dependency between goog.bind and Function.prototype.bind, so
       // we have to hack this to make sure it works correctly.
       Function.prototype.bind.toString().indexOf('native code') != -1)) {
    goog.bind = goog.bindNative_;
  } else {
    goog.bind = goog.bindJs_;
  }
  return goog.bind.apply(null, arguments);
};


/**
 * Like goog.bind(), except that a 'this object' is not required. Useful when
 * the target function is already bound.
 *
 * Usage:
 * var g = goog.partial(f, arg1, arg2);
 * g(arg3, arg4);
 *
 * @param {Function} fn A function to partially apply.
 * @param {...*} var_args Additional arguments that are partially applied to fn.
 * @return {!Function} A partially-applied form of the function goog.partial()
 *     was invoked as a method of.
 */
goog.partial = function(fn, var_args) {
  var args = Array.prototype.slice.call(arguments, 1);
  return function() {
    // Clone the array (with slice()) and append additional arguments
    // to the existing arguments.
    var newArgs = args.slice();
    newArgs.push.apply(newArgs, arguments);
    return fn.apply(/** @type {?} */ (this), newArgs);
  };
};


/**
 * @return {number} An integer value representing the number of milliseconds
 *     between midnight, January 1, 1970 and the current time.
 * @deprecated Use Date.now
 */
goog.now = function() {
  return Date.now();
};


/**
 * Evals JavaScript in the global scope.
 *
 * Throws an exception if neither execScript or eval is defined.
 * @param {string|!TrustedScript} script JavaScript string.
 */
goog.globalEval = function(script) {
  (0, eval)(script);
};


/**
 * Optional map of CSS class names to obfuscated names used with
 * goog.getCssName().
 * @private {!Object<string, string>|undefined}
 * @see goog.setCssNameMapping
 */
goog.cssNameMapping_;


/**
 * Optional obfuscation style for CSS class names. Should be set to either
 * 'BY_WHOLE' or 'BY_PART' if defined.
 * @type {string|undefined}
 * @private
 * @see goog.setCssNameMapping
 */
goog.cssNameMappingStyle_;



/**
 * A hook for modifying the default behavior goog.getCssName. The function
 * if present, will receive the standard output of the goog.getCssName as
 * its input.
 *
 * @type {(function(string):string)|undefined}
 */
goog.global.CLOSURE_CSS_NAME_MAP_FN;


/**
 * Handles strings that are intended to be used as CSS class names.
 *
 * This function works in tandem with @see goog.setCssNameMapping.
 *
 * Without any mapping set, the arguments are simple joined with a hyphen and
 * passed through unaltered.
 *
 * When there is a mapping, there are two possible styles in which these
 * mappings are used. In the BY_PART style, each part (i.e. in between hyphens)
 * of the passed in css name is rewritten according to the map. In the BY_WHOLE
 * style, the full css name is looked up in the map directly. If a rewrite is
 * not specified by the map, the compiler will output a warning.
 *
 * When the mapping is passed to the compiler, it will replace calls to
 * goog.getCssName with the strings from the mapping, e.g.
 *     var x = goog.getCssName('foo');
 *     var y = goog.getCssName(this.baseClass, 'active');
 *  becomes:
 *     var x = 'foo';
 *     var y = this.baseClass + '-active';
 *
 * If one argument is passed it will be processed, if two are passed only the
 * modifier will be processed, as it is assumed the first argument was generated
 * as a result of calling goog.getCssName.
 *
 * @param {string} className The class name.
 * @param {string=} opt_modifier A modifier to be appended to the class name.
 * @return {string} The class name or the concatenation of the class name and
 *     the modifier.
 */
goog.getCssName = function(className, opt_modifier) {
  // String() is used for compatibility with compiled soy where the passed
  // className can be non-string objects.
  if (String(className).charAt(0) == '.') {
    throw new Error(
        'className passed in goog.getCssName must not start with ".".' +
        ' You passed: ' + className);
  }

  var getMapping = function(cssName) {
    return goog.cssNameMapping_[cssName] || cssName;
  };

  var renameByParts = function(cssName) {
    // Remap all the parts individually.
    var parts = cssName.split('-');
    var mapped = [];
    for (var i = 0; i < parts.length; i++) {
      mapped.push(getMapping(parts[i]));
    }
    return mapped.join('-');
  };

  var rename;
  if (goog.cssNameMapping_) {
    rename =
        goog.cssNameMappingStyle_ == 'BY_WHOLE' ? getMapping : renameByParts;
  } else {
    rename = function(a) {
      return a;
    };
  }

  var result =
      opt_modifier ? className + '-' + rename(opt_modifier) : rename(className);

  // The special CLOSURE_CSS_NAME_MAP_FN allows users to specify further
  // processing of the class name.
  if (goog.global.CLOSURE_CSS_NAME_MAP_FN) {
    return goog.global.CLOSURE_CSS_NAME_MAP_FN(result);
  }

  return result;
};


/**
 * Sets the map to check when returning a value from goog.getCssName(). Example:
 * <pre>
 * goog.setCssNameMapping({
 *   "goog": "a",
 *   "disabled": "b",
 * });
 *
 * var x = goog.getCssName('goog');
 * // The following evaluates to: "a a-b".
 * goog.getCssName('goog') + ' ' + goog.getCssName(x, 'disabled')
 * </pre>
 * When declared as a map of string literals to string literals, the JSCompiler
 * will replace all calls to goog.getCssName() using the supplied map if the
 * --process_closure_primitives flag is set.
 *
 * @param {!Object} mapping A map of strings to strings where keys are possible
 *     arguments to goog.getCssName() and values are the corresponding values
 *     that should be returned.
 * @param {string=} opt_style The style of css name mapping. There are two valid
 *     options: 'BY_PART', and 'BY_WHOLE'.
 * @see goog.getCssName for a description.
 */
goog.setCssNameMapping = function(mapping, opt_style) {
  goog.cssNameMapping_ = mapping;
  goog.cssNameMappingStyle_ = opt_style;
};


/**
 * To use CSS renaming in compiled mode, one of the input files should have a
 * call to goog.setCssNameMapping() with an object literal that the JSCompiler
 * can extract and use to replace all calls to goog.getCssName(). In uncompiled
 * mode, JavaScript code should be loaded before this base.js file that declares
 * a global variable, CLOSURE_CSS_NAME_MAPPING, which is used below. This is
 * to ensure that the mapping is loaded before any calls to goog.getCssName()
 * are made in uncompiled mode.
 *
 * A hook for overriding the CSS name mapping.
 * @type {!Object<string, string>|undefined}
 */
goog.global.CLOSURE_CSS_NAME_MAPPING;


if (!COMPILED && goog.global.CLOSURE_CSS_NAME_MAPPING) {
  // This does not call goog.setCssNameMapping() because the JSCompiler
  // requires that goog.setCssNameMapping() be called with an object literal.
  goog.cssNameMapping_ = goog.global.CLOSURE_CSS_NAME_MAPPING;
}

/**
 * Options bag type for `goog.getMsg()` third argument.
 *
 * It is important to note that these options need to be known at compile time,
 * so they must always be provided to `goog.getMsg()` as an actual object
 * literal in the function call. Otherwise, closure-compiler will report an
 * error.
 * @record
 */
goog.GetMsgOptions = function() {};

/**
 * If `true`, escape '<' in the message string to '&lt;'.
 *
 * Used by Closure Templates where the generated code size and performance is
 * critical which is why {@link goog.html.SafeHtmlFormatter} is not used.
 * The value must be literal `true` or `false`.
 * @type {boolean|undefined}
 */
goog.GetMsgOptions.prototype.html;

/**
 * If `true`, unescape common html entities: &gt;, &lt;, &apos;, &quot; and
 * &amp;.
 *
 * Used for messages not in HTML context, such as with the `textContent`
 * property.
 * The value must be literal `true` or `false`.
 * @type {boolean|undefined}
 */
goog.GetMsgOptions.prototype.unescapeHtmlEntities;

/**
 * Associates placeholder names with strings showing how their values are
 * obtained.
 *
 * This field is intended for use in automatically generated JS code.
 * Human-written code should use meaningful placeholder names instead.
 *
 * closure-compiler uses this as the contents of the `<ph>` tag in the
 * XMB file it generates or defaults to `-` for historical reasons.
 *
 * Must be an object literal.
 * Ignored at runtime.
 * Keys are placeholder names.
 * Values are string literals indicating how the value is obtained.
 * Typically this is a snippet of source code.
 * @type {!Object<string, string>|undefined}
 */
goog.GetMsgOptions.prototype.original_code;

/**
 * Associates placeholder names with example values.
 *
 * closure-compiler uses this as the contents of the `<ex>` tag in the
 * XMB file it generates or defaults to `-` for historical reasons.
 *
 * Must be an object literal.
 * Ignored at runtime.
 * Keys are placeholder names.
 * Values are string literals containing example placeholder values.
 * (e.g. "George McFly" for a name placeholder)
 * @type {!Object<string, string>|undefined}
 */
goog.GetMsgOptions.prototype.example;

/**
 * Gets a localized message.
 *
 * This function is a compiler primitive. If you give the compiler a localized
 * message bundle, it will replace the string at compile-time with a localized
 * version, and expand goog.getMsg call to a concatenated string.
 *
 * Messages must be initialized in the form:
 * <code>
 * var MSG_NAME = goog.getMsg('Hello {$placeholder}', {'placeholder': 'world'});
 * </code>
 *
 * This function produces a string which should be treated as plain text. Use
 * {@link goog.html.SafeHtmlFormatter} in conjunction with goog.getMsg to
 * produce SafeHtml.
 *
 * @param {string} str Translatable string, places holders in the form {$foo}.
 * @param {!Object<string, string>=} opt_values Maps place holder name to value.
 * @param {!goog.GetMsgOptions=} opt_options see `goog.GetMsgOptions`
 * @return {string} message with placeholders filled.
 */
goog.getMsg = function(str, opt_values, opt_options) {
  if (opt_options && opt_options.html) {
    // Note that '&' is not replaced because the translation can contain HTML
    // entities.
    str = str.replace(/</g, '&lt;');
  }
  if (opt_options && opt_options.unescapeHtmlEntities) {
    // Note that "&amp;" must be the last to avoid "creating" new entities.
    str = str.replace(/&lt;/g, '<')
              .replace(/&gt;/g, '>')
              .replace(/&apos;/g, '\'')
              .replace(/&quot;/g, '"')
              .replace(/&amp;/g, '&');
  }
  if (opt_values) {
    str = str.replace(/\{\$([^}]+)}/g, function(match, key) {
      return (opt_values != null && key in opt_values) ? opt_values[key] :
                                                         match;
    });
  }
  return str;
};


/**
 * Gets a localized message. If the message does not have a translation, gives a
 * fallback message.
 *
 * This is useful when introducing a new message that has not yet been
 * translated into all languages.
 *
 * This function is a compiler primitive. Must be used in the form:
 * <code>var x = goog.getMsgWithFallback(MSG_A, MSG_B);</code>
 * where MSG_A and MSG_B were initialized with goog.getMsg.
 *
 * @param {string} a The preferred message.
 * @param {string} b The fallback message.
 * @return {string} The best translated message.
 */
goog.getMsgWithFallback = function(a, b) {
  return a;
};


/**
 * Exposes an unobfuscated global namespace path for the given object.
 * Note that fields of the exported object *will* be obfuscated, unless they are
 * exported in turn via this function or goog.exportProperty.
 *
 * Also handy for making public items that are defined in anonymous closures.
 *
 * ex. goog.exportSymbol('public.path.Foo', Foo);
 *
 * ex. goog.exportSymbol('public.path.Foo.staticFunction', Foo.staticFunction);
 *     public.path.Foo.staticFunction();
 *
 * ex. goog.exportSymbol('public.path.Foo.prototype.myMethod',
 *                       Foo.prototype.myMethod);
 *     new public.path.Foo().myMethod();
 *
 * @param {string} publicPath Unobfuscated name to export.
 * @param {*} object Object the name should point to.
 * @param {?Object=} objectToExportTo The object to add the path to; default
 *     is goog.global.
 */
goog.exportSymbol = function(publicPath, object, objectToExportTo) {
  goog.exportPath_(
      publicPath, object, /* overwriteImplicit= */ true, objectToExportTo);
};


/**
 * Exports a property unobfuscated into the object's namespace.
 * ex. goog.exportProperty(Foo, 'staticFunction', Foo.staticFunction);
 * ex. goog.exportProperty(Foo.prototype, 'myMethod', Foo.prototype.myMethod);
 * @param {Object} object Object whose static property is being exported.
 * @param {string} publicName Unobfuscated name to export.
 * @param {*} symbol Object the name should point to.
 */
goog.exportProperty = function(object, publicName, symbol) {
  object[publicName] = symbol;
};


/**
 * Returns the value of a given name, or undefined if there are no other
 * references to the name.
 *
 * This function is evaluated statically, at compile time, as long as the
 * appropriate compiler passes are enabled.  If these compiler passes are not
 * enabled, the function is a no-op, and will just return its argument
 * unmodified.
 *
 * Usage:
 * <pre>
 * // If there are other references to `x`, `xOrUndefined` will be `x`.
 * // Otherwise, `xOrUndefined` will be `undefined`.
 * var xOrUndefined = goog.weakUsage(x);
 * </pre>
 *
 * It is an error to call `goog.weakUsage` with an argument that is not a name.
 *
 * @param {T} name A symbol name to reference weakly.
 * @return {T|undefined} The object or undefined.
 * @template T
 * @noinline
 */
goog.weakUsage = function(name) {
  return name;
};


/**
 * Inherit the prototype methods from one constructor into another.
 *
 * Usage:
 * <pre>
 * function ParentClass(a, b) { }
 * ParentClass.prototype.foo = function(a) { };
 *
 * function ChildClass(a, b, c) {
 *   ChildClass.base(this, 'constructor', a, b);
 * }
 * goog.inherits(ChildClass, ParentClass);
 *
 * var child = new ChildClass('a', 'b', 'see');
 * child.foo(); // This works.
 * </pre>
 *
 * @param {!Function} childCtor Child class.
 * @param {!Function} parentCtor Parent class.
 * @suppress {strictMissingProperties} superClass_ and base is not defined on
 *    Function.
 * @deprecated Use ECMAScript class syntax instead.
 */
goog.inherits = function(childCtor, parentCtor) {
  /** @constructor */
  function tempCtor() {}
  tempCtor.prototype = parentCtor.prototype;
  childCtor.superClass_ = parentCtor.prototype;
  childCtor.prototype = new tempCtor();
  /** @override */
  childCtor.prototype.constructor = childCtor;

  /**
   * Calls superclass constructor/method.
   *
   * This function is only available if you use goog.inherits to
   * express inheritance relationships between classes.
   *
   * NOTE: This is a replacement for goog.base and for superClass_
   * property defined in childCtor.
   *
   * @param {!Object} me Should always be "this".
   * @param {string} methodName The method name to call. Calling
   *     superclass constructor can be done with the special string
   *     'constructor'.
   * @param {...*} var_args The arguments to pass to superclass
   *     method/constructor.
   * @return {*} The return value of the superclass method/constructor.
   */
  childCtor.base = function(me, methodName, var_args) {
    // Copying using loop to avoid deop due to passing arguments object to
    // function. This is faster in many JS engines as of late 2014.
    var args = new Array(arguments.length - 2);
    for (var i = 2; i < arguments.length; i++) {
      args[i - 2] = arguments[i];
    }
    return parentCtor.prototype[methodName].apply(me, args);
  };
};


/**
 * Allow for aliasing within scope functions.  This function exists for
 * uncompiled code - in compiled code the calls will be inlined and the aliases
 * applied.  In uncompiled code the function is simply run since the aliases as
 * written are valid JavaScript.
 *
 * MOE:begin_intracomment_strip
 * See the goog.scope document at http://go/goog.scope
 *
 * For more on goog.scope deprecation, see the style guide entry:
 * http://go/jsstyle#appendices-legacy-exceptions-goog-scope
 * MOE:end_intracomment_strip
 *
 * @param {function()} fn Function to call.  This function can contain aliases
 *     to namespaces (e.g. "var dom = goog.dom") or classes
 *     (e.g. "var Timer = goog.Timer").
 * @deprecated Use goog.module instead.
 */
goog.scope = function(fn) {
  if (goog.isInModuleLoader_()) {
    throw new Error('goog.scope is not supported within a module.');
  }
  fn.call(goog.global);
};


/*
 * To support uncompiled, strict mode bundles that use eval to divide source
 * like so:
 *    eval('someSource;//# sourceUrl sourcefile.js');
 * We need to export the globally defined symbols "goog" and "COMPILED".
 * Exporting "goog" breaks the compiler optimizations, so we required that
 * be defined externally.
 * NOTE: We don't use goog.exportSymbol here because we don't want to trigger
 * extern generation when that compiler option is enabled.
 */
if (!COMPILED) {
  goog.LEGACY_NAMESPACE_OBJECT_['COMPILED'] = COMPILED;
}


//==============================================================================
// goog.defineClass implementation
//==============================================================================


/**
 * Creates a restricted form of a Closure "class":
 *   - from the compiler's perspective, the instance returned from the
 *     constructor is sealed (no new properties may be added).  This enables
 *     better checks.
 *   - the compiler will rewrite this definition to a form that is optimal
 *     for type checking and optimization (initially this will be a more
 *     traditional form).
 *
 * @param {Function} superClass The superclass, Object or null.
 * @param {goog.defineClass.ClassDescriptor} def
 *     An object literal describing
 *     the class.  It may have the following properties:
 *     "constructor": the constructor function
 *     "statics": an object literal containing methods to add to the constructor
 *        as "static" methods or a function that will receive the constructor
 *        function as its only parameter to which static properties can
 *        be added.
 *     all other properties are added to the prototype.
 * @return {!Function} The class constructor.
 * @deprecated Use ECMAScript class syntax instead.
 */
goog.defineClass = function(superClass, def) {
  // TODO(johnlenz): consider making the superClass an optional parameter.
  var constructor = def.constructor;
  var statics = def.statics;
  // Wrap the constructor prior to setting up the prototype and static methods.
  if (!constructor || constructor == Object.prototype.constructor) {
    constructor = function() {
      throw new Error(
          'cannot instantiate an interface (no constructor defined).');
    };
  }

  var cls = goog.defineClass.createSealingConstructor_(constructor, superClass);
  if (superClass) {
    goog.inherits(cls, superClass);
  }

  // Remove all the properties that should not be copied to the prototype.
  delete def.constructor;
  delete def.statics;

  goog.defineClass.applyProperties_(cls.prototype, def);
  if (statics != null) {
    if (statics instanceof Function) {
      statics(cls);
    } else {
      goog.defineClass.applyProperties_(cls, statics);
    }
  }

  return cls;
};


/**
 * @typedef {{
 *   constructor: (!Function|undefined),
 *   statics: (Object|undefined|function(Function):void)
 * }}
 */
goog.defineClass.ClassDescriptor;


/**
 * @define {boolean} Whether the instances returned by goog.defineClass should
 *     be sealed when possible.
 *
 * When sealing is disabled the constructor function will not be wrapped by
 * goog.defineClass, making it incompatible with ES6 class methods.
 */
goog.defineClass.SEAL_CLASS_INSTANCES =
    goog.define('goog.defineClass.SEAL_CLASS_INSTANCES', goog.DEBUG);


/**
 * If goog.defineClass.SEAL_CLASS_INSTANCES is enabled and Object.seal is
 * defined, this function will wrap the constructor in a function that seals the
 * results of the provided constructor function.
 *
 * @param {!Function} ctr The constructor whose results maybe be sealed.
 * @param {Function} superClass The superclass constructor.
 * @return {!Function} The replacement constructor.
 * @private
 */
goog.defineClass.createSealingConstructor_ = function(ctr, superClass) {
  if (!goog.defineClass.SEAL_CLASS_INSTANCES) {
    // Do now wrap the constructor when sealing is disabled. Angular code
    // depends on this for injection to work properly.
    return ctr;
  }

  // NOTE: The sealing behavior has been removed

  /**
   * @this {Object}
   * @return {?}
   */
  var wrappedCtr = function() {
    // Don't seal an instance of a subclass when it calls the constructor of
    // its super class as there is most likely still setup to do.
    var instance = ctr.apply(this, arguments) || this;
    instance[goog.UID_PROPERTY_] = instance[goog.UID_PROPERTY_];

    return instance;
  };

  return wrappedCtr;
};



// TODO(johnlenz): share these values with the goog.object
/**
 * The names of the fields that are defined on Object.prototype.
 * @type {!Array<string>}
 * @private
 * @const
 */
goog.defineClass.OBJECT_PROTOTYPE_FIELDS_ = [
  'constructor', 'hasOwnProperty', 'isPrototypeOf', 'propertyIsEnumerable',
  'toLocaleString', 'toString', 'valueOf'
];


// TODO(johnlenz): share this function with the goog.object
/**
 * @param {!Object} target The object to add properties to.
 * @param {!Object} source The object to copy properties from.
 * @private
 */
goog.defineClass.applyProperties_ = function(target, source) {
  // TODO(johnlenz): update this to support ES5 getters/setters

  var key;
  for (key in source) {
    if (Object.prototype.hasOwnProperty.call(source, key)) {
      target[key] = source[key];
    }
  }

  // For IE the for-in-loop does not contain any properties that are not
  // enumerable on the prototype object (for example isPrototypeOf from
  // Object.prototype) and it will also not include 'replace' on objects that
  // extend String and change 'replace' (not that it is common for anyone to
  // extend anything except Object).
  for (var i = 0; i < goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length; i++) {
    key = goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[i];
    if (Object.prototype.hasOwnProperty.call(source, key)) {
      target[key] = source[key];
    }
  }
};

/**
 * Returns the parameter.
 * @param {string} s
 * @return {string}
 * @private
 */
goog.identity_ = function(s) {
  return s;
};


/**
 * Creates Trusted Types policy if Trusted Types are supported by the browser.
 * The policy just blesses any string as a Trusted Type. It is not visibility
 * restricted because anyone can also call trustedTypes.createPolicy directly.
 * However, the allowed names should be restricted by a HTTP header and the
 * reference to the created policy should be visibility restricted.
 * @param {string} name
 * @return {?TrustedTypePolicy}
 */
goog.createTrustedTypesPolicy = function(name) {
  var policy = null;
  var policyFactory = goog.global.trustedTypes;
  if (!policyFactory || !policyFactory.createPolicy) {
    return policy;
  }
  // trustedTypes.createPolicy throws if called with a name that is already
  // registered, even in report-only mode. Until the API changes, catch the
  // error not to break the applications functionally. In such case, the code
  // will fall back to using regular Safe Types.
  // TODO(koto): Remove catching once createPolicy API stops throwing.
  try {
    policy = policyFactory.createPolicy(name, {
      createHTML: goog.identity_,
      createScript: goog.identity_,
      createScriptURL: goog.identity_
    });
  } catch (e) {
    goog.logToConsole_(e.message);
  }
  return policy;
};

// There's a bug in the compiler where without collapse properties the
// Closure namespace defines do not guard code correctly. To help reduce code
// size also check for !COMPILED even though it redundant until this is fixed.
if (!COMPILED && goog.DEPENDENCIES_ENABLED) {
  // MOE:begin_strip
  // TODO(b/67050526) This object is obsolete but some people are relying on
  // it internally. Keep it around until we migrate them.
  /**
   * @private
   * @type {{
   *   loadFlags: !Object<string, !Object<string, string>>,
   *   nameToPath: !Object<string, string>,
   *   requires: !Object<string, !Object<string, boolean>>,
   *   visited: !Object<string, boolean>,
   *   written: !Object<string, boolean>,
   *   deferred: !Object<string, string>
   * }}
   */
  goog.dependencies_ = {
    loadFlags: {},  // 1 to 1

    nameToPath: {},  // 1 to 1

    requires: {},  // 1 to many

    // Used when resolving dependencies to prevent us from visiting file
    // twice.
    visited: {},

    written: {},  // Used to keep track of script files we have written.

    deferred: {}  // Used to track deferred module evaluations in old IEs
  };

  /**
   * @return {!Object}
   * @private
   */
  goog.getLoader_ = function() {
    return {
      dependencies_: goog.dependencies_,
      writeScriptTag_: goog.writeScriptTag_
    };
  };


  /**
   * @param {string} src The script url.
   * @param {string=} opt_sourceText The optionally source text to evaluate
   * @return {boolean} True if the script was imported, false otherwise.
   * @private
   */
  goog.writeScriptTag_ = function(src, opt_sourceText) {
    if (goog.inHtmlDocument_()) {
      /** @type {!HTMLDocument} */
      var doc = goog.global.document;

      // If the user tries to require a new symbol after document load,
      // something has gone terribly wrong. Doing a document.write would
      // wipe out the page. This does not apply to the CSP-compliant method
      // of writing script tags.
      if (!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING &&
          doc.readyState == 'complete') {
        // Certain test frameworks load base.js multiple times, which tries
        // to write deps.js each time. If that happens, just fail silently.
        // These frameworks wipe the page between each load of base.js, so this
        // is OK.
        var isDeps = /\bdeps.js$/.test(src);
        if (isDeps) {
          return false;
        } else {
          throw Error('Cannot write "' + src + '" after document load');
        }
      }

      var nonceAttr = '';
      var nonce = goog.getScriptNonce_();
      if (nonce) {
        nonceAttr = ' nonce="' + nonce + '"';
      }

      if (opt_sourceText === undefined) {
        var script = '<script src="' + src + '"' + nonceAttr + '></' +
            'script>';
        doc.write(
            goog.TRUSTED_TYPES_POLICY_ ?
                goog.TRUSTED_TYPES_POLICY_.createHTML(script) :
                script);
      } else {
        var script = '<script' + nonceAttr + '>' +
            goog.protectScriptTag_(opt_sourceText) + '</' +
            'script>';
        doc.write(
            goog.TRUSTED_TYPES_POLICY_ ?
                goog.TRUSTED_TYPES_POLICY_.createHTML(script) :
                script);
      }
      return true;
    } else {
      return false;
    }
  };
  // MOE:end_strip


  /**
   * Tries to detect whether the current browser is Edge, based on the user
   * agent. This matches only pre-Chromium Edge.
   * @see https://docs.microsoft.com/en-us/microsoft-edge/web-platform/user-agent-string
   * @return {boolean} True if the current browser is Edge.
   * @private
   */
  goog.isEdge_ = function() {
    var userAgent = goog.global.navigator && goog.global.navigator.userAgent ?
        goog.global.navigator.userAgent :
        '';
    var edgeRe = /Edge\/(\d+)(\.\d)*/i;
    return !!userAgent.match(edgeRe);
  };


  /**
   * Tries to detect whether is in the context of an HTML document.
   * @return {boolean} True if it looks like HTML document.
   * @private
   */
  goog.inHtmlDocument_ = function() {
    /** @type {!Document} */
    var doc = goog.global.document;
    return doc != null && 'write' in doc;  // XULDocument misses write.
  };


  /**
   * We'd like to check for if the document readyState is 'loading'; however
   * there are bugs on IE 10 and below where the readyState being anything other
   * than 'complete' is not reliable.
   * @return {boolean}
   * @private
   */
  goog.isDocumentLoading_ = function() {
    // attachEvent is available on IE 6 thru 10 only, and thus can be used to
    // detect those browsers.
    /** @type {!HTMLDocument} */
    var doc = goog.global.document;
    return doc.attachEvent ? doc.readyState != 'complete' :
                             doc.readyState == 'loading';
  };


  /**
   * Tries to detect the base path of base.js script that bootstraps Closure.
   * @private
   */
  goog.findBasePath_ = function() {
    if (goog.global.CLOSURE_BASE_PATH != undefined &&
        // Anti DOM-clobbering runtime check (b/37736576).
        typeof goog.global.CLOSURE_BASE_PATH === 'string') {
      goog.basePath = goog.global.CLOSURE_BASE_PATH;
      return;
    } else if (!goog.inHtmlDocument_()) {
      return;
    }
    /** @type {!Document} */
    var doc = goog.global.document;
    // If we have a currentScript available, use it exclusively.
    var currentScript = doc.currentScript;
    if (currentScript) {
      var scripts = [currentScript];
    } else {
      var scripts = doc.getElementsByTagName('SCRIPT');
    }
    // Search backwards since the current script is in almost all cases the one
    // that has base.js.
    for (var i = scripts.length - 1; i >= 0; --i) {
      var script = /** @type {!HTMLScriptElement} */ (scripts[i]);
      var src = script.src;
      var qmark = src.lastIndexOf('?');
      var l = qmark == -1 ? src.length : qmark;
      if (src.slice(l - 7, l) == 'base.js') {
        goog.basePath = src.slice(0, l - 7);
        return;
      }
    }
  };

  goog.findBasePath_();

  /**
   * Rewrites closing script tags in input to avoid ending an enclosing script
   * tag.
   *
   * @param {string} str
   * @return {string}
   * @private
   */
  goog.protectScriptTag_ = function(str) {
    return str.replace(/<\/(SCRIPT)/ig, '\\x3c/$1');
  };


  /**
   * A debug loader is responsible for downloading and executing javascript
   * files in an unbundled, uncompiled environment.
   *
   * This can be custimized via the setDependencyFactory method, or by
   * CLOSURE_IMPORT_SCRIPT/CLOSURE_LOAD_FILE_SYNC.
   *
   * @struct @constructor @final @private
   */
  goog.DebugLoader_ = function() {
    /** @private @const {!Object<string, !goog.Dependency>} */
    this.dependencies_ = {};
    /** @private @const {!Object<string, string>} */
    this.idToPath_ = {};
    /** @private @const {!Object<string, boolean>} */
    this.written_ = {};
    /** @private @const {!Array<!goog.Dependency>} */
    this.loadingDeps_ = [];
    /** @private {!Array<!goog.Dependency>} */
    this.depsToLoad_ = [];
    /** @private {boolean} */
    this.paused_ = false;
    /** @private {!goog.DependencyFactory} */
    this.factory_ = new goog.DependencyFactory();
    /** @private @const {!Object<string, !Function>} */
    this.deferredCallbacks_ = {};
    /** @private @const {!Array<string>} */
    this.deferredQueue_ = [];
  };


  /**
   * Loads the Closure deps.js file.
   *
   * Exposed a function so after base is loaded, and
   * then this can be called to load the closure deps.js file.
   */
  goog.DebugLoader_.prototype.loadClosureDeps = function() {
    // Circumvent addDependency, which would try to transpile deps.js if
    // transpile is set to always.
    var relPath = 'deps.js';
    this.depsToLoad_.push(this.factory_.createDependency(
        goog.normalizePath_(goog.basePath + relPath), relPath, [], [], {}));
    this.loadDeps_();
  };


  /**
   * Notifies the debug loader when a dependency has been requested.
   *
   * @param {string} absPathOrId Path of the dependency or goog id.
   * @param {boolean=} opt_force
   */
  goog.DebugLoader_.prototype.requested = function(absPathOrId, opt_force) {
    var path = this.getPathFromDeps_(absPathOrId);
    if (path &&
        (opt_force || this.areDepsLoaded_(this.dependencies_[path].requires))) {
      var callback = this.deferredCallbacks_[path];
      if (callback) {
        delete this.deferredCallbacks_[path];
        callback();
      }
    }
  };


  /**
   * Sets the dependency factory, which can be used to create custom
   * goog.Dependency implementations to control how dependencies are loaded.
   *
   * @param {!goog.DependencyFactory} factory
   */
  goog.DebugLoader_.prototype.setDependencyFactory = function(factory) {
    this.factory_ = factory;
  };


  /**
   * Travserses the dependency graph and queues the given dependency, and all of
   * its transitive dependencies, for loading and then starts loading if not
   * paused.
   *
   * @param {string} namespace
   * @private
   */
  goog.DebugLoader_.prototype.load_ = function(namespace) {
    if (!this.getPathFromDeps_(namespace)) {
      var errorMessage = 'goog.require could not find: ' + namespace;
      goog.logToConsole_(errorMessage);
    } else {
      var loader = this;

      var deps = [];

      /** @param {string} namespace */
      var visit = function(namespace) {
        var path = loader.getPathFromDeps_(namespace);

        if (!path) {
          throw new Error('Bad dependency path or symbol: ' + namespace);
        }

        if (loader.written_[path]) {
          return;
        }

        loader.written_[path] = true;

        var dep = loader.dependencies_[path];
        // MOE:begin_strip
        if (goog.dependencies_.written[dep.relativePath]) {
          return;
        }
        // MOE:end_strip
        for (var i = 0; i < dep.requires.length; i++) {
          if (!goog.isProvided_(dep.requires[i])) {
            visit(dep.requires[i]);
          }
        }

        deps.push(dep);
      };

      visit(namespace);

      var wasLoading = !!this.depsToLoad_.length;
      this.depsToLoad_ = this.depsToLoad_.concat(deps);

      if (!this.paused_ && !wasLoading) {
        this.loadDeps_();
      }
    }
  };


  /**
   * Loads any queued dependencies until they are all loaded or paused.
   *
   * @private
   */
  goog.DebugLoader_.prototype.loadDeps_ = function() {
    var loader = this;
    var paused = this.paused_;

    while (this.depsToLoad_.length && !paused) {
      (function() {
        var loadCallDone = false;
        var dep = loader.depsToLoad_.shift();

        var loaded = false;
        loader.loading_(dep);

        var controller = {
          pause: function() {
            if (loadCallDone) {
              throw new Error('Cannot call pause after the call to load.');
            } else {
              paused = true;
            }
          },
          resume: function() {
            if (loadCallDone) {
              loader.resume_();
            } else {
              // Some dep called pause and then resume in the same load call.
              // Just keep running this same loop.
              paused = false;
            }
          },
          loaded: function() {
            if (loaded) {
              throw new Error('Double call to loaded.');
            }

            loaded = true;
            loader.loaded_(dep);
          },
          pending: function() {
            // Defensive copy.
            var pending = [];
            for (var i = 0; i < loader.loadingDeps_.length; i++) {
              pending.push(loader.loadingDeps_[i]);
            }
            return pending;
          },
          /**
           * @param {goog.ModuleType} type
           */
          setModuleState: function(type) {
            goog.moduleLoaderState_ = {
              type: type,
              moduleName: '',
              declareLegacyNamespace: false
            };
          },
          /** @type {function(string, string, string=)} */
          registerEs6ModuleExports: function(
              path, exports, opt_closureNamespace) {
            if (opt_closureNamespace) {
              goog.loadedModules_[opt_closureNamespace] = {
                exports: exports,
                type: goog.ModuleType.ES6,
                moduleId: opt_closureNamespace || ''
              };
            }
          },
          /** @type {function(string, ?)} */
          registerGoogModuleExports: function(moduleId, exports) {
            goog.loadedModules_[moduleId] = {
              exports: exports,
              type: goog.ModuleType.GOOG,
              moduleId: moduleId
            };
          },
          clearModuleState: function() {
            goog.moduleLoaderState_ = null;
          },
          defer: function(callback) {
            if (loadCallDone) {
              throw new Error(
                  'Cannot register with defer after the call to load.');
            }
            loader.defer_(dep, callback);
          },
          areDepsLoaded: function() {
            return loader.areDepsLoaded_(dep.requires);
          }
        };

        try {
          dep.load(controller);
        } finally {
          loadCallDone = true;
        }
      })();
    }

    if (paused) {
      this.pause_();
    }
  };


  /** @private */
  goog.DebugLoader_.prototype.pause_ = function() {
    this.paused_ = true;
  };


  /** @private */
  goog.DebugLoader_.prototype.resume_ = function() {
    if (this.paused_) {
      this.paused_ = false;
      this.loadDeps_();
    }
  };


  /**
   * Marks the given dependency as loading (load has been called but it has not
   * yet marked itself as finished). Useful for dependencies that want to know
   * what else is loading. Example: goog.modules cannot eval if there are
   * loading dependencies.
   *
   * @param {!goog.Dependency} dep
   * @private
   */
  goog.DebugLoader_.prototype.loading_ = function(dep) {
    this.loadingDeps_.push(dep);
  };


  /**
   * Marks the given dependency as having finished loading and being available
   * for require.
   *
   * @param {!goog.Dependency} dep
   * @private
   */
  goog.DebugLoader_.prototype.loaded_ = function(dep) {
    for (var i = 0; i < this.loadingDeps_.length; i++) {
      if (this.loadingDeps_[i] == dep) {
        this.loadingDeps_.splice(i, 1);
        break;
      }
    }

    for (var i = 0; i < this.deferredQueue_.length; i++) {
      if (this.deferredQueue_[i] == dep.path) {
        this.deferredQueue_.splice(i, 1);
        break;
      }
    }

    if (this.loadingDeps_.length == this.deferredQueue_.length &&
        !this.depsToLoad_.length) {
      // Something has asked to load these, but they may not be directly
      // required again later, so load them now that we know we're done loading
      // everything else. e.g. a goog module entry point.
      while (this.deferredQueue_.length) {
        this.requested(this.deferredQueue_.shift(), true);
      }
    }

    dep.loaded();
  };


  /**
   * @param {!Array<string>} pathsOrIds
   * @return {boolean}
   * @private
   */
  goog.DebugLoader_.prototype.areDepsLoaded_ = function(pathsOrIds) {
    for (var i = 0; i < pathsOrIds.length; i++) {
      var path = this.getPathFromDeps_(pathsOrIds[i]);
      if (!path ||
          (!(path in this.deferredCallbacks_) &&
           !goog.isProvided_(pathsOrIds[i]))) {
        return false;
      }
    }

    return true;
  };


  /**
   * @param {string} absPathOrId
   * @return {?string}
   * @private
   */
  goog.DebugLoader_.prototype.getPathFromDeps_ = function(absPathOrId) {
    if (absPathOrId in this.idToPath_) {
      return this.idToPath_[absPathOrId];
    } else if (absPathOrId in this.dependencies_) {
      return absPathOrId;
    } else {
      return null;
    }
  };


  /**
   * @param {!goog.Dependency} dependency
   * @param {!Function} callback
   * @private
   */
  goog.DebugLoader_.prototype.defer_ = function(dependency, callback) {
    this.deferredCallbacks_[dependency.path] = callback;
    this.deferredQueue_.push(dependency.path);
  };


  /**
   * Interface for goog.Dependency implementations to have some control over
   * loading of dependencies.
   *
   * @record
   */
  goog.LoadController = function() {};


  /**
   * Tells the controller to halt loading of more dependencies.
   */
  goog.LoadController.prototype.pause = function() {};


  /**
   * Tells the controller to resume loading of more dependencies if paused.
   */
  goog.LoadController.prototype.resume = function() {};


  /**
   * Tells the controller that this dependency has finished loading.
   *
   * This causes this to be removed from pending() and any load callbacks to
   * fire.
   */
  goog.LoadController.prototype.loaded = function() {};


  /**
   * List of dependencies on which load has been called but which have not
   * called loaded on their controller. This includes the current dependency.
   *
   * @return {!Array<!goog.Dependency>}
   */
  goog.LoadController.prototype.pending = function() {};


  /**
   * Registers an object as an ES6 module's exports so that goog.modules may
   * require it by path.
   *
   * @param {string} path Full path of the module.
   * @param {?} exports
   * @param {string=} opt_closureNamespace Closure namespace to associate with
   *     this module.
   */
  goog.LoadController.prototype.registerEs6ModuleExports = function(
      path, exports, opt_closureNamespace) {};


  /**
   * Sets the current module state.
   *
   * @param {goog.ModuleType} type Type of module.
   */
  goog.LoadController.prototype.setModuleState = function(type) {};


  /**
   * Clears the current module state.
   */
  goog.LoadController.prototype.clearModuleState = function() {};


  /**
   * Registers a callback to call once the dependency is actually requested
   * via goog.require + all of the immediate dependencies have been loaded or
   * all other files have been loaded. Allows for lazy loading until
   * require'd without pausing dependency loading, which is needed on old IE.
   *
   * @param {!Function} callback
   */
  goog.LoadController.prototype.defer = function(callback) {};


  /**
   * @return {boolean}
   */
  goog.LoadController.prototype.areDepsLoaded = function() {};


  /**
   * Basic super class for all dependencies Closure Library can load.
   *
   * This default implementation is designed to load untranspiled, non-module
   * scripts in a web broswer.
   *
   * For goog.modules see {@see goog.GoogModuleDependency}.
   * For untranspiled ES6 modules {@see goog.Es6ModuleDependency}.
   *
   * @param {string} path Absolute path of this script.
   * @param {string} relativePath Path of this script relative to goog.basePath.
   * @param {!Array<string>} provides goog.provided or goog.module symbols
   *     in this file.
   * @param {!Array<string>} requires goog symbols or relative paths to Closure
   *     this depends on.
   * @param {!Object<string, string>} loadFlags
   * @struct @constructor
   */
  goog.Dependency = function(
      path, relativePath, provides, requires, loadFlags) {
    /** @const */
    this.path = path;
    /** @const */
    this.relativePath = relativePath;
    /** @const */
    this.provides = provides;
    /** @const */
    this.requires = requires;
    /** @const */
    this.loadFlags = loadFlags;
    /** @private {boolean} */
    this.loaded_ = false;
    /** @private {!Array<function()>} */
    this.loadCallbacks_ = [];
  };


  /**
   * @return {string} The pathname part of this dependency's path if it is a
   *     URI.
   */
  goog.Dependency.prototype.getPathName = function() {
    var pathName = this.path;
    var protocolIndex = pathName.indexOf('://');
    if (protocolIndex >= 0) {
      pathName = pathName.substring(protocolIndex + 3);
      var slashIndex = pathName.indexOf('/');
      if (slashIndex >= 0) {
        pathName = pathName.substring(slashIndex + 1);
      }
    }
    return pathName;
  };


  /**
   * @param {function()} callback Callback to fire as soon as this has loaded.
   * @final
   */
  goog.Dependency.prototype.onLoad = function(callback) {
    if (this.loaded_) {
      callback();
    } else {
      this.loadCallbacks_.push(callback);
    }
  };


  /**
   * Marks this dependency as loaded and fires any callbacks registered with
   * onLoad.
   * @final
   */
  goog.Dependency.prototype.loaded = function() {
    this.loaded_ = true;
    var callbacks = this.loadCallbacks_;
    this.loadCallbacks_ = [];
    for (var i = 0; i < callbacks.length; i++) {
      callbacks[i]();
    }
  };


  /**
   * Whether or not document.written / appended script tags should be deferred.
   *
   * @private {boolean}
   */
  goog.Dependency.defer_ = false;


  /**
   * Map of script ready / state change callbacks. Old IE cannot handle putting
   * these properties on goog.global.
   *
   * @private @const {!Object<string, function(?):undefined>}
   */
  goog.Dependency.callbackMap_ = {};


  /**
   * @param {function(...?):?} callback
   * @return {string}
   * @private
   */
  goog.Dependency.registerCallback_ = function(callback) {
    var key = Math.random().toString(32);
    goog.Dependency.callbackMap_[key] = callback;
    return key;
  };


  /**
   * @param {string} key
   * @private
   */
  goog.Dependency.unregisterCallback_ = function(key) {
    delete goog.Dependency.callbackMap_[key];
  };


  /**
   * @param {string} key
   * @param {...?} var_args
   * @private
   * @suppress {unusedPrivateMembers}
   */
  goog.Dependency.callback_ = function(key, var_args) {
    if (key in goog.Dependency.callbackMap_) {
      var callback = goog.Dependency.callbackMap_[key];
      var args = [];
      for (var i = 1; i < arguments.length; i++) {
        args.push(arguments[i]);
      }
      callback.apply(undefined, args);
    } else {
      var errorMessage = 'Callback key ' + key +
          ' does not exist (was base.js loaded more than once?).';
      // MOE:begin_strip
      // TODO(johnplaisted): Some people internally are mistakenly loading
      // base.js twice, and this can happen while a dependency is loading,
      // wiping out state.
      goog.logToConsole_(errorMessage);
      // MOE:end_strip
      // MOE:insert throw Error(errorMessage);
    }
  };


  /**
   * Starts loading this dependency. This dependency can pause loading if it
   * needs to and resume it later via the controller interface.
   *
   * When this is loaded it should call controller.loaded(). Note that this will
   * end up calling the loaded method of this dependency; there is no need to
   * call it explicitly.
   *
   * @param {!goog.LoadController} controller
   */
  goog.Dependency.prototype.load = function(controller) {
    if (goog.global.CLOSURE_IMPORT_SCRIPT) {
      if (goog.global.CLOSURE_IMPORT_SCRIPT(this.path)) {
        controller.loaded();
      } else {
        controller.pause();
      }
      return;
    }

    if (!goog.inHtmlDocument_()) {
      goog.logToConsole_(
          'Cannot use default debug loader outside of HTML documents.');
      if (this.relativePath == 'deps.js') {
        // CLOSURE_IMPORT_SCRIPT should be set *before* base.js is loaded.
        goog.logToConsole_(
            'Consider setting CLOSURE_IMPORT_SCRIPT before loading base.js.');
        controller.loaded();
      } else {
        controller.pause();
      }
      return;
    }

    /** @type {!HTMLDocument} */
    var doc = goog.global.document;

    // If the user tries to require a new symbol after document load,
    // something has gone terribly wrong. Doing a document.write would
    // wipe out the page. This does not apply to the CSP-compliant method
    // of writing script tags.
    if (doc.readyState == 'complete' &&
        !goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING) {
      // Certain test frameworks load base.js multiple times, which tries
      // to write deps.js each time. If that happens, just fail silently.
      // These frameworks wipe the page between each load of base.js, so this
      // is OK.
      var isDeps = /\bdeps.js$/.test(this.path);
      if (isDeps) {
        controller.loaded();
        return;
      } else {
        throw Error('Cannot write "' + this.path + '" after document load');
      }
    }

    var nonce = goog.getScriptNonce_();
    if (!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING &&
        goog.isDocumentLoading_()) {
      var key;
      var callback = function(script) {
        if (script.readyState && script.readyState != 'complete') {
          script.onload = callback;
          return;
        }
        goog.Dependency.unregisterCallback_(key);
        controller.loaded();
      };
      key = goog.Dependency.registerCallback_(callback);

      var defer = goog.Dependency.defer_ ? ' defer' : '';
      var nonceAttr = nonce ? ' nonce="' + nonce + '"' : '';
      var script = '<script src="' + this.path + '"' + nonceAttr + defer +
          ' id="script-' + key + '"><\/script>';

      script += '<script' + nonceAttr + '>';

      if (goog.Dependency.defer_) {
        script += 'document.getElementById(\'script-' + key +
            '\').onload = function() {\n' +
            '  goog.Dependency.callback_(\'' + key + '\', this);\n' +
            '};\n';
      } else {
        script += 'goog.Dependency.callback_(\'' + key +
            '\', document.getElementById(\'script-' + key + '\'));';
      }

      script += '<\/script>';

      doc.write(
          goog.TRUSTED_TYPES_POLICY_ ?
              goog.TRUSTED_TYPES_POLICY_.createHTML(script) :
              script);
    } else {
      var scriptEl =
          /** @type {!HTMLScriptElement} */ (doc.createElement('script'));
      scriptEl.defer = goog.Dependency.defer_;
      scriptEl.async = false;

      // If CSP nonces are used, propagate them to dynamically created scripts.
      // This is necessary to allow nonce-based CSPs without 'strict-dynamic'.
      if (nonce) {
        scriptEl.nonce = nonce;
      }

      scriptEl.onload = function() {
        scriptEl.onload = null;
        controller.loaded();
      };

      scriptEl.src = goog.TRUSTED_TYPES_POLICY_ ?
          goog.TRUSTED_TYPES_POLICY_.createScriptURL(this.path) :
          this.path;
      doc.head.appendChild(scriptEl);
    }
  };


  /**
   * @param {string} path Absolute path of this script.
   * @param {string} relativePath Path of this script relative to goog.basePath.
   * @param {!Array<string>} provides Should be an empty array.
   *     TODO(johnplaisted) add support for adding closure namespaces to ES6
   *     modules for interop purposes.
   * @param {!Array<string>} requires goog symbols or relative paths to Closure
   *     this depends on.
   * @param {!Object<string, string>} loadFlags
   * @struct @constructor
   * @extends {goog.Dependency}
   */
  goog.Es6ModuleDependency = function(
      path, relativePath, provides, requires, loadFlags) {
    goog.Es6ModuleDependency.base(
        this, 'constructor', path, relativePath, provides, requires, loadFlags);
  };
  goog.inherits(goog.Es6ModuleDependency, goog.Dependency);


  /**
   * @override
   * @param {!goog.LoadController} controller
   */
  goog.Es6ModuleDependency.prototype.load = function(controller) {
    if (goog.global.CLOSURE_IMPORT_SCRIPT) {
      if (goog.global.CLOSURE_IMPORT_SCRIPT(this.path)) {
        controller.loaded();
      } else {
        controller.pause();
      }
      return;
    }

    if (!goog.inHtmlDocument_()) {
      goog.logToConsole_(
          'Cannot use default debug loader outside of HTML documents.');
      controller.pause();
      return;
    }

    /** @type {!HTMLDocument} */
    var doc = goog.global.document;

    var dep = this;

    // TODO(johnplaisted): Does document.writing really speed up anything? Any
    // difference between this and just waiting for interactive mode and then
    // appending?
    function write(src, contents) {
      var nonceAttr = '';
      var nonce = goog.getScriptNonce_();
      if (nonce) {
        nonceAttr = ' nonce="' + nonce + '"';
      }

      if (contents) {
        var script = '<script type="module" crossorigin' + nonceAttr + '>' +
            contents + '</' +
            'script>';
        doc.write(
            goog.TRUSTED_TYPES_POLICY_ ?
                goog.TRUSTED_TYPES_POLICY_.createHTML(script) :
                script);
      } else {
        var script = '<script type="module" crossorigin src="' + src + '"' +
            nonceAttr + '></' +
            'script>';
        doc.write(
            goog.TRUSTED_TYPES_POLICY_ ?
                goog.TRUSTED_TYPES_POLICY_.createHTML(script) :
                script);
      }
    }

    function append(src, contents) {
      var scriptEl =
          /** @type {!HTMLScriptElement} */ (doc.createElement('script'));
      scriptEl.defer = true;
      scriptEl.async = false;
      scriptEl.type = 'module';
      scriptEl.setAttribute('crossorigin', true);

      // If CSP nonces are used, propagate them to dynamically created scripts.
      // This is necessary to allow nonce-based CSPs without 'strict-dynamic'.
      var nonce = goog.getScriptNonce_();
      if (nonce) {
        scriptEl.nonce = nonce;
      }

      if (contents) {
        scriptEl.text = goog.TRUSTED_TYPES_POLICY_ ?
            goog.TRUSTED_TYPES_POLICY_.createScript(contents) :
            contents;
      } else {
        scriptEl.src = goog.TRUSTED_TYPES_POLICY_ ?
            goog.TRUSTED_TYPES_POLICY_.createScriptURL(src) :
            src;
      }

      doc.head.appendChild(scriptEl);
    }

    var create;

    if (goog.isDocumentLoading_()) {
      create = write;
      // We can ONLY call document.write if we are guaranteed that any
      // non-module script tags document.written after this are deferred.
      // Small optimization, in theory document.writing is faster.
      goog.Dependency.defer_ = true;
    } else {
      create = append;
    }

    // Write 4 separate tags here:
    // 1) Sets the module state at the correct time (just before execution).
    // 2) A src node for this, which just hopefully lets the browser load it a
    //    little early (no need to parse #3).
    // 3) Import the module and register it.
    // 4) Clear the module state at the correct time. Guaranteed to run even
    //    if there is an error in the module (#3 will not run if there is an
    //    error in the module).
    var beforeKey = goog.Dependency.registerCallback_(function() {
      goog.Dependency.unregisterCallback_(beforeKey);
      controller.setModuleState(goog.ModuleType.ES6);
    });
    create(undefined, 'goog.Dependency.callback_("' + beforeKey + '")');

    // TODO(johnplaisted): Does this really speed up anything?
    create(this.path, undefined);

    var registerKey = goog.Dependency.registerCallback_(function(exports) {
      goog.Dependency.unregisterCallback_(registerKey);
      controller.registerEs6ModuleExports(
          dep.path, exports, goog.moduleLoaderState_.moduleName);
    });
    create(
        undefined,
        'import * as m from "' + this.path + '"; goog.Dependency.callback_("' +
            registerKey + '", m)');

    var afterKey = goog.Dependency.registerCallback_(function() {
      goog.Dependency.unregisterCallback_(afterKey);
      controller.clearModuleState();
      controller.loaded();
    });
    create(undefined, 'goog.Dependency.callback_("' + afterKey + '")');
  };


  /**
   * Superclass of any dependency that needs to be loaded into memory,
   * transformed, and then eval'd (goog.modules and transpiled files).
   *
   * @param {string} path Absolute path of this script.
   * @param {string} relativePath Path of this script relative to goog.basePath.
   * @param {!Array<string>} provides goog.provided or goog.module symbols
   *     in this file.
   * @param {!Array<string>} requires goog symbols or relative paths to Closure
   *     this depends on.
   * @param {!Object<string, string>} loadFlags
   * @struct @constructor @abstract
   * @extends {goog.Dependency}
   */
  goog.TransformedDependency = function(
      path, relativePath, provides, requires, loadFlags) {
    goog.TransformedDependency.base(
        this, 'constructor', path, relativePath, provides, requires, loadFlags);
    /** @private {?string} */
    this.contents_ = null;

    /**
     * Whether to lazily make the synchronous XHR (when goog.require'd) or make
     * the synchronous XHR when initially loading. On FireFox 61 there is a bug
     * where an ES6 module cannot make a synchronous XHR (rather, it can, but if
     * it does then no other ES6 modules will load after).
     *
     * tl;dr we lazy load due to bugs on older browsers and eager load due to
     * bugs on newer ones.
     *
     * https://bugzilla.mozilla.org/show_bug.cgi?id=1477090
     *
     * @private @const {boolean}
     */
    this.lazyFetch_ = !goog.inHtmlDocument_() ||
        !('noModule' in goog.global.document.createElement('script'));
  };
  goog.inherits(goog.TransformedDependency, goog.Dependency);


  /**
   * @override
   * @param {!goog.LoadController} controller
   */
  goog.TransformedDependency.prototype.load = function(controller) {
    var dep = this;

    function fetch() {
      dep.contents_ = goog.loadFileSync_(dep.path);

      if (dep.contents_) {
        dep.contents_ = dep.transform(dep.contents_);
        if (dep.contents_) {
          dep.contents_ += '\n//# sourceURL=' + dep.path;
        }
      }
    }

    if (goog.global.CLOSURE_IMPORT_SCRIPT) {
      fetch();
      if (this.contents_ &&
          goog.global.CLOSURE_IMPORT_SCRIPT('', this.contents_)) {
        this.contents_ = null;
        controller.loaded();
      } else {
        controller.pause();
      }
      return;
    }


    var isEs6 = this.loadFlags['module'] == goog.ModuleType.ES6;

    if (!this.lazyFetch_) {
      fetch();
    }

    function load() {
      if (dep.lazyFetch_) {
        fetch();
      }

      if (!dep.contents_) {
        // loadFileSync_ or transform are responsible. Assume they logged an
        // error.
        return;
      }

      if (isEs6) {
        controller.setModuleState(goog.ModuleType.ES6);
      }

      var namespace;

      try {
        var contents = dep.contents_;
        dep.contents_ = null;
        goog.globalEval(goog.CLOSURE_EVAL_PREFILTER_.createScript(contents));
        if (isEs6) {
          namespace = goog.moduleLoaderState_.moduleName;
        }
      } finally {
        if (isEs6) {
          controller.clearModuleState();
        }
      }

      if (isEs6) {
        // Due to circular dependencies this may not be available for require
        // right now.
        goog.LEGACY_NAMESPACE_OBJECT_['$jscomp']['require']['ensure'](
            [dep.getPathName()], function() {
              controller.registerEs6ModuleExports(
                  dep.path,
                  goog.LEGACY_NAMESPACE_OBJECT_['$jscomp']['require'](
                      dep.getPathName()),
                  namespace);
            });
      }

      controller.loaded();
    }

    // Do not fetch now; in FireFox 47 the synchronous XHR doesn't block all
    // events. If we fetched now and then document.write'd the contents the
    // document.write would be an eval and would execute too soon! Instead write
    // a script tag to fetch and eval synchronously at the correct time.
    function fetchInOwnScriptThenLoad() {
      /** @type {!HTMLDocument} */
      var doc = goog.global.document;

      var key = goog.Dependency.registerCallback_(function() {
        goog.Dependency.unregisterCallback_(key);
        load();
      });

      var nonce = goog.getScriptNonce_();
      var nonceAttr = nonce ? ' nonce="' + nonce + '"' : '';
      var script = '<script' + nonceAttr + '>' +
          goog.protectScriptTag_('goog.Dependency.callback_("' + key + '");') +
          '</' +
          'script>';
      doc.write(
          goog.TRUSTED_TYPES_POLICY_ ?
              goog.TRUSTED_TYPES_POLICY_.createHTML(script) :
              script);
    }

    // If one thing is pending it is this.
    var anythingElsePending = controller.pending().length > 1;

    // Additionally if we are meant to defer scripts but the page is still
    // loading (e.g. an ES6 module is loading) then also defer. Or if we are
    // meant to defer and anything else is pending then defer (those may be
    // scripts that did not need transformation and are just script tags with
    // defer set to true, and we need to evaluate after that deferred script).
    var needsAsyncLoading = goog.Dependency.defer_ &&
        (anythingElsePending || goog.isDocumentLoading_());

    if (needsAsyncLoading) {
      // Note that we only defer when we have to rather than 100% of the time.
      // Always defering would work, but then in theory the order of
      // goog.require calls would then matter. We want to enforce that most of
      // the time the order of the require calls does not matter.
      controller.defer(function() {
        load();
      });
      return;
    }
    // TODO(johnplaisted): Externs are missing onreadystatechange for
    // HTMLDocument.
    /** @type {?} */
    var doc = goog.global.document;

    var isInternetExplorerOrEdge = goog.inHtmlDocument_() &&
        ('ActiveXObject' in goog.global || goog.isEdge_());

    // Don't delay in any version of IE or pre-Chromium Edge. There's a bug
    // around this that will cause out of order script execution. This means
    // that on older IE ES6 modules will load too early (while the document is
    // still loading + the dom is not available). The other option is to load
    // too late (when the document is complete and the onload even will never
    // fire). This seems to be the lesser of two evils as scripts already act
    // like the former.
    if (isEs6 && goog.inHtmlDocument_() && goog.isDocumentLoading_() &&
        !isInternetExplorerOrEdge) {
      goog.Dependency.defer_ = true;
      // Transpiled ES6 modules still need to load like regular ES6 modules,
      // aka only after the document is interactive.
      controller.pause();
      var oldCallback = doc.onreadystatechange;
      doc.onreadystatechange = function() {
        if (doc.readyState == 'interactive') {
          doc.onreadystatechange = oldCallback;
          load();
          controller.resume();
        }
        if (typeof oldCallback === 'function') {
          oldCallback.apply(undefined, arguments);
        }
      };
    } else {
      // Always eval on old IE.
      if (!goog.inHtmlDocument_() || !goog.isDocumentLoading_()) {
        load();
      } else {
        fetchInOwnScriptThenLoad();
      }
    }
  };


  /**
   * @param {string} contents
   * @return {string}
   * @abstract
   */
  goog.TransformedDependency.prototype.transform = function(contents) {};


  /**
   * An ES6 module dependency that was transpiled to a jscomp module outside
   * of the debug loader, e.g. server side.
   *
   * @param {string} path Absolute path of this script.
   * @param {string} relativePath Path of this script relative to goog.basePath.
   * @param {!Array<string>} provides goog.provided or goog.module symbols
   *     in this file.
   * @param {!Array<string>} requires goog symbols or relative paths to Closure
   *     this depends on.
   * @param {!Object<string, string>} loadFlags
   * @struct @constructor
   * @extends {goog.TransformedDependency}
   */
  goog.PreTranspiledEs6ModuleDependency = function(
      path, relativePath, provides, requires, loadFlags) {
    goog.PreTranspiledEs6ModuleDependency.base(
        this, 'constructor', path, relativePath, provides, requires, loadFlags);
  };
  goog.inherits(
      goog.PreTranspiledEs6ModuleDependency, goog.TransformedDependency);


  /**
   * @override
   * @param {string} contents
   * @return {string}
   */
  goog.PreTranspiledEs6ModuleDependency.prototype.transform = function(
      contents) {
    return contents;
  };


  /**
   * A goog.module, transpiled or not. Will always perform some minimal
   * transformation even when not transpiled to wrap in a goog.loadModule
   * statement.
   *
   * @param {string} path Absolute path of this script.
   * @param {string} relativePath Path of this script relative to goog.basePath.
   * @param {!Array<string>} provides goog.provided or goog.module symbols
   *     in this file.
   * @param {!Array<string>} requires goog symbols or relative paths to Closure
   *     this depends on.
   * @param {!Object<string, string>} loadFlags
   * @struct @constructor
   * @extends {goog.TransformedDependency}
   */
  goog.GoogModuleDependency = function(
      path, relativePath, provides, requires, loadFlags) {
    goog.GoogModuleDependency.base(
        this, 'constructor', path, relativePath, provides, requires, loadFlags);
  };
  goog.inherits(goog.GoogModuleDependency, goog.TransformedDependency);


  /**
   * @override
   * @param {string} contents
   * @return {string}
   */
  goog.GoogModuleDependency.prototype.transform = function(contents) {
    if (!goog.LOAD_MODULE_USING_EVAL || goog.global.JSON === undefined) {
      return '' +
          'goog.loadModule(function(exports) {' +
          '"use strict";' + contents +
          '\n' +  // terminate any trailing single line comment.
          ';return exports' +
          '});' +
          '\n//# sourceURL=' + this.path + '\n';
    } else {
      return '' +
          'goog.loadModule(' +
          goog.global.JSON.stringify(
              contents + '\n//# sourceURL=' + this.path + '\n') +
          ');';
    }
  };


  /**
   * @param {string} relPath
   * @param {!Array<string>|undefined} provides
   * @param {!Array<string>} requires
   * @param {boolean|!Object<string>=} opt_loadFlags
   * @see goog.addDependency
   */
  goog.DebugLoader_.prototype.addDependency = function(
      relPath, provides, requires, opt_loadFlags) {
    provides = provides || [];
    relPath = relPath.replace(/\\/g, '/');
    var path = goog.normalizePath_(goog.basePath + relPath);
    if (!opt_loadFlags || typeof opt_loadFlags === 'boolean') {
      opt_loadFlags = opt_loadFlags ? {'module': goog.ModuleType.GOOG} : {};
    }
    var dep = this.factory_.createDependency(
        path, relPath, provides, requires, opt_loadFlags);
    this.dependencies_[path] = dep;
    for (var i = 0; i < provides.length; i++) {
      this.idToPath_[provides[i]] = path;
    }
    this.idToPath_[relPath] = path;
  };


  /**
   * Creates goog.Dependency instances for the debug loader to load.
   *
   * Should be overridden to have the debug loader use custom subclasses of
   * goog.Dependency.
   *
   * @struct @constructor
   */
  goog.DependencyFactory = function() {};


  /**
   * @param {string} path Absolute path of the file.
   * @param {string} relativePath Path relative to closures base.js.
   * @param {!Array<string>} provides Array of provided goog.provide/module ids.
   * @param {!Array<string>} requires Array of required goog.provide/module /
   *     relative ES6 module paths.
   * @param {!Object<string, string>} loadFlags
   * @return {!goog.Dependency}
   */
  goog.DependencyFactory.prototype.createDependency = function(
      path, relativePath, provides, requires, loadFlags) {
    // MOE:begin_strip
    var provide, require;
    for (var i = 0; provide = provides[i]; i++) {
      goog.dependencies_.nameToPath[provide] = relativePath;
      goog.dependencies_.loadFlags[relativePath] = loadFlags;
    }
    for (var j = 0; require = requires[j]; j++) {
      if (!(relativePath in goog.dependencies_.requires)) {
        goog.dependencies_.requires[relativePath] = {};
      }
      goog.dependencies_.requires[relativePath][require] = true;
    }
    // MOE:end_strip

    if (loadFlags['module'] == goog.ModuleType.GOOG) {
      return new goog.GoogModuleDependency(
          path, relativePath, provides, requires, loadFlags);
    } else {
      if (loadFlags['module'] == goog.ModuleType.ES6) {
        if (goog.ASSUME_ES_MODULES_TRANSPILED) {
          return new goog.PreTranspiledEs6ModuleDependency(
              path, relativePath, provides, requires, loadFlags);
        } else {
          return new goog.Es6ModuleDependency(
              path, relativePath, provides, requires, loadFlags);
        }
      } else {
        return new goog.Dependency(
            path, relativePath, provides, requires, loadFlags);
      }
    }
  };


  /** @private @const */
  goog.debugLoader_ = new goog.DebugLoader_();


  /**
   * Loads the Closure deps.js file.
   *
   * Exposed a public function so after base is loaded, and
   * then this can be called to load the closure deps.js file.
   */
  goog.loadClosureDeps = function() {
    goog.debugLoader_.loadClosureDeps();
  };


  /**
   * Sets the dependency factory, which can be used to create custom
   * goog.Dependency implementations to control how dependencies are loaded.
   *
   * Note:
   * You can call goog.loadClosureDeps to load the Closure dependency file
   * later, after your factory is injected.
   *
   * @param {!goog.DependencyFactory} factory
   */
  goog.setDependencyFactory = function(factory) {
    goog.debugLoader_.setDependencyFactory(factory);
  };


  /**
   * Trusted Types policy for the debug loader.
   * @private @const {?TrustedTypePolicy}
   */
  goog.TRUSTED_TYPES_POLICY_ = goog.TRUSTED_TYPES_POLICY_NAME ?
      goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME + '#base') :
      null;
}


if (!COMPILED) {
  var isChrome87 = false;
  // Cannot run check for Chrome <87 bug in case of strict CSP environments.
  // TODO(aaronshim): Remove once Chrome <87 bug is no longer a problem.
  try {
    isChrome87 = eval(goog.global.trustedTypes.emptyScript) !==
        goog.global.trustedTypes.emptyScript;
  } catch (err) {
  }

  /**
   * Trusted Types for running dev servers.
   *
   * @private @const
   */
  goog.CLOSURE_EVAL_PREFILTER_ =
      // Detect Chrome <87 bug with TT and eval.
      goog.global.trustedTypes && isChrome87 &&
          goog.createTrustedTypesPolicy('goog#base#devonly#eval') ||
      {createScript: goog.identity_};
}

//third_party/javascript/lodash/lodash.4.min.js
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
/**
 * @type {?}
 * @suppress {duplicate}
 */
var _=_||{};(/** @suppress {checkTypes|suspiciousCode|uselessCode|globalThis|checkVars} */
function(){function n(n,t,r){switch(r.length){case 0:return n.call(t);case 1:return n.call(t,r[0]);case 2:return n.call(t,r[0],r[1]);case 3:return n.call(t,r[0],r[1],r[2])}return n.apply(t,r)}function t(n,t,r,e){for(var u=-1,i=null==n?0:n.length;++u<i;){var o=n[u];t(e,o,r(o),n)}return e}function r(n,t){for(var r=-1,e=null==n?0:n.length;++r<e&&t(n[r],r,n)!==!1;);return n}function e(n,t){for(var r=null==n?0:n.length;r--&&t(n[r],r,n)!==!1;);return n}function u(n,t){for(var r=-1,e=null==n?0:n.length;++r<e;)if(!t(n[r],r,n))return!1;
return!0}function i(n,t){for(var r=-1,e=null==n?0:n.length,u=0,i=[];++r<e;){var o=n[r];t(o,r,n)&&(i[u++]=o)}return i}function o(n,t){return!!(null==n?0:n.length)&&y(n,t,0)>-1}function f(n,t,r){for(var e=-1,u=null==n?0:n.length;++e<u;)if(r(t,n[e]))return!0;return!1}function c(n,t){for(var r=-1,e=null==n?0:n.length,u=Array(e);++r<e;)u[r]=t(n[r],r,n);return u}function a(n,t){for(var r=-1,e=t.length,u=n.length;++r<e;)n[u+r]=t[r];return n}function l(n,t,r,e){var u=-1,i=null==n?0:n.length;for(e&&i&&(r=n[++u]);++u<i;)r=t(r,n[u],u,n);
return r}function s(n,t,r,e){var u=null==n?0:n.length;for(e&&u&&(r=n[--u]);u--;)r=t(r,n[u],u,n);return r}function h(n,t){for(var r=-1,e=null==n?0:n.length;++r<e;)if(t(n[r],r,n))return!0;return!1}function p(n){return n.split("")}function v(n){return n.match(Ct)||[]}function _(n,t,r){var e;return r(n,function(n,r,u){if(t(n,r,u))return e=r,!1}),e}function g(n,t,r,e){for(var u=n.length,i=r+(e?1:-1);e?i--:++i<u;)if(t(n[i],i,n))return i;return-1}function y(n,t,r){return t===t?q(n,t,r):g(n,b,r)}function d(n,t,r,e){
for(var u=r-1,i=n.length;++u<i;)if(e(n[u],t))return u;return-1}function b(n){return n!==n}function w(n,t){var r=null==n?0:n.length;return r?k(n,t)/r:Wn}function m(n){return function(t){return null==t?Q:t[n]}}function x(n){return function(t){return null==n?Q:n[t]}}function j(n,t,r,e,u){return u(n,function(n,u,i){r=e?(e=!1,n):t(r,n,u,i)}),r}function A(n,t){var r=n.length;for(n.sort(t);r--;)n[r]=n[r].value;return n}function k(n,t){for(var r,e=-1,u=n.length;++e<u;){var i=t(n[e]);i!==Q&&(r=r===Q?i:r+i);
}return r}function O(n,t){for(var r=-1,e=Array(n);++r<n;)e[r]=t(r);return e}function I(n,t){return c(t,function(t){return[t,n[t]]})}function z(n){return n?n.slice(0,G(n)+1).replace(zt,""):n}function E(n){return function(t){return n(t)}}function R(n,t){return c(t,function(t){return n[t]})}function S(n,t){return n.has(t)}function W(n,t){for(var r=-1,e=n.length;++r<e&&y(t,n[r],0)>-1;);return r}function C(n,t){for(var r=n.length;r--&&y(t,n[r],0)>-1;);return r}function L(n,t){for(var r=n.length,e=0;r--;)n[r]===t&&++e;
return e}function B(n,t){return null==n?Q:n[t]}function T(n){return Cr.test(n)}function U(n){return Lr.test(n)}function D(n){for(var t,r=[];!(t=n.next()).done;)r.push(t.value);return r}function $(n){var t=-1,r=Array(n.size);return n.forEach(function(n,e){r[++t]=[e,n]}),r}function M(n,t){return function(r){return n(t(r))}}function F(n,t){for(var r=-1,e=n.length,u=0,i=[];++r<e;){var o=n[r];o!==t&&o!==on||(n[r]=on,i[u++]=r)}return i}function N(n){var t=-1,r=Array(n.size);return n.forEach(function(n){
r[++t]=n}),r}function P(n){var t=-1,r=Array(n.size);return n.forEach(function(n){r[++t]=[n,n]}),r}function q(n,t,r){for(var e=r-1,u=n.length;++e<u;)if(n[e]===t)return e;return-1}function Z(n,t,r){for(var e=r+1;e--;)if(n[e]===t)return e;return e}function K(n){return T(n)?H(n):ee(n)}function V(n){return T(n)?J(n):p(n)}function G(n){for(var t=n.length;t--&&Et.test(n.charAt(t)););return t}function H(n){for(var t=Sr.lastIndex=0;Sr.test(n);)++t;return t}function J(n){return n.match(Sr)||[]}function Y(n){
return n.match(Wr)||[]}var Q,X="4.17.21",nn=200,tn="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",rn="Expected a function",en="__lodash_hash_undefined__",un=500,on="__lodash_placeholder__",fn=1,cn=2,an=4,ln=1,sn=2,hn=1,pn=2,vn=4,_n=8,gn=16,yn=32,dn=64,bn=128,wn=256,mn=512,xn=30,jn="...",An=800,kn=16,On=1,In=2,zn=3,En=1/0,Rn=9007199254740991,Sn=1.7976931348623157e308,Wn=NaN,Cn=4294967295,Ln=Cn-1,Bn=Cn>>>1,Tn=[["ary",bn],["bind",hn],["bindKey",pn],["curry",_n],["curryRight",gn],["flip",mn],["partial",yn],["partialRight",dn],["rearg",wn]],Un="[object Arguments]",Dn="[object Array]",$n="[object AsyncFunction]",Mn="[object Boolean]",Fn="[object Date]",Nn="[object DOMException]",Pn="[object Error]",qn="[object Function]",Zn="[object GeneratorFunction]",Kn="[object Map]",Vn="[object Number]",Gn="[object Null]",Hn="[object Object]",Jn="[object Promise]",Yn="[object Proxy]",Qn="[object RegExp]",Xn="[object Set]",nt="[object String]",tt="[object Symbol]",rt="[object Undefined]",et="[object WeakMap]",ut="[object WeakSet]",it="[object ArrayBuffer]",ot="[object DataView]",ft="[object Float32Array]",ct="[object Float64Array]",at="[object Int8Array]",lt="[object Int16Array]",st="[object Int32Array]",ht="[object Uint8Array]",pt="[object Uint8ClampedArray]",vt="[object Uint16Array]",_t="[object Uint32Array]",gt=/&(?:amp|lt|gt|quot|#39);/g,yt=/[&<>"']/g,dt=RegExp(gt.source),bt=RegExp(yt.source),wt=/<%-([\s\S]+?)%>/g,mt=/<%([\s\S]+?)%>/g,xt=/<%=([\s\S]+?)%>/g,jt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,At=/^\w*$/,kt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ot=/[\\^$.*+?()[\]{}|]/g,It=RegExp(Ot.source),zt=/^\s+/,Et=/\s/,Rt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,St=/\{\n\/\* \[wrapped with (.+)\] \*/,Wt=/,? & /,Ct=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Lt=/\\(\\)?/g,Bt=/\w*$/,Tt=/^[-+]0x[0-9a-f]+$/i,Ut=/^0b[01]+$/i,Dt=/^\[object .+?Constructor\]$/,$t=/^0o[0-7]+$/i,Mt=/^(?:0|[1-9]\d*)$/,Ft=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Nt="\\ud800-\\udfff",Pt="\\u0300-\\u036f",qt="\\ufe20-\\ufe2f",Zt="\\u20d0-\\u20ff",Kt=Pt+qt+Zt,Vt="\\u2700-\\u27bf",Gt="a-z\\xdf-\\xf6\\xf8-\\xff",Ht="\\xac\\xb1\\xd7\\xf7",Jt="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Yt="\\u2000-\\u206f",Qt=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Xt="A-Z\\xc0-\\xd6\\xd8-\\xde",nr="\\ufe0e\\ufe0f",tr=Ht+Jt+Yt+Qt,rr="['\u2019]",er="["+Nt+"]",ur="["+tr+"]",ir="["+Kt+"]",or="\\d+",fr="["+Vt+"]",cr="["+Gt+"]",ar="[^"+Nt+tr+or+Vt+Gt+Xt+"]",lr="\\ud83c[\\udffb-\\udfff]",sr="(?:"+ir+"|"+lr+")",hr="[^"+Nt+"]",pr="(?:\\ud83c[\\udde6-\\uddff]){2}",vr="[\\ud800-\\udbff][\\udc00-\\udfff]",_r="["+Xt+"]",gr="\\u200d",yr="(?:"+cr+"|"+ar+")",dr="(?:"+_r+"|"+ar+")",br="(?:"+rr+"(?:d|ll|m|re|s|t|ve))?",wr="(?:"+rr+"(?:D|LL|M|RE|S|T|VE))?",mr=sr+"?",xr="["+nr+"]?",jr="(?:"+gr+"(?:"+[hr,pr,vr].join("|")+")"+xr+mr+")*",Ar="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",kr="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Or=xr+mr+jr,Ir="(?:"+[fr,pr,vr].join("|")+")"+Or,zr="(?:"+[hr+ir+"?",ir,pr,vr,er].join("|")+")",Er=RegExp(rr,"g"),Rr=RegExp(ir,"g"),Sr=RegExp(lr+"(?="+lr+")|"+zr+Or,"g"),Wr=RegExp([_r+"?"+cr+"+"+br+"(?="+[ur,_r,"$"].join("|")+")",dr+"+"+wr+"(?="+[ur,_r+yr,"$"].join("|")+")",_r+"?"+yr+"+"+br,_r+"+"+wr,kr,Ar,or,Ir].join("|"),"g"),Cr=RegExp("["+gr+Nt+Kt+nr+"]"),Lr=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Br=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Tr={};
Tr[ft]=Tr[ct]=Tr[at]=Tr[lt]=Tr[st]=Tr[ht]=Tr[pt]=Tr[vt]=Tr[_t]=!0,Tr[Un]=Tr[Dn]=Tr[it]=Tr[Mn]=Tr[ot]=Tr[Fn]=Tr[Pn]=Tr[qn]=Tr[Kn]=Tr[Vn]=Tr[Hn]=Tr[Qn]=Tr[Xn]=Tr[nt]=Tr[et]=!1;var Ur={};Ur[Un]=Ur[Dn]=Ur[it]=Ur[ot]=Ur[Mn]=Ur[Fn]=Ur[ft]=Ur[ct]=Ur[at]=Ur[lt]=Ur[st]=Ur[Kn]=Ur[Vn]=Ur[Hn]=Ur[Qn]=Ur[Xn]=Ur[nt]=Ur[tt]=Ur[ht]=Ur[pt]=Ur[vt]=Ur[_t]=!0,Ur[Pn]=Ur[qn]=Ur[et]=!1;var Dr={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a",
"\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae",
"\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g",
"\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O",
"\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w",
"\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"},$r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Mr={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Fr=parseFloat,Nr=parseInt,Pr="object"==typeof global&&global&&global.Object===Object&&global,qr="object"==typeof self&&self&&self.Object===Object&&self,Zr=Pr||qr||globalThis,Kr="object"==typeof exports&&exports&&!exports.nodeType&&exports,Vr=Kr&&"object"==typeof module&&module&&!module.nodeType&&module,Gr=Vr&&Vr.exports===Kr,Hr=Gr&&Pr.process,Jr=function(){
try{var n=Vr&&Vr.require&&Vr.require("util").types;return n?n:Hr&&Hr.binding&&Hr.binding("util")}catch(n){}}(),Yr=Jr&&Jr.isArrayBuffer,Qr=Jr&&Jr.isDate,Xr=Jr&&Jr.isMap,ne=Jr&&Jr.isRegExp,te=Jr&&Jr.isSet,re=Jr&&Jr.isTypedArray,ee=m("length"),ue=x(Dr),ie=x($r),oe=x(Mr),fe=function p(x){function q(n){if(Yf(n)&&!fh(n)&&!(n instanceof Et)){if(n instanceof J)return n;if(fl.call(n,"__wrapped__"))return Ki(n)}return new J(n)}function H(){}function J(n,t){this.__wrapped__=n,this.__actions__=[],this.__chain__=!!t,
this.__index__=0,this.__values__=Q}function Et(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Cn,this.__views__=[]}function Ct(){var n=new Et(this.__wrapped__);return n.__actions__=Iu(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=Iu(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=Iu(this.__views__),n}function Nt(){if(this.__filtered__){var n=new Et(this);n.__dir__=-1,
n.__filtered__=!0}else n=this.clone(),n.__dir__*=-1;return n}function Pt(){var n=this.__wrapped__.value(),t=this.__dir__,r=fh(n),e=t<0,u=r?n.length:0,i=_i(0,u,this.__views__),o=i.start,f=i.end,c=f-o,a=e?f:o-1,l=this.__iteratees__,s=l.length,h=0,p=Ul(c,this.__takeCount__);if(!r||!e&&u==c&&p==c)return lu(n,this.__actions__);var v=[];n:for(;c--&&h<p;){a+=t;for(var _=-1,g=n[a];++_<s;){var y=l[_],d=y.iteratee,b=y.type,w=d(g);if(b==In)g=w;else if(!w){if(b==On)continue n;break n}}v[h++]=g}return v}function qt(n){
var t=-1,r=null==n?0:n.length;for(this.clear();++t<r;){var e=n[t];this.set(e[0],e[1])}}function Zt(){this.__data__=Vl?Vl(null):{},this.size=0}function Kt(n){var t=this.has(n)&&delete this.__data__[n];return this.size-=t?1:0,t}function Vt(n){var t=this.__data__;if(Vl){var r=t[n];return r===en?Q:r}return fl.call(t,n)?t[n]:Q}function Gt(n){var t=this.__data__;return Vl?t[n]!==Q:fl.call(t,n)}function Ht(n,t){var r=this.__data__;return this.size+=this.has(n)?0:1,r[n]=Vl&&t===Q?en:t,this}function Jt(n){
var t=-1,r=null==n?0:n.length;for(this.clear();++t<r;){var e=n[t];this.set(e[0],e[1])}}function Yt(){this.__data__=[],this.size=0}function Qt(n){var t=this.__data__,r=jr(t,n);return!(r<0)&&(r==t.length-1?t.pop():ml.call(t,r,1),--this.size,!0)}function Xt(n){var t=this.__data__,r=jr(t,n);return r<0?Q:t[r][1]}function nr(n){return jr(this.__data__,n)>-1}function tr(n,t){var r=this.__data__,e=jr(r,n);return e<0?(++this.size,r.push([n,t])):r[e][1]=t,this}function rr(n){var t=-1,r=null==n?0:n.length;for(this.clear();++t<r;){
var e=n[t];this.set(e[0],e[1])}}function er(){this.size=0,this.__data__={hash:new qt,map:new(Pl||Jt),string:new qt}}function ur(n){var t=si(this,n).delete(n);return this.size-=t?1:0,t}function ir(n){return si(this,n).get(n)}function or(n){return si(this,n).has(n)}function fr(n,t){var r=si(this,n),e=r.size;return r.set(n,t),this.size+=r.size==e?0:1,this}function cr(n){var t=-1,r=null==n?0:n.length;for(this.__data__=new rr;++t<r;)this.add(n[t])}function ar(n){return this.__data__.set(n,en),this}function lr(n){
return this.__data__.has(n)}function sr(n){this.size=(this.__data__=new Jt(n)).size}function hr(){this.__data__=new Jt,this.size=0}function pr(n){var t=this.__data__,r=t.delete(n);return this.size=t.size,r}function vr(n){return this.__data__.get(n)}function _r(n){return this.__data__.has(n)}function gr(n,t){var r=this.__data__;if(r instanceof Jt){var e=r.__data__;if(!Pl||e.length<nn-1)return e.push([n,t]),this.size=++r.size,this;r=this.__data__=new rr(e)}return r.set(n,t),this.size=r.size,this}function yr(n,t){
var r=fh(n),e=!r&&oh(n),u=!r&&!e&&ah(n),i=!r&&!e&&!u&&vh(n),o=r||e||u||i,f=o?O(n.length,nl):[],c=f.length;for(var a in n)!t&&!fl.call(n,a)||o&&("length"==a||u&&("offset"==a||"parent"==a)||i&&("buffer"==a||"byteLength"==a||"byteOffset"==a)||ji(a,c))||f.push(a);return f}function dr(n){var t=n.length;return t?n[Ze(0,t-1)]:Q}function br(n,t){return Ni(Iu(n),Sr(t,0,n.length))}function wr(n){return Ni(Iu(n))}function mr(n,t,r){(r===Q||Uf(n[t],r))&&(r!==Q||t in n)||Ir(n,t,r)}function xr(n,t,r){var e=n[t];
fl.call(n,t)&&Uf(e,r)&&(r!==Q||t in n)||Ir(n,t,r)}function jr(n,t){for(var r=n.length;r--;)if(Uf(n[r][0],t))return r;return-1}function Ar(n,t,r,e){return is(n,function(n,u,i){t(e,n,r(n),i)}),e}function kr(n,t){return n&&zu(t,Wc(t),n)}function Or(n,t){return n&&zu(t,Cc(t),n)}function Ir(n,t,r){"__proto__"==t&&kl?kl(n,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):n[t]=r}function zr(n,t){for(var r=-1,e=t.length,u=Va(e),i=null==n;++r<e;)u[r]=i?Q:Ec(n,t[r]);return u}function Sr(n,t,r){return n===n&&(r!==Q&&(n=n<=r?n:r),
t!==Q&&(n=n>=t?n:t)),n}function Wr(n,t,e,u,i,o){var f,c=t&fn,a=t&cn,l=t&an;if(e&&(f=i?e(n,u,i,o):e(n)),f!==Q)return f;if(!Jf(n))return n;var s=fh(n);if(s){if(f=di(n),!c)return Iu(n,f)}else{var h=ys(n),p=h==qn||h==Zn;if(ah(n))return yu(n,c);if(h==Hn||h==Un||p&&!i){if(f=a||p?{}:bi(n),!c)return a?Ru(n,Or(f,n)):Eu(n,kr(f,n))}else{if(!Ur[h])return i?n:{};f=wi(n,h,c)}}o||(o=new sr);var v=o.get(n);if(v)return v;o.set(n,f),ph(n)?n.forEach(function(r){f.add(Wr(r,t,e,r,n,o))}):sh(n)&&n.forEach(function(r,u){
f.set(u,Wr(r,t,e,u,n,o))});var _=l?a?fi:oi:a?Cc:Wc,g=s?Q:_(n);return r(g||n,function(r,u){g&&(u=r,r=n[u]),xr(f,u,Wr(r,t,e,u,n,o))}),f}function Cr(n){var t=Wc(n);return function(r){return Lr(r,n,t)}}function Lr(n,t,r){var e=r.length;if(null==n)return!e;for(n=Qa(n);e--;){var u=r[e],i=t[u],o=n[u];if(o===Q&&!(u in n)||!i(o))return!1}return!0}function Dr(n,t,r){if("function"!=typeof n)throw new tl(rn);return ws(function(){n.apply(Q,r)},t)}function $r(n,t,r,e){var u=-1,i=o,a=!0,l=n.length,s=[],h=t.length;
if(!l)return s;r&&(t=c(t,E(r))),e?(i=f,a=!1):t.length>=nn&&(i=S,a=!1,t=new cr(t));n:for(;++u<l;){var p=n[u],v=null==r?p:r(p);if(p=e||0!==p?p:0,a&&v===v){for(var _=h;_--;)if(t[_]===v)continue n;s.push(p)}else i(t,v,e)||s.push(p)}return s}function Mr(n,t){var r=!0;return is(n,function(n,e,u){return r=!!t(n,e,u)}),r}function Pr(n,t,r){for(var e=-1,u=n.length;++e<u;){var i=n[e],o=t(i);if(null!=o&&(f===Q?o===o&&!cc(o):r(o,f)))var f=o,c=i}return c}function qr(n,t,r,e){var u=n.length;for(r=vc(r),r<0&&(r=-r>u?0:u+r),
e=e===Q||e>u?u:vc(e),e<0&&(e+=u),e=r>e?0:_c(e);r<e;)n[r++]=t;return n}function Kr(n,t){var r=[];return is(n,function(n,e,u){t(n,e,u)&&r.push(n)}),r}function Vr(n,t,r,e,u){var i=-1,o=n.length;for(r||(r=xi),u||(u=[]);++i<o;){var f=n[i];t>0&&r(f)?t>1?Vr(f,t-1,r,e,u):a(u,f):e||(u[u.length]=f)}return u}function Hr(n,t){return n&&fs(n,t,Wc)}function Jr(n,t){return n&&cs(n,t,Wc)}function ee(n,t){return i(t,function(t){return Vf(n[t])})}function fe(n,t){t=_u(t,n);for(var r=0,e=t.length;null!=n&&r<e;)n=n[Pi(t[r++])];
return r&&r==e?n:Q}function ae(n,t,r){var e=t(n);return fh(n)?e:a(e,r(n))}function le(n){return null==n?n===Q?rt:Gn:Al&&Al in Qa(n)?vi(n):Bi(n)}function se(n,t){return n>t}function he(n,t){return null!=n&&fl.call(n,t)}function pe(n,t){return null!=n&&t in Qa(n)}function ve(n,t,r){return n>=Ul(t,r)&&n<Tl(t,r)}function _e(n,t,r){for(var e=r?f:o,u=n[0].length,i=n.length,a=i,l=Va(i),s=1/0,h=[];a--;){var p=n[a];a&&t&&(p=c(p,E(t))),s=Ul(p.length,s),l[a]=!r&&(t||u>=120&&p.length>=120)?new cr(a&&p):Q}p=n[0];
var v=-1,_=l[0];n:for(;++v<u&&h.length<s;){var g=p[v],y=t?t(g):g;if(g=r||0!==g?g:0,!(_?S(_,y):e(h,y,r))){for(a=i;--a;){var d=l[a];if(!(d?S(d,y):e(n[a],y,r)))continue n}_&&_.push(y),h.push(g)}}return h}function ge(n,t,r,e){return Hr(n,function(n,u,i){t(e,r(n),u,i)}),e}function ye(t,r,e){r=_u(r,t),t=Ui(t,r);var u=null==t?t:t[Pi(so(r))];return null==u?Q:n(u,t,e)}function de(n){return Yf(n)&&le(n)==Un}function be(n){return Yf(n)&&le(n)==it}function we(n){return Yf(n)&&le(n)==Fn}function me(n,t,r,e,u){
return n===t||(null==n||null==t||!Yf(n)&&!Yf(t)?n!==n&&t!==t:xe(n,t,r,e,me,u))}function xe(n,t,r,e,u,i){var o=fh(n),f=fh(t),c=o?Dn:ys(n),a=f?Dn:ys(t);c=c==Un?Hn:c,a=a==Un?Hn:a;var l=c==Hn,s=a==Hn,h=c==a;if(h&&ah(n)){if(!ah(t))return!1;o=!0,l=!1}if(h&&!l)return i||(i=new sr),o||vh(n)?ri(n,t,r,e,u,i):ei(n,t,c,r,e,u,i);if(!(r&ln)){var p=l&&fl.call(n,"__wrapped__"),v=s&&fl.call(t,"__wrapped__");if(p||v){var _=p?n.value():n,g=v?t.value():t;return i||(i=new sr),u(_,g,r,e,i)}}return!!h&&(i||(i=new sr),ui(n,t,r,e,u,i));
}function je(n){return Yf(n)&&ys(n)==Kn}function Ae(n,t,r,e){var u=r.length,i=u,o=!e;if(null==n)return!i;for(n=Qa(n);u--;){var f=r[u];if(o&&f[2]?f[1]!==n[f[0]]:!(f[0]in n))return!1}for(;++u<i;){f=r[u];var c=f[0],a=n[c],l=f[1];if(o&&f[2]){if(a===Q&&!(c in n))return!1}else{var s=new sr;if(e)var h=e(a,l,c,n,t,s);if(!(h===Q?me(l,a,ln|sn,e,s):h))return!1}}return!0}function ke(n){return!(!Jf(n)||zi(n))&&(Vf(n)?pl:Dt).test(qi(n))}function Oe(n){return Yf(n)&&le(n)==Qn}function Ie(n){return Yf(n)&&ys(n)==Xn;
}function ze(n){return Yf(n)&&Hf(n.length)&&!!Tr[le(n)]}function Ee(n){return"function"==typeof n?n:null==n?ma:"object"==typeof n?fh(n)?Be(n[0],n[1]):Le(n):Ea(n)}function Re(n){if(!Ei(n))return Bl(n);var t=[];for(var r in Qa(n))fl.call(n,r)&&"constructor"!=r&&t.push(r);return t}function Se(n){if(!Jf(n))return Li(n);var t=Ei(n),r=[];for(var e in n)("constructor"!=e||!t&&fl.call(n,e))&&r.push(e);return r}function We(n,t){return n<t}function Ce(n,t){var r=-1,e=Df(n)?Va(n.length):[];return is(n,function(n,u,i){
e[++r]=t(n,u,i)}),e}function Le(n){var t=hi(n);return 1==t.length&&t[0][2]?Si(t[0][0],t[0][1]):function(r){return r===n||Ae(r,n,t)}}function Be(n,t){return ki(n)&&Ri(t)?Si(Pi(n),t):function(r){var e=Ec(r,n);return e===Q&&e===t?Sc(r,n):me(t,e,ln|sn)}}function Te(n,t,r,e,u){n!==t&&fs(t,function(i,o){if(u||(u=new sr),Jf(i))Ue(n,t,o,r,Te,e,u);else{var f=e?e($i(n,o),i,o+"",n,t,u):Q;f===Q&&(f=i),mr(n,o,f)}},Cc)}function Ue(n,t,r,e,u,i,o){var f=$i(n,r),c=$i(t,r),a=o.get(c);if(a)return mr(n,r,a),Q;var l=i?i(f,c,r+"",n,t,o):Q,s=l===Q;
if(s){var h=fh(c),p=!h&&ah(c),v=!h&&!p&&vh(c);l=c,h||p||v?fh(f)?l=f:$f(f)?l=Iu(f):p?(s=!1,l=yu(c,!0)):v?(s=!1,l=xu(c,!0)):l=[]:ic(c)||oh(c)?(l=f,oh(f)?l=yc(f):Jf(f)&&!Vf(f)||(l=bi(c))):s=!1}s&&(o.set(c,l),u(l,c,e,i,o),o.delete(c)),mr(n,r,l)}function De(n,t){var r=n.length;if(r)return t+=t<0?r:0,ji(t,r)?n[t]:Q}function $e(n,t,r){t=t.length?c(t,function(n){return fh(n)?function(t){return fe(t,1===n.length?n[0]:n)}:n}):[ma];var e=-1;return t=c(t,E(li())),A(Ce(n,function(n,r,u){return{criteria:c(t,function(t){
return t(n)}),index:++e,value:n}}),function(n,t){return Au(n,t,r)})}function Me(n,t){return Fe(n,t,function(t,r){return Sc(n,r)})}function Fe(n,t,r){for(var e=-1,u=t.length,i={};++e<u;){var o=t[e],f=fe(n,o);r(f,o)&&Ye(i,_u(o,n),f)}return i}function Ne(n){return function(t){return fe(t,n)}}function Pe(n,t,r,e){var u=e?d:y,i=-1,o=t.length,f=n;for(n===t&&(t=Iu(t)),r&&(f=c(n,E(r)));++i<o;)for(var a=0,l=t[i],s=r?r(l):l;(a=u(f,s,a,e))>-1;)f!==n&&ml.call(f,a,1),ml.call(n,a,1);return n}function qe(n,t){for(var r=n?t.length:0,e=r-1;r--;){
var u=t[r];if(r==e||u!==i){var i=u;ji(u)?ml.call(n,u,1):fu(n,u)}}return n}function Ze(n,t){return n+Rl(Ml()*(t-n+1))}function Ke(n,t,r,e){for(var u=-1,i=Tl(El((t-n)/(r||1)),0),o=Va(i);i--;)o[e?i:++u]=n,n+=r;return o}function Ve(n,t){var r="";if(!n||t<1||t>Rn)return r;do t%2&&(r+=n),t=Rl(t/2),t&&(n+=n);while(t);return r}function Ge(n,t){return ms(Ti(n,t,ma),n+"")}function He(n){return dr(Zc(n))}function Je(n,t){var r=Zc(n);return Ni(r,Sr(t,0,r.length))}function Ye(n,t,r,e){if(!Jf(n))return n;t=_u(t,n);
for(var u=-1,i=t.length,o=i-1,f=n;null!=f&&++u<i;){var c=Pi(t[u]),a=r;if("__proto__"===c||"constructor"===c||"prototype"===c)return n;if(u!=o){var l=f[c];a=e?e(l,c,f):Q,a===Q&&(a=Jf(l)?l:ji(t[u+1])?[]:{})}xr(f,c,a),f=f[c]}return n}function Qe(n){return Ni(Zc(n))}function Xe(n,t,r){var e=-1,u=n.length;t<0&&(t=-t>u?0:u+t),r=r>u?u:r,r<0&&(r+=u),u=t>r?0:r-t>>>0,t>>>=0;for(var i=Va(u);++e<u;)i[e]=n[e+t];return i}function nu(n,t){var r;return is(n,function(n,e,u){return r=t(n,e,u),!r}),!!r}function tu(n,t,r){
var e=0,u=null==n?e:n.length;if("number"==typeof t&&t===t&&u<=Bn){for(;e<u;){var i=e+u>>>1,o=n[i];null!==o&&!cc(o)&&(r?o<=t:o<t)?e=i+1:u=i}return u}return ru(n,t,ma,r)}function ru(n,t,r,e){var u=0,i=null==n?0:n.length;if(0===i)return 0;t=r(t);for(var o=t!==t,f=null===t,c=cc(t),a=t===Q;u<i;){var l=Rl((u+i)/2),s=r(n[l]),h=s!==Q,p=null===s,v=s===s,_=cc(s);if(o)var g=e||v;else g=a?v&&(e||h):f?v&&h&&(e||!p):c?v&&h&&!p&&(e||!_):!p&&!_&&(e?s<=t:s<t);g?u=l+1:i=l}return Ul(i,Ln)}function eu(n,t){for(var r=-1,e=n.length,u=0,i=[];++r<e;){
var o=n[r],f=t?t(o):o;if(!r||!Uf(f,c)){var c=f;i[u++]=0===o?0:o}}return i}function uu(n){return"number"==typeof n?n:cc(n)?Wn:+n}function iu(n){if("string"==typeof n)return n;if(fh(n))return c(n,iu)+"";if(cc(n))return es?es.call(n):"";var t=n+"";return"0"==t&&1/n==-En?"-0":t}function ou(n,t,r){var e=-1,u=o,i=n.length,c=!0,a=[],l=a;if(r)c=!1,u=f;else if(i>=nn){var s=t?null:ps(n);if(s)return N(s);c=!1,u=S,l=new cr}else l=t?[]:a;n:for(;++e<i;){var h=n[e],p=t?t(h):h;if(h=r||0!==h?h:0,c&&p===p){for(var v=l.length;v--;)if(l[v]===p)continue n;
t&&l.push(p),a.push(h)}else u(l,p,r)||(l!==a&&l.push(p),a.push(h))}return a}function fu(n,t){return t=_u(t,n),n=Ui(n,t),null==n||delete n[Pi(so(t))]}function cu(n,t,r,e){return Ye(n,t,r(fe(n,t)),e)}function au(n,t,r,e){for(var u=n.length,i=e?u:-1;(e?i--:++i<u)&&t(n[i],i,n););return r?Xe(n,e?0:i,e?i+1:u):Xe(n,e?i+1:0,e?u:i)}function lu(n,t){var r=n;return r instanceof Et&&(r=r.value()),l(t,function(n,t){return t.func.apply(t.thisArg,a([n],t.args))},r)}function su(n,t,r){var e=n.length;if(e<2)return e?ou(n[0]):[];
for(var u=-1,i=Va(e);++u<e;)for(var o=n[u],f=-1;++f<e;)f!=u&&(i[u]=$r(i[u]||o,n[f],t,r));return ou(Vr(i,1),t,r)}function hu(n,t,r){for(var e=-1,u=n.length,i=t.length,o={};++e<u;){r(o,n[e],e<i?t[e]:Q)}return o}function pu(n){return $f(n)?n:[]}function vu(n){return"function"==typeof n?n:ma}function _u(n,t){return fh(n)?n:ki(n,t)?[n]:xs(bc(n))}function gu(n,t,r){var e=n.length;return r=r===Q?e:r,!t&&r>=e?n:Xe(n,t,r)}function yu(n,t){if(t)return n.slice();var r=n.length,e=yl?yl(r):new n.constructor(r);
return n.copy(e),e}function du(n){var t=new n.constructor(n.byteLength);return new gl(t).set(new gl(n)),t}function bu(n,t){return new n.constructor(t?du(n.buffer):n.buffer,n.byteOffset,n.byteLength)}function wu(n){var t=new n.constructor(n.source,Bt.exec(n));return t.lastIndex=n.lastIndex,t}function mu(n){return rs?Qa(rs.call(n)):{}}function xu(n,t){return new n.constructor(t?du(n.buffer):n.buffer,n.byteOffset,n.length)}function ju(n,t){if(n!==t){var r=n!==Q,e=null===n,u=n===n,i=cc(n),o=t!==Q,f=null===t,c=t===t,a=cc(t);
if(!f&&!a&&!i&&n>t||i&&o&&c&&!f&&!a||e&&o&&c||!r&&c||!u)return 1;if(!e&&!i&&!a&&n<t||a&&r&&u&&!e&&!i||f&&r&&u||!o&&u||!c)return-1}return 0}function Au(n,t,r){for(var e=-1,u=n.criteria,i=t.criteria,o=u.length,f=r.length;++e<o;){var c=ju(u[e],i[e]);if(c){if(e>=f)return c;return c*("desc"==r[e]?-1:1)}}return n.index-t.index}function ku(n,t,r,e){for(var u=-1,i=n.length,o=r.length,f=-1,c=t.length,a=Tl(i-o,0),l=Va(c+a),s=!e;++f<c;)l[f]=t[f];for(;++u<o;)(s||u<i)&&(l[r[u]]=n[u]);for(;a--;)l[f++]=n[u++];return l;
}function Ou(n,t,r,e){for(var u=-1,i=n.length,o=-1,f=r.length,c=-1,a=t.length,l=Tl(i-f,0),s=Va(l+a),h=!e;++u<l;)s[u]=n[u];for(var p=u;++c<a;)s[p+c]=t[c];for(;++o<f;)(h||u<i)&&(s[p+r[o]]=n[u++]);return s}function Iu(n,t){var r=-1,e=n.length;for(t||(t=Va(e));++r<e;)t[r]=n[r];return t}function zu(n,t,r,e){var u=!r;r||(r={});for(var i=-1,o=t.length;++i<o;){var f=t[i],c=e?e(r[f],n[f],f,r,n):Q;c===Q&&(c=n[f]),u?Ir(r,f,c):xr(r,f,c)}return r}function Eu(n,t){return zu(n,_s(n),t)}function Ru(n,t){return zu(n,gs(n),t);
}function Su(n,r){return function(e,u){var i=fh(e)?t:Ar,o=r?r():{};return i(e,n,li(u,2),o)}}function Wu(n){return Ge(function(t,r){var e=-1,u=r.length,i=u>1?r[u-1]:Q,o=u>2?r[2]:Q;for(i=n.length>3&&"function"==typeof i?(u--,i):Q,o&&Ai(r[0],r[1],o)&&(i=u<3?Q:i,u=1),t=Qa(t);++e<u;){var f=r[e];f&&n(t,f,e,i)}return t})}function Cu(n,t){return function(r,e){if(null==r)return r;if(!Df(r))return n(r,e);for(var u=r.length,i=t?u:-1,o=Qa(r);(t?i--:++i<u)&&e(o[i],i,o)!==!1;);return r}}function Lu(n){return function(t,r,e){
for(var u=-1,i=Qa(t),o=e(t),f=o.length;f--;){var c=o[n?f:++u];if(r(i[c],c,i)===!1)break}return t}}function Bu(n,t,r){function e(){return(this&&this!==Zr&&this instanceof e?i:n).apply(u?r:this,arguments)}var u=t&hn,i=Du(n);return e}function Tu(n){return function(t){t=bc(t);var r=T(t)?V(t):Q,e=r?r[0]:t.charAt(0),u=r?gu(r,1).join(""):t.slice(1);return e[n]()+u}}function Uu(n){return function(t){return l(ga(Yc(t).replace(Er,"")),n,"")}}function Du(n){return function(){var t=arguments;switch(t.length){
case 0:return new n;case 1:return new n(t[0]);case 2:return new n(t[0],t[1]);case 3:return new n(t[0],t[1],t[2]);case 4:return new n(t[0],t[1],t[2],t[3]);case 5:return new n(t[0],t[1],t[2],t[3],t[4]);case 6:return new n(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new n(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=us(n.prototype),e=n.apply(r,t);return Jf(e)?e:r}}function $u(t,r,e){function u(){for(var o=arguments.length,f=Va(o),c=o,a=ai(u);c--;)f[c]=arguments[c];var l=o<3&&f[0]!==a&&f[o-1]!==a?[]:F(f,a);
return o-=l.length,o<e?Ju(t,r,Nu,u.placeholder,Q,f,l,Q,Q,e-o):n(this&&this!==Zr&&this instanceof u?i:t,this,f)}var i=Du(t);return u}function Mu(n){return function(t,r,e){var u=Qa(t);if(!Df(t)){var i=li(r,3);t=Wc(t),r=function(n){return i(u[n],n,u)}}var o=n(t,r,e);return o>-1?u[i?t[o]:o]:Q}}function Fu(n){return ii(function(t){var r=t.length,e=r,u=J.prototype.thru;for(n&&t.reverse();e--;){var i=t[e];if("function"!=typeof i)throw new tl(rn);if(u&&!o&&"wrapper"==ci(i))var o=new J([],!0)}for(e=o?e:r;++e<r;){
i=t[e];var f=ci(i),c="wrapper"==f?vs(i):Q;o=c&&Ii(c[0])&&c[1]==(bn|_n|yn|wn)&&!c[4].length&&1==c[9]?o[ci(c[0])].apply(o,c[3]):1==i.length&&Ii(i)?o[f]():o.thru(i)}return function(){var n=arguments,e=n[0];if(o&&1==n.length&&fh(e))return o.plant(e).value();for(var u=0,i=r?t[u].apply(this,n):e;++u<r;)i=t[u].call(this,i);return i}})}function Nu(n,t,r,e,u,i,o,f,c,a){function l(){for(var y=arguments.length,d=Va(y),b=y;b--;)d[b]=arguments[b];if(v)var w=ai(l),m=L(d,w);if(e&&(d=ku(d,e,u,v)),i&&(d=Ou(d,i,o,v)),
y-=m,v&&y<a){return Ju(n,t,Nu,l.placeholder,r,d,F(d,w),f,c,a-y)}var x=h?r:this,j=p?x[n]:n;return y=d.length,f?d=Di(d,f):_&&y>1&&d.reverse(),s&&c<y&&(d.length=c),this&&this!==Zr&&this instanceof l&&(j=g||Du(j)),j.apply(x,d)}var s=t&bn,h=t&hn,p=t&pn,v=t&(_n|gn),_=t&mn,g=p?Q:Du(n);return l}function Pu(n,t){return function(r,e){return ge(r,n,t(e),{})}}function qu(n,t){return function(r,e){var u;if(r===Q&&e===Q)return t;if(r!==Q&&(u=r),e!==Q){if(u===Q)return e;"string"==typeof r||"string"==typeof e?(r=iu(r),
e=iu(e)):(r=uu(r),e=uu(e)),u=n(r,e)}return u}}function Zu(t){return ii(function(r){return r=c(r,E(li())),Ge(function(e){var u=this;return t(r,function(t){return n(t,u,e)})})})}function Ku(n,t){t=t===Q?" ":iu(t);var r=t.length;if(r<2)return r?Ve(t,n):t;var e=Ve(t,El(n/K(t)));return T(t)?gu(V(e),0,n).join(""):e.slice(0,n)}function Vu(t,r,e,u){function i(){for(var r=-1,c=arguments.length,a=-1,l=u.length,s=Va(l+c),h=this&&this!==Zr&&this instanceof i?f:t;++a<l;)s[a]=u[a];for(;c--;)s[a++]=arguments[++r];
return n(h,o?e:this,s)}var o=r&hn,f=Du(t);return i}function Gu(n){return function(t,r,e){return e&&"number"!=typeof e&&Ai(t,r,e)&&(r=e=Q),t=pc(t),r===Q?(r=t,t=0):r=pc(r),e=e===Q?t<r?1:-1:pc(e),Ke(t,r,e,n)}}function Hu(n){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=gc(t),r=gc(r)),n(t,r)}}function Ju(n,t,r,e,u,i,o,f,c,a){var l=t&_n,s=l?o:Q,h=l?Q:o,p=l?i:Q,v=l?Q:i;t|=l?yn:dn,t&=~(l?dn:yn),t&vn||(t&=~(hn|pn));var _=[n,t,u,p,s,v,h,f,c,a],g=r.apply(Q,_);return Ii(n)&&bs(g,_),g.placeholder=e,
Mi(g,n,t)}function Yu(n){var t=Ya[n];return function(n,r){if(n=gc(n),r=null==r?0:Ul(vc(r),292),r&&Cl(n)){var e=(bc(n)+"e").split("e");return e=(bc(t(e[0]+"e"+(+e[1]+r)))+"e").split("e"),+(e[0]+"e"+(+e[1]-r))}return t(n)}}function Qu(n){return function(t){var r=ys(t);return r==Kn?$(t):r==Xn?P(t):I(t,n(t))}}function Xu(n,t,r,e,u,i,o,f){var c=t&pn;if(!c&&"function"!=typeof n)throw new tl(rn);var a=e?e.length:0;if(a||(t&=~(yn|dn),e=u=Q),o=o===Q?o:Tl(vc(o),0),f=f===Q?f:vc(f),a-=u?u.length:0,t&dn){var l=e,s=u;
e=u=Q}var h=c?Q:vs(n),p=[n,t,r,e,u,l,s,i,o,f];if(h&&Ci(p,h),n=p[0],t=p[1],r=p[2],e=p[3],u=p[4],f=p[9]=p[9]===Q?c?0:n.length:Tl(p[9]-a,0),!f&&t&(_n|gn)&&(t&=~(_n|gn)),t&&t!=hn)v=t==_n||t==gn?$u(n,t,f):t!=yn&&t!=(hn|yn)||u.length?Nu.apply(Q,p):Vu(n,t,r,e);else var v=Bu(n,t,r);return Mi((h?as:bs)(v,p),n,t)}function ni(n,t,r,e,u,i){return Jf(n)&&Jf(t)&&(i.set(t,n),Te(n,t,Q,ni,i),i.delete(t)),n}function ti(n){return ic(n)?Q:n}function ri(n,t,r,e,u,i){var o=r&ln,f=n.length,c=t.length;if(f!=c&&!(o&&c>f))return!1;
var a=i.get(n),l=i.get(t);if(a&&l)return a==t&&l==n;var s=-1,p=!0,v=r&sn?new cr:Q;for(i.set(n,t),i.set(t,n);++s<f;){var _=n[s],g=t[s];if(e)var y=o?e(g,_,s,t,n,i):e(_,g,s,n,t,i);if(y!==Q){if(y)continue;p=!1;break}if(v){if(!h(t,function(n,t){if(!S(v,t)&&(_===n||u(_,n,r,e,i)))return v.push(t)})){p=!1;break}}else if(_!==g&&!u(_,g,r,e,i)){p=!1;break}}return i.delete(n),i.delete(t),p}function ei(n,t,r,e,u,i,o){switch(r){case ot:if(n.byteLength!=t.byteLength||n.byteOffset!=t.byteOffset)return!1;n=n.buffer,
t=t.buffer;case it:return!(n.byteLength!=t.byteLength||!i(new gl(n),new gl(t)));case Mn:case Fn:case Vn:return Uf(+n,+t);case Pn:return n.name==t.name&&n.message==t.message;case Qn:case nt:return n==t+"";case Kn:var f=$;case Xn:var c=e&ln;if(f||(f=N),n.size!=t.size&&!c)return!1;var a=o.get(n);if(a)return a==t;e|=sn,o.set(n,t);var l=ri(f(n),f(t),e,u,i,o);return o.delete(n),l;case tt:if(rs)return rs.call(n)==rs.call(t)}return!1}function ui(n,t,r,e,u,i){var o=r&ln,f=oi(n),c=f.length;if(c!=oi(t).length&&!o)return!1;
for(var a=c;a--;){var l=f[a];if(!(o?l in t:fl.call(t,l)))return!1}var s=i.get(n),h=i.get(t);if(s&&h)return s==t&&h==n;var p=!0;i.set(n,t),i.set(t,n);for(var v=o;++a<c;){l=f[a];var _=n[l],g=t[l];if(e)var y=o?e(g,_,l,t,n,i):e(_,g,l,n,t,i);if(!(y===Q?_===g||u(_,g,r,e,i):y)){p=!1;break}v||(v="constructor"==l)}if(p&&!v){var d=n.constructor,b=t.constructor;d!=b&&"constructor"in n&&"constructor"in t&&!("function"==typeof d&&d instanceof d&&"function"==typeof b&&b instanceof b)&&(p=!1)}return i.delete(n),
i.delete(t),p}function ii(n){return ms(Ti(n,Q,eo),n+"")}function oi(n){return ae(n,Wc,_s)}function fi(n){return ae(n,Cc,gs)}function ci(n){for(var t=n.name+"",r=Hl[t],e=fl.call(Hl,t)?r.length:0;e--;){var u=r[e],i=u.func;if(null==i||i==n)return u.name}return t}function ai(n){return(fl.call(q,"placeholder")?q:n).placeholder}function li(){var n=q.iteratee||xa;return n=n===xa?Ee:n,arguments.length?n(arguments[0],arguments[1]):n}function si(n,t){var r=n.__data__;return Oi(t)?r["string"==typeof t?"string":"hash"]:r.map;
}function hi(n){for(var t=Wc(n),r=t.length;r--;){var e=t[r],u=n[e];t[r]=[e,u,Ri(u)]}return t}function pi(n,t){var r=B(n,t);return ke(r)?r:Q}function vi(n){var t=fl.call(n,Al),r=n[Al];try{n[Al]=Q;var e=!0}catch(n){}var u=ll.call(n);return e&&(t?n[Al]=r:delete n[Al]),u}function _i(n,t,r){for(var e=-1,u=r.length;++e<u;){var i=r[e],o=i.size;switch(i.type){case"drop":n+=o;break;case"dropRight":t-=o;break;case"take":t=Ul(t,n+o);break;case"takeRight":n=Tl(n,t-o)}}return{start:n,end:t}}function gi(n){var t=n.match(St);
return t?t[1].split(Wt):[]}function yi(n,t,r){t=_u(t,n);for(var e=-1,u=t.length,i=!1;++e<u;){var o=Pi(t[e]);if(!(i=null!=n&&r(n,o)))break;n=n[o]}return i||++e!=u?i:(u=null==n?0:n.length,!!u&&Hf(u)&&ji(o,u)&&(fh(n)||oh(n)))}function di(n){var t=n.length,r=new n.constructor(t);return t&&"string"==typeof n[0]&&fl.call(n,"index")&&(r.index=n.index,r.input=n.input),r}function bi(n){return"function"!=typeof n.constructor||Ei(n)?{}:us(dl(n))}function wi(n,t,r){var e=n.constructor;switch(t){case it:return du(n);
case Mn:case Fn:return new e(+n);case ot:return bu(n,r);case ft:case ct:case at:case lt:case st:case ht:case pt:case vt:case _t:return xu(n,r);case Kn:return new e;case Vn:case nt:return new e(n);case Qn:return wu(n);case Xn:return new e;case tt:return mu(n)}}function mi(n,t){var r=t.length;if(!r)return n;var e=r-1;return t[e]=(r>1?"& ":"")+t[e],t=t.join(r>2?", ":" "),n.replace(Rt,"{\n/* [wrapped with "+t+"] */\n")}function xi(n){return fh(n)||oh(n)||!!(xl&&n&&n[xl])}function ji(n,t){var r=typeof n;
return t=null==t?Rn:t,!!t&&("number"==r||"symbol"!=r&&Mt.test(n))&&n>-1&&n%1==0&&n<t}function Ai(n,t,r){if(!Jf(r))return!1;var e=typeof t;return!!("number"==e?Df(r)&&ji(t,r.length):"string"==e&&t in r)&&Uf(r[t],n)}function ki(n,t){if(fh(n))return!1;var r=typeof n;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=n&&!cc(n))||(At.test(n)||!jt.test(n)||null!=t&&n in Qa(t))}function Oi(n){var t=typeof n;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==n:null===n}function Ii(n){
var t=ci(n),r=q[t];if("function"!=typeof r||!(t in Et.prototype))return!1;if(n===r)return!0;var e=vs(r);return!!e&&n===e[0]}function zi(n){return!!al&&al in n}function Ei(n){var t=n&&n.constructor;return n===("function"==typeof t&&t.prototype||ul)}function Ri(n){return n===n&&!Jf(n)}function Si(n,t){return function(r){return null!=r&&(r[n]===t&&(t!==Q||n in Qa(r)))}}function Wi(n){var t=jf(n,function(n){return r.size===un&&r.clear(),n}),r=t.cache;return t}function Ci(n,t){var r=n[1],e=t[1],u=r|e,i=u<(hn|pn|bn),o=e==bn&&r==_n||e==bn&&r==wn&&n[7].length<=t[8]||e==(bn|wn)&&t[7].length<=t[8]&&r==_n;
if(!i&&!o)return n;e&hn&&(n[2]=t[2],u|=r&hn?0:vn);var f=t[3];if(f){var c=n[3];n[3]=c?ku(c,f,t[4]):f,n[4]=c?F(n[3],on):t[4]}return f=t[5],f&&(c=n[5],n[5]=c?Ou(c,f,t[6]):f,n[6]=c?F(n[5],on):t[6]),f=t[7],f&&(n[7]=f),e&bn&&(n[8]=null==n[8]?t[8]:Ul(n[8],t[8])),null==n[9]&&(n[9]=t[9]),n[0]=t[0],n[1]=u,n}function Li(n){var t=[];if(null!=n)for(var r in Qa(n))t.push(r);return t}function Bi(n){return ll.call(n)}function Ti(t,r,e){return r=Tl(r===Q?t.length-1:r,0),function(){for(var u=arguments,i=-1,o=Tl(u.length-r,0),f=Va(o);++i<o;)f[i]=u[r+i];
i=-1;for(var c=Va(r+1);++i<r;)c[i]=u[i];return c[r]=e(f),n(t,this,c)}}function Ui(n,t){return t.length<2?n:fe(n,Xe(t,0,-1))}function Di(n,t){for(var r=n.length,e=Ul(t.length,r),u=Iu(n);e--;){var i=t[e];n[e]=ji(i,r)?u[i]:Q}return n}function $i(n,t){if(("constructor"!==t||"function"!=typeof n[t])&&"__proto__"!=t)return n[t]}function Mi(n,t,r){var e=t+"";return ms(n,mi(e,Zi(gi(e),r)))}function Fi(n){var t=0,r=0;return function(){var e=Dl(),u=kn-(e-r);if(r=e,u>0){if(++t>=An)return arguments[0]}else t=0;
return n.apply(Q,arguments)}}function Ni(n,t){var r=-1,e=n.length,u=e-1;for(t=t===Q?e:t;++r<t;){var i=Ze(r,u),o=n[i];n[i]=n[r],n[r]=o}return n.length=t,n}function Pi(n){if("string"==typeof n||cc(n))return n;var t=n+"";return"0"==t&&1/n==-En?"-0":t}function qi(n){if(null!=n){try{return ol.call(n)}catch(n){}try{return n+""}catch(n){}}return""}function Zi(n,t){return r(Tn,function(r){var e="_."+r[0];t&r[1]&&!o(n,e)&&n.push(e)}),n.sort()}function Ki(n){if(n instanceof Et)return n.clone();var t=new J(n.__wrapped__,n.__chain__);
return t.__actions__=Iu(n.__actions__),t.__index__=n.__index__,t.__values__=n.__values__,t}function Vi(n,t,r){t=(r?Ai(n,t,r):t===Q)?1:Tl(vc(t),0);var e=null==n?0:n.length;if(!e||t<1)return[];for(var u=0,i=0,o=Va(El(e/t));u<e;)o[i++]=Xe(n,u,u+=t);return o}function Gi(n){for(var t=-1,r=null==n?0:n.length,e=0,u=[];++t<r;){var i=n[t];i&&(u[e++]=i)}return u}function Hi(){var n=arguments.length;if(!n)return[];for(var t=Va(n-1),r=arguments[0],e=n;e--;)t[e-1]=arguments[e];return a(fh(r)?Iu(r):[r],Vr(t,1));
}function Ji(n,t,r){var e=null==n?0:n.length;return e?(t=r||t===Q?1:vc(t),Xe(n,t<0?0:t,e)):[]}function Yi(n,t,r){var e=null==n?0:n.length;return e?(t=r||t===Q?1:vc(t),t=e-t,Xe(n,0,t<0?0:t)):[]}function Qi(n,t){return n&&n.length?au(n,li(t,3),!0,!0):[]}function Xi(n,t){return n&&n.length?au(n,li(t,3),!0):[]}function no(n,t,r,e){var u=null==n?0:n.length;return u?(r&&"number"!=typeof r&&Ai(n,t,r)&&(r=0,e=u),qr(n,t,r,e)):[]}function to(n,t,r){var e=null==n?0:n.length;if(!e)return-1;var u=null==r?0:vc(r);
return u<0&&(u=Tl(e+u,0)),g(n,li(t,3),u)}function ro(n,t,r){var e=null==n?0:n.length;if(!e)return-1;var u=e-1;return r!==Q&&(u=vc(r),u=r<0?Tl(e+u,0):Ul(u,e-1)),g(n,li(t,3),u,!0)}function eo(n){return(null==n?0:n.length)?Vr(n,1):[]}function uo(n){return(null==n?0:n.length)?Vr(n,En):[]}function io(n,t){return(null==n?0:n.length)?(t=t===Q?1:vc(t),Vr(n,t)):[]}function oo(n){for(var t=-1,r=null==n?0:n.length,e={};++t<r;){var u=n[t];e[u[0]]=u[1]}return e}function fo(n){return n&&n.length?n[0]:Q}function co(n,t,r){
var e=null==n?0:n.length;if(!e)return-1;var u=null==r?0:vc(r);return u<0&&(u=Tl(e+u,0)),y(n,t,u)}function ao(n){return(null==n?0:n.length)?Xe(n,0,-1):[]}function lo(n,t){return null==n?"":Ll.call(n,t)}function so(n){var t=null==n?0:n.length;return t?n[t-1]:Q}function ho(n,t,r){var e=null==n?0:n.length;if(!e)return-1;var u=e;return r!==Q&&(u=vc(r),u=u<0?Tl(e+u,0):Ul(u,e-1)),t===t?Z(n,t,u):g(n,b,u,!0)}function po(n,t){return n&&n.length?De(n,vc(t)):Q}function vo(n,t){return n&&n.length&&t&&t.length?Pe(n,t):n;
}function _o(n,t,r){return n&&n.length&&t&&t.length?Pe(n,t,li(r,2)):n}function go(n,t,r){return n&&n.length&&t&&t.length?Pe(n,t,Q,r):n}function yo(n,t){var r=[];if(!n||!n.length)return r;var e=-1,u=[],i=n.length;for(t=li(t,3);++e<i;){var o=n[e];t(o,e,n)&&(r.push(o),u.push(e))}return qe(n,u),r}function bo(n){return null==n?n:Fl.call(n)}function wo(n,t,r){var e=null==n?0:n.length;return e?(r&&"number"!=typeof r&&Ai(n,t,r)?(t=0,r=e):(t=null==t?0:vc(t),r=r===Q?e:vc(r)),Xe(n,t,r)):[]}function mo(n,t){
return tu(n,t)}function xo(n,t,r){return ru(n,t,li(r,2))}function jo(n,t){var r=null==n?0:n.length;if(r){var e=tu(n,t);if(e<r&&Uf(n[e],t))return e}return-1}function Ao(n,t){return tu(n,t,!0)}function ko(n,t,r){return ru(n,t,li(r,2),!0)}function Oo(n,t){if(null==n?0:n.length){var r=tu(n,t,!0)-1;if(Uf(n[r],t))return r}return-1}function Io(n){return n&&n.length?eu(n):[]}function zo(n,t){return n&&n.length?eu(n,li(t,2)):[]}function Eo(n){var t=null==n?0:n.length;return t?Xe(n,1,t):[]}function Ro(n,t,r){
return n&&n.length?(t=r||t===Q?1:vc(t),Xe(n,0,t<0?0:t)):[]}function So(n,t,r){var e=null==n?0:n.length;return e?(t=r||t===Q?1:vc(t),t=e-t,Xe(n,t<0?0:t,e)):[]}function Wo(n,t){return n&&n.length?au(n,li(t,3),!1,!0):[]}function Co(n,t){return n&&n.length?au(n,li(t,3)):[]}function Lo(n){return n&&n.length?ou(n):[]}function Bo(n,t){return n&&n.length?ou(n,li(t,2)):[]}function To(n,t){return t="function"==typeof t?t:Q,n&&n.length?ou(n,Q,t):[]}function Uo(n){if(!n||!n.length)return[];var t=0;return n=i(n,function(n){
if($f(n))return t=Tl(n.length,t),!0}),O(t,function(t){return c(n,m(t))})}function Do(t,r){if(!t||!t.length)return[];var e=Uo(t);return null==r?e:c(e,function(t){return n(r,Q,t)})}function $o(n,t){return hu(n||[],t||[],xr)}function Mo(n,t){return hu(n||[],t||[],Ye)}function Fo(n){var t=q(n);return t.__chain__=!0,t}function No(n,t){return t(n),n}function Po(n,t){return t(n)}function qo(){return Fo(this)}function Zo(){return new J(this.value(),this.__chain__)}function Ko(){this.__values__===Q&&(this.__values__=hc(this.value()));
var n=this.__index__>=this.__values__.length;return{done:n,value:n?Q:this.__values__[this.__index__++]}}function Vo(){return this}function Go(n){for(var t,r=this;r instanceof H;){var e=Ki(r);e.__index__=0,e.__values__=Q,t?u.__wrapped__=e:t=e;var u=e;r=r.__wrapped__}return u.__wrapped__=n,t}function Ho(){var n=this.__wrapped__;if(n instanceof Et){var t=n;return this.__actions__.length&&(t=new Et(this)),t=t.reverse(),t.__actions__.push({func:Po,args:[bo],thisArg:Q}),new J(t,this.__chain__)}return this.thru(bo);
}function Jo(){return lu(this.__wrapped__,this.__actions__)}function Yo(n,t,r){var e=fh(n)?u:Mr;return r&&Ai(n,t,r)&&(t=Q),e(n,li(t,3))}function Qo(n,t){return(fh(n)?i:Kr)(n,li(t,3))}function Xo(n,t){return Vr(of(n,t),1)}function nf(n,t){return Vr(of(n,t),En)}function tf(n,t,r){return r=r===Q?1:vc(r),Vr(of(n,t),r)}function rf(n,t){return(fh(n)?r:is)(n,li(t,3))}function ef(n,t){return(fh(n)?e:os)(n,li(t,3))}function uf(n,t,r,e){n=Df(n)?n:Zc(n),r=r&&!e?vc(r):0;var u=n.length;return r<0&&(r=Tl(u+r,0)),
fc(n)?r<=u&&n.indexOf(t,r)>-1:!!u&&y(n,t,r)>-1}function of(n,t){return(fh(n)?c:Ce)(n,li(t,3))}function ff(n,t,r,e){return null==n?[]:(fh(t)||(t=null==t?[]:[t]),r=e?Q:r,fh(r)||(r=null==r?[]:[r]),$e(n,t,r))}function cf(n,t,r){var e=fh(n)?l:j,u=arguments.length<3;return e(n,li(t,4),r,u,is)}function af(n,t,r){var e=fh(n)?s:j,u=arguments.length<3;return e(n,li(t,4),r,u,os)}function lf(n,t){return(fh(n)?i:Kr)(n,Af(li(t,3)))}function sf(n){return(fh(n)?dr:He)(n)}function hf(n,t,r){return t=(r?Ai(n,t,r):t===Q)?1:vc(t),
(fh(n)?br:Je)(n,t)}function pf(n){return(fh(n)?wr:Qe)(n)}function vf(n){if(null==n)return 0;if(Df(n))return fc(n)?K(n):n.length;var t=ys(n);return t==Kn||t==Xn?n.size:Re(n).length}function _f(n,t,r){var e=fh(n)?h:nu;return r&&Ai(n,t,r)&&(t=Q),e(n,li(t,3))}function gf(n,t){if("function"!=typeof t)throw new tl(rn);return n=vc(n),function(){if(--n<1)return t.apply(this,arguments)}}function yf(n,t,r){return t=r?Q:t,t=n&&null==t?n.length:t,Xu(n,bn,Q,Q,Q,Q,t)}function df(n,t){var r;if("function"!=typeof t)throw new tl(rn);
return n=vc(n),function(){return--n>0&&(r=t.apply(this,arguments)),n<=1&&(t=Q),r}}function bf(n,t,r){t=r?Q:t;var e=Xu(n,_n,Q,Q,Q,Q,Q,t);return e.placeholder=bf.placeholder,e}function wf(n,t,r){t=r?Q:t;var e=Xu(n,gn,Q,Q,Q,Q,Q,t);return e.placeholder=wf.placeholder,e}function mf(n,t,r){function e(t){var r=h,e=p;return h=p=Q,d=t,_=n.apply(e,r)}function u(n){return d=n,g=ws(f,t),b?e(n):_}function i(n){var r=n-y,e=n-d,u=t-r;return w?Ul(u,v-e):u}function o(n){var r=n-y,e=n-d;return y===Q||r>=t||r<0||w&&e>=v;
}function f(){var n=Hs();return o(n)?c(n):(g=ws(f,i(n)),Q)}function c(n){return g=Q,m&&h?e(n):(h=p=Q,_)}function a(){g!==Q&&hs(g),d=0,h=y=p=g=Q}function l(){return g===Q?_:c(Hs())}function s(){var n=Hs(),r=o(n);if(h=arguments,p=this,y=n,r){if(g===Q)return u(y);if(w)return hs(g),g=ws(f,t),e(y)}return g===Q&&(g=ws(f,t)),_}var h,p,v,_,g,y,d=0,b=!1,w=!1,m=!0;if("function"!=typeof n)throw new tl(rn);return t=gc(t)||0,Jf(r)&&(b=!!r.leading,w="maxWait"in r,v=w?Tl(gc(r.maxWait)||0,t):v,m="trailing"in r?!!r.trailing:m),
s.cancel=a,s.flush=l,s}function xf(n){return Xu(n,mn)}function jf(n,t){if("function"!=typeof n||null!=t&&"function"!=typeof t)throw new tl(rn);var r=function(){var e=arguments,u=t?t.apply(this,e):e[0],i=r.cache;if(i.has(u))return i.get(u);var o=n.apply(this,e);return r.cache=i.set(u,o)||i,o};return r.cache=new(jf.Cache||rr),r}function Af(n){if("function"!=typeof n)throw new tl(rn);return function(){var t=arguments;switch(t.length){case 0:return!n.call(this);case 1:return!n.call(this,t[0]);case 2:
return!n.call(this,t[0],t[1]);case 3:return!n.call(this,t[0],t[1],t[2])}return!n.apply(this,t)}}function kf(n){return df(2,n)}function Of(n,t){if("function"!=typeof n)throw new tl(rn);return t=t===Q?t:vc(t),Ge(n,t)}function If(t,r){if("function"!=typeof t)throw new tl(rn);return r=null==r?0:Tl(vc(r),0),Ge(function(e){var u=e[r],i=gu(e,0,r);return u&&a(i,u),n(t,this,i)})}function zf(n,t,r){var e=!0,u=!0;if("function"!=typeof n)throw new tl(rn);return Jf(r)&&(e="leading"in r?!!r.leading:e,u="trailing"in r?!!r.trailing:u),
mf(n,t,{leading:e,maxWait:t,trailing:u})}function Ef(n){return yf(n,1)}function Rf(n,t){return th(vu(t),n)}function Sf(){if(!arguments.length)return[];var n=arguments[0];return fh(n)?n:[n]}function Wf(n){return Wr(n,an)}function Cf(n,t){return t="function"==typeof t?t:Q,Wr(n,an,t)}function Lf(n){return Wr(n,fn|an)}function Bf(n,t){return t="function"==typeof t?t:Q,Wr(n,fn|an,t)}function Tf(n,t){return null==t||Lr(n,t,Wc(t))}function Uf(n,t){return n===t||n!==n&&t!==t}function Df(n){return null!=n&&Hf(n.length)&&!Vf(n);
}function $f(n){return Yf(n)&&Df(n)}function Mf(n){return n===!0||n===!1||Yf(n)&&le(n)==Mn}function Ff(n){return Yf(n)&&1===n.nodeType&&!ic(n)}function Nf(n){if(null==n)return!0;if(Df(n)&&(fh(n)||"string"==typeof n||"function"==typeof n.splice||ah(n)||vh(n)||oh(n)))return!n.length;var t=ys(n);if(t==Kn||t==Xn)return!n.size;if(Ei(n))return!Re(n).length;for(var r in n)if(fl.call(n,r))return!1;return!0}function Pf(n,t){return me(n,t)}function qf(n,t,r){r="function"==typeof r?r:Q;var e=r?r(n,t):Q;return e===Q?me(n,t,Q,r):!!e;
}function Zf(n){if(!Yf(n))return!1;var t=le(n);return t==Pn||t==Nn||"string"==typeof n.message&&"string"==typeof n.name&&!ic(n)}function Kf(n){return"number"==typeof n&&Cl(n)}function Vf(n){if(!Jf(n))return!1;var t=le(n);return t==qn||t==Zn||t==$n||t==Yn}function Gf(n){return"number"==typeof n&&n==vc(n)}function Hf(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=Rn}function Jf(n){var t=typeof n;return null!=n&&("object"==t||"function"==t)}function Yf(n){return null!=n&&"object"==typeof n}function Qf(n,t){
return n===t||Ae(n,t,hi(t))}function Xf(n,t,r){return r="function"==typeof r?r:Q,Ae(n,t,hi(t),r)}function nc(n){return uc(n)&&n!=+n}function tc(n){if(ds(n))throw new Ha(tn);return ke(n)}function rc(n){return null===n}function ec(n){return null==n}function uc(n){return"number"==typeof n||Yf(n)&&le(n)==Vn}function ic(n){if(!Yf(n)||le(n)!=Hn)return!1;var t=dl(n);if(null===t)return!0;var r=fl.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&ol.call(r)==sl}function oc(n){
return Gf(n)&&n>=-Rn&&n<=Rn}function fc(n){return"string"==typeof n||!fh(n)&&Yf(n)&&le(n)==nt}function cc(n){return"symbol"==typeof n||Yf(n)&&le(n)==tt}function ac(n){return n===Q}function lc(n){return Yf(n)&&ys(n)==et}function sc(n){return Yf(n)&&le(n)==ut}function hc(n){if(!n)return[];if(Df(n))return fc(n)?V(n):Iu(n);if(jl&&n[jl])return D(n[jl]());var t=ys(n);return(t==Kn?$:t==Xn?N:Zc)(n)}function pc(n){if(!n)return 0===n?n:0;if(n=gc(n),n===En||n===-En){return(n<0?-1:1)*Sn}return n===n?n:0}function vc(n){
var t=pc(n),r=t%1;return t===t?r?t-r:t:0}function _c(n){return n?Sr(vc(n),0,Cn):0}function gc(n){if("number"==typeof n)return n;if(cc(n))return Wn;if(Jf(n)){var t="function"==typeof n.valueOf?n.valueOf():n;n=Jf(t)?t+"":t}if("string"!=typeof n)return 0===n?n:+n;n=z(n);var r=Ut.test(n);return r||$t.test(n)?Nr(n.slice(2),r?2:8):Tt.test(n)?Wn:+n}function yc(n){return zu(n,Cc(n))}function dc(n){return n?Sr(vc(n),-Rn,Rn):0===n?n:0}function bc(n){return null==n?"":iu(n)}function wc(n,t){var r=us(n);return null==t?r:kr(r,t);
}function mc(n,t){return _(n,li(t,3),Hr)}function xc(n,t){return _(n,li(t,3),Jr)}function jc(n,t){return null==n?n:fs(n,li(t,3),Cc)}function Ac(n,t){return null==n?n:cs(n,li(t,3),Cc)}function kc(n,t){return n&&Hr(n,li(t,3))}function Oc(n,t){return n&&Jr(n,li(t,3))}function Ic(n){return null==n?[]:ee(n,Wc(n))}function zc(n){return null==n?[]:ee(n,Cc(n))}function Ec(n,t,r){var e=null==n?Q:fe(n,t);return e===Q?r:e}function Rc(n,t){return null!=n&&yi(n,t,he)}function Sc(n,t){return null!=n&&yi(n,t,pe);
}function Wc(n){return Df(n)?yr(n):Re(n)}function Cc(n){return Df(n)?yr(n,!0):Se(n)}function Lc(n,t){var r={};return t=li(t,3),Hr(n,function(n,e,u){Ir(r,t(n,e,u),n)}),r}function Bc(n,t){var r={};return t=li(t,3),Hr(n,function(n,e,u){Ir(r,e,t(n,e,u))}),r}function Tc(n,t){return Uc(n,Af(li(t)))}function Uc(n,t){if(null==n)return{};var r=c(fi(n),function(n){return[n]});return t=li(t),Fe(n,r,function(n,r){return t(n,r[0])})}function Dc(n,t,r){t=_u(t,n);var e=-1,u=t.length;for(u||(u=1,n=Q);++e<u;){var i=null==n?Q:n[Pi(t[e])];
i===Q&&(e=u,i=r),n=Vf(i)?i.call(n):i}return n}function $c(n,t,r){return null==n?n:Ye(n,t,r)}function Mc(n,t,r,e){return e="function"==typeof e?e:Q,null==n?n:Ye(n,t,r,e)}function Fc(n,t,e){var u=fh(n),i=u||ah(n)||vh(n);if(t=li(t,4),null==e){var o=n&&n.constructor;e=i?u?new o:[]:Jf(n)&&Vf(o)?us(dl(n)):{}}return(i?r:Hr)(n,function(n,r,u){return t(e,n,r,u)}),e}function Nc(n,t){return null==n||fu(n,t)}function Pc(n,t,r){return null==n?n:cu(n,t,vu(r))}function qc(n,t,r,e){return e="function"==typeof e?e:Q,
null==n?n:cu(n,t,vu(r),e)}function Zc(n){return null==n?[]:R(n,Wc(n))}function Kc(n){return null==n?[]:R(n,Cc(n))}function Vc(n,t,r){return r===Q&&(r=t,t=Q),r!==Q&&(r=gc(r),r=r===r?r:0),t!==Q&&(t=gc(t),t=t===t?t:0),Sr(gc(n),t,r)}function Gc(n,t,r){return t=pc(t),r===Q?(r=t,t=0):r=pc(r),n=gc(n),ve(n,t,r)}function Hc(n,t,r){if(r&&"boolean"!=typeof r&&Ai(n,t,r)&&(t=r=Q),r===Q&&("boolean"==typeof t?(r=t,t=Q):"boolean"==typeof n&&(r=n,n=Q)),n===Q&&t===Q?(n=0,t=1):(n=pc(n),t===Q?(t=n,n=0):t=pc(t)),n>t){
var e=n;n=t,t=e}if(r||n%1||t%1){var u=Ml();return Ul(n+u*(t-n+Fr("1e-"+((u+"").length-1))),t)}return Ze(n,t)}function Jc(n){return Mh(bc(n).toLowerCase())}function Yc(n){return n=bc(n),n&&n.replace(Ft,ue).replace(Rr,"")}function Qc(n,t,r){n=bc(n),t=iu(t);var e=n.length;r=r===Q?e:Sr(vc(r),0,e);var u=r;return r-=t.length,r>=0&&n.slice(r,u)==t}function Xc(n){return n=bc(n),n&&bt.test(n)?n.replace(yt,ie):n}function na(n){return n=bc(n),n&&It.test(n)?n.replace(Ot,"\\$&"):n}function ta(n,t,r){n=bc(n),t=vc(t);
var e=t?K(n):0;if(!t||e>=t)return n;var u=(t-e)/2;return Ku(Rl(u),r)+n+Ku(El(u),r)}function ra(n,t,r){n=bc(n),t=vc(t);var e=t?K(n):0;return t&&e<t?n+Ku(t-e,r):n}function ea(n,t,r){n=bc(n),t=vc(t);var e=t?K(n):0;return t&&e<t?Ku(t-e,r)+n:n}function ua(n,t,r){return r||null==t?t=0:t&&(t=+t),$l(bc(n).replace(zt,""),t||0)}function ia(n,t,r){return t=(r?Ai(n,t,r):t===Q)?1:vc(t),Ve(bc(n),t)}function oa(){var n=arguments,t=bc(n[0]);return n.length<3?t:t.replace(n[1],n[2])}function fa(n,t,r){return r&&"number"!=typeof r&&Ai(n,t,r)&&(t=r=Q),
(r=r===Q?Cn:r>>>0)?(n=bc(n),n&&("string"==typeof t||null!=t&&!hh(t))&&(t=iu(t),!t&&T(n))?gu(V(n),0,r):n.split(t,r)):[]}function ca(n,t,r){return n=bc(n),r=null==r?0:Sr(vc(r),0,n.length),t=iu(t),n.slice(r,r+t.length)==t}function aa(n){return bc(n).toLowerCase()}function la(n){return bc(n).toUpperCase()}function sa(n,t,r){if(n=bc(n),n&&(r||t===Q))return z(n);if(!n||!(t=iu(t)))return n;var e=V(n),u=V(t);return gu(e,W(e,u),C(e,u)+1).join("")}function ha(n,t,r){if(n=bc(n),n&&(r||t===Q))return n.slice(0,G(n)+1);
if(!n||!(t=iu(t)))return n;var e=V(n);return gu(e,0,C(e,V(t))+1).join("")}function pa(n,t,r){if(n=bc(n),n&&(r||t===Q))return n.replace(zt,"");if(!n||!(t=iu(t)))return n;var e=V(n);return gu(e,W(e,V(t))).join("")}function va(n,t){var r=xn,e=jn;if(Jf(t)){var u="separator"in t?t.separator:u;r="length"in t?vc(t.length):r,e="omission"in t?iu(t.omission):e}n=bc(n);var i=n.length;if(T(n)){var o=V(n);i=o.length}if(r>=i)return n;var f=r-K(e);if(f<1)return e;var c=o?gu(o,0,f).join(""):n.slice(0,f);if(u===Q)return c+e;
if(o&&(f+=c.length-f),hh(u)){if(n.slice(f).search(u)){var a,l=c;for(u.global||(u=Xa(u.source,bc(Bt.exec(u))+"g")),u.lastIndex=0;a=u.exec(l);)var s=a.index;c=c.slice(0,s===Q?f:s)}}else if(n.indexOf(iu(u),f)!=f){var h=c.lastIndexOf(u);h>-1&&(c=c.slice(0,h))}return c+e}function _a(n){return n=bc(n),n&&dt.test(n)?n.replace(gt,oe):n}function ga(n,t,r){return n=bc(n),t=r?Q:t,t===Q?U(n)?Y(n):v(n):n.match(t)||[]}function ya(t){var r=null==t?0:t.length,e=li();return t=r?c(t,function(n){if("function"!=typeof n[1])throw new tl(rn);
return[e(n[0]),n[1]]}):[],Ge(function(e){for(var u=-1;++u<r;){var i=t[u];if(n(i[0],this,e))return n(i[1],this,e)}})}function da(n){return Cr(Wr(n,fn))}function ba(n){return function(){return n}}function wa(n,t){return null==n||n!==n?t:n}function ma(n){return n}function xa(n){return Ee("function"==typeof n?n:Wr(n,fn))}function ja(n){return Le(Wr(n,fn))}function Aa(n,t){return Be(n,Wr(t,fn))}function ka(n,t,e){var u=Wc(t),i=ee(t,u);null!=e||Jf(t)&&(i.length||!u.length)||(e=t,t=n,n=this,i=ee(t,Wc(t)));
var o=!(Jf(e)&&"chain"in e&&!e.chain),f=Vf(n);return r(i,function(r){var e=t[r];n[r]=e,f&&(n.prototype[r]=function(){var t=this.__chain__;if(o||t){var r=n(this.__wrapped__);return(r.__actions__=Iu(this.__actions__)).push({func:e,args:arguments,thisArg:n}),r.__chain__=t,r}return e.apply(n,a([this.value()],arguments))})}),n}function Oa(){return Zr._===this&&(Zr._=hl),this}function Ia(){}function za(n){return n=vc(n),Ge(function(t){return De(t,n)})}function Ea(n){return ki(n)?m(Pi(n)):Ne(n)}function Ra(n){
return function(t){return null==n?Q:fe(n,t)}}function Sa(){return[]}function Wa(){return!1}function Ca(){return{}}function La(){return""}function Ba(){return!0}function Ta(n,t){if(n=vc(n),n<1||n>Rn)return[];var r=Cn,e=Ul(n,Cn);t=li(t),n-=Cn;for(var u=O(e,t);++r<n;)t(r);return u}function Ua(n){return fh(n)?c(n,Pi):cc(n)?[n]:Iu(xs(bc(n)))}function Da(n){var t=++cl;return bc(n)+t}function $a(n){return n&&n.length?Pr(n,ma,se):Q}function Ma(n,t){return n&&n.length?Pr(n,li(t,2),se):Q}function Fa(n){return w(n,ma);
}function Na(n,t){return w(n,li(t,2))}function Pa(n){return n&&n.length?Pr(n,ma,We):Q}function qa(n,t){return n&&n.length?Pr(n,li(t,2),We):Q}function Za(n){return n&&n.length?k(n,ma):0}function Ka(n,t){return n&&n.length?k(n,li(t,2)):0}x=null==x?Zr:ce.defaults(Zr.Object(),x,ce.pick(Zr,Br));var Va=x.Array,Ga=x.Date,Ha=x.Error,Ja=x.Function,Ya=x.Math,Qa=x.Object,Xa=x.RegExp,nl=x.String,tl=x.TypeError,rl=Va.prototype,el=Ja.prototype,ul=Qa.prototype,il=x["__core-js_shared__"],ol=el.toString,fl=ul.hasOwnProperty,cl=0,al=function(){
var n=/[^.]+$/.exec(il&&il.keys&&il.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}(),ll=ul.toString,sl=ol.call(Qa),hl=Zr._,pl=Xa("^"+ol.call(fl).replace(Ot,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),vl=Gr?x.Buffer:Q,_l=x.Symbol,gl=x.Uint8Array,yl=vl?vl.allocUnsafe:Q,dl=M(Qa.getPrototypeOf,Qa),bl=Qa.create,wl=ul.propertyIsEnumerable,ml=rl.splice,xl=_l?_l.isConcatSpreadable:Q,jl=_l?_l.iterator:Q,Al=_l?_l.toStringTag:Q,kl=function(){try{var n=pi(Qa,"defineProperty");
return n({},"",{}),n}catch(n){}}(),Ol=x.clearTimeout!==Zr.clearTimeout&&x.clearTimeout,Il=Ga&&Ga.now!==Zr.Date.now&&Ga.now,zl=x.setTimeout!==Zr.setTimeout&&x.setTimeout,El=Ya.ceil,Rl=Ya.floor,Sl=Qa.getOwnPropertySymbols,Wl=vl?vl.isBuffer:Q,Cl=x.isFinite,Ll=rl.join,Bl=M(Qa.keys,Qa),Tl=Ya.max,Ul=Ya.min,Dl=Ga.now,$l=x.parseInt,Ml=Ya.random,Fl=rl.reverse,Nl=pi(x,"DataView"),Pl=pi(x,"Map"),ql=pi(x,"Promise"),Zl=pi(x,"Set"),Kl=pi(x,"WeakMap"),Vl=pi(Qa,"create"),Gl=Kl&&new Kl,Hl={},Jl=qi(Nl),Yl=qi(Pl),Ql=qi(ql),Xl=qi(Zl),ns=qi(Kl),ts=_l?_l.prototype:Q,rs=ts?ts.valueOf:Q,es=ts?ts.toString:Q,us=function(){
function n(){}return function(t){if(!Jf(t))return{};if(bl)return bl(t);n.prototype=t;var r=new n;return n.prototype=Q,r}}();q.templateSettings={escape:wt,evaluate:mt,interpolate:xt,variable:"",imports:{_:q}},q.prototype=H.prototype,q.prototype.constructor=q,J.prototype=us(H.prototype),J.prototype.constructor=J,Et.prototype=us(H.prototype),Et.prototype.constructor=Et,qt.prototype.clear=Zt,qt.prototype.delete=Kt,qt.prototype.get=Vt,qt.prototype.has=Gt,qt.prototype.set=Ht,Jt.prototype.clear=Yt,Jt.prototype.delete=Qt,
Jt.prototype.get=Xt,Jt.prototype.has=nr,Jt.prototype.set=tr,rr.prototype.clear=er,rr.prototype.delete=ur,rr.prototype.get=ir,rr.prototype.has=or,rr.prototype.set=fr,cr.prototype.add=cr.prototype.push=ar,cr.prototype.has=lr,sr.prototype.clear=hr,sr.prototype.delete=pr,sr.prototype.get=vr,sr.prototype.has=_r,sr.prototype.set=gr;var is=Cu(Hr),os=Cu(Jr,!0),fs=Lu(),cs=Lu(!0),as=Gl?function(n,t){return Gl.set(n,t),n}:ma,ls=kl?function(n,t){return kl(n,"toString",{configurable:!0,enumerable:!1,value:ba(t),
writable:!0})}:ma,ss=Ge,hs=Ol||function(n){return Zr.clearTimeout(n)},ps=Zl&&1/N(new Zl([,-0]))[1]==En?function(n){return new Zl(n)}:Ia,vs=Gl?function(n){return Gl.get(n)}:Ia,_s=Sl?function(n){return null==n?[]:(n=Qa(n),i(Sl(n),function(t){return wl.call(n,t)}))}:Sa,gs=Sl?function(n){for(var t=[];n;)a(t,_s(n)),n=dl(n);return t}:Sa,ys=le;(Nl&&ys(new Nl(new ArrayBuffer(1)))!=ot||Pl&&ys(new Pl)!=Kn||ql&&ys(ql.resolve())!=Jn||Zl&&ys(new Zl)!=Xn||Kl&&ys(new Kl)!=et)&&(ys=function(n){var t=le(n),r=t==Hn?n.constructor:Q,e=r?qi(r):"";
if(e)switch(e){case Jl:return ot;case Yl:return Kn;case Ql:return Jn;case Xl:return Xn;case ns:return et}return t});var ds=il?Vf:Wa,bs=Fi(as),ws=zl||function(n,t){return Zr.setTimeout(n,t)},ms=Fi(ls),xs=Wi(function(n){var t=[];return 46===n.charCodeAt(0)&&t.push(""),n.replace(kt,function(n,r,e,u){t.push(e?u.replace(Lt,"$1"):r||n)}),t}),js=Ge(function(n,t){return $f(n)?$r(n,Vr(t,1,$f,!0)):[]}),As=Ge(function(n,t){var r=so(t);return $f(r)&&(r=Q),$f(n)?$r(n,Vr(t,1,$f,!0),li(r,2)):[]}),ks=Ge(function(n,t){
var r=so(t);return $f(r)&&(r=Q),$f(n)?$r(n,Vr(t,1,$f,!0),Q,r):[]}),Os=Ge(function(n){var t=c(n,pu);return t.length&&t[0]===n[0]?_e(t):[]}),Is=Ge(function(n){var t=so(n),r=c(n,pu);return t===so(r)?t=Q:r.pop(),r.length&&r[0]===n[0]?_e(r,li(t,2)):[]}),zs=Ge(function(n){var t=so(n),r=c(n,pu);return t="function"==typeof t?t:Q,t&&r.pop(),r.length&&r[0]===n[0]?_e(r,Q,t):[]}),Es=Ge(vo),Rs=ii(function(n,t){var r=null==n?0:n.length,e=zr(n,t);return qe(n,c(t,function(n){return ji(n,r)?+n:n}).sort(ju)),e}),Ss=Ge(function(n){
return ou(Vr(n,1,$f,!0))}),Ws=Ge(function(n){var t=so(n);return $f(t)&&(t=Q),ou(Vr(n,1,$f,!0),li(t,2))}),Cs=Ge(function(n){var t=so(n);return t="function"==typeof t?t:Q,ou(Vr(n,1,$f,!0),Q,t)}),Ls=Ge(function(n,t){return $f(n)?$r(n,t):[]}),Bs=Ge(function(n){return su(i(n,$f))}),Ts=Ge(function(n){var t=so(n);return $f(t)&&(t=Q),su(i(n,$f),li(t,2))}),Us=Ge(function(n){var t=so(n);return t="function"==typeof t?t:Q,su(i(n,$f),Q,t)}),Ds=Ge(Uo),$s=Ge(function(n){var t=n.length,r=t>1?n[t-1]:Q;return r="function"==typeof r?(n.pop(),
r):Q,Do(n,r)}),Ms=ii(function(n){var t=n.length,r=t?n[0]:0,e=this.__wrapped__,u=function(t){return zr(t,n)};return!(t>1||this.__actions__.length)&&e instanceof Et&&ji(r)?(e=e.slice(r,+r+(t?1:0)),e.__actions__.push({func:Po,args:[u],thisArg:Q}),new J(e,this.__chain__).thru(function(n){return t&&!n.length&&n.push(Q),n})):this.thru(u)}),Fs=Su(function(n,t,r){fl.call(n,r)?++n[r]:Ir(n,r,1)}),Ns=Mu(to),Ps=Mu(ro),qs=Su(function(n,t,r){fl.call(n,r)?n[r].push(t):Ir(n,r,[t])}),Zs=Ge(function(t,r,e){var u=-1,i="function"==typeof r,o=Df(t)?Va(t.length):[];
return is(t,function(t){o[++u]=i?n(r,t,e):ye(t,r,e)}),o}),Ks=Su(function(n,t,r){Ir(n,r,t)}),Vs=Su(function(n,t,r){n[r?0:1].push(t)},function(){return[[],[]]}),Gs=Ge(function(n,t){if(null==n)return[];var r=t.length;return r>1&&Ai(n,t[0],t[1])?t=[]:r>2&&Ai(t[0],t[1],t[2])&&(t=[t[0]]),$e(n,Vr(t,1),[])}),Hs=Il||function(){return Zr.Date.now()},Js=Ge(function(n,t,r){var e=hn;if(r.length){var u=F(r,ai(Js));e|=yn}return Xu(n,e,t,r,u)}),Ys=Ge(function(n,t,r){var e=hn|pn;if(r.length){var u=F(r,ai(Ys));e|=yn;
}return Xu(t,e,n,r,u)}),Qs=Ge(function(n,t){return Dr(n,1,t)}),Xs=Ge(function(n,t,r){return Dr(n,gc(t)||0,r)});jf.Cache=rr;var nh=ss(function(t,r){r=1==r.length&&fh(r[0])?c(r[0],E(li())):c(Vr(r,1),E(li()));var e=r.length;return Ge(function(u){for(var i=-1,o=Ul(u.length,e);++i<o;)u[i]=r[i].call(this,u[i]);return n(t,this,u)})}),th=Ge(function(n,t){return Xu(n,yn,Q,t,F(t,ai(th)))}),rh=Ge(function(n,t){return Xu(n,dn,Q,t,F(t,ai(rh)))}),eh=ii(function(n,t){return Xu(n,wn,Q,Q,Q,t)}),uh=Hu(se),ih=Hu(function(n,t){
return n>=t}),oh=de(function(){return arguments}())?de:function(n){return Yf(n)&&fl.call(n,"callee")&&!wl.call(n,"callee")},fh=Va.isArray,ch=Yr?E(Yr):be,ah=Wl||Wa,lh=Qr?E(Qr):we,sh=Xr?E(Xr):je,hh=ne?E(ne):Oe,ph=te?E(te):Ie,vh=re?E(re):ze,_h=Hu(We),gh=Hu(function(n,t){return n<=t}),yh=Wu(function(n,t){if(Ei(t)||Df(t))return zu(t,Wc(t),n),Q;for(var r in t)fl.call(t,r)&&xr(n,r,t[r])}),dh=Wu(function(n,t){zu(t,Cc(t),n)}),bh=Wu(function(n,t,r,e){zu(t,Cc(t),n,e)}),wh=Wu(function(n,t,r,e){zu(t,Wc(t),n,e);
}),mh=ii(zr),xh=Ge(function(n,t){n=Qa(n);var r=-1,e=t.length,u=e>2?t[2]:Q;for(u&&Ai(t[0],t[1],u)&&(e=1);++r<e;)for(var i=t[r],o=Cc(i),f=-1,c=o.length;++f<c;){var a=o[f],l=n[a];(l===Q||Uf(l,ul[a])&&!fl.call(n,a))&&(n[a]=i[a])}return n}),jh=Ge(function(t){return t.push(Q,ni),n(zh,Q,t)}),Ah=Pu(function(n,t,r){null!=t&&"function"!=typeof t.toString&&(t=ll.call(t)),n[t]=r},ba(ma)),kh=Pu(function(n,t,r){null!=t&&"function"!=typeof t.toString&&(t=ll.call(t)),fl.call(n,t)?n[t].push(r):n[t]=[r]},li),Oh=Ge(ye),Ih=Wu(function(n,t,r){
Te(n,t,r)}),zh=Wu(function(n,t,r,e){Te(n,t,r,e)}),Eh=ii(function(n,t){var r={};if(null==n)return r;var e=!1;t=c(t,function(t){return t=_u(t,n),e||(e=t.length>1),t}),zu(n,fi(n),r),e&&(r=Wr(r,fn|cn|an,ti));for(var u=t.length;u--;)fu(r,t[u]);return r}),Rh=ii(function(n,t){return null==n?{}:Me(n,t)}),Sh=Qu(Wc),Wh=Qu(Cc),Ch=Uu(function(n,t,r){return t=t.toLowerCase(),n+(r?Jc(t):t)}),Lh=Uu(function(n,t,r){return n+(r?"-":"")+t.toLowerCase()}),Bh=Uu(function(n,t,r){return n+(r?" ":"")+t.toLowerCase()}),Th=Tu("toLowerCase"),Uh=Uu(function(n,t,r){
return n+(r?"_":"")+t.toLowerCase()}),Dh=Uu(function(n,t,r){return n+(r?" ":"")+Mh(t)}),$h=Uu(function(n,t,r){return n+(r?" ":"")+t.toUpperCase()}),Mh=Tu("toUpperCase"),Fh=Ge(function(t,r){try{return n(t,Q,r)}catch(n){return Zf(n)?n:new Ha(n)}}),Nh=ii(function(n,t){return r(t,function(t){t=Pi(t),Ir(n,t,Js(n[t],n))}),n}),Ph=Fu(),qh=Fu(!0),Zh=Ge(function(n,t){return function(r){return ye(r,n,t)}}),Kh=Ge(function(n,t){return function(r){return ye(n,r,t)}}),Vh=Zu(c),Gh=Zu(u),Hh=Zu(h),Jh=Gu(),Yh=Gu(!0),Qh=qu(function(n,t){
return n+t},0),Xh=Yu("ceil"),np=qu(function(n,t){return n/t},1),tp=Yu("floor"),rp=qu(function(n,t){return n*t},1),ep=Yu("round"),up=qu(function(n,t){return n-t},0);return q.after=gf,q.ary=yf,q.assign=yh,q.assignIn=dh,q.assignInWith=bh,q.assignWith=wh,q.at=mh,q.before=df,q.bind=Js,q.bindAll=Nh,q.bindKey=Ys,q.castArray=Sf,q.chain=Fo,q.chunk=Vi,q.compact=Gi,q.concat=Hi,q.cond=ya,q.conforms=da,q.constant=ba,q.countBy=Fs,q.create=wc,q.curry=bf,q.curryRight=wf,q.debounce=mf,q.defaults=xh,q.defaultsDeep=jh,
q.defer=Qs,q.delay=Xs,q.difference=js,q.differenceBy=As,q.differenceWith=ks,q.drop=Ji,q.dropRight=Yi,q.dropRightWhile=Qi,q.dropWhile=Xi,q.fill=no,q.filter=Qo,q.flatMap=Xo,q.flatMapDeep=nf,q.flatMapDepth=tf,q.flatten=eo,q.flattenDeep=uo,q.flattenDepth=io,q.flip=xf,q.flow=Ph,q.flowRight=qh,q.fromPairs=oo,q.functions=Ic,q.functionsIn=zc,q.groupBy=qs,q.initial=ao,q.intersection=Os,q.intersectionBy=Is,q.intersectionWith=zs,q.invert=Ah,q.invertBy=kh,q.invokeMap=Zs,q.iteratee=xa,q.keyBy=Ks,q.keys=Wc,q.keysIn=Cc,
q.map=of,q.mapKeys=Lc,q.mapValues=Bc,q.matches=ja,q.matchesProperty=Aa,q.memoize=jf,q.merge=Ih,q.mergeWith=zh,q.method=Zh,q.methodOf=Kh,q.mixin=ka,q.negate=Af,q.nthArg=za,q.omit=Eh,q.omitBy=Tc,q.once=kf,q.orderBy=ff,q.over=Vh,q.overArgs=nh,q.overEvery=Gh,q.overSome=Hh,q.partial=th,q.partialRight=rh,q.partition=Vs,q.pick=Rh,q.pickBy=Uc,q.property=Ea,q.propertyOf=Ra,q.pull=Es,q.pullAll=vo,q.pullAllBy=_o,q.pullAllWith=go,q.pullAt=Rs,q.range=Jh,q.rangeRight=Yh,q.rearg=eh,q.reject=lf,q.remove=yo,q.rest=Of,
q.reverse=bo,q.sampleSize=hf,q.set=$c,q.setWith=Mc,q.shuffle=pf,q.slice=wo,q.sortBy=Gs,q.sortedUniq=Io,q.sortedUniqBy=zo,q.split=fa,q.spread=If,q.tail=Eo,q.take=Ro,q.takeRight=So,q.takeRightWhile=Wo,q.takeWhile=Co,q.tap=No,q.throttle=zf,q.thru=Po,q.toArray=hc,q.toPairs=Sh,q.toPairsIn=Wh,q.toPath=Ua,q.toPlainObject=yc,q.transform=Fc,q.unary=Ef,q.union=Ss,q.unionBy=Ws,q.unionWith=Cs,q.uniq=Lo,q.uniqBy=Bo,q.uniqWith=To,q.unset=Nc,q.unzip=Uo,q.unzipWith=Do,q.update=Pc,q.updateWith=qc,q.values=Zc,q.valuesIn=Kc,
q.without=Ls,q.words=ga,q.wrap=Rf,q.xor=Bs,q.xorBy=Ts,q.xorWith=Us,q.zip=Ds,q.zipObject=$o,q.zipObjectDeep=Mo,q.zipWith=$s,q.entries=Sh,q.entriesIn=Wh,q.extend=dh,q.extendWith=bh,ka(q,q),q.add=Qh,q.attempt=Fh,q.camelCase=Ch,q.capitalize=Jc,q.ceil=Xh,q.clamp=Vc,q.clone=Wf,q.cloneDeep=Lf,q.cloneDeepWith=Bf,q.cloneWith=Cf,q.conformsTo=Tf,q.deburr=Yc,q.defaultTo=wa,q.divide=np,q.endsWith=Qc,q.eq=Uf,q.escape=Xc,q.escapeRegExp=na,q.every=Yo,q.find=Ns,q.findIndex=to,q.findKey=mc,q.findLast=Ps,q.findLastIndex=ro,
q.findLastKey=xc,q.floor=tp,q.forEach=rf,q.forEachRight=ef,q.forIn=jc,q.forInRight=Ac,q.forOwn=kc,q.forOwnRight=Oc,q.get=Ec,q.gt=uh,q.gte=ih,q.has=Rc,q.hasIn=Sc,q.head=fo,q.identity=ma,q.includes=uf,q.indexOf=co,q.inRange=Gc,q.invoke=Oh,q.isArguments=oh,q.isArray=fh,q.isArrayBuffer=ch,q.isArrayLike=Df,q.isArrayLikeObject=$f,q.isBoolean=Mf,q.isBuffer=ah,q.isDate=lh,q.isElement=Ff,q.isEmpty=Nf,q.isEqual=Pf,q.isEqualWith=qf,q.isError=Zf,q.isFinite=Kf,q.isFunction=Vf,q.isInteger=Gf,q.isLength=Hf,q.isMap=sh,
q.isMatch=Qf,q.isMatchWith=Xf,q.isNaN=nc,q.isNative=tc,q.isNil=ec,q.isNull=rc,q.isNumber=uc,q.isObject=Jf,q.isObjectLike=Yf,q.isPlainObject=ic,q.isRegExp=hh,q.isSafeInteger=oc,q.isSet=ph,q.isString=fc,q.isSymbol=cc,q.isTypedArray=vh,q.isUndefined=ac,q.isWeakMap=lc,q.isWeakSet=sc,q.join=lo,q.kebabCase=Lh,q.last=so,q.lastIndexOf=ho,q.lowerCase=Bh,q.lowerFirst=Th,q.lt=_h,q.lte=gh,q.max=$a,q.maxBy=Ma,q.mean=Fa,q.meanBy=Na,q.min=Pa,q.minBy=qa,q.stubArray=Sa,q.stubFalse=Wa,q.stubObject=Ca,q.stubString=La,
q.stubTrue=Ba,q.multiply=rp,q.nth=po,q.noConflict=Oa,q.noop=Ia,q.now=Hs,q.pad=ta,q.padEnd=ra,q.padStart=ea,q.parseInt=ua,q.random=Hc,q.reduce=cf,q.reduceRight=af,q.repeat=ia,q.replace=oa,q.result=Dc,q.round=ep,q.runInContext=p,q.sample=sf,q.size=vf,q.snakeCase=Uh,q.some=_f,q.sortedIndex=mo,q.sortedIndexBy=xo,q.sortedIndexOf=jo,q.sortedLastIndex=Ao,q.sortedLastIndexBy=ko,q.sortedLastIndexOf=Oo,q.startCase=Dh,q.startsWith=ca,q.subtract=up,q.sum=Za,q.sumBy=Ka,q.times=Ta,q.toFinite=pc,q.toInteger=vc,
q.toLength=_c,q.toLower=aa,q.toNumber=gc,q.toSafeInteger=dc,q.toString=bc,q.toUpper=la,q.trim=sa,q.trimEnd=ha,q.trimStart=pa,q.truncate=va,q.unescape=_a,q.uniqueId=Da,q.upperCase=$h,q.upperFirst=Mh,q.each=rf,q.eachRight=ef,q.first=fo,ka(q,function(){var n={};return Hr(q,function(t,r){fl.call(q.prototype,r)||(n[r]=t)}),n}(),{chain:!1}),q.VERSION=X,r(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){q[n].placeholder=q}),r(["drop","take"],function(n,t){Et.prototype[n]=function(r){
r=r===Q?1:Tl(vc(r),0);var e=this.__filtered__&&!t?new Et(this):this.clone();return e.__filtered__?e.__takeCount__=Ul(r,e.__takeCount__):e.__views__.push({size:Ul(r,Cn),type:n+(e.__dir__<0?"Right":"")}),e},Et.prototype[n+"Right"]=function(t){return this.reverse()[n](t).reverse()}}),r(["filter","map","takeWhile"],function(n,t){var r=t+1,e=r==On||r==zn;Et.prototype[n]=function(n){var t=this.clone();return t.__iteratees__.push({iteratee:li(n,3),type:r}),t.__filtered__=t.__filtered__||e,t}}),r(["head","last"],function(n,t){
var r="take"+(t?"Right":"");Et.prototype[n]=function(){return this[r](1).value()[0]}}),r(["initial","tail"],function(n,t){var r="drop"+(t?"":"Right");Et.prototype[n]=function(){return this.__filtered__?new Et(this):this[r](1)}}),Et.prototype.compact=function(){return this.filter(ma)},Et.prototype.find=function(n){return this.filter(n).head()},Et.prototype.findLast=function(n){return this.reverse().find(n)},Et.prototype.invokeMap=Ge(function(n,t){return"function"==typeof n?new Et(this):this.map(function(r){
return ye(r,n,t)})}),Et.prototype.reject=function(n){return this.filter(Af(li(n)))},Et.prototype.slice=function(n,t){n=vc(n);var r=this;return r.__filtered__&&(n>0||t<0)?new Et(r):(n<0?r=r.takeRight(-n):n&&(r=r.drop(n)),t!==Q&&(t=vc(t),r=t<0?r.dropRight(-t):r.take(t-n)),r)},Et.prototype.takeRightWhile=function(n){return this.reverse().takeWhile(n).reverse()},Et.prototype.toArray=function(){return this.take(Cn)},Hr(Et.prototype,function(n,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),e=/^(?:head|last)$/.test(t),u=q[e?"take"+("last"==t?"Right":""):t],i=e||/^find/.test(t);
u&&(q.prototype[t]=function(){var t=this.__wrapped__,o=e?[1]:arguments,f=t instanceof Et,c=o[0],l=f||fh(t),s=function(n){var t=u.apply(q,a([n],o));return e&&h?t[0]:t};l&&r&&"function"==typeof c&&1!=c.length&&(f=l=!1);var h=this.__chain__,p=!!this.__actions__.length,v=i&&!h,_=f&&!p;if(!i&&l){t=_?t:new Et(this);var g=n.apply(t,o);return g.__actions__.push({func:Po,args:[s],thisArg:Q}),new J(g,h)}return v&&_?n.apply(this,o):(g=this.thru(s),v?e?g.value()[0]:g.value():g)})}),r(["pop","push","shift","sort","splice","unshift"],function(n){
var t=rl[n],r=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",e=/^(?:pop|shift)$/.test(n);q.prototype[n]=function(){var n=arguments;if(e&&!this.__chain__){var u=this.value();return t.apply(fh(u)?u:[],n)}return this[r](function(r){return t.apply(fh(r)?r:[],n)})}}),Hr(Et.prototype,function(n,t){var r=q[t];if(r){var e=r.name+"";fl.call(Hl,e)||(Hl[e]=[]),Hl[e].push({name:t,func:r})}}),Hl[Nu(Q,pn).name]=[{name:"wrapper",func:Q}],Et.prototype.clone=Ct,Et.prototype.reverse=Nt,Et.prototype.value=Pt,q.prototype.at=Ms,
q.prototype.chain=qo,q.prototype.commit=Zo,q.prototype.next=Ko,q.prototype.plant=Go,q.prototype.reverse=Ho,q.prototype.toJSON=q.prototype.valueOf=q.prototype.value=Jo,q.prototype.first=q.prototype.head,jl&&(q.prototype[jl]=Vo),q},ce=fe();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Zr._=ce,define(function(){return ce})):Vr?((Vr.exports=ce)._=ce,Kr._=ce):Zr._=ce}).call(this);
//third_party/javascript/angular/v1_6/angular.min.js
/*
 AngularJS v1.6.4-local+sha.617b36117
 (c) 2010-2018 Google, Inc. http://angularjs.org
 License: MIT

 Copyright 2013 Google, Inc. http://angularjs.org
 SPDX-License-Identifier: MIT
*/
(function(ia){'use strict';function Nf(a){if(fa(a))R(a.objectMaxDepth)&&(de.objectMaxDepth=fd(a.objectMaxDepth)?a.objectMaxDepth:NaN);else return de}function fd(a){return Ra(a)&&a>0}function va(a){return function(){var b=arguments[0];var d="["+(a?a+":":"")+b+"] http://errors.angularjs.org/1.6.4-local+sha.617b36117/"+(a?a+"/":"")+b;for(b=1;b<arguments.length;b++){d=d+(b==1?"?":"&")+"p"+(b-1)+"=";var c=encodeURIComponent;var e=arguments[b];e=typeof e=="function"?e.toString().replace(/ \{[\s\S]*$/,""):typeof e==
"undefined"?"undefined":typeof e!="string"?JSON.stringify(e):e;d+=c(e)}return Error(d)}}function ub(a){if(a==null||$b(a))return!1;if(na(a)||oa(a)||da&&a instanceof da)return!0;var b="length"in Object(a)&&a.length;return Ra(b)&&(b>=0&&(b-1 in a||a instanceof Array)||typeof a.item==="function")}function J(a,b,d){var c;if(a)if(ca(a))for(f in a)f!=="prototype"&&f!=="length"&&f!=="name"&&a.hasOwnProperty(f)&&b.call(d,a[f],f,a);else if(na(a)||ub(a)){var e=typeof a!=="object";var f=0;for(c=a.length;f<c;f++)(e||
f in a)&&b.call(d,a[f],f,a)}else if(a.forEach&&a.forEach!==J)a.forEach(b,d,a);else if(ee(a))for(f in a)b.call(d,a[f],f,a);else if(typeof a.hasOwnProperty==="function")for(f in a)a.hasOwnProperty(f)&&b.call(d,a[f],f,a);else for(f in a)bb.call(a,f)&&b.call(d,a[f],f,a);return a}function fe(a,b,d){for(var c=Object.keys(a).sort(),e=0;e<c.length;e++)b.call(d,a[c[e]],c[e]);return c}function gd(a){return function(b,d){a(d,b)}}function Of(){return++sc}function hd(a,b,d){for(var c=a.$$hashKey,e=0,f=b.length;e<
f;++e){var g=b[e];if(fa(g)||ca(g))for(var k=Object.keys(g),h=0,l=k.length;h<l;h++){var n=k[h],r=g[n];d&&fa(r)?Xa(r)?a[n]=new Date(r.valueOf()):tc(r)?a[n]=new RegExp(r):r.nodeName?a[n]=r.cloneNode(!0):id(r)?a[n]=r.clone():n!=="__proto__"&&(fa(a[n])||(a[n]=na(r)?[]:{}),hd(a[n],[r],!0)):a[n]=r}}c?a.$$hashKey=c:delete a.$$hashKey;return a}function Aa(a){return hd(a,hb.call(arguments,1),!1)}function Pf(a){return hd(a,hb.call(arguments,1),!0)}function jd(a,b){return Aa(Object.create(a),b)}function la(){}
function uc(a){return a}function cb(a){return function(){return a}}function kd(a){return ca(a.toString)&&a.toString!==Ta}function U(a){return typeof a==="undefined"}function R(a){return typeof a!=="undefined"}function fa(a){return a!==null&&typeof a==="object"}function ee(a){return a!==null&&typeof a==="object"&&!ge(a)}function oa(a){return typeof a==="string"}function Ra(a){return typeof a==="number"}function Xa(a){return Ta.call(a)==="[object Date]"}function ld(a){switch(Ta.call(a)){case "[object Error]":return!0;
case "[object Exception]":return!0;case "[object DOMException]":return!0;default:return a instanceof Error}}function ca(a){return typeof a==="function"}function tc(a){return Ta.call(a)==="[object RegExp]"}function $b(a){return a&&a.window===a}function ac(a){return a&&a.$evalAsync&&a.$watch}function vb(a){return typeof a==="boolean"}function Qf(a){return a&&Ra(a.length)&&Rf.test(Ta.call(a))}function id(a){return!(!a||!(a.nodeName||a.prop&&a.attr&&a.find))}function Sf(a){var b={};a=a.split(",");var d;
for(d=0;d<a.length;d++)b[a[d]]=!0;return b}function ib(a){return xa(a.nodeName||a[0]&&a[0].nodeName)}function bc(a,b){b=a.indexOf(b);b>=0&&a.splice(b,1);return b}function Bb(a,b,d){function c(h,l,n){n--;if(n<0)return"...";var r=l.$$hashKey;if(na(h)){var u=0;for(var w=h.length;u<w;u++)l.push(e(h[u],n))}else if(ee(h))for(u in h)l[u]=e(h[u],n);else if(h&&typeof h.hasOwnProperty==="function")for(u in h)h.hasOwnProperty(u)&&(l[u]=e(h[u],n));else for(u in h)bb.call(h,u)&&(l[u]=e(h[u],n));r?l.$$hashKey=
r:delete l.$$hashKey;return l}function e(h,l){if(!fa(h))return h;var n=g.indexOf(h);if(n!==-1)return k[n];if($b(h)||ac(h))throw Cb("cpws");n=!1;var r=f(h);r===void 0&&(r=na(h)?[]:Object.create(ge(h)),n=!0);g.push(h);k.push(r);return n?c(h,r,l):r}function f(h){switch(Ta.call(h)){case "[object Int8Array]":case "[object Int16Array]":case "[object Int32Array]":case "[object Float32Array]":case "[object Float64Array]":case "[object Uint8Array]":case "[object Uint8ClampedArray]":case "[object Uint16Array]":case "[object Uint32Array]":return new h.constructor(e(h.buffer),
h.byteOffset,h.length);case "[object ArrayBuffer]":if(!h.slice){var l=new ArrayBuffer(h.byteLength);(new Uint8Array(l)).set(new Uint8Array(h));return l}return h.slice(0);case "[object Boolean]":case "[object Number]":case "[object String]":case "[object Date]":return new h.constructor(h.valueOf());case "[object RegExp]":return l=new RegExp(h.source,h.toString().match(/[^/]*$/)[0]),l.lastIndex=h.lastIndex,l;case "[object Blob]":return new h.constructor([h],{type:h.type})}if(ca(h.cloneNode))return h.cloneNode(!0)}
var g=[],k=[];d=fd(d)?d:NaN;if(b){if(Qf(b)||Ta.call(b)==="[object ArrayBuffer]")throw Cb("cpta");if(a===b)throw Cb("cpi");na(b)?b.length=0:J(b,function(h,l){l!=="$$hashKey"&&delete b[l]});g.push(a);k.push(b);return c(a,b,d)}return e(a,d)}function md(a,b){return a===b||a!==a&&b!==b}function db(a,b){if(a===b)return!0;if(a===null||b===null)return!1;if(a!==a&&b!==b)return!0;var d=typeof a,c;if(d===typeof b&&d==="object")if(na(a)){if(!na(b))return!1;if((d=a.length)===b.length){for(c=0;c<d;c++)if(!db(a[c],
b[c]))return!1;return!0}}else{if(Xa(a))return Xa(b)?md(a.getTime(),b.getTime()):!1;if(tc(a))return tc(b)?a.toString()===b.toString():!1;if(ac(a)||ac(b)||$b(a)||$b(b)||na(b)||Xa(b)||tc(b))return!1;d=Ea();for(c in a)if(c.charAt(0)!=="$"&&!ca(a[c])){if(!db(a[c],b[c]))return!1;d[c]=!0}for(c in b)if(!(c in d)&&c.charAt(0)!=="$"&&R(b[c])&&!ca(b[c]))return!1;return!0}return!1}function cc(a,b,d){return a.concat(hb.call(b,d))}function Mb(a,b){var d=arguments.length>2?hb.call(arguments,2):[];return!ca(b)||
b instanceof RegExp?b:d.length?function(){return arguments.length?b.apply(a,cc(d,arguments,0)):b.apply(a,d)}:function(){return arguments.length?b.apply(a,arguments):b.call(a)}}function he(a,b){var d=b;typeof a==="string"&&a.charAt(0)==="$"&&a.charAt(1)==="$"?d=void 0:$b(b)?d="$WINDOW":b&&ia.document===b?d="$DOCUMENT":ac(b)&&(d="$SCOPE");return d}function dc(a,b){if(!U(a))return Ra(b)||(b=b?2:null),JSON.stringify(a,he,b)}function ie(a){return oa(a)?JSON.parse(a):a}function nd(a,b){a=a.replace(Tf,"");
a=Date.parse("Jan 01, 1970 00:00:00 "+a)/6E4;return Ua(a)?b:a}function je(a,b){a=new Date(a.getTime());a.setMinutes(a.getMinutes()+b);return a}function od(a,b,d){d=d?-1:1;var c=a.getTimezoneOffset();b=nd(b,c);return je(a,d*(b-c))}function jb(a){a=da(a).clone().empty();var b=da("<div></div>").append(a).html();try{return a[0].nodeType===wb?xa(b):b.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,function(d,c){return"<"+xa(c)})}catch(d){return xa(b)}}function ke(a){try{return decodeURIComponent(a)}catch(b){}}
function pd(a){var b={};J((a||"").split("&"),function(d){if(d){var c=d=d.replace(/\+/g,"%20");var e=d.indexOf("=");if(e!==-1){c=d.substring(0,e);var f=d.substring(e+1)}c=ke(c);R(c)&&(f=R(f)?ke(f):!0,bb.call(b,c)?na(b[c])?b[c].push(f):b[c]=[b[c],f]:b[c]=f)}});return b}function qd(a){var b=[];J(a,function(d,c){na(d)?J(d,function(e){b.push(Za(c,!0)+(e===!0?"":"="+Za(e,!0)))}):b.push(Za(c,!0)+(d===!0?"":"="+Za(d,!0)))});return b.length?b.join("&"):""}function ec(a){return Za(a,!0).replace(/%26/gi,"&").replace(/%3D/gi,
"=").replace(/%2B/gi,"+")}function Za(a,b){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,b?"%20":"+")}function Uf(a,b){var d,c=Nb.length;for(d=0;d<c;++d){var e=Nb[d]+b;if(oa(e=a.getAttribute(e)))return e}return null}function Vf(a,b){var d,c,e={};J(Nb,function(f){f+="app";!d&&a.hasAttribute&&a.hasAttribute(f)&&(d=a,c=a.getAttribute(f))});J(Nb,function(f){f+="app";var g;!d&&(g=a.querySelector("["+f.replace(":",
"\\:")+"]"))&&(d=g,c=g.getAttribute(f))});d&&(Wf?(e.strictDi=Uf(d,"strict-di")!==null,b(d,c?[c]:[],e)):ia.console.error("AngularJS: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match."))}function le(a,b,d){fa(d)||(d={});d=Aa({strictDi:!1},d);var c=function(){a=da(a);if(a.injector()){var g=a[0]===ia.document?"document":jb(a);throw Cb("btstrpd",g.replace(/</,"&lt;").replace(/>/,"&gt;"));}b=b||[];b.unshift(["$provide",function(k){k.value("$rootElement",
a)}]);d.debugInfoEnabled&&b.push(["$compileProvider",function(k){k.debugInfoEnabled(!0)}]);b.unshift("ng");g=fc(b,d.strictDi);g.invoke(["$rootScope","$rootElement","$compile","$injector",function(k,h,l,n){k.$apply(function(){h.data("$injector",n);l(h)(k)})}]);return g},e=/^NG_ENABLE_DEBUG_INFO!/,f=/^NG_DEFER_BOOTSTRAP!/;ia&&e.test(ia.name)&&(d.debugInfoEnabled=!0,ia.name=ia.name.replace(e,""));if(ia&&!f.test(ia.name))return c();ia.name=ia.name.replace(f,"");Va.resumeBootstrap=function(g){J(g,function(k){b.push(k)});
return c()};ca(Va.resumeDeferredBootstrap)&&Va.resumeDeferredBootstrap()}function Xf(){ia.name="NG_ENABLE_DEBUG_INFO!"+ia.name;ia.location.reload()}function Yf(a){a=Va.element(a).injector();if(!a)throw Cb("test");return a.get("$$testability")}function me(a,b){b=b||"_";return a.replace(Zf,function(d,c){return(c?b:"")+d.toLowerCase()})}function gc(a,b,d){if(!a)throw Cb("areq",b||"?",d||"required");return a}function vc(a,b,d){d&&na(a)&&(a=a[a.length-1]);gc(ca(a),b,"not a function, got "+(a&&typeof a===
"object"?a.constructor.name||"Object":typeof a));return a}function Ob(a,b){if(a==="hasOwnProperty")throw Cb("badname",b);}function ne(a,b,d){if(!b)return a;b=b.split(".");for(var c,e=a,f=b.length,g=0;g<f;g++)c=b[g],a&&(a=(e=a)[c]);return!d&&ca(a)?Mb(e,a):a}function wc(a){for(var b=a[0],d=a[a.length-1],c,e=1;b!==d&&(b=b.nextSibling);e++)if(c||a[e]!==b)c||(c=da(hb.call(a,0,e))),c.push(b);return c||a}function Ea(){return Object.create(null)}function rd(a){if(a==null)return"";switch(typeof a){case "string":break;
case "number":a=""+a;break;default:a=!kd(a)||na(a)||Xa(a)?dc(a):a.toString()}return a}function $f(a){function b(e,f,g){return e[f]||(e[f]=g())}var d=va("$injector"),c=va("ng");a=b(a,"angular",Object);a.$$minErr=a.$$minErr||va;return b(a,"module",function(){var e={};return function(f,g,k){var h={};if(f==="hasOwnProperty")throw c("badname","module");g&&e.hasOwnProperty(f)&&(e[f]=null);return b(e,f,function(){function l(C,D,y,v){v||(v=r);return function(){v[y||"push"]([C,D,arguments]);return F}}function n(C,
D,y){y||(y=r);return function(v,p){p&&ca(p)&&(p.$$moduleName=f);y.push([C,D,arguments]);return F}}if(!g)throw d("nomod",f);var r=[],u=[],w=[],H=l("$injector","invoke","push",u),F={_invokeQueue:r,_configBlocks:u,_runBlocks:w,info:function(C){if(R(C)){if(!fa(C))throw c("aobj","value");h=C;return this}return h},requires:g,name:f,provider:n("$provide","provider"),factory:n("$provide","factory"),service:n("$provide","service"),value:l("$provide","value"),constant:l("$provide","constant","unshift"),decorator:n("$provide",
"decorator",u),animation:n("$animateProvider","register"),filter:n("$filterProvider","register"),controller:n("$controllerProvider","register"),directive:n("$compileProvider","directive"),component:n("$compileProvider","component"),config:H,run:function(C){w.push(C);return this}};k&&H(k);return F})}})}function kb(a,b){if(na(a)){b=b||[];for(var d=0,c=a.length;d<c;d++)b[d]=a[d]}else if(fa(a))for(d in b=b||{},a)if(d.charAt(0)!=="$"||d.charAt(1)!=="$")b[d]=a[d];return b||a}function ag(a,b){var d=[];fd(b)&&
(a=Va.copy(a,null,b));return JSON.stringify(a,function(c,e){e=he(c,e);if(fa(e)){if(d.indexOf(e)>=0)return"...";d.push(e)}return e})}function Db(a,b){return b.toUpperCase()}function sd(a){a=a.nodeType;return a===1||!a||a===9}function oe(a,b){var d=b.createDocumentFragment(),c=[];if(td.test(a)){b=d.appendChild(b.createElement("div"));var e=(bg.exec(a)||["",""])[1].toLowerCase();e=eb[e]||eb._default;b.innerHTML=e[1]+a.replace(cg,"<$1></$2>")+e[2];for(a=e[0];a--;)b=b.lastChild;c=cc(c,b.childNodes);b=
d.firstChild;b.textContent=""}else c.push(b.createTextNode(a));d.textContent="";d.innerHTML="";J(c,function(f){d.appendChild(f)});return d}function Ha(a){if(a instanceof Ha)return a;if(oa(a)){a=Ca(a);var b=!0}if(!(this instanceof Ha)){if(b&&a.charAt(0)!=="<")throw ud("nosel");return new Ha(a)}if(b){b=a;var d=ia.document;var c;a=(c=dg.exec(b))?[d.createElement(c[1])]:(c=oe(b,d))?c.childNodes:[];vd(this,a)}else ca(a)?pe(a):vd(this,a)}function wd(a){return a.cloneNode(!0)}function xc(a,b){!b&&sd(a)&&
da.cleanData([a]);a.querySelectorAll&&da.cleanData(a.querySelectorAll("*"))}function qe(a,b,d,c){if(R(c))throw ud("offargs");var e=(c=yc(a))&&c.events,f=c&&c.handle;if(f)if(b){var g=function(k){var h=e[k];R(d)&&bc(h||[],d);R(d)&&h&&h.length>0||(a.removeEventListener(k,f),delete e[k])};J(b.split(" "),function(k){g(k);zc[k]&&g(zc[k])})}else for(b in e)b!=="$destroy"&&a.removeEventListener(b,f),delete e[b]}function xd(a,b){var d=a.ng339,c=d&&hc[d];c&&(b?delete c.data[b]:(c.handle&&(c.events.$destroy&&
c.handle({},"$destroy"),qe(a)),delete hc[d],a.ng339=void 0))}function yc(a,b){var d=a.ng339;d=d&&hc[d];b&&!d&&(a.ng339=d=++eg,d=hc[d]={events:{},data:{},handle:void 0});return d}function yd(a,b,d){if(sd(a)){var c,e=R(d),f=!e&&b&&!fa(b),g=!b;a=(a=yc(a,!f))&&a.data;if(e)a[b.replace(Ac,Db)]=d;else{if(g)return a;if(f)return a&&a[b.replace(Ac,Db)];for(c in b)a[c.replace(Ac,Db)]=b[c]}}}function Bc(a,b){return a.getAttribute?(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+b+" ")>
-1:!1}function Cc(a,b){if(b&&a.setAttribute){var d=(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),c=d;J(b.split(" "),function(e){e=Ca(e);c=c.replace(" "+e+" "," ")});c!==d&&a.setAttribute("class",Ca(c))}}function Dc(a,b){if(b&&a.setAttribute){var d=(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),c=d;J(b.split(" "),function(e){e=Ca(e);c.indexOf(" "+e+" ")===-1&&(c+=e+" ")});c!==d&&a.setAttribute("class",Ca(c))}}function vd(a,b){if(b)if(b.nodeType)a[a.length++]=b;else{var d=
b.length;if(typeof d==="number"&&b.window!==b){if(d)for(var c=0;c<d;c++)a[a.length++]=b[c]}else a[a.length++]=b}}function re(a,b){return Ec(a,"$"+(b||"ngController")+"Controller")}function Ec(a,b,d){a.nodeType===9&&(a=a.documentElement);for(b=na(b)?b:[b];a;){for(var c=0,e=b.length;c<e;c++)if(R(d=da.data(a,b[c])))return d;a=a.parentNode||a.nodeType===11&&a.host}}function se(a){for(xc(a,!0);a.firstChild;)a.removeChild(a.firstChild)}function Fc(a,b){b||xc(a);(b=a.parentNode)&&b.removeChild(a)}function fg(a,
b){b=b||ia;if(b.document.readyState==="complete")b.setTimeout(a);else da(b).on("load",a)}function pe(a){function b(){ia.document.removeEventListener("DOMContentLoaded",b);ia.removeEventListener("load",b);a()}ia.document.readyState==="complete"?ia.setTimeout(a):(ia.document.addEventListener("DOMContentLoaded",b),ia.addEventListener("load",b))}function te(a,b){return(b=Gc[b.toLowerCase()])&&ue[ib(a)]&&b}function gg(a,b){var d=function(c,e){c.isDefaultPrevented=function(){return c.defaultPrevented};
var f=(e=b[e||c.type])?e.length:0;if(f){if(U(c.immediatePropagationStopped)){var g=c.stopImmediatePropagation;c.stopImmediatePropagation=function(){c.immediatePropagationStopped=!0;c.stopPropagation&&c.stopPropagation();g&&g.call(c)}}c.isImmediatePropagationStopped=function(){return c.immediatePropagationStopped===!0};var k=e.specialHandlerWrapper||hg;f>1&&(e=kb(e));for(var h=0;h<f;h++)c.isImmediatePropagationStopped()||k(a,c,e[h])}};d.elem=a;return d}function hg(a,b,d){d.call(a,b)}function ig(a,
b,d){var c=b.relatedTarget;c&&(c===a||jg.call(a,c))||d.call(a,b)}function kg(){this.$get=function(){return Aa(Ha,{hasClass:function(a,b){a.attr&&(a=a[0]);return Bc(a,b)},addClass:function(a,b){a.attr&&(a=a[0]);return Dc(a,b)},removeClass:function(a,b){a.attr&&(a=a[0]);return Cc(a,b)}})}}function Pb(a,b){var d=a&&a.$$hashKey;if(d)return typeof d==="function"&&(d=a.$$hashKey()),d;d=typeof a;return d=d==="function"||d==="object"&&a!==null?a.$$hashKey=d+":"+(b||Of)():d+":"+a}function ve(){this._keys=
[];this._values=[];this._lastKey=NaN;this._lastIndex=-1}function we(a){a=Function.prototype.toString.call(a).replace(lg,"");return a.match(mg)||a.match(og)}function pg(a){return(a=we(a))?"function("+(a[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function fc(a,b){function d(C){return function(D,y){if(fa(D))J(D,gd(C));else return C(D,y)}}function c(C,D){Ob(C,"service");if(ca(D)||na(D))D=u.instantiate(D);if(!D.$get)throw Eb("pget",C);return r[C+"Provider"]=D}function e(C,D){return function(){var y=F.invoke(D,
this);if(U(y))throw Eb("undef",C);return y}}function f(C,D,y){return c(C,{$get:y!==!1?e(C,D):D})}function g(C){gc(U(C)||na(C),"modulesToLoad","not an array");var D=[],y;J(C,function(v){function p(q){var m;var x=0;for(m=q.length;x<m;x++){var G=q[x],B=u.get(G[0]);B[G[1]].apply(B,G[2])}}if(!n.get(v)){n.set(v,!0);try{oa(v)?(y=zd(v),F.modules[v]=y,D=D.concat(g(y.requires)).concat(y._runBlocks),p(y._invokeQueue),p(y._configBlocks)):ca(v)?D.push(u.invoke(v)):na(v)?D.push(u.invoke(v)):vc(v,"module")}catch(q){throw na(v)&&
(v=v[v.length-1]),q.message&&q.stack&&q.stack.indexOf(q.message)===-1&&(q=q.message+"\n"+q.stack),Eb("modulerr",v,q.stack||q.message||q);}}});return D}function k(C,D){function y(p,q){if(C.hasOwnProperty(p)){if(C[p]===h)throw Eb("cdep",p+" <- "+l.join(" <- "));return C[p]}try{return l.unshift(p),C[p]=h,C[p]=D(p,q),C[p]}catch(m){throw C[p]===h&&delete C[p],m;}finally{l.shift()}}function v(p,q,m){var x=[];p=fc.$$annotate(p,b,m);for(var G=0,B=p.length;G<B;G++){var A=p[G];if(typeof A!=="string")throw Eb("itkn",
A);x.push(q&&q.hasOwnProperty(A)?q[A]:y(A,m))}return x}return{invoke:function(p,q,m,x){typeof m==="string"&&(x=m,m=null);m=v(p,m,x);na(p)&&(p=p[p.length-1]);x=p;if(qb||typeof x!=="function")x=!1;else{var G=x.$$ngIsClass;vb(G)||(G=x.$$ngIsClass=/^(?:class\b|constructor\()/.test(Function.prototype.toString.call(x)));x=G}return x?(m.unshift(null),new (Function.prototype.bind.apply(p,m))):p.apply(q,m)},instantiate:function(p,q,m){var x=na(p)?p[p.length-1]:p;p=v(p,q,m);p.unshift(null);return new (Function.prototype.bind.apply(x,
p))},get:y,annotate:fc.$$annotate,has:function(p){return r.hasOwnProperty(p+"Provider")||C.hasOwnProperty(p)}}}b=b===!0;var h={},l=[],n=new Hc,r={$provide:{provider:d(c),factory:d(f),service:d(function(C,D){return f(C,["$injector",function(y){return y.instantiate(D)}])}),value:d(function(C,D){return f(C,cb(D),!1)}),constant:d(function(C,D){Ob(C,"constant");r[C]=D;w[C]=D}),decorator:function(C,D){var y=u.get(C+"Provider"),v=y.$get;y.$get=function(){var p=F.invoke(v,y);return F.invoke(D,null,{$delegate:p})}}}},
u=r.$injector=k(r,function(C,D){Va.isString(D)&&l.push(D);throw Eb("unpr",l.join(" <- "));}),w={},H=k(w,function(C,D){D=u.get(C+"Provider",D);return F.invoke(D.$get,D,void 0,C)}),F=H;r.$injectorProvider={$get:cb(H)};F.modules=u.modules=Ea();a=g(a);F=H.get("$injector");F.strictDi=b;J(a,function(C){C&&F.invoke(C)});F.loadNewModules=function(C){J(g(C),function(D){D&&F.invoke(D)})};return F}function qg(){var a=!0;this.disableAutoScrolling=function(){a=!1};this.$get=["$window","$location","$rootScope",
function(b,d,c){function e(h){var l=null;Array.prototype.some.call(h,function(n){if(ib(n)==="a")return l=n,!0});return l}function f(h){if(h){h.scrollIntoView();var l=g.yOffset;ca(l)?l=l():id(l)?(l=l[0],l=b.getComputedStyle(l).position!=="fixed"?0:l.getBoundingClientRect().bottom):Ra(l)||(l=0);l&&(h=h.getBoundingClientRect().top,b.scrollBy(0,h-l))}else b.scrollTo(0,0)}function g(h){h=oa(h)?h:Ra(h)?h.toString():d.hash();var l;h?(l=k.getElementById(h))?f(l):(l=e(k.getElementsByName(h)))?f(l):h==="top"&&
f(null):f(null)}var k=b.document;a&&c.$watch(function(){return d.hash()},function(h,l){h===l&&h===""||fg(function(){c.$evalAsync(g)})});return g}]}function ic(a,b){if(!a&&!b)return"";if(!a)return b;if(!b)return a;na(a)&&(a=a.join(" "));na(b)&&(b=b.join(" "));return a+" "+b}function rg(a){oa(a)&&(a=a.split(" "));var b=Ea();J(a,function(d){d.length&&(b[d]=!0)});return b}function Fb(a){return fa(a)?a:{}}function sg(a,b,d,c){function e(B){try{B.apply(null,hb.call(arguments,1))}finally{if(H--,H===0)for(;F.length;)try{F.pop()()}catch(A){d.error(A)}}}
function f(){p=null;k()}function g(){C=q();C=U(C)?null:C;db(C,G)&&(C=G);D=G=C}function k(){var B=D;g();if(y!==h.url()||B!==C)y=h.url(),D=C,J(m,function(A){A(h.url(),C)})}var h=this,l=a.location,n=a.history,r=a.setTimeout,u=a.clearTimeout,w={};h.isMock=!1;var H=0,F=[];h.$$completeOutstandingRequest=e;h.$$incOutstandingRequestCount=function(){H++};h.notifyWhenNoOutstandingRequests=function(B){H===0?B():F.push(B)};var C,D,y=l.href,v=b.find("base"),p=null,q=c.history?function(){try{return n.state}catch(B){}}:
la;g();h.url=function(B,A,E){U(E)&&(E=null);l!==a.location&&(l=a.location);n!==a.history&&(n=a.history);if(B){var L=D===E;if(y===B&&(!c.history||L))return h;var P=y&&Gb(y)===Gb(B);y=B;D=E;!c.history||P&&L?(P||(p=B),A?l.replace(B):P?(A=l,E=B.indexOf("#"),E=E===-1?"":B.substr(E),A.hash=E):l.href=B,l.href!==B&&(p=B)):(n[A?"replaceState":"pushState"](E,"",B),g());p&&(p=B);return h}return p||l.href.replace(/%27/g,"'")};h.state=function(){return C};var m=[],x=!1,G=null;h.onUrlChange=function(B){if(!x){if(c.history)da(a).on("popstate",
f);da(a).on("hashchange",f);x=!0}m.push(B);return B};h.$$applicationDestroyed=function(){da(a).off("hashchange popstate",f)};h.$$checkUrlChange=k;h.baseHref=function(){var B=v.attr("href");return B?B.replace(/^(https?:)?\/\/[^/]*/,""):""};h.defer=function(B,A){H++;var E=r(function(){delete w[E];e(B)},A||0);w[E]=!0;return E};h.defer.cancel=function(B){return w[B]?(delete w[B],u(B),e(la),!0):!1}}function tg(){this.$get=["$window","$log","$sniffer","$document",function(a,b,d,c){return new sg(a,c,b,d)}]}
function ug(){this.$get=function(){function a(d,c){function e(w){w!==r&&(u?u===w&&(u=w.n):u=w,f(w.n,w.p),f(w,r),r=w,r.n=null)}function f(w,H){w!==H&&(w&&(w.p=H),H&&(H.n=w))}if(d in b)throw va("$cacheFactory")("iid",d);var g=0,k=Aa({},c,{id:d}),h=Ea(),l=c&&c.capacity||Number.MAX_VALUE,n=Ea(),r=null,u=null;return b[d]={put:function(w,H){if(!U(H)){if(l<Number.MAX_VALUE){var F=n[w]||(n[w]={key:w});e(F)}w in h||g++;h[w]=H;g>l&&this.remove(u.key);return H}},get:function(w){if(l<Number.MAX_VALUE){var H=
n[w];if(!H)return;e(H)}return h[w]},remove:function(w){if(l<Number.MAX_VALUE){var H=n[w];if(!H)return;H===r&&(r=H.p);H===u&&(u=H.n);f(H.n,H.p);delete n[w]}w in h&&(delete h[w],g--)},removeAll:function(){h=Ea();g=0;n=Ea();r=u=null},destroy:function(){n=k=h=null;delete b[d]},info:function(){return Aa({},k,{size:g})}}}var b={};a.info=function(){var d={};J(b,function(c,e){d[e]=c.info()});return d};a.get=function(d){return b[d]};return a}}function vg(){this.$get=["$cacheFactory",function(a){return a("templates")}]}
function xe(a,b){function d(y,v,p){var q=/^([@&<]|=(\*?))(\??)\s*([\w$]*)$/,m=Ea();J(y,function(x,G){x=x.trim();if(x in r)m[G]=r[x];else{var B=x.match(q);if(!B)throw Ja("iscp",v,G,x,p?"controller bindings definition":"isolate scope definition");m[G]={mode:B[1][0],collection:B[2]==="*",optional:B[3]==="?",attrName:B[4]||G};B[4]&&(r[x]=m[G])}});return m}function c(y){var v=y.charAt(0);if(!v||v!==xa(v))throw Ja("baddir",y);if(y!==y.trim())throw Ja("baddir",y);}function e(y){var v=y.require||y.controller&&
y.name;!na(v)&&fa(v)&&J(v,function(p,q){var m=p.match(l);p.substring(m[0].length)||(v[q]=m[0]+q)});return v}var f={},g=/^\s*directive:\s*([\w-]+)\s+(.*)$/,k=/(([\w-]+)(?::([^;]+))?;?)/,h=Sf("ngSrc,ngSrcset,src,srcset"),l=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,n=/^(on[a-z]+|formaction)$/,r=Ea();this.directive=function q(v,p){gc(v,"name");Ob(v,"directive");oa(v)?(c(v),gc(p,"directiveFactory"),f.hasOwnProperty(v)||(f[v]=[],a.factory(v+"Directive",["$injector","$exceptionHandler",function(m,x){var G=[];J(f[v],
function(B,A){try{var E=m.invoke(B);ca(E)?E={compile:cb(E)}:!E.compile&&E.link&&(E.compile=cb(E.link));E.priority=E.priority||0;E.index=A;E.name=E.name||v;E.require=e(E);A=E;var L=E.restrict;if(L&&(!oa(L)||!/[EACM]/.test(L)))throw Ja("badrestrict",L,v);A.restrict=L||"EA";E.$$moduleName=B.$$moduleName;G.push(E)}catch(P){x(P)}});return G}])),f[v].push(p)):J(v,gd(q));return this};this.component=function m(p,q){function x(B){function A(P){return ca(P)||na(P)?function(S,X){return B.invoke(P,this,{$element:S,
$attrs:X})}:P}var E=q.template||q.templateUrl?q.template:"",L={controller:G,controllerAs:wg(q.controller)||q.controllerAs||"$ctrl",template:A(E),templateUrl:A(q.templateUrl),transclude:q.transclude,scope:{},bindToController:q.bindings||{},restrict:"E",require:q.require};J(q,function(P,S){S.charAt(0)==="$"&&(L[S]=P)});return L}if(!oa(p))return J(p,gd(Mb(this,m))),this;var G=q.controller||function(){};J(q,function(B,A){A.charAt(0)==="$"&&(x[A]=B,ca(G)&&(G[A]=B))});x.$inject=["$injector"];return this.directive(p,
x)};this.aHrefSanitizationWhitelist=function(p){return R(p)?(b.aHrefSanitizationWhitelist(p),this):b.aHrefSanitizationWhitelist()};this.imgSrcSanitizationWhitelist=function(p){return R(p)?(b.imgSrcSanitizationWhitelist(p),this):b.imgSrcSanitizationWhitelist()};var u=!0;this.debugInfoEnabled=function(p){return R(p)?(u=p,this):u};var w=!1;this.preAssignBindingsEnabled=function(p){return R(p)?(w=p,this):w};var H=!1;this.strictComponentBindingsEnabled=function(p){return R(p)?(H=p,this):H};var F=10;this.onChangesTtl=
function(p){return arguments.length?(F=p,this):F};var C=!0;this.commentDirectivesEnabled=function(p){return arguments.length?(C=p,this):C};var D=!0;this.cssClassDirectivesEnabled=function(p){return arguments.length?(D=p,this):D};this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(p,q,m,x,G,B,A,E,L,P){function S(){try{if(!--ye)throw Hb=void 0,Ja("infchng",F);A.$apply(function(){for(var t=0,z=Hb.length;t<
z;++t)try{Hb[t]()}catch(I){m(I)}Hb=void 0})}finally{ye++}}function X(t,z){if(z){var I=Object.keys(z),M;var N=0;for(M=I.length;N<M;N++){var K=I[N];this[K]=z[K]}}else this.$attr={};this.$$element=t}function ha(t,z,I){ze.innerHTML="<span "+z+">";z=ze.firstChild.attributes;var M=z[0];z.removeNamedItem(M.name);M.value=I;t.attributes.setNamedItem(M)}function ja(t,z){try{t.addClass(z)}catch(I){}}function ea(t,z,I,M,N){t instanceof da||(t=da(t));var K=ma(t,z,t,I,M,N);ea.$$addScopeClass(t);var aa=null;return function(O,
Z,V){if(!t)throw Ja("multilink");gc(O,"scope");N&&N.needsNewScope&&(O=O.$parent.$new());V=V||{};var W=V.parentBoundTranscludeFn,ba=V.transcludeControllers;V=V.futureParentElement;W&&W.$$boundTransclude&&(W=W.$$boundTransclude);aa||(aa=(V=V&&V[0])?ib(V)!=="foreignobject"&&Ta.call(V).match(/SVG/)?"svg":"html":"html");V=aa!=="html"?da(Ad(aa,da("<div></div>").append(t).html())):Z?Qb.clone.call(t):t;if(ba)for(var T in ba)V.data("$"+T+"Controller",ba[T].instance);ea.$$addScopeInfo(V,O);Z&&Z(V,O);K&&K(O,
V,V,W);Z||(t=K=null);return V}}function ma(t,z,I,M,N,K){function aa(sa,pa,Ga,Fa){var za,qa;if(ta){var Y=Array(pa.length);for(za=0;za<O.length;za+=3){var Ka=O[za];Y[Ka]=pa[Ka]}}else Y=pa;za=0;for(qa=O.length;za<qa;){var Ia=Y[O[za++]];pa=O[za++];Ka=O[za++];if(pa){if(pa.scope){var $a=sa.$new();ea.$$addScopeInfo(da(Ia),$a)}else $a=sa;var xb=pa.transcludeOnThisElement?ya(sa,pa.transclude,Fa):!pa.templateOnThisElement&&Fa?Fa:!Fa&&z?ya(sa,z):null;pa(Ka,$a,Ia,Ga,xb)}else Ka&&Ka(sa,Ia.childNodes,void 0,Fa)}}
for(var O=[],Z=na(t)||t instanceof da,V,W,ba,T,ta,ra=0;ra<t.length;ra++){V=new X;qb===11&&ka(t,ra,Z);W=ua(t[ra],[],V,ra===0?M:void 0,N);(K=W.length?Ae(W,t[ra],V,z,I,null,[],[],K):null)&&K.scope&&ea.$$addScopeClass(V.$$element);V=K&&K.terminal||!(ba=t[ra].childNodes)||!ba.length?null:ma(ba,K?(K.transcludeOnThisElement||!K.templateOnThisElement)&&K.transclude:z);if(K||V)O.push(ra,K,V),T=!0,ta=ta||K;K=null}return T?aa:null}function ka(t,z,I){var M=t[z],N=M.parentNode;if(M.nodeType===wb)for(;;){var K=
N?M.nextSibling:t[z+1];if(!K||K.nodeType!==wb)break;M.nodeValue+=K.nodeValue;K.parentNode&&K.parentNode.removeChild(K);I&&K===t[z+1]&&t.splice(z+1,1)}}function ya(t,z,I){function M(aa,O,Z,V,W){aa||(aa=t.$new(!1,W),aa.$$transcluded=!0);return z(aa,O,{parentBoundTranscludeFn:I,transcludeControllers:Z,futureParentElement:V})}var N=M.$$slots=Ea(),K;for(K in z.$$slots)N[K]=z.$$slots[K]?ya(t,z.$$slots[K],I):null;return M}function ua(t,z,I,M,N){var K=I.$attr;switch(t.nodeType){case 1:var aa=ib(t);Ic(z,lb(aa),
"E",M,N);for(var O,Z,V,W,ba=t.attributes,T=0,ta=ba&&ba.length;T<ta;T++){var ra=!1,sa=!1;O=ba[T];Z=O.name;V=O.value;O=lb(Z);(W=xg.test(O))&&(Z=Z.replace(Be,"").substr(8).replace(/_(.)/g,function(pa,Ga){return Ga.toUpperCase()}));(O=O.match(yg))&&zg(O[1])&&(ra=Z,sa=Z.substr(0,Z.length-5)+"end",Z=Z.substr(0,Z.length-6));O=lb(Z.toLowerCase());K[O]=Z;if(W||!I.hasOwnProperty(O))I[O]=V,te(t,O)&&(I[O]=!0);Ag(t,z,V,O,W);Ic(z,O,"A",M,N,ra,sa)}aa==="input"&&t.getAttribute("type")==="hidden"&&t.setAttribute("autocomplete",
"off");if(!Bg)break;K=t.className;fa(K)&&(K=K.animVal);if(oa(K)&&K!=="")for(;t=k.exec(K);)O=lb(t[2]),Ic(z,O,"C",M,N)&&(I[O]=Ca(t[3])),K=K.substr(t.index+t[0].length);break;case wb:Cg(z,t.nodeValue);break;case 8:Dg&&mb(t,z,I,M,N)}z.sort(Eg);return z}function mb(t,z,I,M,N){try{var K=g.exec(t.nodeValue);if(K){var aa=lb(K[1]);Ic(z,aa,"M",M,N)&&(I[aa]=Ca(K[2]))}}catch(O){}}function Ce(t,z,I){var M=[],N=0;if(z&&t.hasAttribute&&t.hasAttribute(z)){do{if(!t)throw Ja("uterdir",z,I);t.nodeType===1&&(t.hasAttribute(z)&&
N++,t.hasAttribute(I)&&N--);M.push(t);t=t.nextSibling}while(N>0)}else M.push(t);return da(M)}function De(t,z,I){return function(M,N,K,aa,O){N=Ce(N[0],z,I);return t(M,N,K,aa,O)}}function Bd(t,z,I,M,N,K){var aa;return t?ea(z,I,M,N,K):function(){aa||(aa=ea(z,I,M,N,K),z=I=K=null);return aa.apply(this,arguments)}}function Ae(t,z,I,M,N,K,aa,O,Z){function V(Da,wa,fb,ab){if(Da){fb&&(Da=De(Da,fb,ab));Da.require=Y.require;Da.directiveName=Ka;if(ra===Y||Y.$$isolateScope)Da=Ee(Da,{isolateScope:!0});aa.push(Da)}if(wa){fb&&
(wa=De(wa,fb,ab));wa.require=Y.require;wa.directiveName=Ka;if(ra===Y||Y.$$isolateScope)wa=Ee(wa,{isolateScope:!0});O.push(wa)}}function W(Da,wa,fb,ab,Rb){function Fg(La,Na,Wa,Jc){var Cd;ac(La)||(Jc=Wa,Wa=Na,Na=La,La=void 0);za&&(Cd=nb);Wa||(Wa=za?Sa.parent():Sa);if(Jc){var Dd=Rb.$$slots[Jc];if(Dd)return Dd(La,Na,Cd,Wa,Kc);if(U(Dd))throw Ja("noslot",Jc,jb(Sa));}else return Rb(La,Na,Cd,Wa,Kc)}var nb;if(z===fb){ab=I;var Sa=I.$$element}else Sa=da(fb),ab=new X(Sa,I);var Sb=wa;if(ra)var rb=wa.$new(!0);
else T&&(Sb=wa.$parent);if(Rb){var jc=Fg;jc.$$boundTransclude=Rb;jc.isSlotFilled=function(La){return!!Rb.$$slots[La]}}ta&&(nb=Gg(Sa,ab,jc,ta,rb,wa,ra));if(ra){ea.$$addScopeInfo(Sa,rb,!0,!(sa&&(sa===ra||sa===ra.$$originalDirective)));ea.$$addScopeClass(Sa,!0);rb.$$isolateBindings=ra.$$isolateBindings;var gb=Lc(wa,ab,rb,rb.$$isolateBindings,ra);gb.removeWatches&&rb.$on("$destroy",gb.removeWatches)}for(ob in nb){gb=ta[ob];var Ba=nb[ob];var Mc=gb.$$bindings.bindToController;if(w){Ba.bindingInfo=Mc?Lc(Sb,
ab,Ba.instance,Mc,gb):{};var Ed=Ba();Ed!==Ba.instance&&(Ba.instance=Ed,Sa.data("$"+gb.name+"Controller",Ed),Ba.bindingInfo.removeWatches&&Ba.bindingInfo.removeWatches(),Ba.bindingInfo=Lc(Sb,ab,Ba.instance,Mc,gb))}else Ba.instance=Ba(),Sa.data("$"+gb.name+"Controller",Ba.instance),Ba.bindingInfo=Lc(Sb,ab,Ba.instance,Mc,gb)}J(ta,function(La,Na){var Wa=La.require;La.bindToController&&!na(Wa)&&fa(Wa)&&Aa(nb[Na].instance,kc(Na,Wa,Sa,nb))});J(nb,function(La){var Na=La.instance;if(ca(Na.$onChanges))try{Na.$onChanges(La.bindingInfo.initialChanges)}catch(Wa){m(Wa)}if(ca(Na.$onInit))try{Na.$onInit()}catch(Wa){m(Wa)}ca(Na.$doCheck)&&
(Sb.$watch(function(){Na.$doCheck()}),Na.$doCheck());ca(Na.$onDestroy)&&Sb.$on("$destroy",function(){Na.$onDestroy()})});var ob=0;for(gb=aa.length;ob<gb;ob++)Ba=aa[ob],Fe(Ba,Ba.isolateScope?rb:wa,Sa,ab,Ba.require&&kc(Ba.directiveName,Ba.require,Sa,nb),jc);var Kc=wa;ra&&(ra.template||ra.templateUrl===null)&&(Kc=rb);Da&&Da(Kc,fb.childNodes,void 0,Rb);for(ob=O.length-1;ob>=0;ob--)Ba=O[ob],Fe(Ba,Ba.isolateScope?rb:wa,Sa,ab,Ba.require&&kc(Ba.directiveName,Ba.require,Sa,nb),jc);J(nb,function(La){La=La.instance;
ca(La.$postLink)&&La.$postLink()})}Z=Z||{};for(var ba=-Number.MAX_VALUE,T=Z.newScopeDirective,ta=Z.controllerDirectives,ra=Z.newIsolateScopeDirective,sa=Z.templateDirective,pa=Z.nonTlbTranscludeDirective,Ga=!1,Fa=!1,za=Z.hasElementTranscludeDirective,qa=I.$$element=da(z),Y,Ka,Ia,$a=M,xb,yb=!1,Nc=!1,Oa,zb=0,Tb=t.length;zb<Tb;zb++){Y=t[zb];var Oc=Y.$$start,Fd=Y.$$end;Oc&&(qa=Ce(z,Oc,Fd));Ia=void 0;if(ba>Y.priority)break;if(Oa=Y.scope)Y.templateUrl||(fa(Oa)?(Ub("new/isolated scope",ra||T,Y,qa),ra=Y):
Ub("new/isolated scope",ra,Y,qa)),T=T||Y;Ka=Y.name;if(!yb&&(Y.replace&&(Y.templateUrl||Y.template)||Y.transclude&&!Y.$$tlb)){for(Oa=zb+1;yb=t[Oa++];)if(yb.transclude&&!yb.$$tlb||yb.replace&&(yb.templateUrl||yb.template)){Nc=!0;break}yb=!0}!Y.templateUrl&&Y.controller&&(ta=ta||Ea(),Ub("'"+Ka+"' controller",ta[Ka],Y,qa),ta[Ka]=Y);if(Oa=Y.transclude)if(Ga=!0,Y.$$tlb||(Ub("transclusion",pa,Y,qa),pa=Y),Oa==="element")za=!0,ba=Y.priority,Ia=qa,qa=I.$$element=da(ea.$$createComment(Ka,I[Ka])),z=qa[0],Pc(N,
hb.call(Ia,0),z),Ia[0].$$parentNode=Ia[0].parentNode,$a=Bd(Nc,Ia,M,ba,K&&K.name,{nonTlbTranscludeDirective:pa});else{var sb=Ea();if(fa(Oa)){Ia=[];var Ge=Ea(),Gd=Ea();J(Oa,function(Da,wa){var fb=Da.charAt(0)==="?";Da=fb?Da.substring(1):Da;Ge[Da]=wa;sb[wa]=null;Gd[wa]=fb});J(qa.contents(),function(Da){var wa=Ge[lb(ib(Da))];wa?(Gd[wa]=!0,sb[wa]=sb[wa]||[],sb[wa].push(Da)):Ia.push(Da)});J(Gd,function(Da,wa){if(!Da)throw Ja("reqslot",wa);});for(var Hd in sb)sb[Hd]&&(sb[Hd]=Bd(Nc,sb[Hd],M))}else Ia=da(wd(z)).contents();
qa.empty();$a=Bd(Nc,Ia,M,void 0,void 0,{needsNewScope:Y.$$isolateScope||Y.$$newScope});$a.$$slots=sb}if(Y.template)if(Fa=!0,Ub("template",sa,Y,qa),sa=Y,Oa=ca(Y.template)?Y.template(qa,I):Y.template,Oa=He(Oa),Y.replace){K=Y;Ia=td.test(Oa)?Ie(Ad(Y.templateNamespace,Ca(Oa))):[];z=Ia[0];if(Ia.length!==1||z.nodeType!==1)throw Ja("tplrt",Ka,"");Pc(N,qa,z);Tb={$attr:{}};Oa=ua(z,[],Tb);var Hg=t.splice(zb+1,t.length-(zb+1));(ra||T)&&Je(Oa,ra,T);t=t.concat(Oa).concat(Hg);Ke(I,Tb);Tb=t.length}else qa.html(Oa);
if(Y.templateUrl)Fa=!0,Ub("template",sa,Y,qa),sa=Y,Y.replace&&(K=Y),W=Ig(t.splice(zb,t.length-zb),qa,I,N,Ga&&$a,aa,O,{controllerDirectives:ta,newScopeDirective:T!==Y&&T,newIsolateScopeDirective:ra,templateDirective:sa,nonTlbTranscludeDirective:pa}),Tb=t.length;else if(Y.compile)try{xb=Y.compile(qa,I,$a);var Id=Y.$$originalDirective||Y;ca(xb)?V(null,Mb(Id,xb),Oc,Fd):xb&&V(Mb(Id,xb.pre),Mb(Id,xb.post),Oc,Fd)}catch(Da){m(Da,jb(qa))}Y.terminal&&(W.terminal=!0,ba=Math.max(ba,Y.priority))}W.scope=T&&T.scope===
!0;W.transcludeOnThisElement=Ga;W.templateOnThisElement=Fa;W.transclude=$a;Z.hasElementTranscludeDirective=za;return W}function kc(t,z,I,M){if(oa(z)){var N=z.match(l);z=z.substring(N[0].length);var K=N[1]||N[3];N=N[2]==="?";if(K==="^^")I=I.parent();else var aa=(aa=M&&M[z])&&aa.instance;if(!aa){var O="$"+z+"Controller";aa=K?I.inheritedData(O):I.data(O)}if(!aa&&!N)throw Ja("ctreq",z,t);}else if(na(z))for(aa=[],K=0,N=z.length;K<N;K++)aa[K]=kc(t,z[K],I,M);else fa(z)&&(aa={},J(z,function(Z,V){aa[V]=kc(t,
Z,I,M)}));return aa||null}function Gg(t,z,I,M,N,K,aa){var O=Ea(),Z;for(Z in M){var V=M[Z],W={$scope:V===aa||V.$$isolateScope?N:K,$element:t,$attrs:z,$transclude:I},ba=V.controller;ba==="@"&&(ba=z[V.name]);W=B(ba,W,!0,V.controllerAs);O[V.name]=W;t.data("$"+V.name+"Controller",W.instance)}return O}function Je(t,z,I){for(var M=0,N=t.length;M<N;M++)t[M]=jd(t[M],{$$isolateScope:z,$$newScope:I})}function Ic(t,z,I,M,N,K,aa){if(z===N)return null;var O=null;if(f.hasOwnProperty(z)){N=p.get(z+"Directive");for(var Z=
0,V=N.length;Z<V;Z++)if(z=N[Z],(U(M)||M>z.priority)&&z.restrict.indexOf(I)!==-1){K&&(z=jd(z,{$$start:K,$$end:aa}));if(!z.$$bindings){var W=O=z,ba=z.name,T={isolateScope:null,bindToController:null};fa(W.scope)&&(W.bindToController===!0?(T.bindToController=d(W.scope,ba,!0),T.isolateScope={}):T.isolateScope=d(W.scope,ba,!1));fa(W.bindToController)&&(T.bindToController=d(W.bindToController,ba,!0));if(T.bindToController&&!W.controller)throw Ja("noctrl",ba);O=O.$$bindings=T;fa(O.isolateScope)&&(z.$$isolateBindings=
O.isolateScope)}t.push(z);O=z}}return O}function zg(t){if(f.hasOwnProperty(t))for(var z=p.get(t+"Directive"),I=0,M=z.length;I<M;I++)if(t=z[I],t.multiElement)return!0;return!1}function Ke(t,z){var I=z.$attr,M=t.$attr;J(t,function(N,K){K.charAt(0)!=="$"&&(z[K]&&z[K]!==N&&(N=N.length?N+((K==="style"?";":" ")+z[K]):z[K]),t.$set(K,N,!0,I[K]))});J(z,function(N,K){t.hasOwnProperty(K)||K.charAt(0)==="$"||(t[K]=N,K!=="class"&&K!=="style"&&(M[K]=I[K]))})}function Ig(t,z,I,M,N,K,aa,O){var Z=[],V,W,ba=z[0],T=
t.shift(),ta=jd(T,{templateUrl:null,transclude:null,replace:null,$$originalDirective:T}),ra=ca(T.templateUrl)?T.templateUrl(z,I):T.templateUrl,sa=T.templateNamespace;z.empty();x(ra).then(function(pa){pa=He(pa);if(T.replace){pa=td.test(pa)?Ie(Ad(sa,Ca(pa))):[];var Ga=pa[0];if(pa.length!==1||Ga.nodeType!==1)throw Ja("tplrt",T.name,ra);pa={$attr:{}};Pc(M,z,Ga);var Fa=ua(Ga,[],pa);fa(T.scope)&&Je(Fa,!0);t=Fa.concat(t);Ke(I,pa)}else Ga=ba,z.html(pa);t.unshift(ta);V=Ae(t,Ga,I,N,z,T,K,aa,O);J(M,function(Ia,
$a){Ia===Ga&&(M[$a]=z[0])});for(W=ma(z[0].childNodes,N);Z.length;){pa=Z.shift();var za=Z.shift();var qa=Z.shift(),Y=Z.shift();Fa=z[0];if(!pa.$$destroyed){if(za!==ba){var Ka=za.className;O.hasElementTranscludeDirective&&T.replace||(Fa=wd(Ga));Pc(qa,da(za),Fa);ja(da(Fa),Ka)}za=V.transcludeOnThisElement?ya(pa,V.transclude,Y):Y;V(W,pa,Fa,M,za)}}Z=null}).catch(function(pa){ld(pa)&&m(pa)});return function(pa,Ga,Fa,za,qa){pa=qa;Ga.$$destroyed||(Z?Z.push(Ga,Fa,za,pa):(V.transcludeOnThisElement&&(pa=ya(Ga,
V.transclude,qa)),V(W,Ga,Fa,za,pa)))}}function Eg(t,z){var I=z.priority-t.priority;return I!==0?I:t.name!==z.name?t.name<z.name?-1:1:t.index-z.index}function Ub(t,z,I,M){function N(K){return K?" (module: "+K+")":""}if(z)throw Ja("multidir",z.name,N(z.$$moduleName),I.name,N(I.$$moduleName),t,jb(M));}function Cg(t,z){var I=q(z,!0);I&&t.push({priority:0,compile:function(M){M=M.parent();var N=!!M.length;N&&ea.$$addBindingClass(M);return function(K,aa){var O=aa.parent();N||ea.$$addBindingClass(O);ea.$$addBindingInfo(O,
I.expressions);K.$watch(I,function(Z){aa[0].nodeValue=Z})}}})}function Ad(t,z){t=xa(t||"html");switch(t){case "svg":case "math":var I=ia.document.createElement("div");I.innerHTML="<"+t+">"+z+"</"+t+">";return I.childNodes[0].childNodes;default:return z}}function Jg(t,z){if(z==="srcdoc")return E.HTML;t=ib(t);if(z==="src"||z==="ngSrc"){if(["img","video","audio","source","track"].indexOf(t)===-1)return E.RESOURCE_URL}else if(z==="xlinkHref"||t==="form"&&z==="action"||t==="link"&&z==="href")return E.RESOURCE_URL}
function Ag(t,z,I,M,N){var K=Jg(t,M),aa=h[M]||N,O=q(I,!N,K,aa);if(O){if(M==="multiple"&&ib(t)==="select")throw Ja("selmulti",jb(t));if(n.test(M))throw Ja("nodomevents");z.push({priority:100,compile:function(){return{pre:function(Z,V,W){V=W.$$observers||(W.$$observers=Ea());var ba=W[M];ba!==I&&(O=ba&&q(ba,!0,K,aa),I=ba);O&&(W[M]=O(Z),(V[M]||(V[M]=[])).$$inter=!0,(W.$$observers&&W.$$observers[M].$$scope||Z).$watch(O,function(T,ta){M==="class"&&T!==ta?W.$updateClass(T,ta):W.$set(M,T)}))}}}})}}function Pc(t,
z,I){var M=z[0],N=z.length,K=M.parentNode,aa;if(t){var O=0;for(aa=t.length;O<aa;O++)if(t[O]===M){t[O++]=I;aa=O+N-1;for(var Z=t.length;O<Z;O++,aa++)aa<Z?t[O]=t[aa]:delete t[O];t.length-=N-1;t.context===M&&(t.context=I);break}}K&&K.replaceChild(I,M);t=ia.document.createDocumentFragment();for(O=0;O<N;O++)t.appendChild(z[O]);da.hasData(M)&&(da.data(I,da.data(M)),da(M).off("$destroy"));da.cleanData(t.querySelectorAll("*"));for(O=1;O<N;O++)delete z[O];z[0]=I;z.length=1}function Ee(t,z){return Aa(function(){return t.apply(null,
arguments)},t,z)}function Fe(t,z,I,M,N,K){try{t(z,I,M,N,K)}catch(aa){m(aa,jb(I))}}function Qc(t,z){if(H)throw Ja("missingattr",t,z);}function Lc(t,z,I,M,N){function K(W,ba,T){ca(I.$onChanges)&&!md(ba,T)&&(Hb||(t.$$postDigest(S),Hb=[]),V||(V={},Hb.push(aa)),V[W]&&(T=V[W].previousValue),V[W]=new Rc(T,ba))}function aa(){I.$onChanges(V);V=void 0}var O=[],Z={},V;J(M,function(W,ba){var T=W.attrName,ta=W.optional;switch(W.mode){case "@":ta||bb.call(z,T)||(Qc(T,N.name),I[ba]=z[T]=void 0);W=z.$observe(T,function(qa){if(oa(qa)||
vb(qa))K(ba,qa,I[ba]),I[ba]=qa});z.$$observers[T].$$scope=t;var ra=z[T];oa(ra)?I[ba]=q(ra)(t):vb(ra)&&(I[ba]=ra);Z[ba]=new Rc(Jd,I[ba]);O.push(W);break;case "=":if(!bb.call(z,T)){if(ta)break;Qc(T,N.name);z[T]=void 0}if(ta&&!z[T])break;var sa=G(z[T]);var pa=sa.literal?db:md;var Ga=sa.assign||function(){ra=I[ba]=sa(t);throw Ja("nonassign",z[T],T,N.name);};ra=I[ba]=sa(t);ta=function(qa){pa(qa,I[ba])||(pa(qa,ra)?Ga(t,qa=I[ba]):I[ba]=qa);return ra=qa};ta.$stateful=!0;W=W.collection?t.$watchCollection(z[T],
ta):t.$watch(G(z[T],ta),null,sa.literal);O.push(W);break;case "<":if(!bb.call(z,T)){if(ta)break;Qc(T,N.name);z[T]=void 0}if(ta&&!z[T])break;sa=G(z[T]);var Fa=sa.literal,za=I[ba]=sa(t);Z[ba]=new Rc(Jd,I[ba]);W=t.$watch(sa,function(qa,Y){if(Y===qa){if(Y===za||Fa&&db(Y,za))return;Y=za}K(ba,qa,Y);I[ba]=qa},Fa);O.push(W);break;case "&":ta||bb.call(z,T)||Qc(T,N.name),sa=z.hasOwnProperty(T)?G(z[T]):la,sa===la&&ta||(I[ba]=function(qa){return sa(t,qa)})}});return{initialChanges:Z,removeWatches:O.length&&function(){for(var W=
0,ba=O.length;W<ba;++W)O[W]()}}}var Kg=/^\w/,ze=ia.document.createElement("div"),Dg=C,Bg=D,ye=F,Hb;X.prototype={$normalize:lb,$addClass:function(t){t&&t.length>0&&L.addClass(this.$$element,t)},$removeClass:function(t){t&&t.length>0&&L.removeClass(this.$$element,t)},$updateClass:function(t,z){var I=Le(t,z);I&&I.length&&L.addClass(this.$$element,I);(t=Le(z,t))&&t.length&&L.removeClass(this.$$element,t)},$set:function(t,z,I,M){var N=te(this.$$element[0],t),K=Me[t],aa=t;N?(this.$$element.prop(t,z),M=
N):K&&(this[K]=z,aa=K);this[t]=z;M?this.$attr[t]=M:(M=this.$attr[t])||(this.$attr[t]=M=me(t,"-"));N=ib(this.$$element);if(N==="a"&&(t==="href"||t==="xlinkHref")||N==="img"&&t==="src")this[t]=z=z==null?z:P(z,t==="src");else if(N==="img"&&t==="srcset"&&R(z)){N="";K=Ca(z);var O=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/;O=/\s/.test(K)?O:/(,)/;K=K.split(O);O=Math.floor(K.length/2);for(var Z=0;Z<O;Z++){var V=Z*2;N+=P(Ca(K[V]),!0);N+=" "+Ca(K[V+1])}K=Ca(K[Z*2]).split(/\s/);N+=P(Ca(K[0]),!0);K.length===2&&(N+=
" "+Ca(K[1]));this[t]=z=N}I!==!1&&(z==null?this.$$element.removeAttr(M):Kg.test(M)?this.$$element.attr(M,z):ha(this.$$element[0],M,z));(t=this.$$observers)&&J(t[aa],function(W){try{W(z)}catch(ba){m(ba)}})},$observe:function(t,z){var I=this,M=I.$$observers||(I.$$observers=Ea()),N=M[t]||(M[t]=[]);N.push(z);A.$evalAsync(function(){N.$$inter||!I.hasOwnProperty(t)||U(I[t])||z(I[t])});return function(){bc(N,z)}}};var Ne=q.startSymbol(),Oe=q.endSymbol(),He=Ne==="{{"&&Oe==="}}"?uc:function(t){return t.replace(/\{\{/g,
Ne).replace(/}}/g,Oe)},xg=/^ngAttr[A-Z]/,yg=/^(.+)Start$/;ea.$$addBindingInfo=u?function(t,z){var I=t.data("$binding")||[];na(z)?I=I.concat(z):I.push(z);t.data("$binding",I)}:la;ea.$$addBindingClass=u?function(t){ja(t,"ng-binding")}:la;ea.$$addScopeInfo=u?function(t,z,I,M){t.data(I?M?"$isolateScopeNoTemplate":"$isolateScope":"$scope",z)}:la;ea.$$addScopeClass=u?function(t,z){ja(t,z?"ng-isolate-scope":"ng-scope")}:la;ea.$$createComment=function(t,z){var I="";u&&(I=" "+(t||"")+": ",z&&(I+=z+" "));return ia.document.createComment(I)};
return ea}]}function Rc(a,b){this.previousValue=a;this.currentValue=b}function lb(a){return a.replace(Be,"").replace(Lg,function(b,d,c){return c?d.toUpperCase():d})}function Le(a,b){var d="";a=a.split(/\s+/);b=b.split(/\s+/);var c=0;a:for(;c<a.length;c++){for(var e=a[c],f=0;f<b.length;f++)if(e===b[f])continue a;d+=(d.length>0?" ":"")+e}return d}function Ie(a){a=da(a);var b=a.length;if(b<=1)return a;for(;b--;){var d=a[b];(d.nodeType===8||d.nodeType===wb&&d.nodeValue.trim()==="")&&Mg.call(a,b,1)}return a}
function wg(a,b){if(b&&oa(b))return b;if(oa(a)&&(a=Pe.exec(a)))return a[3]}function Ng(){var a={},b=!1;this.has=function(d){return a.hasOwnProperty(d)};this.register=function(d,c){Ob(d,"controller");fa(d)?Aa(a,d):a[d]=c};this.allowGlobals=function(){b=!0};this.$get=["$injector","$window",function(d,c){function e(f,g,k,h){if(!f||!fa(f.$scope))throw va("$controller")("noscp",h,g);f.$scope[g]=k}return function(f,g,k,h){var l;k=k===!0;h&&oa(h)&&(l=h);if(oa(f)){h=f.match(Pe);if(!h)throw Qe("ctrlfmt",f);
var n=h[1];l=l||h[3];f=a.hasOwnProperty(n)?a[n]:ne(g.$scope,n,!0)||(b?ne(c,n,!0):void 0);if(!f)throw Qe("ctrlreg",n);vc(f,n,!0)}if(k){k=(na(f)?f[f.length-1]:f).prototype;var r=Object.create(k||null);l&&e(g,l,r,n||f.name);return Aa(function(){var u=d.invoke(f,r,g,n);u!==r&&(fa(u)||ca(u))&&(r=u,l&&e(g,l,r,n||f.name));return r},{instance:r,identifier:l})}r=d.instantiate(f,g,n);l&&e(g,l,r,n||f.name);return r}}]}function Og(){this.$get=["$window",function(a){return da(a.document)}]}function Pg(){this.$get=
["$document","$rootScope",function(a,b){function d(){e=c.hidden}var c=a[0],e=c&&c.hidden;a.on("visibilitychange",d);b.$on("$destroy",function(){a.off("visibilitychange",d)});return function(){return e}}]}function Qg(){this.$get=["$log",function(a){return function(b,d){a.error.apply(a,arguments)}}]}function Kd(a){return fa(a)?Xa(a)?a.toISOString():dc(a):a}function Rg(){this.$get=function(){return function(a){if(!a)return"";var b=[];fe(a,function(d,c){d===null||U(d)||ca(d)||(na(d)?J(d,function(e){b.push(Za(c)+
"="+Za(Kd(e)))}):b.push(Za(c)+"="+Za(Kd(d))))});return b.join("&")}}}function Sg(){this.$get=function(){return function(a){function b(c,e,f){c===null||U(c)||(na(c)?J(c,function(g,k){b(g,e+"["+(fa(g)?k:"")+"]")}):fa(c)&&!Xa(c)?fe(c,function(g,k){b(g,e+(f?"":"[")+k+(f?"":"]"))}):d.push(Za(e)+"="+Za(Kd(c))))}if(!a)return"";var d=[];b(a,"",!0);return d.join("&")}}}function Ld(a,b){if(oa(a)){var d=a.replace(Tg,"").trim();if(d){b=(b=b("Content-Type"))&&b.indexOf(Re)===0;var c;(c=b)||(c=(c=d.match(Ug))&&
Vg[c[0]].test(d));if(c)try{a=ie(d)}catch(e){if(!b)return a;throw Sc("baddata",a,e);}}}return a}function Se(a){var b=Ea(),d;oa(a)?J(a.split("\n"),function(c){d=c.indexOf(":");var e=xa(Ca(c.substr(0,d)));c=Ca(c.substr(d+1));e&&(b[e]=b[e]?b[e]+", "+c:c)}):fa(a)&&J(a,function(c,e){e=xa(e);c=Ca(c);e&&(b[e]=b[e]?b[e]+", "+c:c)});return b}function Te(a){var b;return function(d){b||(b=Se(a));return d?(d=b[xa(d)],d===void 0&&(d=null),d):b}}function Ue(a,b,d,c){if(ca(c))return c(a,b,d);J(c,function(e){a=e(a,
b,d)});return a}function Wg(){var a=this.defaults={transformResponse:[Ld],transformRequest:[function(e){return fa(e)&&Ta.call(e)!=="[object File]"&&Ta.call(e)!=="[object Blob]"&&Ta.call(e)!=="[object FormData]"?dc(e):e}],headers:{common:{Accept:"application/json, text/plain, */*"},post:kb(Md),put:kb(Md),patch:kb(Md)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"},b=!1;this.useApplyAsync=function(e){return R(e)?(b=!!e,
this):b};var d=this.interceptors=[],c=this.xsrfWhitelistedOrigins=[];this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(e,f,g,k,h,l,n,r){function u(v){function p(A,E){for(var L=0,P=E.length;L<P;){var S=E[L++],X=E[L++];A=A.then(S,X)}E.length=0;return A}function q(A,E){var L,P={};J(A,function(S,X){ca(S)?(L=S(E),L!=null&&(P[X]=L)):P[X]=S});return P}function m(A){var E=Aa({},A);E.data=Ue(A.data,A.headers,A.status,x.transformResponse);A=
A.status;return 200<=A&&A<300?E:l.reject(E)}if(!fa(v))throw va("$http")("badreq",v);if(!oa(r.valueOf(v.url)))throw va("$http")("badreq",v.url);var x=Aa({method:"get",transformRequest:a.transformRequest,transformResponse:a.transformResponse,paramSerializer:a.paramSerializer,jsonpCallbackParam:a.jsonpCallbackParam},v);x.headers=function(A){var E=a.headers,L=Aa({},A.headers),P,S;E=Aa({},E.common,E[xa(A.method)]);a:for(P in E){var X=xa(P);for(S in L)if(xa(S)===X)continue a;L[P]=E[P]}return q(L,kb(A))}(v);
x.method=Tc(x.method);x.paramSerializer=oa(x.paramSerializer)?n.get(x.paramSerializer):x.paramSerializer;e.$$incOutstandingRequestCount();var G=[],B=[];v=l.resolve(x);J(D,function(A){(A.request||A.requestError)&&G.unshift(A.request,A.requestError);(A.response||A.responseError)&&B.push(A.response,A.responseError)});v=p(v,G);v=v.then(function(A){var E=A.headers,L=Ue(A.data,Te(E),void 0,A.transformRequest);U(L)&&J(E,function(P,S){xa(S)==="content-type"&&delete E[S]});U(A.withCredentials)&&!U(a.withCredentials)&&
(A.withCredentials=a.withCredentials);return w(A,L).then(m,m)});v=p(v,B);return v=v.finally(function(){e.$$completeOutstandingRequest(la)})}function w(v,p){function q(ja){if(ja){var ea={};J(ja,function(ma,ka){ea[ka]=function(ya){function ua(){ma(ya)}b?h.$applyAsync(ua):h.$$phase?ua():h.$apply(ua)}});return ea}}function m(ja,ea,ma,ka,ya){function ua(){x(ea,ja,ma,ka,ya)}L&&(200<=ja&&ja<300?L.put(X,[ja,ea,Se(ma),ka,ya]):L.remove(X));b?h.$applyAsync(ua):(ua(),h.$$phase||h.$apply())}function x(ja,ea,ma,
ka,ya){ea=ea>=-1?ea:0;(200<=ea&&ea<300?A.resolve:A.reject)({data:ja,status:ea,headers:Te(ma),config:v,statusText:ka,xhrStatus:ya})}function G(ja){x(ja.data,ja.status,kb(ja.headers()),ja.statusText,ja.xhrStatus)}function B(){var ja=u.pendingRequests.indexOf(v);ja!==-1&&u.pendingRequests.splice(ja,1)}var A=l.defer(),E=A.promise,L,P=v.headers,S=xa(v.method)==="jsonp",X=v.url;S?X=r.getTrustedResourceUrl(X):oa(X)||(X=r.valueOf(X));X=H(X,v.paramSerializer(v.params));S&&(X=F(X,v.jsonpCallbackParam));u.pendingRequests.push(v);
E.then(B,B);!v.cache&&!a.cache||v.cache===!1||v.method!=="GET"&&v.method!=="JSONP"||(L=fa(v.cache)?v.cache:fa(a.cache)?a.cache:C);if(L){var ha=L.get(X);R(ha)?ha&&ca(ha.then)?ha.then(G,G):na(ha)?x(ha[1],ha[0],kb(ha[2]),ha[3],ha[4]):x(ha,200,{},"OK","complete"):L.put(X,E)}U(ha)&&((ha=y(v.url)?g()[v.xsrfCookieName||a.xsrfCookieName]:void 0)&&(P[v.xsrfHeaderName||a.xsrfHeaderName]=ha),f(v.method,X,p,m,P,v.timeout,v.withCredentials,v.responseType,q(v.eventHandlers),q(v.uploadEventHandlers)));return E}
function H(v,p){p.length>0&&(v+=(v.indexOf("?")===-1?"?":"&")+p);return v}function F(v,p){var q=v.split("?");if(q.length>2)throw Sc("badjsonp",v);q=pd(q[1]);J(q,function(m,x){if(m==="JSON_CALLBACK")throw Sc("badjsonp",v);if(x===p)throw Sc("badjsonp",p,v);});return v+=(v.indexOf("?")===-1?"?":"&")+p+"=JSON_CALLBACK"}var C=k("$http");a.paramSerializer=oa(a.paramSerializer)?n.get(a.paramSerializer):a.paramSerializer;var D=[];J(d,function(v){D.unshift(oa(v)?n.get(v):n.invoke(v))});var y=Xg(c);u.pendingRequests=
[];(function(v){J(arguments,function(p){u[p]=function(q,m){return u(Aa({},m||{},{method:p,url:q}))}})})("get","delete","head","jsonp");(function(v){J(arguments,function(p){u[p]=function(q,m,x){return u(Aa({},x||{},{method:p,url:q,data:m}))}})})("post","put","patch");u.defaults=a;return u}]}function Yg(){this.$get=function(){return function(){return new ia.XMLHttpRequest}}}function Zg(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(a,b,d,c){return $g(a,c,a.defer,b,d[0])}]}
function $g(a,b,d,c,e){function f(g,k,h){g=g.replace("JSON_CALLBACK",k);var l=e.createElement("script"),n=null;l.type="text/javascript";l.src=g;l.async=!0;n=function(r){l.removeEventListener("load",n);l.removeEventListener("error",n);e.body.removeChild(l);l=null;var u=-1,w="unknown";r&&(r.type!=="load"||c.wasCalled(k)||(r={type:"error"}),w=r.type,u=r.type==="error"?404:200);h&&h(u,w)};l.addEventListener("load",n);l.addEventListener("error",n);e.body.appendChild(l);return n}return function(g,k,h,l,
n,r,u,w,H,F){function C(x){q=x==="timeout";v&&v();p&&p.abort()}function D(x,G,B,A,E,L){R(m)&&d.cancel(m);v=p=null;x(G,B,A,E,L)}k=k||a.url();if(xa(g)==="jsonp")var y=c.createCallback(k),v=f(k,y,function(x,G){var B=x===200&&c.getResponse(y);D(l,x,B,"",G,"complete");c.removeCallback(y)});else{var p=b(g,k),q=!1;p.open(g,k,!0);J(n,function(x,G){R(x)&&p.setRequestHeader(G,x)});p.onload=function(){var x=p.statusText||"",G="response"in p?p.response:p.responseText,B=p.status===1223?204:p.status;B===0&&(B=
G?200:pb(k).protocol==="file"?404:0);D(l,B,G,p.getAllResponseHeaders(),x,"complete")};p.onerror=function(){D(l,-1,null,null,"","error")};p.ontimeout=function(){D(l,-1,null,null,"","timeout")};p.onabort=function(){D(l,-1,null,null,"",q?"timeout":"abort")};J(H,function(x,G){p.addEventListener(G,x)});J(F,function(x,G){p.upload.addEventListener(G,x)});u&&(p.withCredentials=!0);if(w)try{p.responseType=w}catch(x){if(w!=="json")throw x;}p.send(U(h)?null:h)}if(r>0)var m=d(function(){C("timeout")},r);else r&&
ca(r.then)&&r.then(function(){C(R(r.$$timeoutId)?"timeout":"abort")})}}function ah(){var a="{{",b="}}";this.startSymbol=function(d){return d?(a=d,this):a};this.endSymbol=function(d){return d?(b=d,this):b};this.$get=["$parse","$exceptionHandler","$sce",function(d,c,e){function f(w){return"\\\\\\"+w}function g(w){return w.replace(r,a).replace(u,b)}function k(w,H,F,C){var D=w.$watch(function(y){D();return C(y)},H,F);return D}function h(w,H,F,C){function D(E){try{var L=E;E=F?e.getTrusted(F,L):e.valueOf(L);
return C&&!R(E)?E:rd(E)}catch(P){c(Ib.interr(w,P))}}if(!w.length||w.indexOf(a)===-1){if(!H){H=g(w);var y=cb(H);y.exp=w;y.expressions=[];y.$$watchDelegate=k}return y}C=!!C;var v,p,q=0,m=[],x=[];y=w.length;for(var G=[],B=[];q<y;)if((v=w.indexOf(a,q))!==-1&&(p=w.indexOf(b,v+l))!==-1)q!==v&&G.push(g(w.substring(q,v))),q=w.substring(v+l,p),m.push(q),x.push(d(q,D)),q=p+n,B.push(G.length),G.push("");else{q!==y&&G.push(g(w.substring(q)));break}F&&G.length>1&&Ib.throwNoconcat(w);if(!H||m.length){var A=function(E){for(var L=
0,P=m.length;L<P;L++){if(C&&U(E[L]))return;G[B[L]]=E[L]}return G.join("")};return Aa(function(E){var L=0,P=m.length,S=Array(P);try{for(;L<P;L++)S[L]=x[L](E);return A(S)}catch(X){c(Ib.interr(w,X))}},{exp:w,expressions:m,$$watchDelegate:function(E,L){var P;return E.$watchGroup(x,function(S,X){var ha=A(S);L.call(this,ha,S!==X?P:ha,E);P=ha})}})}}var l=a.length,n=b.length,r=new RegExp(a.replace(/./g,f),"g"),u=new RegExp(b.replace(/./g,f),"g");h.startSymbol=function(){return a};h.endSymbol=function(){return b};
return h}]}function bh(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(a,b,d,c,e){function f(k,h,l,n){function r(){u?k.apply(null,w):k(C)}var u=arguments.length>4,w=u?hb.call(arguments,4):[],H=b.setInterval,F=b.clearInterval,C=0,D=R(n)&&!n,y=(D?c:d).defer(),v=y.promise;l=R(l)?l:0;v.$$intervalId=H(function(){D?e.defer(r):a.$evalAsync(r);y.notify(C++);l>0&&C>=l&&(y.resolve(C),F(v.$$intervalId),delete g[v.$$intervalId]);D||a.$apply()},h);g[v.$$intervalId]=y;return v}var g={};f.cancel=
function(k){return k&&k.$$intervalId in g?(g[k.$$intervalId].promise.$$state.pur=!0,g[k.$$intervalId].reject("canceled"),b.clearInterval(k.$$intervalId),delete g[k.$$intervalId],!0):!1};return f}]}function Nd(a){a=a.split("/");for(var b=a.length;b--;)a[b]=ec(a[b].replace(/%2F/g,"/"));return a.join("/")}function Ve(a,b){a=pb(a);b.$$protocol=a.protocol;b.$$host=a.hostname;b.$$port=parseInt(a.port,10)||ch[a.protocol]||null}function We(a,b,d){if(dh.test(a))throw lc("badpath",a);var c=a.charAt(0)!=="/";
c&&(a="/"+a);a=pb(a);c=(c&&a.pathname.charAt(0)==="/"?a.pathname.substring(1):a.pathname).split("/");for(var e=c.length;e--;)c[e]=decodeURIComponent(c[e]),d&&(c[e]=c[e].replace(/\//g,"%2F"));d=c.join("/");b.$$path=d;b.$$search=pd(a.search);b.$$hash=decodeURIComponent(a.hash);b.$$path&&b.$$path.charAt(0)!=="/"&&(b.$$path="/"+b.$$path)}function Od(a,b){return a.slice(0,b.length)===b}function tb(a,b){if(Od(b,a))return b.substr(a.length)}function Gb(a){var b=a.indexOf("#");return b===-1?a:a.substr(0,
b)}function mc(a){return a.replace(/(#.+)|#$/,"$1")}function Pd(a,b,d){this.$$html5=!0;d=d||"";Ve(a,this);this.$$parse=function(c){var e=tb(b,c);if(!oa(e))throw lc("ipthprfx",c,b);We(e,this,!0);this.$$path||(this.$$path="/");this.$$compose()};this.$$compose=function(){var c=qd(this.$$search),e=this.$$hash?"#"+ec(this.$$hash):"";this.$$url=Nd(this.$$path)+(c?"?"+c:"")+e;this.$$absUrl=b+this.$$url.substr(1);this.$$urlUpdatedByLocation=!0};this.$$parseLinkUrl=function(c,e){if(e&&e[0]==="#")return this.hash(e.slice(1)),
!0;if(R(e=tb(a,c))){c=e;var f=d&&R(e=tb(d,e))?b+(tb("/",e)||e):a+c}else R(e=tb(b,c))?f=b+e:b===c+"/"&&(f=b);f&&this.$$parse(f);return!!f}}function Qd(a,b,d){Ve(a,this);this.$$parse=function(c){var e=tb(a,c)||tb(b,c);if(U(e)||e.charAt(0)!=="#")if(this.$$html5)var f=e;else f="",U(e)&&(a=c,this.replace());else f=tb(d,e),U(f)&&(f=e);We(f,this,!1);c=this.$$path;e=a;var g=/^\/[A-Z]:(\/.*)/;Od(f,e)&&(f=f.replace(e,""));g.exec(f)||(c=(f=g.exec(c))?f[1]:c);this.$$path=c;this.$$compose()};this.$$compose=function(){var c=
qd(this.$$search),e=this.$$hash?"#"+ec(this.$$hash):"";this.$$url=Nd(this.$$path)+(c?"?"+c:"")+e;this.$$absUrl=a+(this.$$url?d+this.$$url:"");this.$$urlUpdatedByLocation=!0};this.$$parseLinkUrl=function(c,e){return Gb(a)===Gb(c)?(this.$$parse(c),!0):!1}}function Xe(a,b,d){this.$$html5=!0;Qd.apply(this,arguments);this.$$parseLinkUrl=function(c,e){if(e&&e[0]==="#")return this.hash(e.slice(1)),!0;var f,g;a===Gb(c)?f=c:(g=tb(b,c))?f=a+d+g:b===c+"/"&&(f=b);f&&this.$$parse(f);return!!f};this.$$compose=
function(){var c=qd(this.$$search),e=this.$$hash?"#"+ec(this.$$hash):"";this.$$url=Nd(this.$$path)+(c?"?"+c:"")+e;this.$$absUrl=a+d+this.$$url;this.$$urlUpdatedByLocation=!0}}function Uc(a){return function(){return this[a]}}function Ye(a,b){return function(d){if(U(d))return this[a];this[a]=b(d);this.$$compose();return this}}function eh(){var a="!",b={enabled:!1,requireBase:!0,rewriteLinks:!0},d=function(c,e,f){return c!==e};this.hashPrefix=function(c){return R(c)?(a=c,this):a};this.html5Mode=function(c){if(vb(c))return b.enabled=
c,this;if(fa(c)){vb(c.enabled)&&(b.enabled=c.enabled);vb(c.requireBase)&&(b.requireBase=c.requireBase);if(vb(c.rewriteLinks)||oa(c.rewriteLinks))b.rewriteLinks=c.rewriteLinks;return this}return b};this.compareUrls=function(c){return R(c)?(d=c,this):d};this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(c,e,f,g,k){function h(y,v,p){var q=F.url(),m=F.$$state;try{e.url(y,v,p),F.$$state=e.state()}catch(x){throw F.url(q),F.$$state=m,x;}}function l(y,v){c.$broadcast("$locationChangeSuccess",
F.absUrl(),y,F.$$state,v)}var n=e.baseHref(),r=e.url();if(b.enabled){if(!n&&b.requireBase)throw lc("nobase");var u=r.substring(0,r.indexOf("/",r.indexOf("//")+2))+(n||"/");var w=f.history?Pd:Xe}else u=Gb(r),w=Qd;var H=u.substr(0,Gb(u).lastIndexOf("/")+1);var F=new w(u,H,"#"+a);F.$$parseLinkUrl(r,r);F.$$state=e.state();var C=/^\s*(javascript|mailto):/i;g.on("click",function(y){var v=b.rewriteLinks;if(v&&!y.ctrlKey&&!y.metaKey&&!y.shiftKey&&y.which!==2&&y.button!==2){for(var p=da(y.target);ib(p[0])!==
"a";)if(p[0]===g[0]||!(p=p.parent())[0])return;if(!oa(v)||!U(p.attr(v))){v=p.prop("href");var q=p.attr("href")||p.attr("xlink:href");fa(v)&&v.toString()==="[object SVGAnimatedString]"&&(v=pb(v.animVal).href);C.test(v)||!v||p.attr("target")||y.isDefaultPrevented()||!F.$$parseLinkUrl(v,q)||(y.preventDefault(),F.absUrl()!==e.url()&&(c.$apply(),k.angular["ff-684208-preventDefault"]=!0))}}});mc(F.absUrl())!==mc(r)&&e.url(F.absUrl(),!0);var D=!0;e.onUrlChange(function(y,v){Od(y,H)?(c.$evalAsync(function(){var p=
F.absUrl(),q=F.$$state;y=mc(y);F.$$parse(y);F.$$state=v;var m=c.$broadcast("$locationChangeStart",y,p,v,q).defaultPrevented;F.absUrl()===y&&(m?(F.$$parse(p),F.$$state=q,h(p,!1,q)):(D=!1,l(p,q)))}),c.$$phase||c.$digest()):k.location.href=y});c.$watch(function(){if(D||F.$$urlUpdatedByLocation){F.$$urlUpdatedByLocation=!1;var y=mc(e.url()),v=mc(F.absUrl()),p=e.state(),q=F.$$replace,m=d(y,v,function(){return new w(u,H,"#"+a)}),x=F.$$html5&&f.history&&p!==F.$$state,G=y!==v||x;if(D||G)D=!1,c.$evalAsync(function(){var B=
F.absUrl(),A=c.$broadcast("$locationChangeStart",B,y,F.$$state,p).defaultPrevented;F.absUrl()===B&&(A?(F.$$parse(y),F.$$state=p):((D||G&&m)&&h(B,q,p===F.$$state?null:F.$$state),l(y,p)))})}F.$$replace=!1});return F}]}function fh(){var a=!0,b=this;this.debugEnabled=function(d){return R(d)?(a=d,this):a};this.$get=["$window",function(d){function c(f){var g=d.console||{},k=g[f]||g.log||la;return function(){var h=[];J(arguments,function(l){var n=h.push;ld(l)&&(l.stack&&e?l=l.message&&l.stack.indexOf(l.message)===
-1?"Error: "+l.message+"\n"+l.stack:l.stack:l.sourceURL&&(l=l.message+"\n"+l.sourceURL+":"+l.line));n.call(h,l)});return Function.prototype.apply.call(k,g,h)}}var e=qb||/\bEdge\//.test(d.navigator&&d.navigator.userAgent);return{log:c("log"),info:c("info"),warn:c("warn"),error:c("error"),debug:function(){var f=c("debug");return function(){a&&f.apply(b,arguments)}}()}}]}function gh(a,b){switch(a.type){case Q.MemberExpression:if(a.computed)return!1;break;case Q.UnaryExpression:return 1;case Q.BinaryExpression:return a.operator!==
"+"?1:!1;case Q.CallExpression:return!1}return void 0===b?Ze:b}function Ma(a,b,d){var c=a.isPure=gh(a,d);switch(a.type){case Q.Program:var e=!0;J(a.body,function(g){Ma(g.expression,b,c);e=e&&g.expression.constant});a.constant=e;break;case Q.Literal:a.constant=!0;a.toWatch=[];break;case Q.UnaryExpression:Ma(a.argument,b,c);a.constant=a.argument.constant;a.toWatch=a.argument.toWatch;break;case Q.BinaryExpression:Ma(a.left,b,c);Ma(a.right,b,c);a.constant=a.left.constant&&a.right.constant;a.toWatch=a.left.toWatch.concat(a.right.toWatch);
break;case Q.LogicalExpression:Ma(a.left,b,c);Ma(a.right,b,c);a.constant=a.left.constant&&a.right.constant;a.toWatch=a.constant?[]:[a];break;case Q.ConditionalExpression:Ma(a.test,b,c);Ma(a.alternate,b,c);Ma(a.consequent,b,c);a.constant=a.test.constant&&a.alternate.constant&&a.consequent.constant;a.toWatch=a.constant?[]:[a];break;case Q.Identifier:a.constant=!1;a.toWatch=[a];break;case Q.MemberExpression:Ma(a.object,b,c);a.computed&&Ma(a.property,b,c);a.constant=a.object.constant&&(!a.computed||a.property.constant);
a.toWatch=a.constant?[]:[a];break;case Q.CallExpression:e=d=a.filter?!b(a.callee.name).$stateful:!1;var f=[];J(a.arguments,function(g){Ma(g,b,c);e=e&&g.constant;f.push.apply(f,g.toWatch)});a.constant=e;a.toWatch=d?f:[a];break;case Q.AssignmentExpression:Ma(a.left,b,c);Ma(a.right,b,c);a.constant=a.left.constant&&a.right.constant;a.toWatch=[a];break;case Q.ArrayExpression:e=!0;f=[];J(a.elements,function(g){Ma(g,b,c);e=e&&g.constant;f.push.apply(f,g.toWatch)});a.constant=e;a.toWatch=f;break;case Q.ObjectExpression:e=
!0;f=[];J(a.properties,function(g){Ma(g.value,b,c);e=e&&g.value.constant;f.push.apply(f,g.value.toWatch);g.computed&&(Ma(g.key,b,!1),e=e&&g.key.constant,f.push.apply(f,g.key.toWatch))});a.constant=e;a.toWatch=f;break;case Q.ThisExpression:a.constant=!1;a.toWatch=[];break;case Q.LocalsExpression:a.constant=!1,a.toWatch=[]}}function hh(a){if(a.length===1){a=a[0].expression;var b=a.toWatch;return b.length!==1?b:b[0]!==a?b:void 0}}function $e(a){return a.type===Q.Identifier||a.type===Q.MemberExpression}
function ih(a){if(a.body.length===1&&$e(a.body[0].expression))return{type:Q.AssignmentExpression,left:a.body[0].expression,right:{type:Q.NGValueParameter},operator:"="}}function af(a){this.$filter=a}function Vc(a,b,d){this.ast=new Q(a,d);this.astCompiler=new af(b)}function Rd(a){return ca(a.valueOf)?a.valueOf():jh.call(a)}function kh(){var a=Ea(),b={"true":!0,"false":!1,"null":null,undefined:void 0},d,c;this.addLiteral=function(e,f){b[e]=f};this.setIdentifierFns=function(e,f){d=e;c=f;return this};
this.$get=["$filter",function(e){function f(w,H){switch(typeof w){case "string":var F=w=w.trim();var C=a[F];C||(C=new Wc(u),C=(new Vc(C,e,u)).parse(w),C.constant?C.$$watchDelegate=n:C.oneTime?C.$$watchDelegate=C.literal?l:h:C.inputs&&(C.$$watchDelegate=k),a[F]=C);return r(C,H);case "function":return r(w,H);default:return r(la,H)}}function g(w,H,F){return w==null||H==null?w===H:typeof w!=="object"||(w=Rd(w),typeof w!=="object"||F)?w===H||w!==w&&H!==H:!1}function k(w,H,F,C,D){var y=C.inputs,v;if(y.length===
1){var p=g;y=y[0];return w.$watch(function(B){var A=y(B);g(A,p,y.isPure)||(v=C(B,void 0,void 0,[A]),p=A&&Rd(A));return v},H,F,D)}for(var q=[],m=[],x=0,G=y.length;x<G;x++)q[x]=g,m[x]=null;return w.$watch(function(B){for(var A=!1,E=0,L=y.length;E<L;E++){var P=y[E](B);if(A||(A=!g(P,q[E],y[E].isPure)))m[E]=P,q[E]=P&&Rd(P)}A&&(v=C(B,void 0,void 0,m));return v},H,F,D)}function h(w,H,F,C,D){function y(m){return C(m)}function v(m,x,G){q=m;ca(H)&&H(m,x,G);R(m)&&G.$$postDigest(function(){R(q)&&p()})}var p,
q;return p=C.inputs?k(w,v,F,C,D):w.$watch(y,v,F)}function l(w,H,F,C){function D(p){var q=!0;J(p,function(m){R(m)||(q=!1)});return q}var y,v;return y=w.$watch(function(p){return C(p)},function(p,q,m){v=p;ca(H)&&H(p,q,m);D(p)&&m.$$postDigest(function(){D(v)&&y()})},F)}function n(w,H,F,C){var D=w.$watch(function(y){D();return C(y)},H,F);return D}function r(w,H){if(!H)return w;var F=w.$$watchDelegate,C=!1,D=F!==l&&F!==h?function(y,v,p,q){p=C&&q?q[0]:w(y,v,p,q);return H(p,y,v)}:function(y,v,p,q){p=w(y,
v,p,q);y=H(p,y,v);return R(p)?y:p};C=!w.inputs;F&&F!==k?(D.$$watchDelegate=F,D.inputs=w.inputs):H.$stateful||(D.$$watchDelegate=k,D.inputs=w.inputs?w.inputs:[w]);D.inputs&&(D.inputs=D.inputs.map(function(y){return y.isPure===Ze?function(v){return y(v)}:y}));return D}var u={csp:Jb().noUnsafeEval,literals:Bb(b),isIdentifierStart:ca(d)&&d,isIdentifierContinue:ca(c)&&c};f.$$getAst=function(w){var H=new Wc(u);return(new Vc(H,e,u)).getAst(w).ast};return f}]}function lh(){var a=!0;this.$get=["$rootScope",
"$exceptionHandler",function(b,d){return bf(function(c){b.$evalAsync(c)},d,a)}];this.errorOnUnhandledRejections=function(b){return R(b)?(a=b,this):a}}function mh(){var a=!0;this.$get=["$browser","$exceptionHandler",function(b,d){return bf(function(c){b.defer(c)},d,a)}];this.errorOnUnhandledRejections=function(b){return R(b)?(a=b,this):a}}function bf(a,b,d){function c(){return new e}function e(){var q=this.promise=new f;this.resolve=function(m){h(q,m)};this.reject=function(m){n(q,m)};this.notify=function(m){u(q,
m)}}function f(){this.$$state={status:0}}function g(){for(;!y&&v.length;){var q=v.shift();if(!q.pur){q.pur=!0;var m=q.value;m="Possibly unhandled rejection: "+(typeof m==="function"?m.toString().replace(/ \{[\s\S]*$/,""):U(m)?"undefined":typeof m!=="string"?ag(m,void 0):m);ld(q.value)?b(q.value,m):b(m)}}}function k(q){!d||q.pending||q.status!==2||q.pur||(y===0&&v.length===0&&a(g),v.push(q));!q.processScheduled&&q.pending&&(q.processScheduled=!0,++y,a(function(){var m=q.pending;q.processScheduled=
!1;q.pending=void 0;try{for(var x=0,G=m.length;x<G;++x){q.pur=!0;var B=m[x][0];var A=m[x][q.status];try{ca(A)?h(B,A(q.value)):q.status===1?h(B,q.value):n(B,q.value)}catch(E){n(B,E),E&&E.$$passToExceptionHandler===!0&&b(E)}}}finally{--y,d&&y===0&&a(g)}}))}function h(q,m){q.$$state.status||(m===q?r(q,D("qcycle",m)):l(q,m))}function l(q,m){function x(L){A||(A=!0,l(q,L))}function G(L){A||(A=!0,r(q,L))}function B(L){u(q,L)}var A=!1;try{if(fa(m)||ca(m))var E=m.then;ca(E)?(q.$$state.status=-1,E.call(m,x,
G,B)):(q.$$state.value=m,q.$$state.status=1,k(q.$$state))}catch(L){G(L)}}function n(q,m){q.$$state.status||r(q,m)}function r(q,m){q.$$state.value=m;q.$$state.status=2;k(q.$$state)}function u(q,m){var x=q.$$state.pending;q.$$state.status<=0&&x&&x.length&&a(function(){for(var G,B,A=0,E=x.length;A<E;A++){B=x[A][0];G=x[A][3];try{u(B,ca(G)?G(m):m)}catch(L){b(L)}}})}function w(q){var m=new f;n(m,q);return m}function H(q,m,x){var G=null;try{ca(x)&&(G=x())}catch(B){return w(B)}return G&&ca(G.then)?G.then(function(){return m(q)},
w):m(q)}function F(q,m,x,G){var B=new f;h(B,q);return B.then(m,x,G)}function C(q){if(!ca(q))throw D("norslvr",q);var m=new f;q(function(x){h(m,x)},function(x){n(m,x)});return m}var D=va("$q",TypeError),y=0,v=[];Aa(f.prototype,{then:function(q,m,x){if(U(q)&&U(m)&&U(x))return this;var G=new f;this.$$state.pending=this.$$state.pending||[];this.$$state.pending.push([G,q,m,x]);this.$$state.status>0&&k(this.$$state);return G},"catch":function(q){return this.then(null,q)},"finally":function(q,m){return this.then(function(x){return H(x,
p,q)},function(x){return H(x,w,q)},m)}});var p=F;C.prototype=f.prototype;C.defer=c;C.reject=w;C.when=F;C.resolve=p;C.all=function(q){var m=new f,x=0,G=na(q)?[]:{};J(q,function(B,A){x++;F(B).then(function(E){G[A]=E;--x||h(m,G)},function(E){n(m,E)})});x===0&&h(m,G);return m};C.race=function(q){var m=c();J(q,function(x){F(x).then(m.resolve,m.reject)});return m.promise};return C}function nh(){this.$get=["$window","$timeout",function(a,b){var d=a.requestAnimationFrame||a.webkitRequestAnimationFrame,c=
a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.webkitCancelRequestAnimationFrame,e=(a=!!d)?function(f){var g=d(f);return function(){c(g)}}:function(f){var g=b(f,16.66,!1);return function(){b.cancel(g)}};e.supported=a;return e}]}function oh(){function a(f){function g(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null;this.$$listeners={};this.$$listenerCount={};this.$$watchersCount=0;this.$id=++sc;this.$$ChildScope=null;this.$$suspended=!1}g.prototype=f;return g}var b=
10,d=va("$rootScope"),c=null,e=null;this.digestTtl=function(f){arguments.length&&(b=f);return b};this.$get=["$exceptionHandler","$parse","$browser",function(f,g,k){function h(m){m.currentScope.$$destroyed=!0}function l(m){qb===9&&(m.$$childHead&&l(m.$$childHead),m.$$nextSibling&&l(m.$$nextSibling));m.$parent=m.$$nextSibling=m.$$prevSibling=m.$$childHead=m.$$childTail=m.$root=m.$$watchers=null}function n(){this.$id=++sc;this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=
this.$$childHead=this.$$childTail=null;this.$root=this;this.$$suspended=this.$$destroyed=!1;this.$$listeners={};this.$$listenerCount={};this.$$watchersCount=0;this.$$isolateBindings=null}function r(m){if(D.$$phase)throw d("inprog",D.$$phase);D.$$phase=m}function u(m,x){do m.$$watchersCount+=x;while(m=m.$parent)}function w(m,x,G){do m.$$listenerCount[G]-=x,m.$$listenerCount[G]===0&&delete m.$$listenerCount[G];while(m=m.$parent)}function H(){}function F(){for(;p.length;)try{p.shift()()}catch(m){f(m)}e=
null}function C(){e===null&&(e=k.defer(function(){D.$apply(F)}))}n.prototype={constructor:n,$new:function(m,x){x=x||this;if(m){var G=new n;G.$root=this.$root}else this.$$ChildScope||(this.$$ChildScope=a(this)),G=new this.$$ChildScope;G.$parent=x;G.$$prevSibling=x.$$childTail;x.$$childHead?(x.$$childTail.$$nextSibling=G,x.$$childTail=G):x.$$childHead=x.$$childTail=G;(m||x!==this)&&G.$on("$destroy",h);return G},$watch:function(m,x,G,B){var A=g(m);x=ca(x)?x:la;if(A.$$watchDelegate)return A.$$watchDelegate(this,
x,G,A,m);var E=this,L=E.$$watchers,P={fn:x,last:H,get:A,exp:B||m,eq:!!G};c=null;L||(L=E.$$watchers=[],L.$$digestWatchIndex=-1);L.unshift(P);L.$$digestWatchIndex++;u(this,1);return function(){var S=bc(L,P);S>=0&&(u(E,-1),S<L.$$digestWatchIndex&&L.$$digestWatchIndex--);c=null}},$watchGroup:function(m,x){function G(){P=!1;S?(S=!1,x(A,A,L)):x(A,B,L)}var B=Array(m.length),A=Array(m.length),E=[],L=this,P=!1,S=!0;if(!m.length){var X=!0;L.$evalAsync(function(){X&&x(A,A,L)});return function(){X=!1}}if(m.length===
1)return this.$watch(m[0],function(ha,ja,ea){A[0]=ha;B[0]=ja;x(A,ha===ja?A:B,ea)});J(m,function(ha,ja){ha=L.$watch(ha,function(ea,ma){A[ja]=ea;B[ja]=ma;P||(P=!0,L.$evalAsync(G))});E.push(ha)});return function(){for(;E.length;)E.shift()()}},$watchCollection:function(m,x){function G(ma){A=ma;var ka;if(!U(A)){if(fa(A))if(ub(A))for(E!==X&&(E=X,ea=E.length=0,S++),ma=A.length,ea!==ma&&(S++,E.length=ea=ma),ka=0;ka<ma;ka++){var ya=E[ka];var ua=A[ka];var mb=ya!==ya&&ua!==ua;mb||ya===ua||(S++,E[ka]=ua)}else{E!==
ha&&(E=ha={},ea=0,S++);ma=0;for(ka in A)bb.call(A,ka)&&(ma++,ua=A[ka],ya=E[ka],ka in E?(mb=ya!==ya&&ua!==ua,mb||ya===ua||(S++,E[ka]=ua)):(ea++,E[ka]=ua,S++));if(ea>ma)for(ka in S++,E)bb.call(A,ka)||(ea--,delete E[ka])}else E!==A&&(E=A,S++);return S}}G.$stateful=!0;var B=this,A,E,L,P=x.length>1,S=0;m=g(m,G);var X=[],ha={},ja=!0,ea=0;return this.$watch(m,function(){ja?(ja=!1,x(A,A,B)):x(A,L,B);if(P)if(fa(A))if(ub(A)){L=Array(A.length);for(var ma=0;ma<A.length;ma++)L[ma]=A[ma]}else for(ma in L={},A)bb.call(A,
ma)&&(L[ma]=A[ma]);else L=A})},$digest:function(){var m,x,G,B,A=b,E=[];r("$digest");k.$$checkUrlChange();this===D&&e!==null&&(k.defer.cancel(e),F());c=null;do{var L=!1;var P=this;for(B=0;B<y.length;B++){try{var S=y[B];var X=S.fn;X(S.scope,S.locals)}catch(ea){f(ea)}c=null}y.length=0;a:do{if(B=!P.$$suspended&&P.$$watchers)for(B.$$digestWatchIndex=B.length;B.$$digestWatchIndex--;)try{if(m=B[B.$$digestWatchIndex]){var ha=m.get;if((x=ha(P))!==(G=m.last)&&!(m.eq?db(x,G):Ua(x)&&Ua(G))){if(L=!0,c=m,m.last=
m.eq?Bb(x,null):x,X=m.fn,X(x,G===H?x:G,P),A<5){var ja=4-A;E[ja]||(E[ja]=[]);E[ja].push({msg:ca(m.exp)?"fn: "+(m.exp.name||m.exp.toString()):m.exp,newVal:x,oldVal:G})}}else if(m===c){L=!1;break a}}}catch(ea){f(ea)}if(!(B=!P.$$suspended&&P.$$watchersCount&&P.$$childHead||P!==this&&P.$$nextSibling))for(;P!==this&&!(B=P.$$nextSibling);)P=P.$parent}while(P=B);if((L||y.length)&&!A--)throw D.$$phase=null,d("infdig",b,E);}while(L||y.length);for(D.$$phase=null;q<v.length;)try{v[q++]()}catch(ea){f(ea)}v.length=
q=0;k.$$checkUrlChange()},$suspend:function(){this.$$suspended=!0},$isSuspended:function(){return this.$$suspended},$resume:function(){this.$$suspended=!1},$destroy:function(){if(!this.$$destroyed){var m=this.$parent;this.$broadcast("$destroy");this.$$destroyed=!0;this===D&&k.$$applicationDestroyed();u(this,-this.$$watchersCount);for(var x in this.$$listenerCount)w(this,this.$$listenerCount[x],x);m&&m.$$childHead===this&&(m.$$childHead=this.$$nextSibling);m&&m.$$childTail===this&&(m.$$childTail=this.$$prevSibling);
this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling);this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling);this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=la;this.$on=this.$watch=this.$watchGroup=function(){return la};this.$$listeners={};this.$$nextSibling=null;l(this)}},$eval:function(m,x){return g(m)(this,x)},$evalAsync:function(m,x){D.$$phase||y.length||k.defer(function(){y.length&&D.$digest()});y.push({scope:this,fn:g(m),locals:x})},
$$postDigest:function(m){v.push(m)},$apply:function(m){try{r("$apply");try{return this.$eval(m)}finally{D.$$phase=null}}catch(x){f(x)}finally{try{D.$digest()}catch(x){throw f(x),x;}}},$applyAsync:function(m){function x(){G.$eval(m)}var G=this;m&&p.push(x);m=g(m);C()},$on:function(m,x){var G=this.$$listeners[m];G||(this.$$listeners[m]=G=[]);G.push(x);var B=this;do B.$$listenerCount[m]||(B.$$listenerCount[m]=0),B.$$listenerCount[m]++;while(B=B.$parent);var A=this;return function(){var E=G.indexOf(x);
E!==-1&&(delete G[E],w(A,1,m))}},$emit:function(m,x){var G=[],B=this,A=!1,E={name:m,targetScope:B,stopPropagation:function(){A=!0},preventDefault:function(){E.defaultPrevented=!0},defaultPrevented:!1},L=cc([E],arguments,1),P;do{var S=B.$$listeners[m]||G;E.currentScope=B;var X=0;for(P=S.length;X<P;X++)if(S[X])try{S[X].apply(null,L)}catch(ha){f(ha)}else S.splice(X,1),X--,P--;if(A)break;B=B.$parent}while(B);E.currentScope=null;return E},$broadcast:function(m,x){var G=this,B=this,A={name:m,targetScope:this,
preventDefault:function(){A.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[m])return A;for(var E=cc([A],arguments,1),L,P;G=B;){A.currentScope=G;B=G.$$listeners[m]||[];L=0;for(P=B.length;L<P;L++)if(B[L])try{B[L].apply(null,E)}catch(S){f(S)}else B.splice(L,1),L--,P--;if(!(B=G.$$listenerCount[m]&&G.$$childHead||G!==this&&G.$$nextSibling))for(;G!==this&&!(B=G.$$nextSibling);)G=G.$parent}A.currentScope=null;return A}};var D=new n,y=D.$$asyncQueue=[],v=D.$$postDigestQueue=[],p=D.$$applyAsyncQueue=
[],q=0;return D}]}function ph(){var a=/^\s*(https?|s?ftp|mailto|tel|file):/,b=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(d){return R(d)?(a=d,this):a};this.imgSrcSanitizationWhitelist=function(d){return R(d)?(b=d,this):b};this.$get=function(){return function(d,c){c=c?b:a;var e=pb(d&&d.trim()).href;return e===""||e.match(c)?d:"unsafe:"+e}}}function qh(){this.$get=["$window","$document",function(a,b){var d={},c=!((!a.nw||!a.nw.process)&&a.chrome&&(a.chrome.app&&
a.chrome.app.runtime||!a.chrome.app&&a.chrome.runtime&&a.chrome.runtime.id))&&a.history&&a.history.pushState,e=parseInt((/android (\d+)/.exec(xa((a.navigator||{}).userAgent))||[])[1],10);a=/Boxee/i.test((a.navigator||{}).userAgent);var f=b[0]||{};b=f.body&&f.body.style;var g=!1,k=!1;b&&(g=!!("transition"in b||"webkitTransition"in b),k=!!("animation"in b||"webkitAnimation"in b));return{history:!(!c||e<4||a),hasEvent:function(h){if(h==="input"&&qb)return!1;if(U(d[h])){var l=f.createElement("div");d[h]=
"on"+h in l}return d[h]},csp:Jb(),transitions:g,animations:k,android:e}}]}function rh(){this.$get=["$rootScope","$browser","$location",function(a,b,d){return{findBindings:function(c,e,f){c=c.getElementsByClassName("ng-binding");var g=[];J(c,function(k){var h=Va.element(k).data("$binding");h&&J(h,function(l){f?(new RegExp("(^|\\s)"+e.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")+"(\\s|\\||$)")).test(l)&&g.push(k):l.indexOf(e)!==-1&&g.push(k)})});return g},findModels:function(c,
e,f){for(var g=["ng-","data-ng-","ng\\:"],k=0;k<g.length;++k){var h=c.querySelectorAll("["+g[k]+"model"+(f?"=":"*=")+'"'+e+'"]');if(h.length)return h}},getLocation:function(){return d.url()},setLocation:function(c){c!==d.url()&&(d.url(c),a.$digest())},whenStable:function(c){b.notifyWhenNoOutstandingRequests(c)}}}]}function sh(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(a,b,d,c,e){function f(k,h,l){ca(k)||(l=h,h=k,k=la);var n=hb.call(arguments,3),r=R(l)&&!l,u=(r?c:
d).defer(),w=u.promise;var H=b.defer(function(){try{u.resolve(k.apply(null,n))}catch(F){u.reject(F),e(F)}finally{delete g[w.$$timeoutId]}r||a.$apply()},h);w.$$timeoutId=H;g[H]=u;return w}var g={};f.cancel=function(k){return k&&k.$$timeoutId in g?(g[k.$$timeoutId].promise.$$state.pur=!0,g[k.$$timeoutId].reject("canceled"),delete g[k.$$timeoutId],b.defer.cancel(k.$$timeoutId)):!1};return f}]}function pb(a){if(!oa(a))return a;qb&&(Pa.setAttribute("href",a),a=Pa.href);Pa.setAttribute("href",a);return{href:Pa.href,
protocol:Pa.protocol?Pa.protocol.replace(/:$/,""):"",host:Pa.host,search:Pa.search?Pa.search.replace(/^\?/,""):"",hash:Pa.hash?Pa.hash.replace(/^#/,""):"",hostname:Pa.hostname,port:Pa.port,pathname:Pa.pathname.charAt(0)==="/"?Pa.pathname:"/"+Pa.pathname}}function Xg(a){var b=[cf].concat(a.map(pb));return function(d){d=pb(d);return b.some(df.bind(null,d))}}function df(a,b){a=pb(a);b=pb(b);return a.protocol===b.protocol&&a.host===b.host}function th(){this.$get=cb(ia)}function ef(a){function b(f){try{return decodeURIComponent(f)}catch(g){return f}}
var d=a[0]||{},c={},e="";return function(){var f;try{var g=d.cookie||""}catch(n){g=""}if(g!==e)for(e=g,g=e.split("; "),c={},f=0;f<g.length;f++){var k=g[f];var h=k.indexOf("=");if(h>0){var l=b(k.substring(0,h));U(c[l])&&(c[l]=b(k.substring(h+1)))}}return c}}function uh(){this.$get=ef}function ff(a){function b(d,c){if(fa(d)){var e={};J(d,function(f,g){e[g]=b(g,f)});return e}return a.factory(d+"Filter",c)}this.register=b;this.$get=["$injector",function(d){return function(c){return d.get(c+"Filter")}}];
b("currency",gf);b("date",hf);b("filter",vh);b("json",wh);b("limitTo",xh);b("lowercase",yh);b("number",jf);b("orderBy",kf);b("uppercase",zh)}function vh(){return function(a,b,d,c){if(!ub(a)){if(a==null)return a;throw va("filter")("notarray",a);}c=c||"$";switch(Sd(b)){case "function":break;case "boolean":case "null":case "number":case "string":var e=!0;case "object":b=Ah(b,d,c,e);break;default:return a}return Array.prototype.filter.call(a,b)}}function Ah(a,b,d,c){var e=fa(a)&&d in a;b===!0?b=db:ca(b)||
(b=function(f,g){if(U(f))return!1;if(f===null||g===null)return f===g;if(fa(g)||fa(f)&&!kd(f))return!1;f=xa(""+f);g=xa(""+g);return f.indexOf(g)!==-1});return function(f){return e&&!fa(f)?Kb(f,a[d],b,d,!1):Kb(f,a,b,d,c)}}function Kb(a,b,d,c,e,f){var g=Sd(a),k=Sd(b);if(k==="string"&&b.charAt(0)==="!")return!Kb(a,b.substring(1),d,c,e);if(na(a))return a.some(function(l){return Kb(l,b,d,c,e)});switch(g){case "object":var h;if(e){for(h in a)if(h.charAt&&h.charAt(0)!=="$"&&Kb(a[h],b,d,c,!0))return!0;return f?
!1:Kb(a,b,d,c,!1)}if(k==="object"){for(h in b)if(f=b[h],!ca(f)&&!U(f)&&(g=h===c,!Kb(g?a:a[h],f,d,c,g,g)))return!1;return!0}return d(a,b);case "function":return!1;default:return d(a,b)}}function Sd(a){return a===null?"null":typeof a}function gf(a){var b=a.NUMBER_FORMATS;return function(d,c,e){U(c)&&(c=b.CURRENCY_SYM);U(e)&&(e=b.PATTERNS[1].maxFrac);var f=c?/\u00A4/g:/\s*\u00A4\s*/g;return d==null?d:lf(d,b.PATTERNS[1],b.GROUP_SEP,b.DECIMAL_SEP,e).replace(f,c)}}function jf(a){var b=a.NUMBER_FORMATS;
return function(d,c){return d==null?d:lf(d,b.PATTERNS[0],b.GROUP_SEP,b.DECIMAL_SEP,c)}}function Bh(a){var b=0,d,c,e,f;(d=a.indexOf(mf))>-1&&(a=a.replace(mf,""));(c=a.search(/e/i))>0?(d<0&&(d=c),d+=+a.slice(c+1),a=a.substring(0,c)):d<0&&(d=a.length);for(c=0;a.charAt(c)===Td;c++);if(c===(f=a.length)){var g=[0];d=1}else{for(f--;a.charAt(f)===Td;)f--;d-=c;g=[];for(e=0;c<=f;c++,e++)g[e]=+a.charAt(c)}d>nf&&(g=g.splice(0,nf-1),b=d-1,d=1);return{d:g,e:b,i:d}}function Ch(a,b,d,c){var e=a.d,f=e.length-a.i;
b=U(b)?Math.min(Math.max(d,f),c):+b;d=b+a.i;c=e[d];if(d>0){e.splice(Math.max(a.i,d));for(var g=d;g<e.length;g++)e[g]=0}else for(f=Math.max(0,f),a.i=1,e.length=Math.max(1,d=b+1),e[0]=0,g=1;g<d;g++)e[g]=0;if(c>=5)if(d-1<0){for(c=0;c>d;c--)e.unshift(0),a.i++;e.unshift(1);a.i++}else e[d-1]++;for(;f<Math.max(0,b);f++)e.push(0);if(b=e.reduceRight(function(k,h,l,n){h+=k;n[l]=h%10;return Math.floor(h/10)},0))e.unshift(b),a.i++}function lf(a,b,d,c,e){if(!oa(a)&&!Ra(a)||isNaN(a))return"";var f=!isFinite(a),
g=!1,k=Math.abs(a)+"",h="";if(f)h="\u221e";else{g=Bh(k);Ch(g,e,b.minFrac,b.maxFrac);h=g.d;k=g.i;e=g.e;f=[];for(g=h.reduce(function(l,n){return l&&!n},!0);k<0;)h.unshift(0),k++;k>0?f=h.splice(k,h.length):(f=h,h=[0]);k=[];for(h.length>=b.lgSize&&k.unshift(h.splice(-b.lgSize,h.length).join(""));h.length>b.gSize;)k.unshift(h.splice(-b.gSize,h.length).join(""));h.length&&k.unshift(h.join(""));h=k.join(d);f.length&&(h+=c+f.join(""));e&&(h+="e+"+e)}return a<0&&!g?b.negPre+h+b.negSuf:b.posPre+h+b.posSuf}
function Xc(a,b,d,c){var e="";if(a<0||c&&a<=0)c?a=-a+1:(a=-a,e="-");for(a=""+a;a.length<b;)a=Td+a;d&&(a=a.substr(a.length-b));return e+a}function Qa(a,b,d,c,e){d=d||0;return function(f){f=f["get"+a]();if(d>0||f>-d)f+=d;f===0&&d===-12&&(f=12);return Xc(f,b,c,e)}}function nc(a,b,d){return function(c,e){c=c["get"+a]();var f=Tc((d?"STANDALONE":"")+(b?"SHORT":"")+a);return e[f][c]}}function of(a){var b=(new Date(a,0,1)).getDay();return new Date(a,0,(b<=4?5:12)-b)}function pf(a){return function(b){var d=
of(b.getFullYear());b=new Date(b.getFullYear(),b.getMonth(),b.getDate()+(4-b.getDay()));return Xc(1+Math.round((+b-+d)/6048E5),a)}}function Ud(a,b){return a.getFullYear()<=0?b.ERAS[0]:b.ERAS[1]}function hf(a){function b(c){var e;if(e=c.match(d)){c=new Date(0);var f=0,g=0,k=e[8]?c.setUTCFullYear:c.setFullYear,h=e[8]?c.setUTCHours:c.setHours;e[9]&&(f=parseInt(e[9]+e[10],10),g=parseInt(e[9]+e[11],10));k.call(c,parseInt(e[1],10),parseInt(e[2],10)-1,parseInt(e[3],10));f=parseInt(e[4]||0,10)-f;g=parseInt(e[5]||
0,10)-g;k=parseInt(e[6]||0,10);e=Math.round(parseFloat("0."+(e[7]||0))*1E3);h.call(c,f,g,k,e);return c}return c}var d=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(c,e,f){var g="",k=[],h,l;e=e||"mediumDate";e=a.DATETIME_FORMATS[e]||e;oa(c)&&(c=Dh.test(c)?parseInt(c,10):b(c));Ra(c)&&(c=new Date(c));if(!Xa(c)||!isFinite(c.getTime()))return c;for(;e;)(l=Eh.exec(e))?(k=cc(k,l,1),e=k.pop()):(k.push(e),e=null);var n=c.getTimezoneOffset();
f&&(n=nd(f,n),c=od(c,f,!0));J(k,function(r){h=Fh[r];g+=h?h(c,a.DATETIME_FORMATS,n):r==="''"?"'":r.replace(/(^'|'$)/g,"").replace(/''/g,"'")});return g}}function wh(){return function(a,b){U(b)&&(b=2);return dc(a,b)}}function xh(){return function(a,b,d){b=Math.abs(Number(b))===Infinity?Number(b):parseInt(b,10);if(Ua(b))return a;Ra(a)&&(a=a.toString());if(!ub(a))return a;d=!d||isNaN(d)?0:parseInt(d,10);d=d<0?Math.max(0,a.length+d):d;return b>=0?Vd(a,d,d+b):d===0?Vd(a,b,a.length):Vd(a,Math.max(0,d+b),
d)}}function Vd(a,b,d){return oa(a)?a.slice(b,d):hb.call(a,b,d)}function kf(a){function b(e){return e.map(function(f){var g=1,k=uc;if(ca(f))k=f;else if(oa(f)){if(f.charAt(0)==="+"||f.charAt(0)==="-")g=f.charAt(0)==="-"?-1:1,f=f.substring(1);if(f!==""&&(k=a(f),k.constant)){var h=k();k=function(l){return l[h]}}}return{get:k,descending:g}})}function d(e){switch(typeof e){case "number":case "boolean":case "string":return!0;default:return!1}}function c(e,f){var g=0,k=e.type,h=f.type;if(k===h){h=e.value;
var l=f.value;k==="string"?(h=h.toLowerCase(),l=l.toLowerCase()):k==="object"&&(fa(h)&&(h=e.index),fa(l)&&(l=f.index));h!==l&&(g=h<l?-1:1)}else g=k<h?-1:1;return g}return function(e,f,g,k){if(e==null)return e;if(!ub(e))throw va("orderBy")("notarray",e);na(f)||(f=[f]);f.length===0&&(f=["+"]);var h=b(f),l=g?-1:1,n=ca(k)?k:c;e=Array.prototype.map.call(e,function(r,u){return{value:r,tieBreaker:{value:u,type:"number",index:u},predicateValues:h.map(function(w){var H=w.get(r);w=typeof H;if(H===null)w="string",
H="null";else if(w==="object")a:{if(ca(H.valueOf)&&(H=H.valueOf(),d(H)))break a;kd(H)&&(H=H.toString(),d(H))}return{value:H,type:w,index:u}})}});e.sort(function(r,u){for(var w=0,H=h.length;w<H;w++){var F=n(r.predicateValues[w],u.predicateValues[w]);if(F)return F*h[w].descending*l}return(n(r.tieBreaker,u.tieBreaker)||c(r.tieBreaker,u.tieBreaker))*l});return e=e.map(function(r){return r.value})}}function Vb(a){ca(a)&&(a={link:a});a.restrict=a.restrict||"AC";return cb(a)}function Yc(a,b,d,c,e){this.$$controls=
[];this.$error={};this.$$success={};this.$pending=void 0;this.$name=e(b.name||b.ngForm||"")(d);this.$dirty=!1;this.$valid=this.$pristine=!0;this.$submitted=this.$invalid=!1;this.$$parentForm=Zc;this.$$element=a;this.$$animate=c;qf(this)}function qf(a){a.$$classCache={};a.$$classCache[rf]=!(a.$$classCache[oc]=a.$$element.hasClass(oc))}function sf(a){function b(f,g,k){k&&!f.$$classCache[g]?(f.$$animate.addClass(f.$$element,g),f.$$classCache[g]=!0):!k&&f.$$classCache[g]&&(f.$$animate.removeClass(f.$$element,
g),f.$$classCache[g]=!1)}function d(f,g,k){g=g?"-"+me(g,"-"):"";b(f,oc+g,k===!0);b(f,rf+g,k===!1)}var c=a.set,e=a.unset;a.clazz.prototype.$setValidity=function(f,g,k){U(g)?(this.$pending||(this.$pending={}),c(this.$pending,f,k)):(this.$pending&&e(this.$pending,f,k),tf(this.$pending)&&(this.$pending=void 0));vb(g)?g?(e(this.$error,f,k),c(this.$$success,f,k)):(c(this.$error,f,k),e(this.$$success,f,k)):(e(this.$error,f,k),e(this.$$success,f,k));this.$pending?(b(this,"ng-pending",!0),this.$valid=this.$invalid=
void 0,d(this,"",null)):(b(this,"ng-pending",!1),this.$valid=tf(this.$error),this.$invalid=!this.$valid,d(this,"",this.$valid));g=this.$pending&&this.$pending[f]?void 0:this.$error[f]?!1:this.$$success[f]?!0:null;d(this,f,g);this.$$parentForm.$setValidity(f,g,this)}}function tf(a){if(a)for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}function Wd(a){a.$formatters.push(function(b){return a.$isEmpty(b)?b:b.toString()})}function Wb(a,b,d,c,e,f){var g=xa(b[0].type);if(!e.android){var k=!1;b.on("compositionstart",
function(){k=!0});b.on("compositionupdate",function(r){if(U(r.data)||r.data==="")k=!1});b.on("compositionend",function(){k=!1;l()})}var h,l=function(r){h&&(f.defer.cancel(h),h=null);if(!k){var u=b.val();r=r&&r.type;g==="password"||d.ngTrim&&d.ngTrim==="false"||(u=Ca(u));(c.$viewValue!==u||u===""&&c.$$hasNativeValidators)&&c.$setViewValue(u,r)}};if(e.hasEvent("input"))b.on("input",l);else{var n=function(r,u,w){h||(h=f.defer(function(){h=null;u&&u.value===w||l(r)}))};b.on("keydown",function(r){var u=
r.keyCode;u===91||15<u&&u<19||37<=u&&u<=40||n(r,this,this.value)});if(e.hasEvent("paste"))b.on("paste cut drop",n)}b.on("change",l);if(uf[g]&&c.$$hasNativeValidators&&g===d.type)b.on("keydown wheel mousedown",function(r){if(!h){var u=this.validity,w=u.badInput,H=u.typeMismatch;h=f.defer(function(){h=null;u.badInput===w&&u.typeMismatch===H||l(r)})}});c.$render=function(){var r=c.$isEmpty(c.$viewValue)?"":c.$viewValue;b.val()!==r&&b.val(r)}}function $c(a,b){return function(d,c){if(Xa(d))return d;if(oa(d)){d.charAt(0)===
'"'&&d.charAt(d.length-1)==='"'&&(d=d.substring(1,d.length-1));if(Gh.test(d))return new Date(d);a.lastIndex=0;if(d=a.exec(d)){d.shift();var e=c?{yyyy:c.getFullYear(),MM:c.getMonth()+1,dd:c.getDate(),HH:c.getHours(),mm:c.getMinutes(),ss:c.getSeconds(),sss:c.getMilliseconds()/1E3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0};J(d,function(f,g){g<b.length&&(e[b[g]]=+f)});c=new Date(e.yyyy,e.MM-1,e.dd,e.HH,e.mm,e.ss||0,e.sss*1E3||0);e.yyyy<100&&c.setFullYear(e.yyyy);return c}}return NaN}}function pc(a,b,
d,c){return function(e,f,g,k,h,l,n){function r(y){return y&&!(y.getTime&&y.getTime()!==y.getTime())}function u(y){return R(y)&&!Xa(y)?w(y)||void 0:y}function w(y,v){var p=k.$options.getOption("timezone");F&&F!==p&&(v=je(v,nd(F)));y=d(y,v);!isNaN(y)&&p&&(y=od(y,p));return y}Xd(e,f,g,k);Wb(e,f,g,k,h,l);var H,F;k.$$parserName=a;k.$parsers.push(function(y){if(k.$isEmpty(y))return null;if(b.test(y))return w(y,H)});k.$formatters.push(function(y){if(y&&!Xa(y))throw qc("datefmt",y);if(r(y)){H=y;var v=k.$options.getOption("timezone");
v&&(F=v,H=od(H,v,!0));return n("date")(y,c,v)}F=H=null;return""});if(R(g.min)||g.ngMin){var C;k.$validators.min=function(y){return!r(y)||U(C)||d(y)>=C};g.$observe("min",function(y){C=u(y);k.$validate()})}if(R(g.max)||g.ngMax){var D;k.$validators.max=function(y){return!r(y)||U(D)||d(y)<=D};g.$observe("max",function(y){D=u(y);k.$validate()})}}}function Xd(a,b,d,c){(c.$$hasNativeValidators=fa(b[0].validity))&&c.$parsers.push(function(e){var f=b.prop("validity")||{};return f.badInput||f.typeMismatch?
void 0:e})}function vf(a){a.$$parserName="number";a.$parsers.push(function(b){if(a.$isEmpty(b))return null;if(Hh.test(b))return parseFloat(b)});a.$formatters.push(function(b){if(!a.$isEmpty(b)){if(!Ra(b))throw qc("numfmt",b);b=b.toString()}return b})}function Xb(a){R(a)&&!Ra(a)&&(a=parseFloat(a));return Ua(a)?void 0:a}function Yd(a){var b=a.toString(),d=b.indexOf(".");return d===-1?-1<a&&a<1&&(a=/e-(\d+)$/.exec(b))?Number(a[1]):0:b.length-d-1}function wf(a,b,d){a=Number(a);var c=(a|0)!==a,e=(b|0)!==
b,f=(d|0)!==d;if(c||e||f){var g=c?Yd(a):0,k=e?Yd(b):0,h=f?Yd(d):0;g=Math.pow(10,Math.max(g,k,h));a*=g;b*=g;d*=g;c&&(a=Math.round(a));e&&(b=Math.round(b));f&&(d=Math.round(d))}return(a-b)%d===0}function xf(a,b,d,c,e){if(R(c)){a=a(c);if(!a.constant)throw qc("constexpr",d,c);return a(b)}return e}function Zd(a,b){function d(g,k){if(!g||!g.length)return[];if(!k||!k.length)return g;var h=[],l=0;a:for(;l<g.length;l++){for(var n=g[l],r=0;r<k.length;r++)if(n===k[r])continue a;h.push(n)}return h}function c(g){var k=
g;na(g)?k=g.map(c).join(" "):fa(g)&&(k=Object.keys(g).filter(function(h){return g[h]}).join(" "));return k}function e(g){var k=g;if(na(g))k=g.map(e);else if(fa(g)){var h=!1;k=Object.keys(g).filter(function(l){l=g[l];!h&&U(l)&&(h=!0);return l});h&&k.push(void 0)}return k}a="ngClass"+a;var f;return["$parse",function(g){return{restrict:"AC",link:function(k,h,l){function n(p,q){var m=[];J(p,function(x){if(q>0||D[x])D[x]=(D[x]||0)+q,D[x]===+(q>0)&&m.push(x)});return m.join(" ")}function r(p){if(p===b){var q=
v;q=n(q&&q.split(" "),1);l.$addClass(q)}else q=v,q=n(q&&q.split(" "),-1),l.$removeClass(q);y=p}function u(p){p=c(p);p!==v&&w(p)}function w(p){if(y===b){var q=v&&v.split(" "),m=p&&p.split(" "),x=d(q,m);q=d(m,q);x=n(x,-1);q=n(q,1);l.$addClass(q);l.$removeClass(x)}v=p}var H=l[a].trim(),F=H.charAt(0)===":"&&H.charAt(1)===":";H=g(H,F?e:c);var C=F?u:w,D=h.data("$classCounts"),y=!0,v;D||(D=Ea(),h.data("$classCounts",D));a!=="ngClass"&&(f||(f=g("$index",function(p){return p&1})),k.$watch(f,r));k.$watch(H,
C,F)}}}]}function ad(a,b,d,c,e,f,g,k,h){this.$modelValue=this.$viewValue=Number.NaN;this.$$rawModelValue=void 0;this.$validators={};this.$asyncValidators={};this.$parsers=[];this.$formatters=[];this.$viewChangeListeners=[];this.$untouched=!0;this.$touched=!1;this.$pristine=!0;this.$dirty=!1;this.$valid=!0;this.$invalid=!1;this.$error={};this.$$success={};this.$pending=void 0;this.$name=h(d.name||"",!1)(a);this.$$parentForm=Zc;this.$options=$d;this.$$updateEvents="";this.$$updateEventHandler=this.$$updateEventHandler.bind(this);
this.$$parsedNgModel=e(d.ngModel);this.$$parsedNgModelAssign=this.$$parsedNgModel.assign;this.$$ngModelGet=this.$$parsedNgModel;this.$$ngModelSet=this.$$parsedNgModelAssign;this.$$pendingDebounce=null;this.$$parserValid=void 0;this.$$currentValidationRunId=0;Object.defineProperty(this,"$$scope",{value:a});this.$$attr=d;this.$$element=c;this.$$animate=f;this.$$timeout=g;this.$$parse=e;this.$$q=k;this.$$exceptionHandler=b;qf(this);Ih(this)}function Ih(a){a.$$scope.$watch(function(b){b=a.$$ngModelGet(b);
b===a.$modelValue||a.$modelValue!==a.$modelValue&&b!==b||a.$$setModelValue(b);return b})}function ae(a){this.$$options=a}function yf(a,b){J(b,function(d,c){R(a[c])||(a[c]=d)})}function Lb(a,b){a.prop("selected",b);a.attr("selected",b)}function Jh(){this.SCE_CONTEXTS=Yb;this.resourceUrlWhitelist=function(a){throw Ya("noresourceurlwhitelist");};this.resourceUrlBlacklist=function(a){throw Ya("noresourceurlblacklist");};this.$get=["$injector",function(a){var b=function(d){throw Ya("unsafe");};a.has("$sanitize")&&
(b=a.get("$sanitize"));return{trustAs:function(d,c){throw Ya("notrustas");},getTrusted:function(d,c){if(c===null||U(c)||c==="")return c;if(typeof c=="string"){if(d==Yb.TEMPLATE_URL){d=a.has("html2JsTemplatesCached")?!a.get("html2JsTemplatesCached")():!ng.safehtml.googSceHelper.isCOMPILED();if(d&&df(c,cf))return c;throw Ya("insecurl",c);}if(d==Yb.RESOURCE_URL)throw Ya("insecurl",c);if(d==Yb.HTML)return b(c);throw Ya("unsafe",d);}if(ng.safehtml.googSceHelper.isGoogHtmlType(c))try{return ng.safehtml.googSceHelper.unwrapGivenContext(d,
c)}catch(e){throw Ya("googhtml",c.toString(),d);}else throw Ya("unsafe",d);},valueOf:function(d){if(ng.safehtml.googSceHelper.isGoogHtmlType(d))try{return ng.safehtml.googSceHelper.unwrapAny(d)}catch(c){throw Ya("googhtml",d.toString());}else return d}}}]}function Kh(){this.enabled=function(a){if(arguments.length)throw Ya("nodisabling");return!0};this.$get=["$parse","$sceDelegate",function(a,b){if(qb<8)throw Ya("iequirks");if(typeof ng=="undefined"||!ng.safehtml||!ng.safehtml.googSceHelper)throw Ya("nodep");
var d=kb(Yb);d.isEnabled=function(){return!0};d.trustAs=b.trustAs;d.getTrusted=b.getTrusted;d.valueOf=b.valueOf;d.parseAs=function(g,k){var h=a(k);return h.literal&&h.constant?h:a(k,function(l){return d.getTrusted(g,l)})};var c=d.parseAs,e=d.getTrusted,f=d.trustAs;J(Yb,function(g,k){k=xa(k);d[("parse_as_"+k).replace(be,Db)]=function(h){return c(g,h)};d[("get_trusted_"+k).replace(be,Db)]=function(h){return e(g,h)};d[("trust_as_"+k).replace(be,Db)]=function(h){return f(g,h)}});return d}]}function Lh(){var a;
this.httpOptions=function(b){return b?(a=b,this):a};this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function(b,d,c,e,f){function g(k,h){g.totalPendingRequests++;if(!oa(k)||U(d.get(k)))k=f.getTrustedTemplateUrl(k);var l=c.defaults&&c.defaults.transformResponse;na(l)?l=l.filter(function(n){return n!==Ld}):l===Ld&&(l=null);return c.get(k,Aa({cache:d,transformResponse:l},a)).finally(function(){g.totalPendingRequests--}).then(function(n){d.put(k,n.data);return n.data},function(n){h||
(n=Mh("tpload",k,n.status,n.statusText),b(n));return e.reject(n)})}g.totalPendingRequests=0;return g}]}var de={objectMaxDepth:5},Nh=/^\/(.+)\/([a-z]*)$/,bb=Object.prototype.hasOwnProperty,xa=function(a){return oa(a)?a.toLowerCase():a},Tc=function(a){return oa(a)?a.toUpperCase():a},da,Ab,hb=[].slice,Mg=[].splice,Oh=[].push,Ta=Object.prototype.toString,ge=Object.getPrototypeOf,Cb=va("ng"),Va=ia.angular||(ia.angular={}),zd,sc=0;var qb=ia.document.documentMode;var Ua=Number.isNaN||function(a){return a!==
a};la.$inject=[];uc.$inject=[];var na=Array.isArray,Rf=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/,Ca=function(a){return oa(a)?a.trim():a},Jb=function(){if(!R(Jb.rules)){var a=ia.document.querySelector("[ng-csp]")||ia.document.querySelector("[data-ng-csp]");a?(a=a.getAttribute("ng-csp")||a.getAttribute("data-ng-csp"),Jb.rules={noUnsafeEval:!0,noInlineStyle:!a||a.indexOf("no-inline-style")!==-1}):Jb.rules={noUnsafeEval:!0,noInlineStyle:!1}}return Jb.rules},
bd=function(){if(R(bd.name_))return bd.name_;var a,b,d=Nb.length;for(b=0;b<d;++b){var c=Nb[b];if(a=ia.document.querySelector("["+c.replace(":","\\:")+"jq]")){var e=a.getAttribute(c+"jq");break}}return bd.name_=e},Tf=/:/g,Nb=["ng-","data-ng-","ng:","x-ng-"],Wf=function(a){var b=a.currentScript;if(!b)return!0;if(!(b instanceof ia.HTMLScriptElement||b instanceof ia.SVGScriptElement))return!1;b=b.attributes;return[b.getNamedItem("src"),b.getNamedItem("href"),b.getNamedItem("xlink:href")].every(function(d){if(!d)return!0;
if(!d.value)return!1;var c=a.createElement("a");c.href=d.value;if(a.location.origin===c.origin)return!0;switch(c.protocol){case "http:":case "https:":case "ftp:":case "blob:":case "file:":case "data:":return!0;default:return!1}})}(ia.document),Zf=/[A-Z]/g,zf=!1,wb=3,Ph={full:"1.6.4-local+sha.617b36117",major:1,minor:6,dot:void 0,codeName:"undefined"};Ha.expando="ng339";var hc=Ha.cache={},eg=1;Ha._data=function(a){return this.cache[a[this.expando]]||{}};var Ac=/-([a-z])/g,Qh=/^-ms-/,zc={mouseleave:"mouseout",
mouseenter:"mouseover"},ud=va("jqLite"),dg=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,td=/<|&#?\w+;/,bg=/<([\w:-]+)/,cg=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,eb={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};eb.optgroup=eb.option;eb.tbody=eb.tfoot=eb.colgroup=eb.caption=
eb.thead;eb.th=eb.td;var jg=ia.Node.prototype.contains||function(a){return!!(this.compareDocumentPosition(a)&16)},Qb=Ha.prototype={ready:pe,toString:function(){var a=[];J(this,function(b){a.push(""+b)});return"["+a.join(", ")+"]"},eq:function(a){return a>=0?da(this[a]):da(this[this.length+a])},length:0,push:Oh,sort:[].sort,splice:[].splice},Gc={};J("multiple selected checked disabled readOnly required open".split(" "),function(a){Gc[xa(a)]=a});var ue={};J("input select option textarea button form details".split(" "),
function(a){ue[a]=!0});var Me={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"};J({data:yd,removeData:xd,hasData:function(a){for(var b in hc[a.ng339])return!0;return!1},cleanData:function(a){for(var b=0,d=a.length;b<d;b++)xd(a[b])}},function(a,b){Ha[b]=a});J({data:yd,inheritedData:Ec,scope:function(a){return da.data(a,"$scope")||Ec(a.parentNode||a,["$isolateScope","$scope"])},isolateScope:function(a){return da.data(a,"$isolateScope")||da.data(a,
"$isolateScopeNoTemplate")},controller:re,injector:function(a){return Ec(a,"$injector")},removeAttr:function(a,b){a.removeAttribute(b)},hasClass:Bc,css:function(a,b,d){b=b.replace(Qh,"ms-").replace(Ac,Db);if(R(d))a.style[b]=d;else return a.style[b]},attr:function(a,b,d){var c=a.nodeType;if(c!==wb&&c!==2&&c!==8&&a.getAttribute){c=xa(b);var e=Gc[c];if(R(d))d===null||d===!1&&e?a.removeAttribute(b):a.setAttribute(b,e?c:d);else return a=a.getAttribute(b),e&&a!==null&&(a=c),a===null?void 0:a}},prop:function(a,
b,d){if(R(d))a[b]=d;else return a[b]},text:function(){function a(b,d){if(U(d))return d=b.nodeType,d===1||d===wb?b.textContent:"";b.textContent=d}a.$dv="";return a}(),val:function(a,b){if(U(b)){if(a.multiple&&ib(a)==="select"){var d=[];J(a.options,function(c){c.selected&&d.push(c.value||c.text)});return d}return a.value}a.value=b},html:function(a,b){if(U(b))return a.innerHTML;xc(a,!0);a.innerHTML=b},empty:se},function(a,b){Ha.prototype[b]=function(d,c){var e,f,g=this.length;if(a!==se&&U(a.length===
2&&a!==Bc&&a!==re?d:c)){if(fa(d)){for(e=0;e<g;e++)if(a===yd)a(this[e],d);else for(f in d)a(this[e],f,d[f]);return this}e=a.$dv;g=U(e)?Math.min(g,1):g;for(f=0;f<g;f++){var k=a(this[f],d,c);e=e?e+k:k}return e}for(e=0;e<g;e++)a(this[e],d,c);return this}});J({removeData:xd,on:function(a,b,d,c){if(R(c))throw ud("onargs");if(sd(a)){c=yc(a,!0);var e=c.events,f=c.handle;f||(f=c.handle=gg(a,e));c=b.indexOf(" ")>=0?b.split(" "):[b];for(var g=c.length,k=function(h,l,n){var r=e[h];r||(r=e[h]=[],r.specialHandlerWrapper=
l,h==="$destroy"||n||a.addEventListener(h,f));r.push(d)};g--;)b=c[g],zc[b]?(k(zc[b],ig),k(b,void 0,!0)):k(b)}},off:qe,one:function(a,b,d){a=da(a);a.on(b,function e(){a.off(b,d);a.off(b,e)});a.on(b,d)},replaceWith:function(a,b){var d,c=a.parentNode;xc(a);J(new Ha(b),function(e){d?c.insertBefore(e,d.nextSibling):c.replaceChild(e,a);d=e})},children:function(a){var b=[];J(a.childNodes,function(d){d.nodeType===1&&b.push(d)});return b},contents:function(a){return a.contentDocument||a.childNodes||[]},append:function(a,
b){var d=a.nodeType;if(d===1||d===11){b=new Ha(b);d=0;for(var c=b.length;d<c;d++)a.appendChild(b[d])}},prepend:function(a,b){if(a.nodeType===1){var d=a.firstChild;J(new Ha(b),function(c){a.insertBefore(c,d)})}},wrap:function(a,b){b=da(b).eq(0).clone()[0];var d=a.parentNode;d&&d.replaceChild(b,a);b.appendChild(a)},remove:Fc,detach:function(a){Fc(a,!0)},after:function(a,b){var d=a;if(a=a.parentNode){b=new Ha(b);for(var c=0,e=b.length;c<e;c++){var f=b[c];a.insertBefore(f,d.nextSibling);d=f}}},addClass:Dc,
removeClass:Cc,toggleClass:function(a,b,d){b&&J(b.split(" "),function(c){var e=d;U(e)&&(e=!Bc(a,c));(e?Dc:Cc)(a,c)})},parent:function(a){return(a=a.parentNode)&&a.nodeType!==11?a:null},next:function(a){return a.nextElementSibling},find:function(a,b){return a.getElementsByTagName?a.getElementsByTagName(b):[]},clone:wd,triggerHandler:function(a,b,d){var c=b.type||b,e=yc(a);if(e=(e=e&&e.events)&&e[c]){var f={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===
!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:la,type:c,target:a};b.type&&(f=Aa(f,b));b=kb(e);var g=d?[f].concat(d):[f];J(b,function(k){f.isImmediatePropagationStopped()||k.apply(a,g)})}}},function(a,b){Ha.prototype[b]=function(d,c,e){for(var f,g=0,k=this.length;g<k;g++)U(f)?(f=a(this[g],d,c,e),R(f)&&(f=da(f))):vd(f,a(this[g],d,c,e));return R(f)?f:this}});Ha.prototype.bind=
Ha.prototype.on;Ha.prototype.unbind=Ha.prototype.off;var Rh=Object.create(null);ve.prototype={_idx:function(a){if(a===this._lastKey)return this._lastIndex;this._lastKey=a;return this._lastIndex=this._keys.indexOf(a)},_transformKey:function(a){return Ua(a)?Rh:a},get:function(a){a=this._transformKey(a);a=this._idx(a);if(a!==-1)return this._values[a]},set:function(a,b){a=this._transformKey(a);var d=this._idx(a);d===-1&&(d=this._lastIndex=this._keys.length);this._keys[d]=a;this._values[d]=b},delete:function(a){a=
this._transformKey(a);a=this._idx(a);if(a===-1)return!1;this._keys.splice(a,1);this._values.splice(a,1);this._lastKey=NaN;this._lastIndex=-1;return!0}};var Hc=ve,Sh=[function(){this.$get=[function(){return Hc}]}],mg=/^([^(]+?)=>/,og=/^[^(]*\(\s*([^)]*)\)/m,Th=/,/,Uh=/^\s*(_?)(\S+?)\1\s*$/,lg=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg,Eb=va("$injector");fc.$$annotate=function(a,b,d){var c;if(typeof a==="function"){if(!(c=a.$inject)){c=[];if(a.length){if(b)throw oa(d)&&d||(d=a.name||pg(a)),Eb("strictdi",d);
b=we(a);J(b[1].split(Th),function(e){e.replace(Uh,function(f,g,k){c.push(k)})})}a.$inject=c}}else na(a)?(b=a.length-1,vc(a[b],"fn"),c=a.slice(0,b)):vc(a,"fn",!0);return c};var Af=va("$animate"),Vh=function(){this.$get=la},Wh=function(){var a=new Hc,b=[];this.$get=["$$AnimateRunner","$rootScope",function(d,c){function e(g,k,h){var l=!1;k&&(k=oa(k)?k.split(" "):na(k)?k:[],J(k,function(n){n&&(l=!0,g[n]=h)}));return l}function f(){J(b,function(g){var k=a.get(g);if(k){var h=rg(g.attr("class")),l="",n=
"";J(k,function(r,u){r!==!!h[u]&&(r?l+=(l.length?" ":"")+u:n+=(n.length?" ":"")+u)});J(g,function(r){l&&Dc(r,l);n&&Cc(r,n)});a.delete(g)}});b.length=0}return{enabled:la,on:la,off:la,pin:la,push:function(g,k,h,l){l&&l();h=h||{};h.from&&g.css(h.from);h.to&&g.css(h.to);if(h.addClass||h.removeClass)if(k=h.addClass,l=h.removeClass,h=a.get(g)||{},k=e(h,k,!0),l=e(h,l,!1),k||l)a.set(g,h),b.push(g),b.length===1&&c.$$postDigest(f);g=new d;g.complete();return g}}}]},Xh=["$provide",function(a){var b=this,d=null,
c=null;this.$$registeredAnimations=Object.create(null);this.register=function(e,f){if(e&&e.charAt(0)!==".")throw Af("notcsel",e);var g=e+"-animation";b.$$registeredAnimations[e.substr(1)]=g;a.factory(g,f)};this.customFilter=function(e){arguments.length===1&&(c=ca(e)?e:null);return c};this.classNameFilter=function(e){if(arguments.length===1&&(d=e instanceof RegExp?e:null)&&RegExp("[(\\s|\\/)]ng-animate[(\\s|\\/)]").test(d.toString()))throw d=null,Af("nongcls","ng-animate");return d};this.$get=["$$animateQueue",
function(e){function f(g,k,h){if(h){var l;a:{for(l=0;l<h.length;l++){var n=h[l];if(n.nodeType===1){l=n;break a}}l=void 0}!l||l.parentNode||l.previousElementSibling||(h=null)}h?h.after(g):k.prepend(g)}return{on:e.on,off:e.off,pin:e.pin,enabled:e.enabled,cancel:function(g){g.end&&g.end()},enter:function(g,k,h,l){k=k&&da(k);h=h&&da(h);k=k||h.parent();f(g,k,h);return e.push(g,"enter",Fb(l))},move:function(g,k,h,l){k=k&&da(k);h=h&&da(h);k=k||h.parent();f(g,k,h);return e.push(g,"move",Fb(l))},leave:function(g,
k){return e.push(g,"leave",Fb(k),function(){g.remove()})},addClass:function(g,k,h){h=Fb(h);h.addClass=ic(h.addclass,k);return e.push(g,"addClass",h)},removeClass:function(g,k,h){h=Fb(h);h.removeClass=ic(h.removeClass,k);return e.push(g,"removeClass",h)},setClass:function(g,k,h,l){l=Fb(l);l.addClass=ic(l.addClass,k);l.removeClass=ic(l.removeClass,h);return e.push(g,"setClass",l)},animate:function(g,k,h,l,n){n=Fb(n);n.from=n.from?Aa(n.from,k):k;n.to=n.to?Aa(n.to,h):h;n.tempClasses=ic(n.tempClasses,
l||"ng-inline-animate");return e.push(g,"animate",n)}}}]}],Yh=function(){this.$get=["$$rAF",function(a){function b(c){d.push(c);d.length>1||a(function(){for(var e=0;e<d.length;e++)d[e]();d=[]})}var d=[];return function(){var c=!1;b(function(){c=!0});return function(e){c?e():b(e)}}}]},Zh=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(a,b,d,c,e){function f(g){this.setHost(g);var k=d();this._doneCallbacks=[];this._tick=function(h){c()?e(h,0,!1):k(h)};
this._state=0}f.chain=function(g,k){function h(){if(l===g.length)k(!0);else g[l](function(n){n===!1?k(!1):(l++,h())})}var l=0;h()};f.all=function(g,k){function h(r){n=n&&r;++l===g.length&&k(n)}var l=0,n=!0;J(g,function(r){r.done(h)})};f.prototype={setHost:function(g){this.host=g||{}},done:function(g){this._state===2?g():this._doneCallbacks.push(g)},progress:la,getPromise:function(){if(!this.promise){var g=this;this.promise=a(function(k,h){g.done(function(l){l===!1?h():k()})})}return this.promise},
then:function(g,k){return this.getPromise().then(g,k)},"catch":function(g){return this.getPromise()["catch"](g)},"finally":function(g){return this.getPromise()["finally"](g)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end();this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel();this._resolve(!1)},complete:function(g){var k=this;k._state===0&&(k._state=1,k._tick(function(){k._resolve(g)}))},
_resolve:function(g){this._state!==2&&(J(this._doneCallbacks,function(k){k(g)}),this._doneCallbacks.length=0,this._state=2)}};return f}]},$h=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(a,b,d){return function(c,e){function f(){a(function(){g.addClass&&(c.addClass(g.addClass),g.addClass=null);g.removeClass&&(c.removeClass(g.removeClass),g.removeClass=null);g.to&&(c.css(g.to),g.to=null);k||h.complete();k=!0});return h}var g=e||{};g.$$prepared||(g=Bb(g));g.cleanupStyles&&(g.from=g.to=
null);g.from&&(c.css(g.from),g.from=null);var k,h=new d;return{start:f,end:f}}}]},Ja=va("$compile"),Jd=new function(){};xe.$inject=["$provide","$$sanitizeUriProvider"];Rc.prototype.isFirstChange=function(){return this.previousValue===Jd};var Be=/^((?:x|data)[:\-_])/i,Lg=/[:\-_]+(.)/g,Qe=va("$controller"),Pe=/^(\S+)(\s+as\s+([\w$]+))?$/,ai=function(){this.$get=["$document",function(a){return function(b){b?!b.nodeType&&b instanceof da&&(b=b[0]):b=a[0].body;return b.offsetWidth+1}}]},Re="application/json",
Md={"Content-Type":Re+";charset=utf-8"},Ug=/^\[|^\{(?!\{)/,Vg={"[":/]$/,"{":/}$/},Tg=/^\)]\}',?\n/,Sc=va("$http"),Ib=Va.$interpolateMinErr=va("$interpolate");Ib.throwNoconcat=function(a){throw Ib("noconcat",a);};Ib.interr=function(a,b){return Ib("interr",a,b.toString())};var bi=function(){this.$get=function(){function a(c){var e=function(f){e.data=f;e.called=!0};e.id=c;return e}var b=Va.callbacks,d={};return{createCallback:function(c){c="_"+(b.$$counter++).toString(36);var e="angular.callbacks."+
c,f=a(c);d[e]=b[c]=f;return e},wasCalled:function(c){return d[c].called},getResponse:function(c){return d[c].data},removeCallback:function(c){delete b[d[c].id];delete d[c]}}}},ci=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,ch={http:80,https:443,ftp:21},lc=va("$location"),dh=/^\s*[\\/]{2,}/,di={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:Uc("$$absUrl"),url:function(a){if(U(a))return this.$$url;var b=ci.exec(a);(b[1]||a==="")&&this.path(decodeURIComponent(b[1]));(b[2]||b[1]||a==="")&&this.search(b[3]||"");this.hash(b[5]||
"");return this},protocol:Uc("$$protocol"),host:Uc("$$host"),port:Uc("$$port"),path:Ye("$$path",function(a){a=a!==null?a.toString():"";return a.charAt(0)==="/"?a:"/"+a}),search:function(a,b){switch(arguments.length){case 0:return this.$$search;case 1:if(oa(a)||Ra(a))a=a.toString(),this.$$search=pd(a);else if(fa(a))a=Bb(a,{}),J(a,function(d,c){d==null&&delete a[c]}),this.$$search=a;else throw lc("isrcharg");break;default:U(b)||b===null?delete this.$$search[a]:this.$$search[a]=b}this.$$compose();return this},
hash:Ye("$$hash",function(a){return a!==null?a.toString():""}),replace:function(){this.$$replace=!0;return this}};J([Xe,Qd,Pd],function(a){a.prototype=Object.create(di);a.prototype.state=function(b){if(!arguments.length)return this.$$state;if(a!==Pd||!this.$$html5)throw lc("nostate");this.$$state=U(b)?null:b;this.$$urlUpdatedByLocation=!0;return this}});var rc=va("$parse"),jh={}.constructor.prototype.valueOf,cd=Ea();J("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(a){cd[a]=!0});
var ei={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},Wc=function(a){this.options=a};Wc.prototype={constructor:Wc,lex:function(a){this.text=a;this.index=0;for(this.tokens=[];this.index<this.text.length;)if(a=this.text.charAt(this.index),a==='"'||a==="'")this.readString(a);else if(this.isNumber(a)||a==="."&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(a,"(){}[].,;:?"))this.tokens.push({index:this.index,text:a}),
this.index++;else if(this.isWhitespace(a))this.index++;else{var b=a+this.peek(),d=b+this.peek(2),c=cd[b],e=cd[d];cd[a]||c||e?(a=e?d:c?b:a,this.tokens.push({index:this.index,text:a,operator:!0}),this.index+=a.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(a,b){return b.indexOf(a)!==-1},peek:function(a){a=a||1;return this.index+a<this.text.length?this.text.charAt(this.index+a):!1},isNumber:function(a){return"0"<=a&&a<="9"&&typeof a==="string"},
isWhitespace:function(a){return a===" "||a==="\r"||a==="\t"||a==="\n"||a==="\v"||a==="\u00a0"},isIdentifierStart:function(a){return this.options.isIdentifierStart?this.options.isIdentifierStart(a,this.codePointAt(a)):this.isValidIdentifierStart(a)},isValidIdentifierStart:function(a){return"a"<=a&&a<="z"||"A"<=a&&a<="Z"||"_"===a||a==="$"},isIdentifierContinue:function(a){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(a,this.codePointAt(a)):this.isValidIdentifierContinue(a)},
isValidIdentifierContinue:function(a,b){return this.isValidIdentifierStart(a,b)||this.isNumber(a)},codePointAt:function(a){return a.length===1?a.charCodeAt(0):(a.charCodeAt(0)<<10)+a.charCodeAt(1)-56613888},peekMultichar:function(){var a=this.text.charAt(this.index),b=this.peek();if(!b)return a;var d=a.charCodeAt(0),c=b.charCodeAt(0);return d>=55296&&d<=56319&&c>=56320&&c<=57343?a+b:a},isExpOperator:function(a){return a==="-"||a==="+"||this.isNumber(a)},throwError:function(a,b,d){d=d||this.index;
b=R(b)?"s "+b+"-"+this.index+" ["+this.text.substring(b,d)+"]":" "+d;throw rc("lexerr",a,b,this.text);},readNumber:function(){for(var a="",b=this.index;this.index<this.text.length;){var d=xa(this.text.charAt(this.index));if(d==="."||this.isNumber(d))a+=d;else{var c=this.peek();if(d==="e"&&this.isExpOperator(c))a+=d;else if(this.isExpOperator(d)&&c&&this.isNumber(c)&&a.charAt(a.length-1)==="e")a+=d;else if(!this.isExpOperator(d)||c&&this.isNumber(c)||a.charAt(a.length-1)!=="e")break;else this.throwError("Invalid exponent")}this.index++}this.tokens.push({index:b,
text:a,constant:!0,value:Number(a)})},readIdent:function(){var a=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var b=this.peekMultichar();if(!this.isIdentifierContinue(b))break;this.index+=b.length}this.tokens.push({index:a,text:this.text.slice(a,this.index),identifier:!0})},readString:function(a){var b=this.index;this.index++;for(var d="",c=a,e=!1;this.index<this.text.length;){var f=this.text.charAt(this.index);c+=f;if(e)f==="u"?(e=this.text.substring(this.index+
1,this.index+5),e.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+e+"]"),this.index+=4,d+=String.fromCharCode(parseInt(e,16))):d+=ei[f]||f,e=!1;else if(f==="\\")e=!0;else{if(f===a){this.index++;this.tokens.push({index:b,text:c,constant:!0,value:d});return}d+=f}this.index++}this.throwError("Unterminated quote",b)}};var Q=function(a,b){this.lexer=a;this.options=b};Q.Program="Program";Q.ExpressionStatement="ExpressionStatement";Q.AssignmentExpression="AssignmentExpression";Q.ConditionalExpression=
"ConditionalExpression";Q.LogicalExpression="LogicalExpression";Q.BinaryExpression="BinaryExpression";Q.UnaryExpression="UnaryExpression";Q.CallExpression="CallExpression";Q.MemberExpression="MemberExpression";Q.Identifier="Identifier";Q.Literal="Literal";Q.ArrayExpression="ArrayExpression";Q.Property="Property";Q.ObjectExpression="ObjectExpression";Q.ThisExpression="ThisExpression";Q.LocalsExpression="LocalsExpression";Q.NGValueParameter="NGValueParameter";Q.prototype={ast:function(a){this.text=
a;this.tokens=this.lexer.lex(a);a=this.program();this.tokens.length!==0&&this.throwError("is an unexpected token",this.tokens[0]);return a},program:function(){for(var a=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&a.push(this.expressionStatement()),!this.expect(";"))return{type:Q.Program,body:a}},expressionStatement:function(){return{type:Q.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var a=this.expression();this.expect("|");)a=this.filter(a);return a},
expression:function(){return this.assignment()},assignment:function(){var a=this.ternary();if(this.expect("=")){if(!$e(a))throw rc("lval");a={type:Q.AssignmentExpression,left:a,right:this.assignment(),operator:"="}}return a},ternary:function(){var a=this.logicalOR();if(this.expect("?")){var b=this.expression();if(this.consume(":")){var d=this.expression();return{type:Q.ConditionalExpression,test:a,alternate:b,consequent:d}}}return a},logicalOR:function(){for(var a=this.logicalAND();this.expect("||");)a=
{type:Q.LogicalExpression,operator:"||",left:a,right:this.logicalAND()};return a},logicalAND:function(){for(var a=this.equality();this.expect("&&");)a={type:Q.LogicalExpression,operator:"&&",left:a,right:this.equality()};return a},equality:function(){for(var a=this.relational(),b;b=this.expect("==","!=","===","!==");)a={type:Q.BinaryExpression,operator:b.text,left:a,right:this.relational()};return a},relational:function(){for(var a=this.additive(),b;b=this.expect("<",">","<=",">=");)a={type:Q.BinaryExpression,
operator:b.text,left:a,right:this.additive()};return a},additive:function(){for(var a=this.multiplicative(),b;b=this.expect("+","-");)a={type:Q.BinaryExpression,operator:b.text,left:a,right:this.multiplicative()};return a},multiplicative:function(){for(var a=this.unary(),b;b=this.expect("*","/","%");)a={type:Q.BinaryExpression,operator:b.text,left:a,right:this.unary()};return a},unary:function(){var a;return(a=this.expect("+","-","!"))?{type:Q.UnaryExpression,operator:a.text,prefix:!0,argument:this.unary()}:
this.primary()},primary:function(){if(this.expect("(")){var a=this.filterChain();this.consume(")")}else this.expect("[")?a=this.arrayDeclaration():this.expect("{")?a=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?a=Bb(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?a={type:Q.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?a=this.identifier():this.peek().constant?a=this.constant():this.throwError("not a primary expression",
this.peek());for(var b;b=this.expect("(","[",".");)b.text==="("?(a={type:Q.CallExpression,callee:a,arguments:this.parseArguments()},this.consume(")")):b.text==="["?(a={type:Q.MemberExpression,object:a,property:this.expression(),computed:!0},this.consume("]")):b.text==="."?a={type:Q.MemberExpression,object:a,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return a},filter:function(a){a=[a];for(var b={type:Q.CallExpression,callee:this.identifier(),arguments:a,filter:!0};this.expect(":");)a.push(this.expression());
return b},parseArguments:function(){var a=[];if(this.peekToken().text!==")"){do a.push(this.filterChain());while(this.expect(","))}return a},identifier:function(){var a=this.consume();a.identifier||this.throwError("is not a valid identifier",a);return{type:Q.Identifier,name:a.text}},constant:function(){return{type:Q.Literal,value:this.consume().value}},arrayDeclaration:function(){var a=[];if(this.peekToken().text!=="]"){do{if(this.peek("]"))break;a.push(this.expression())}while(this.expect(","))}this.consume("]");
return{type:Q.ArrayExpression,elements:a}},object:function(){var a=[];if(this.peekToken().text!=="}"){do{if(this.peek("}"))break;var b={type:Q.Property,kind:"init"};this.peek().constant?(b.key=this.constant(),b.computed=!1,this.consume(":"),b.value=this.expression()):this.peek().identifier?(b.key=this.identifier(),b.computed=!1,this.peek(":")?(this.consume(":"),b.value=this.expression()):b.value=b.key):this.peek("[")?(this.consume("["),b.key=this.expression(),this.consume("]"),b.computed=!0,this.consume(":"),
b.value=this.expression()):this.throwError("invalid key",this.peek());a.push(b)}while(this.expect(","))}this.consume("}");return{type:Q.ObjectExpression,properties:a}},throwError:function(a,b){throw rc("syntax",b.text,a,b.index+1,this.text,this.text.substring(b.index));},consume:function(a){if(this.tokens.length===0)throw rc("ueoe",this.text);var b=this.expect(a);b||this.throwError("is unexpected, expecting ["+a+"]",this.peek());return b},peekToken:function(){if(this.tokens.length===0)throw rc("ueoe",
this.text);return this.tokens[0]},peek:function(a,b,d,c){return this.peekAhead(0,a,b,d,c)},peekAhead:function(a,b,d,c,e){if(this.tokens.length>a){a=this.tokens[a];var f=a.text;if(f===b||f===d||f===c||f===e||!(b||d||c||e))return a}return!1},expect:function(a,b,d,c){return(a=this.peek(a,b,d,c))?(this.tokens.shift(),a):!1},selfReferential:{"this":{type:Q.ThisExpression},$locals:{type:Q.LocalsExpression}}};var Ze=2;af.prototype={compile:function(a){var b=this;Ma(a,b.$filter);var d;if(d=ih(a))var c=this.recurse(d);
d=hh(a.body);if(d){var e=[];J(d,function(g,k){var h=b.recurse(g);h.isPure=g.isPure;g.input=h;e.push(h);g.watchId=k})}var f=[];J(a.body,function(g){f.push(b.recurse(g.expression))});a=a.body.length===0?la:a.body.length===1?f[0]:function(g,k){var h;J(f,function(l){h=l(g,k)});return h};c&&(a.assign=function(g,k,h){return c(g,h,k)});e&&(a.inputs=e);return a},recurse:function(a,b,d){var c=this;if(a.input)return this.inputs(a.input,a.watchId);switch(a.type){case Q.Literal:return this.value(a.value,b);case Q.UnaryExpression:var e=
this.recurse(a.argument);return this["unary"+a.operator](e,b);case Q.BinaryExpression:var f=this.recurse(a.left);e=this.recurse(a.right);return this["binary"+a.operator](f,e,b);case Q.LogicalExpression:return f=this.recurse(a.left),e=this.recurse(a.right),this["binary"+a.operator](f,e,b);case Q.ConditionalExpression:return this["ternary?:"](this.recurse(a.test),this.recurse(a.alternate),this.recurse(a.consequent),b);case Q.Identifier:return c.identifier(a.name,b,d);case Q.MemberExpression:return f=
this.recurse(a.object,!1,!!d),a.computed||(e=a.property.name),a.computed&&(e=this.recurse(a.property)),a.computed?this.computedMember(f,e,b,d):this.nonComputedMember(f,e,b,d);case Q.CallExpression:var g=[];J(a.arguments,function(k){g.push(c.recurse(k))});a.filter&&(e=this.$filter(a.callee.name));a.filter||(e=this.recurse(a.callee,!0));return a.filter?function(k,h,l,n){for(var r=[],u=0;u<g.length;++u)r.push(g[u](k,h,l,n));k=e.apply(void 0,r,n);return b?{context:void 0,name:void 0,value:k}:k}:function(k,
h,l,n){var r=e(k,h,l,n);if(r.value!=null){var u=[];for(var w=0;w<g.length;++w)u.push(g[w](k,h,l,n));u=r.value.apply(r.context,u)}return b?{value:u}:u};case Q.AssignmentExpression:return f=this.recurse(a.left,!0,1),e=this.recurse(a.right),function(k,h,l,n){var r=f(k,h,l,n);k=e(k,h,l,n);r.context[r.name]=k;return b?{value:k}:k};case Q.ArrayExpression:return g=[],J(a.elements,function(k){g.push(c.recurse(k))}),function(k,h,l,n){for(var r=[],u=0;u<g.length;++u)r.push(g[u](k,h,l,n));return b?{value:r}:
r};case Q.ObjectExpression:return g=[],J(a.properties,function(k){k.computed?g.push({key:c.recurse(k.key),computed:!0,value:c.recurse(k.value)}):g.push({key:k.key.type===Q.Identifier?k.key.name:""+k.key.value,computed:!1,value:c.recurse(k.value)})}),function(k,h,l,n){for(var r={},u=0;u<g.length;++u)g[u].computed?r[g[u].key(k,h,l,n)]=g[u].value(k,h,l,n):r[g[u].key]=g[u].value(k,h,l,n);return b?{value:r}:r};case Q.ThisExpression:return function(k){return b?{value:k}:k};case Q.LocalsExpression:return function(k,
h){return b?{value:h}:h};case Q.NGValueParameter:return function(k,h,l){return b?{value:l}:l}}},"unary+":function(a,b){return function(d,c,e,f){d=a(d,c,e,f);d=R(d)?+d:0;return b?{value:d}:d}},"unary-":function(a,b){return function(d,c,e,f){d=a(d,c,e,f);d=R(d)?-d:-0;return b?{value:d}:d}},"unary!":function(a,b){return function(d,c,e,f){d=!a(d,c,e,f);return b?{value:d}:d}},"binary+":function(a,b,d){return function(c,e,f,g){var k=a(c,e,f,g);c=b(c,e,f,g);k=typeof k==="undefined"?c:typeof c==="undefined"?
k:k+c;return d?{value:k}:k}},"binary-":function(a,b,d){return function(c,e,f,g){var k=a(c,e,f,g);c=b(c,e,f,g);k=(R(k)?k:0)-(R(c)?c:0);return d?{value:k}:k}},"binary*":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)*b(c,e,f,g);return d?{value:c}:c}},"binary/":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)/b(c,e,f,g);return d?{value:c}:c}},"binary%":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)%b(c,e,f,g);return d?{value:c}:c}},"binary===":function(a,b,d){return function(c,e,f,
g){c=a(c,e,f,g)===b(c,e,f,g);return d?{value:c}:c}},"binary!==":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)!==b(c,e,f,g);return d?{value:c}:c}},"binary==":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)==b(c,e,f,g);return d?{value:c}:c}},"binary!=":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)!=b(c,e,f,g);return d?{value:c}:c}},"binary<":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)<b(c,e,f,g);return d?{value:c}:c}},"binary>":function(a,b,d){return function(c,e,f,g){c=
a(c,e,f,g)>b(c,e,f,g);return d?{value:c}:c}},"binary<=":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)<=b(c,e,f,g);return d?{value:c}:c}},"binary>=":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)>=b(c,e,f,g);return d?{value:c}:c}},"binary&&":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)&&b(c,e,f,g);return d?{value:c}:c}},"binary||":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)||b(c,e,f,g);return d?{value:c}:c}},"ternary?:":function(a,b,d,c){return function(e,f,g,k){e=
a(e,f,g,k)?b(e,f,g,k):d(e,f,g,k);return c?{value:e}:e}},value:function(a,b){return function(){return b?{context:void 0,name:void 0,value:a}:a}},identifier:function(a,b,d){return function(c,e,f,g){c=e&&a in e?e:c;d&&d!==1&&c&&c[a]==null&&(c[a]={});e=c?c[a]:void 0;return b?{context:c,name:a,value:e}:e}},computedMember:function(a,b,d,c){return function(e,f,g,k){var h=a(e,f,g,k);if(h!=null){var l=b(e,f,g,k);l+="";c&&c!==1&&h&&!h[l]&&(h[l]={});var n=h[l]}return d?{context:h,name:l,value:n}:n}},nonComputedMember:function(a,
b,d,c){return function(e,f,g,k){e=a(e,f,g,k);c&&c!==1&&e&&e[b]==null&&(e[b]={});f=e!=null?e[b]:void 0;return d?{context:e,name:b,value:f}:f}},inputs:function(a,b){return function(d,c,e,f){return f?f[b]:a(d,c,e)}}};Vc.prototype={constructor:Vc,parse:function(a){a=this.getAst(a);var b=this.astCompiler.compile(a.ast),d=a.ast;b.literal=d.body.length===0||d.body.length===1&&(d.body[0].expression.type===Q.Literal||d.body[0].expression.type===Q.ArrayExpression||d.body[0].expression.type===Q.ObjectExpression);
b.constant=a.ast.constant;b.oneTime=a.oneTime;return b},getAst:function(a){var b=!1;a=a.trim();a.charAt(0)===":"&&a.charAt(1)===":"&&(b=!0,a=a.substring(2));return{ast:this.ast.ast(a),oneTime:b}}};var Pa=ia.document.createElement("a"),cf=pb(ia.location.href);ef.$inject=["$document"];ff.$inject=["$provide"];var nf=22,mf=".",Td="0";gf.$inject=["$locale"];jf.$inject=["$locale"];var Fh={yyyy:Qa("FullYear",4,0,!1,!0),yy:Qa("FullYear",2,0,!0,!0),y:Qa("FullYear",1,0,!1,!0),MMMM:nc("Month"),MMM:nc("Month",
!0),MM:Qa("Month",2,1),M:Qa("Month",1,1),LLLL:nc("Month",!1,!0),dd:Qa("Date",2),d:Qa("Date",1),HH:Qa("Hours",2),H:Qa("Hours",1),hh:Qa("Hours",2,-12),h:Qa("Hours",1,-12),mm:Qa("Minutes",2),m:Qa("Minutes",1),ss:Qa("Seconds",2),s:Qa("Seconds",1),sss:Qa("Milliseconds",3),EEEE:nc("Day"),EEE:nc("Day",!0),a:function(a,b){return a.getHours()<12?b.AMPMS[0]:b.AMPMS[1]},Z:function(a,b,d){a=-1*d;return(a>=0?"+":"")+(Xc(Math[a>0?"floor":"ceil"](a/60),2)+Xc(Math.abs(a%60),2))},ww:pf(2),w:pf(1),G:Ud,GG:Ud,GGG:Ud,
GGGG:function(a,b){return a.getFullYear()<=0?b.ERANAMES[0]:b.ERANAMES[1]}},Eh=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\s\S]*)/,Dh=/^-?\d+$/;hf.$inject=["$locale"];var yh=cb(xa),zh=cb(Tc);kf.$inject=["$parse"];var fi=cb({restrict:"E",compile:function(a,b){if(!b.href&&!b.xlinkHref)return function(d,c){if(c[0].nodeName.toLowerCase()==="a"){var e=Ta.call(c.prop("href"))==="[object SVGAnimatedString]"?"xlink:href":"href";c.on("click",function(f){c.attr(e)||
f.preventDefault()})}}}}),dd={};J(Gc,function(a,b){function d(f,g,k){f.$watch(k[c],function(h){k.$set(b,!!h)})}if(a!=="multiple"){var c=lb("ng-"+b),e=d;a==="checked"&&(e=function(f,g,k){k.ngModel!==k[c]&&d(f,g,k)});dd[c]=function(){return{restrict:"A",priority:100,link:e}}}});J(Me,function(a,b){dd[b]=function(){return{priority:100,link:function(d,c,e){if(b==="ngPattern"&&e.ngPattern.charAt(0)==="/"&&(c=e.ngPattern.match(Nh))){e.$set("ngPattern",new RegExp(c[1],c[2]));return}d.$watch(e[b],function(f){e.$set(b,
f)})}}}});J(["src","srcset","href"],function(a){var b=lb("ng-"+a);dd[b]=function(){return{priority:99,link:function(d,c,e){var f=a,g=a;a==="href"&&Ta.call(c.prop("href"))==="[object SVGAnimatedString]"&&(g="xlinkHref",e.$attr[g]="xlink:href",f=null);e.$observe(b,function(k){k?(e.$set(g,k),qb&&f&&c.prop(f,e[g])):a==="href"&&e.$set(g,null)})}}}});var Zc={$addControl:la,$$renameControl:function(a,b){a.$name=b},$removeControl:la,$setValidity:la,$setDirty:la,$setPristine:la,$setSubmitted:la};Yc.$inject=
["$element","$attrs","$scope","$animate","$interpolate"];Yc.prototype={$rollbackViewValue:function(){J(this.$$controls,function(a){a.$rollbackViewValue()})},$commitViewValue:function(){J(this.$$controls,function(a){a.$commitViewValue()})},$addControl:function(a){Ob(a.$name,"input");this.$$controls.push(a);a.$name&&(this[a.$name]=a);a.$$parentForm=this},$$renameControl:function(a,b){var d=a.$name;this[d]===a&&delete this[d];this[b]=a;a.$name=b},$removeControl:function(a){a.$name&&this[a.$name]===a&&
delete this[a.$name];J(this.$pending,function(b,d){this.$setValidity(d,null,a)},this);J(this.$error,function(b,d){this.$setValidity(d,null,a)},this);J(this.$$success,function(b,d){this.$setValidity(d,null,a)},this);bc(this.$$controls,a);a.$$parentForm=Zc},$setDirty:function(){this.$$animate.removeClass(this.$$element,Zb);this.$$animate.addClass(this.$$element,ed);this.$dirty=!0;this.$pristine=!1;this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,Zb,ed+" ng-submitted");
this.$dirty=!1;this.$pristine=!0;this.$submitted=!1;J(this.$$controls,function(a){a.$setPristine()})},$setUntouched:function(){J(this.$$controls,function(a){a.$setUntouched()})},$setSubmitted:function(){this.$$animate.addClass(this.$$element,"ng-submitted");this.$submitted=!0;this.$$parentForm.$setSubmitted()}};sf({clazz:Yc,set:function(a,b,d){var c=a[b];c?c.indexOf(d)===-1&&c.push(d):a[b]=[d]},unset:function(a,b,d){var c=a[b];c&&(bc(c,d),c.length===0&&delete a[b])}});var Bf=function(a){return["$timeout",
"$parse",function(b,d){function c(e){return e===""?d('this[""]').assign:d(e).assign||la}return{name:"form",restrict:a?"EAC":"E",require:["form","^^?form"],controller:Yc,compile:function(e,f){e.addClass(Zb).addClass(oc);var g=f.name?"name":a&&f.ngForm?"ngForm":!1;return{pre:function(k,h,l,n){var r=n[0];if(!("action"in l)){var u=function(H){k.$apply(function(){r.$commitViewValue();r.$setSubmitted()});H.preventDefault()};h[0].addEventListener("submit",u);h.on("$destroy",function(){b(function(){h[0].removeEventListener("submit",
u)},0,!1)})}(n[1]||r.$$parentForm).$addControl(r);var w=g?c(r.$name):la;g&&(w(k,r),l.$observe(g,function(H){r.$name!==H&&(w(k,void 0),r.$$parentForm.$$renameControl(r,H),w=c(r.$name),w(k,r))}));h.on("$destroy",function(){r.$$parentForm.$removeControl(r);w(k,void 0);Aa(r,Zc)})}}}}}]},gi=Bf(),hi=Bf(!0),Gh=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,ii=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,
ji=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,Hh=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Cf=/^(\d{4,})-(\d{2})-(\d{2})$/,Df=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,ce=/^(\d{4,})-W(\d\d)$/,Ef=/^(\d{4,})-(\d\d)$/,Ff=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,uf=Ea();J(["date","datetime-local","month","time","week"],function(a){uf[a]=
!0});var Gf={text:function(a,b,d,c,e,f){Wb(a,b,d,c,e,f);Wd(c)},date:pc("date",Cf,$c(Cf,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":pc("datetimelocal",Df,$c(Df,"yyyy MM dd HH mm ss sss".split(" ")),"yyyy-MM-ddTHH:mm:ss.sss"),time:pc("time",Ff,$c(Ff,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:pc("week",ce,function(a,b){if(Xa(a))return a;if(oa(a)){ce.lastIndex=0;var d=ce.exec(a);if(d){a=+d[1];var c=+d[2],e=d=0,f=0,g=0,k=of(a);c=(c-1)*7;b&&(d=b.getHours(),e=b.getMinutes(),f=b.getSeconds(),g=b.getMilliseconds());
return new Date(a,0,k.getDate()+c,d,e,f,g)}}return NaN},"yyyy-Www"),month:pc("month",Ef,$c(Ef,["yyyy","MM"]),"yyyy-MM"),number:function(a,b,d,c,e,f){Xd(a,b,d,c);vf(c);Wb(a,b,d,c,e,f);var g,k;if(R(d.min)||d.ngMin)c.$validators.min=function(l){return c.$isEmpty(l)||U(g)||l>=g},d.$observe("min",function(l){g=Xb(l);c.$validate()});if(R(d.max)||d.ngMax)c.$validators.max=function(l){return c.$isEmpty(l)||U(k)||l<=k},d.$observe("max",function(l){k=Xb(l);c.$validate()});if(R(d.step)||d.ngStep){var h;c.$validators.step=
function(l,n){return c.$isEmpty(n)||U(h)||wf(n,g||0,h)};d.$observe("step",function(l){h=Xb(l);c.$validate()})}},url:function(a,b,d,c,e,f){Wb(a,b,d,c,e,f);Wd(c);c.$$parserName="url";c.$validators.url=function(g,k){g=g||k;return c.$isEmpty(g)||ii.test(g)}},email:function(a,b,d,c,e,f){Wb(a,b,d,c,e,f);Wd(c);c.$$parserName="email";c.$validators.email=function(g,k){g=g||k;return c.$isEmpty(g)||ji.test(g)}},radio:function(a,b,d,c){var e=!d.ngTrim||Ca(d.ngTrim)!=="false";U(d.name)&&b.attr("name",++sc);b.on("click",
function(f){if(b[0].checked){var g=d.value;e&&(g=Ca(g));c.$setViewValue(g,f&&f.type)}});c.$render=function(){var f=d.value;e&&(f=Ca(f));b[0].checked=f===c.$viewValue};d.$observe("value",c.$render)},range:function(a,b,d,c,e,f){function g(C,D){b.attr(C,d[C]);d.$observe(C,D)}function k(C){r=Xb(C);Ua(c.$modelValue)||(n?(C=b.val(),r>C&&(C=r,b.val(C)),c.$setViewValue(C)):c.$validate())}function h(C){u=Xb(C);Ua(c.$modelValue)||(n?(C=b.val(),u<C&&(b.val(u),C=u<r?r:u),c.$setViewValue(C)):c.$validate())}function l(C){w=
Xb(C);Ua(c.$modelValue)||(n&&c.$viewValue!==b.val()?c.$setViewValue(b.val()):c.$validate())}Xd(a,b,d,c);vf(c);Wb(a,b,d,c,e,f);var n=c.$$hasNativeValidators&&b[0].type==="range",r=n?0:void 0,u=n?100:void 0,w=n?1:void 0,H=b[0].validity;a=R(d.min);e=R(d.max);f=R(d.step);var F=c.$render;c.$render=n&&R(H.rangeUnderflow)&&R(H.rangeOverflow)?function(){F();c.$setViewValue(b.val())}:F;a&&(c.$validators.min=n?function(){return!0}:function(C,D){return c.$isEmpty(D)||U(r)||D>=r},g("min",k));e&&(c.$validators.max=
n?function(){return!0}:function(C,D){return c.$isEmpty(D)||U(u)||D<=u},g("max",h));f&&(c.$validators.step=n?function(){return!H.stepMismatch}:function(C,D){return c.$isEmpty(D)||U(w)||wf(D,r||0,w)},g("step",l))},checkbox:function(a,b,d,c,e,f,g,k){var h=xf(k,a,"ngTrueValue",d.ngTrueValue,!0),l=xf(k,a,"ngFalseValue",d.ngFalseValue,!1);b.on("click",function(n){c.$setViewValue(b[0].checked,n&&n.type)});c.$render=function(){b[0].checked=c.$viewValue};c.$isEmpty=function(n){return n===!1};c.$formatters.push(function(n){return db(n,
h)});c.$parsers.push(function(n){return n?h:l})},hidden:la,button:la,submit:la,reset:la,file:la},Hf=["$browser","$sniffer","$filter","$parse",function(a,b,d,c){return{restrict:"E",require:["?ngModel"],link:{pre:function(e,f,g,k){k[0]&&(Gf[xa(g.type)]||Gf.text)(e,f,g,k[0],b,a,d,c)}}}}],ki=function(){var a={configurable:!0,enumerable:!1,get:function(){return this.getAttribute("value")||""},set:function(b){this.setAttribute("value",b)}};return{restrict:"E",priority:200,compile:function(b,d){if(xa(d.type)===
"hidden")return{pre:function(c,e,f,g){c=e[0];c.parentNode&&c.parentNode.insertBefore(c,c.nextSibling);Object.defineProperty&&Object.defineProperty(c,"value",a)}}}}},li=/^(true|false|\d+)$/,mi=function(){function a(b,d,c){var e=R(c)?c:qb===9?"":null;b.prop("value",e);d.$set("value",c)}return{restrict:"A",priority:100,compile:function(b,d){return li.test(d.ngValue)?function(c,e,f){c=c.$eval(f.ngValue);a(e,f,c)}:function(c,e,f){c.$watch(f.ngValue,function(g){a(e,f,g)})}}}},ni=["$compile",function(a){return{restrict:"AC",
compile:function(b){a.$$addBindingClass(b);return function(d,c,e){a.$$addBindingInfo(c,e.ngBind);c=c[0];d.$watch(e.ngBind,function(f){c.textContent=rd(f)})}}}}],oi=["$interpolate","$compile",function(a,b){return{compile:function(d){b.$$addBindingClass(d);return function(c,e,f){c=a(e.attr(f.$attr.ngBindTemplate));b.$$addBindingInfo(e,c.expressions);e=e[0];f.$observe("ngBindTemplate",function(g){e.textContent=U(g)?"":g})}}}}],pi=["$sce","$parse","$compile",function(a,b,d){return{restrict:"A",compile:function(c,
e){var f=b(e.ngBindHtml),g=b(e.ngBindHtml,function(k){return a.valueOf(k)});d.$$addBindingClass(c);return function(k,h,l){d.$$addBindingInfo(h,l.ngBindHtml);k.$watch(g,function(){var n=f(k);h.html(a.getTrustedHtml(n)||"")})}}}}],qi=cb({restrict:"A",require:"ngModel",link:function(a,b,d,c){c.$viewChangeListeners.push(function(){a.$eval(d.ngChange)})}}),ri=Zd("",!0),si=Zd("Odd",0),ti=Zd("Even",1),ui=Vb({compile:function(a,b){b.$set("ngCloak",void 0);a.removeClass("ng-cloak")}}),vi=[function(){return{restrict:"A",
scope:!0,controller:"@",priority:500}}],If={},wi={blur:!0,focus:!0};J("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(a){var b=lb("ng-"+a);If[b]=["$parse","$rootScope",function(d,c){return{restrict:"A",compile:function(e,f){var g=d(f[b]);return function(k,h){h.on(a,function(l){var n=function(){g(k,{$event:l})};wi[a]&&c.$$phase?k.$evalAsync(n):k.$apply(n)})}}}}]});var xi=["$animate","$compile",
function(a,b){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(d,c,e,f,g){var k,h,l;d.$watch(e.ngIf,function(n){n?h||g(function(r,u){h=u;r[r.length++]=b.$$createComment("end ngIf",e.ngIf);k={clone:r};a.enter(r,c.parent(),c)}):(l&&(l.remove(),l=null),h&&(h.$destroy(),h=null),k&&(l=wc(k.clone),a.leave(l).done(function(r){r!==!1&&(l=null)}),k=null))})}}}],yi=["$templateRequest","$anchorScroll","$animate",function(a,b,d){return{restrict:"ECA",priority:400,
terminal:!0,transclude:"element",controller:Va.noop,compile:function(c,e){var f=e.ngInclude||e.src,g=e.onload||"",k=e.autoscroll;return function(h,l,n,r,u){var w=0,H,F,C,D=function(){F&&(F.remove(),F=null);H&&(H.$destroy(),H=null);C&&(d.leave(C).done(function(y){y!==!1&&(F=null)}),F=C,C=null)};h.$watch(f,function(y){var v=function(q){q===!1||!R(k)||k&&!h.$eval(k)||b()},p=++w;y?(a(y,!0).then(function(q){if(!h.$$destroyed&&p===w){var m=h.$new();r.template=q;q=u(m,function(x){D();d.enter(x,null,l).done(v)});
H=m;C=q;H.$emit("$includeContentLoaded",y);h.$eval(g)}},function(){h.$$destroyed||p!==w||(D(),h.$emit("$includeContentError",y))}),h.$emit("$includeContentRequested",y)):(D(),r.template=null)})}}}}],zi=["$compile",function(a){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(b,d,c,e){Ta.call(d[0]).match(/SVG/)?(d.empty(),a(oe(e.template,ia.document).childNodes)(b,function(f){d.append(f)},{futureParentElement:d})):(d.html(e.template),a(d.contents())(b))}}}],Ai=Vb({priority:450,
compile:function(){return{pre:function(a,b,d){a.$eval(d.ngInit)}}}}),Bi=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(a,b,d,c){var e=d.ngList||", ",f=d.ngTrim!=="false",g=f?Ca(e):e;c.$parsers.push(function(k){if(!U(k)){var h=[];k&&J(k.split(g),function(l){l&&h.push(f?Ca(l):l)});return h}});c.$formatters.push(function(k){if(na(k))return k.join(e)});c.$isEmpty=function(k){return!k||!k.length}}}},oc="ng-valid",rf="ng-invalid",Zb="ng-pristine",ed="ng-dirty",qc=va("ngModel");
ad.$inject="$scope $exceptionHandler $attrs $element $parse $animate $timeout $q $interpolate".split(" ");ad.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var a=this.$$parse(this.$$attr.ngModel+"()"),b=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function(d){var c=this.$$parsedNgModel(d);ca(c)&&(c=a(d));return c};this.$$ngModelSet=function(d,c){ca(this.$$parsedNgModel(d))?b(d,{$$$p:c}):this.$$parsedNgModelAssign(d,c)}}else if(!this.$$parsedNgModel.assign)throw qc("nonassign",
this.$$attr.ngModel,jb(this.$$element));},$render:la,$isEmpty:function(a){return U(a)||a===""||a===null||a!==a},$$updateEmptyClasses:function(a){this.$isEmpty(a)?(this.$$animate.removeClass(this.$$element,"ng-not-empty"),this.$$animate.addClass(this.$$element,"ng-empty")):(this.$$animate.removeClass(this.$$element,"ng-empty"),this.$$animate.addClass(this.$$element,"ng-not-empty"))},$setPristine:function(){this.$dirty=!1;this.$pristine=!0;this.$$animate.removeClass(this.$$element,ed);this.$$animate.addClass(this.$$element,
Zb)},$setDirty:function(){this.$dirty=!0;this.$pristine=!1;this.$$animate.removeClass(this.$$element,Zb);this.$$animate.addClass(this.$$element,ed);this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=!1;this.$untouched=!0;this.$$animate.setClass(this.$$element,"ng-untouched","ng-touched")},$setTouched:function(){this.$touched=!0;this.$untouched=!1;this.$$animate.setClass(this.$$element,"ng-touched","ng-untouched")},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce);
this.$viewValue=this.$$lastCommittedViewValue;this.$render()},$validate:function(){if(!Ua(this.$modelValue)){var a=this.$$lastCommittedViewValue,b=this.$$rawModelValue,d=this.$valid,c=this.$modelValue,e=this.$options.getOption("allowInvalid"),f=this;this.$$runValidators(b,a,function(g){e||d===g||(f.$modelValue=g?b:void 0,f.$modelValue!==c&&f.$$writeModelToScope())})}},$$runValidators:function(a,b,d){function c(k,h){f===g.$$currentValidationRunId&&g.$setValidity(k,h)}function e(k){f===g.$$currentValidationRunId&&
d(k)}this.$$currentValidationRunId++;var f=this.$$currentValidationRunId,g=this;(function(){var k=g.$$parserName||"parse";if(U(g.$$parserValid))c(k,null);else return g.$$parserValid||(J(g.$validators,function(h,l){c(l,null)}),J(g.$asyncValidators,function(h,l){c(l,null)})),c(k,g.$$parserValid),g.$$parserValid;return!0})()?function(){var k=!0;J(g.$validators,function(h,l){h=!!h(a,b);k=k&&h;c(l,h)});return k?!0:(J(g.$asyncValidators,function(h,l){c(l,null)}),!1)}()?function(){var k=[],h=!0;J(g.$asyncValidators,
function(l,n){l=l(a,b);if(!l||!ca(l.then))throw qc("nopromise",l);c(n,void 0);k.push(l.then(function(){c(n,!0)},function(){h=!1;c(n,!1)}))});k.length?g.$$q.all(k).then(function(){e(h)},la):e(!0)}():e(!1):e(!1)},$commitViewValue:function(){var a=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce);if(this.$$lastCommittedViewValue!==a||a===""&&this.$$hasNativeValidators)this.$$updateEmptyClasses(a),this.$$lastCommittedViewValue=a,this.$pristine&&this.$setDirty(),this.$$parseAndValidate()},
$$parseAndValidate:function(){var a=this.$$lastCommittedViewValue,b=this;if(this.$$parserValid=U(a)?void 0:!0)for(var d=0;d<this.$parsers.length;d++)if(a=this.$parsers[d](a),U(a)){this.$$parserValid=!1;break}Ua(this.$modelValue)&&(this.$modelValue=this.$$ngModelGet(this.$$scope));var c=this.$modelValue,e=this.$options.getOption("allowInvalid");this.$$rawModelValue=a;e&&(this.$modelValue=a,b.$modelValue!==c&&b.$$writeModelToScope());this.$$runValidators(a,this.$$lastCommittedViewValue,function(f){e||
(b.$modelValue=f?a:void 0,b.$modelValue!==c&&b.$$writeModelToScope())})},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue);J(this.$viewChangeListeners,function(a){try{a()}catch(b){this.$$exceptionHandler(b)}},this)},$setViewValue:function(a,b){this.$viewValue=a;this.$options.getOption("updateOnDefault")&&this.$$debounceViewValueCommit(b)},$$debounceViewValueCommit:function(a){var b=this.$options.getOption("debounce");Ra(b[a])?b=b[a]:Ra(b["default"])&&(b=b["default"]);
this.$$timeout.cancel(this.$$pendingDebounce);var d=this;b>0?this.$$pendingDebounce=this.$$timeout(function(){d.$commitViewValue()},b):this.$$scope.$root.$$phase?this.$commitViewValue():this.$$scope.$apply(function(){d.$commitViewValue()})},$overrideModelOptions:function(a){this.$options=this.$options.createChild(a);this.$$setUpdateOnEvents()},$processModelValue:function(){var a=this.$$format();this.$viewValue!==a&&(this.$$updateEmptyClasses(a),this.$viewValue=this.$$lastCommittedViewValue=a,this.$render(),
this.$$runValidators(this.$modelValue,this.$viewValue,la))},$$format:function(){for(var a=this.$formatters,b=a.length,d=this.$modelValue;b--;)d=a[b](d);return d},$$setModelValue:function(a){this.$modelValue=this.$$rawModelValue=a;this.$$parserValid=void 0;this.$processModelValue()},$$setUpdateOnEvents:function(){this.$$updateEvents&&this.$$element.off(this.$$updateEvents,this.$$updateEventHandler);if(this.$$updateEvents=this.$options.getOption("updateOn"))this.$$element.on(this.$$updateEvents,this.$$updateEventHandler)},
$$updateEventHandler:function(a){this.$$debounceViewValueCommit(a&&a.type)}};sf({clazz:ad,set:function(a,b){a[b]=!0},unset:function(a,b){delete a[b]}});var Ci=["$rootScope",function(a){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:ad,priority:1,compile:function(b){b.addClass(Zb).addClass("ng-untouched").addClass(oc);return{pre:function(d,c,e,f){var g=f[0];c=f[1]||g.$$parentForm;if(f=f[2])g.$options=f.$options;g.$$initGetterSetters();c.$addControl(g);e.$observe("name",
function(k){g.$name!==k&&g.$$parentForm.$$renameControl(g,k)});d.$on("$destroy",function(){g.$$parentForm.$removeControl(g)})},post:function(d,c,e,f){function g(){k.$setTouched()}var k=f[0];k.$$setUpdateOnEvents();c.on("blur",function(){k.$touched||(a.$$phase?d.$evalAsync(g):d.$apply(g))})}}}}}],Di=/(\s+|^)default(\s+|$)/;ae.prototype={getOption:function(a){return this.$$options[a]},createChild:function(a){var b=!1;a=Aa({},a);J(a,function(d,c){d==="$inherit"?c==="*"?b=!0:(a[c]=this.$$options[c],c===
"updateOn"&&(a.updateOnDefault=this.$$options.updateOnDefault)):c==="updateOn"&&(a.updateOnDefault=!1,a[c]=Ca(d.replace(Di,function(){a.updateOnDefault=!0;return" "})))},this);b&&(delete a["*"],yf(a,this.$$options));yf(a,$d.$$options);return new ae(a)}};var $d=new ae({updateOn:"",updateOnDefault:!0,debounce:0,getterSetter:!1,allowInvalid:!1,timezone:null});var Ei=function(){function a(b,d){this.$$attrs=b;this.$$scope=d}a.$inject=["$attrs","$scope"];a.prototype={$onInit:function(){var b=this.parentCtrl?
this.parentCtrl.$options:$d,d=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=b.createChild(d)}};return{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:!0,controller:a}},Fi=Vb({terminal:!0,priority:1E3}),Gi=va("ngOptions"),Hi=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,
Ii=["$compile","$document","$parse",function(a,b,d){function c(g,k,h){function l(B,A,E,L,P){this.selectValue=B;this.viewValue=A;this.label=E;this.group=L;this.disabled=P}function n(B){if(!w&&ub(B))var A=B;else{A=[];for(var E in B)B.hasOwnProperty(E)&&E.charAt(0)!=="$"&&A.push(E)}return A}var r=g.match(Hi);if(!r)throw Gi("iexp",g,jb(k));var u=r[5]||r[7],w=r[6];g=/ as /.test(r[0])&&r[1];var H=r[9];k=d(r[2]?r[1]:u);var F=g&&d(g)||k,C=H&&d(H),D=H?function(B,A){return C(h,A)}:function(B){return Pb(B)},
y=function(B,A){return D(B,G(B,A))},v=d(r[2]||r[1]),p=d(r[3]||""),q=d(r[4]||""),m=d(r[8]),x={},G=w?function(B,A){x[w]=A;x[u]=B;return x}:function(B){x[u]=B;return x};return{trackBy:H,getTrackByValue:y,getWatchables:d(m,function(B){var A=[];B=B||[];for(var E=n(B),L=E.length,P=0;P<L;P++){var S=B===E?P:E[P],X=B[S];S=G(X,S);X=D(X,S);A.push(X);if(r[2]||r[1])X=v(h,S),A.push(X);r[4]&&(S=q(h,S),A.push(S))}return A}),getOptions:function(){for(var B=[],A={},E=m(h)||[],L=n(E),P=L.length,S=0;S<P;S++){var X=E===
L?S:L[S],ha=G(E[X],X),ja=F(h,ha);X=D(ja,ha);var ea=v(h,ha),ma=p(h,ha);ha=q(h,ha);ja=new l(X,ja,ea,ma,ha);B.push(ja);A[X]=ja}return{items:B,selectValueMap:A,getOptionFromViewValue:function(ka){return A[y(ka)]},getViewValueFromOption:function(ka){return H?Bb(ka.viewValue):ka.viewValue}}}}}var e=ia.document.createElement("option"),f=ia.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(g,k,h,l){l[0].registerOption=la},post:function(g,k,
h,l){function n(p){var q=(p=D.getOptionFromViewValue(p))&&p.element;q&&!q.selected&&(q.selected=!0);return p}function r(p,q){p.element=q;q.disabled=p.disabled;p.label!==q.label&&(q.label=p.label,q.textContent=p.label);q.value=p.selectValue}var u=l[0],w=l[1],H=h.multiple;l=0;for(var F=k.children(),C=F.length;l<C;l++)if(F[l].value===""){u.hasEmptyOption=!0;u.emptyOption=F.eq(l);break}k.empty();l=!!u.emptyOption;da(e.cloneNode(!1)).val("?");var D,y=c(h.ngOptions,k,g),v=b[0].createDocumentFragment();
u.generateUnknownOptionValue=function(p){return"?"};H?(u.writeValue=function(p){if(D){var q=p&&p.map(n)||[];D.items.forEach(function(m){m.element.selected&&Array.prototype.indexOf.call(q,m)===-1&&(m.element.selected=!1)})}},u.readValue=function(){var p=k.val()||[],q=[];J(p,function(m){(m=D.selectValueMap[m])&&!m.disabled&&q.push(D.getViewValueFromOption(m))});return q},y.trackBy&&g.$watchCollection(function(){if(na(w.$viewValue))return w.$viewValue.map(function(p){return y.getTrackByValue(p)})},function(){w.$render()})):
(u.writeValue=function(p){if(D){var q=k[0].options[k[0].selectedIndex],m=D.getOptionFromViewValue(p);q&&q.removeAttribute("selected");m?(k[0].value!==m.selectValue&&(u.removeUnknownOption(),k[0].value=m.selectValue,m.element.selected=!0),m.element.setAttribute("selected","selected")):u.selectUnknownOrEmptyOption(p)}},u.readValue=function(){var p=D.selectValueMap[k.val()];return p&&!p.disabled?(u.unselectEmptyOption(),u.removeUnknownOption(),D.getViewValueFromOption(p)):null},y.trackBy&&g.$watch(function(){return y.getTrackByValue(w.$viewValue)},
function(){w.$render()}));l&&(a(u.emptyOption)(g),k.prepend(u.emptyOption),u.emptyOption[0].nodeType===8?(u.hasEmptyOption=!1,u.registerOption=function(p,q){q.val()===""&&(u.hasEmptyOption=!0,u.emptyOption=q,u.emptyOption.removeClass("ng-scope"),w.$render(),q.on("$destroy",function(){var m=u.$isEmptyOptionSelected();u.hasEmptyOption=!1;u.emptyOption=void 0;m&&w.$render()}))}):u.emptyOption.removeClass("ng-scope"));g.$watchCollection(y.getWatchables,function(){var p=D&&u.readValue();if(D)for(var q=
D.items.length-1;q>=0;q--){var m=D.items[q];R(m.group)?Fc(m.element.parentNode):Fc(m.element)}D=y.getOptions();var x={};D.items.forEach(function(G){if(R(G.group)){var B=x[G.group];B||(B=f.cloneNode(!1),v.appendChild(B),B.label=G.group===null?"null":G.group,x[G.group]=B);var A=e.cloneNode(!1);B.appendChild(A);r(G,A)}else B=e.cloneNode(!1),v.appendChild(B),r(G,B)});k[0].appendChild(v);w.$render();w.$isEmpty(p)||(q=u.readValue(),(y.trackBy||H?db(p,q):p===q)||(w.$setViewValue(q),w.$render()))})}}}}],
Ji=["$locale","$interpolate","$log",function(a,b,d){var c=/{}/g,e=/^when(Minus)?(.+)$/;return{link:function(f,g,k){function h(v){g.text(v||"")}var l=k.count,n=k.$attr.when&&g.attr(k.$attr.when),r=k.offset||0,u=f.$eval(n)||{},w={},H=b.startSymbol(),F=b.endSymbol(),C=H+l+"-"+r+F,D=Va.noop,y;J(k,function(v,p){if(v=e.exec(p))v=(v[1]?"-":"")+xa(v[2]),u[v]=g.attr(k.$attr[p])});J(u,function(v,p){w[p]=b(v.replace(c,C))});f.$watch(l,function(v){var p=parseFloat(v),q=Ua(p);q||p in u||(p=a.pluralCat(p-r));p===
y||q&&Ua(y)||(D(),q=w[p],U(q)?(v!=null&&d.debug("ngPluralize: no rule defined for '"+p+"' in "+n),D=la,h()):D=f.$watch(q,h),y=p)})}}}],Ki=["$parse","$animate","$compile",function(a,b,d){var c=va("ngRepeat"),e=function(f,g,k,h,l,n,r){f[k]=h;l&&(f[l]=n);f.$index=g;f.$first=g===0;f.$last=g===r-1;f.$middle=!(f.$first||f.$last);f.$odd=!(f.$even=(g&1)===0)};return{restrict:"A",multiElement:!0,transclude:"element",priority:1E3,terminal:!0,$$tlb:!0,compile:function(f,g){var k=g.ngRepeat,h=d.$$createComment("end ngRepeat",
k);f=k.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!f)throw c("iexp",k);g=f[1];var l=f[2],n=f[3],r=f[4];f=g.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/);if(!f)throw c("iidexp",g);var u=f[3]||f[1],w=f[2];if(n&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(n)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(n)))throw c("badident",n);var H,F={$id:Pb};if(r)var C=a(r);else{var D=function(v,
p){return Pb(p)};var y=function(v){return v}}return function(v,p,q,m,x){C&&(H=function(B,A,E){w&&(F[w]=B);F[u]=A;F.$index=E;return C(v,F)});var G=Ea();v.$watchCollection(l,function(B){var A,E=p[0],L=Ea();n&&(v[n]=B);if(ub(B)){var P=B;var S=H||D}else for(ha in S=H||y,P=[],B)bb.call(B,ha)&&ha.charAt(0)!=="$"&&P.push(ha);var X=P.length;var ha=Array(X);for(A=0;A<X;A++){var ja=B===P?A:P[A];var ea=B[ja];var ma=S(ja,ea,A);if(G[ma]){var ka=G[ma];delete G[ma];L[ma]=ka;ha[A]=ka}else{if(L[ma])throw J(ha,function(ua){ua&&
ua.scope&&(G[ua.id]=ua)}),c("dupes",k,ma,ea);ha[A]={id:ma,scope:void 0,clone:void 0};L[ma]=!0}}for(ya in G){ka=G[ya];ma=wc(ka.clone);b.leave(ma);if(ma[0].parentNode)for(A=0,S=ma.length;A<S;A++)ma[A].$$NG_REMOVED=!0;ka.scope.$destroy()}for(A=0;A<X;A++)if(ja=B===P?A:P[A],ea=B[ja],ka=ha[A],ka.scope){var ya=E;do ya=ya.nextSibling;while(ya&&ya.$$NG_REMOVED);ka.clone[0]!==ya&&b.move(wc(ka.clone),null,E);E=ka.clone[ka.clone.length-1];e(ka.scope,A,u,ea,w,ja,X)}else x(function(ua,mb){ka.scope=mb;mb=h.cloneNode(!1);
ua[ua.length++]=mb;b.enter(ua,null,E);E=mb;ka.clone=ua;L[ka.id]=ka;e(ka.scope,A,u,ea,w,ja,X)});G=L})}}}}],Li=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,d,c){b.$watch(c.ngShow,function(e){a[e?"removeClass":"addClass"](d,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],Mi=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,d,c){b.$watch(c.ngHide,function(e){a[e?"addClass":"removeClass"](d,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],Ni=Vb(function(a,
b,d){a.$watch(d.ngStyle,function(c,e){e&&c!==e&&J(e,function(f,g){b.css(g,"")});c&&b.css(c)},!0)}),Oi=["$animate","$compile",function(a,b){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(d,c,e,f){var g=[],k=[],h=[],l=[],n=function(r,u){return function(w){w!==!1&&r.splice(u,1)}};d.$watch(e.ngSwitch||e.on,function(r){for(var u,w;h.length;)a.cancel(h.pop());u=0;for(w=l.length;u<w;++u){var H=wc(k[u].clone);l[u].$destroy();(h[u]=a.leave(H)).done(n(h,u))}k.length=
0;l.length=0;(g=f.cases["!"+r]||f.cases["?"])&&J(g,function(F){F.transclude(function(C,D){l.push(D);D=F.element;C[C.length++]=b.$$createComment("end ngSwitchWhen");k.push({clone:C});a.enter(C,D.parent(),D)})})})}}}],Pi=Vb({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,d,c,e){a=d.ngSwitchWhen.split(d.ngSwitchWhenSeparator).sort().filter(function(f,g,k){return k[g-1]!==f});J(a,function(f){c.cases["!"+f]=c.cases["!"+f]||[];c.cases["!"+f].push({transclude:e,
element:b})})}}),Qi=Vb({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,d,c,e){c.cases["?"]=c.cases["?"]||[];c.cases["?"].push({transclude:e,element:b})}}),Ri=va("ngTransclude"),Si=["$compile",function(a){return{restrict:"EAC",compile:function(b){var d=a(b.contents());b.empty();return function(c,e,f,g,k){function h(){d(c,function(l){e.append(l)})}if(!k)throw Ri("orphan",jb(e));f.ngTransclude===f.$attr.ngTransclude&&(f.ngTransclude="");f=f.ngTransclude||f.ngTranscludeSlot;
k(function(l,n){var r;if(r=l.length)a:{r=0;for(var u=l.length;r<u;r++){var w=l[r];if(w.nodeType!==wb||w.nodeValue.trim()){r=!0;break a}}r=void 0}r?e.append(l):(h(),n.$destroy())},null,f);f&&!k.isSlotFilled(f)&&h()}}}}],Ti=["$templateCache",function(a){return{restrict:"E",terminal:!0,compile:function(b,d){d.type==="text/ng-template"&&a.put(d.id,b[0].text)}}}],Ui={$setViewValue:la,$render:la},Vi=["$element","$scope",function(a,b){function d(){g||(g=!0,b.$$postDigest(function(){g=!1;e.ngModelCtrl.$render()}))}
function c(h){k||(k=!0,b.$$postDigest(function(){b.$$destroyed||(k=!1,e.ngModelCtrl.$setViewValue(e.readValue()),h&&e.ngModelCtrl.$render())}))}var e=this,f=new Hc;e.selectValueMap={};e.ngModelCtrl=Ui;e.multiple=!1;e.unknownOption=da(ia.document.createElement("option"));e.hasEmptyOption=!1;e.emptyOption=void 0;e.renderUnknownOption=function(h){h=e.generateUnknownOptionValue(h);e.unknownOption.val(h);a.prepend(e.unknownOption);Lb(e.unknownOption,!0);a.val(h)};e.updateUnknownOption=function(h){h=e.generateUnknownOptionValue(h);
e.unknownOption.val(h);Lb(e.unknownOption,!0);a.val(h)};e.generateUnknownOptionValue=function(h){return"? "+Pb(h)+" ?"};e.removeUnknownOption=function(){e.unknownOption.parent()&&e.unknownOption.remove()};e.selectEmptyOption=function(){e.emptyOption&&(a.val(""),Lb(e.emptyOption,!0))};e.unselectEmptyOption=function(){e.hasEmptyOption&&Lb(e.emptyOption,!1)};b.$on("$destroy",function(){e.renderUnknownOption=la});e.readValue=function(){var h=a.val();h=h in e.selectValueMap?e.selectValueMap[h]:h;return e.hasOption(h)?
h:null};e.writeValue=function(h){var l=a[0].options[a[0].selectedIndex];l&&Lb(da(l),!1);e.hasOption(h)?(e.removeUnknownOption(),l=Pb(h),a.val(l in e.selectValueMap?l:h),Lb(da(a[0].options[a[0].selectedIndex]),!0)):e.selectUnknownOrEmptyOption(h)};e.addOption=function(h,l){l[0].nodeType!==8&&(Ob(h,'"option value"'),h===""&&(e.hasEmptyOption=!0,e.emptyOption=l),l=f.get(h)||0,f.set(h,l+1),d())};e.removeOption=function(h){var l=f.get(h);l&&(l===1?(f.delete(h),h===""&&(e.hasEmptyOption=!1,e.emptyOption=
void 0)):f.set(h,l-1))};e.hasOption=function(h){return!!f.get(h)};e.$hasEmptyOption=function(){return e.hasEmptyOption};e.$isUnknownOptionSelected=function(){return a[0].options[0]===e.unknownOption[0]};e.$isEmptyOptionSelected=function(){return e.hasEmptyOption&&a[0].options[a[0].selectedIndex]===e.emptyOption[0]};e.selectUnknownOrEmptyOption=function(h){h==null&&e.emptyOption?(e.removeUnknownOption(),e.selectEmptyOption()):e.unknownOption.parent().length?e.updateUnknownOption(h):e.renderUnknownOption(h)};
var g=!1,k=!1;e.registerOption=function(h,l,n,r,u){if(n.$attr.ngValue){var w,H=NaN;n.$observe("value",function(F){var C=l.prop("selected");if(R(H)){e.removeOption(w);delete e.selectValueMap[H];var D=!0}H=Pb(F);w=F;e.selectValueMap[H]=F;e.addOption(F,l);l.attr("value",H);D&&C&&c()})}else r?n.$observe("value",function(F){e.readValue();var C=l.prop("selected");if(R(w)){e.removeOption(w);var D=!0}w=F;e.addOption(F,l);D&&C&&c()}):u?h.$watch(u,function(F,C){n.$set("value",F);var D=l.prop("selected");C!==
F&&e.removeOption(C);e.addOption(F,l);C&&D&&c()}):e.addOption(n.value,l);n.$observe("disabled",function(F){if(F==="true"||F&&l.prop("selected"))e.multiple?c(!0):(e.ngModelCtrl.$setViewValue(null),e.ngModelCtrl.$render())});l.on("$destroy",function(){var F=e.readValue(),C=n.value;e.removeOption(C);d();(e.multiple&&F&&F.indexOf(C)!==-1||F===C)&&c(!0)})}}],Wi=function(){return{restrict:"E",require:["select","?ngModel"],controller:Vi,priority:1,link:{pre:function(a,b,d,c){var e=c[0],f=c[1];if(f){if(e.ngModelCtrl=
f,b.on("change",function(){e.removeUnknownOption();a.$apply(function(){f.$setViewValue(e.readValue())})}),d.multiple){e.multiple=!0;e.readValue=function(){var h=[];J(b.find("option"),function(l){l.selected&&!l.disabled&&(l=l.value,h.push(l in e.selectValueMap?e.selectValueMap[l]:l))});return h};e.writeValue=function(h){J(b.find("option"),function(l){var n=!!h&&(Array.prototype.indexOf.call(h,l.value)!==-1||Array.prototype.indexOf.call(h,e.selectValueMap[l.value])!==-1);n!==l.selected&&Lb(da(l),n)})};
var g,k=NaN;a.$watch(function(){k!==f.$viewValue||db(g,f.$viewValue)||(g=kb(f.$viewValue),f.$render());k=f.$viewValue});f.$isEmpty=function(h){return!h||h.length===0}}}else e.registerOption=la},post:function(a,b,d,c){var e=c[1];if(e){var f=c[0];e.$render=function(){f.writeValue(e.$viewValue)}}}}}},Xi=["$interpolate",function(a){return{restrict:"E",priority:100,compile:function(b,d){var c;if(!R(d.ngValue))if(R(d.value))var e=a(d.value,!0);else(c=a(b.text(),!0))||d.$set("value",b.text());return function(f,
g,k){var h=g.parent();(h=h.data("$selectController")||h.parent().data("$selectController"))&&h.registerOption(f,g,k,e,c)}}}}],Jf=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,d,c){c&&(d.required=!0,c.$validators.required=function(e,f){return!d.required||!c.$isEmpty(f)},d.$observe("required",function(){c.$validate()}))}}},Kf=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,d,c){if(c){var e,f=d.ngPattern||d.pattern;d.$observe("pattern",function(g){oa(g)&&g.length>
0&&(g=new RegExp("^"+g+"$"));if(g&&!g.test)throw va("ngPattern")("noregexp",f,g,jb(b));e=g||void 0;c.$validate()});c.$validators.pattern=function(g,k){return c.$isEmpty(k)||U(e)||e.test(k)}}}}},Lf=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,d,c){if(c){var e=-1;d.$observe("maxlength",function(f){f=parseInt(f,10);e=Ua(f)?-1:f;c.$validate()});c.$validators.maxlength=function(f,g){return e<0||c.$isEmpty(g)||g.length<=e}}}}},Mf=function(){return{restrict:"A",require:"?ngModel",
link:function(a,b,d,c){if(c){var e=0;d.$observe("minlength",function(f){e=parseInt(f,10)||0;c.$validate()});c.$validators.minlength=function(f,g){return c.$isEmpty(g)||g.length>=e}}}}};if(ia.angular.bootstrap)ia.console&&console.log("WARNING: Tried to load AngularJS more than once.");else{(function(){if(!zf){var a=bd();if((Ab=U(a)?ia.jQuery:a?ia[a]:void 0)&&Ab.fn.on){da=Ab;Aa(Ab.fn,{scope:Qb.scope,isolateScope:Qb.isolateScope,controller:Qb.controller,injector:Qb.injector,inheritedData:Qb.inheritedData});
var b=Ab.cleanData;Ab.cleanData=function(d){for(var c,e=0,f;(f=d[e])!=null;e++)(c=Ab._data(f,"events"))&&c.$destroy&&Ab(f).triggerHandler("$destroy");b(d)}}else da=Ha;Va.element=da;zf=!0}})();(function(a){Aa(a,{errorHandlingConfig:Nf,bootstrap:le,copy:Bb,extend:Aa,merge:Pf,equals:db,element:da,forEach:J,injector:fc,noop:la,bind:Mb,toJson:dc,fromJson:ie,identity:uc,isUndefined:U,isDefined:R,isString:oa,isFunction:ca,isObject:fa,isNumber:Ra,isElement:id,isArray:na,version:Ph,isDate:Xa,lowercase:xa,
uppercase:Tc,callbacks:{$$counter:0},getTestability:Yf,reloadWithDebugInfo:Xf,$$minErr:va,$$csp:Jb,$$encodeUriSegment:ec,$$encodeUriQuery:Za,$$stringify:rd});zd=$f(ia);zd("ng",["ngLocale"],["$provide",function(b){b.provider({$$sanitizeUri:ph});b.provider("$compile",xe).directive({a:fi,input:Hf,textarea:Hf,form:gi,script:Ti,select:Wi,option:Xi,ngBind:ni,ngBindHtml:pi,ngBindTemplate:oi,ngClass:ri,ngClassEven:ti,ngClassOdd:si,ngCloak:ui,ngController:vi,ngForm:hi,ngHide:Mi,ngIf:xi,ngInclude:yi,ngInit:Ai,
ngNonBindable:Fi,ngPluralize:Ji,ngRepeat:Ki,ngShow:Li,ngStyle:Ni,ngSwitch:Oi,ngSwitchWhen:Pi,ngSwitchDefault:Qi,ngOptions:Ii,ngTransclude:Si,ngModel:Ci,ngList:Bi,ngChange:qi,pattern:Kf,ngPattern:Kf,required:Jf,ngRequired:Jf,minlength:Mf,ngMinlength:Mf,maxlength:Lf,ngMaxlength:Lf,ngValue:mi,ngModelOptions:Ei}).directive({ngInclude:zi,input:ki}).directive(dd).directive(If);b.provider({$anchorScroll:qg,$animate:Xh,$animateCss:$h,$$animateJs:Vh,$$animateQueue:Wh,$$AnimateRunner:Zh,$$animateAsyncRun:Yh,
$browser:tg,$cacheFactory:ug,$controller:Ng,$document:Og,$$isDocumentHidden:Pg,$exceptionHandler:Qg,$filter:ff,$$forceReflow:ai,$interpolate:ah,$interval:bh,$http:Wg,$httpParamSerializer:Rg,$httpParamSerializerJQLike:Sg,$httpBackend:Zg,$xhrFactory:Yg,$jsonpCallbacks:bi,$location:eh,$log:fh,$parse:kh,$rootScope:oh,$q:lh,$$q:mh,$sce:Kh,$sceDelegate:Jh,$sniffer:qh,$templateCache:vg,$templateRequest:Lh,$$testability:rh,$timeout:sh,$window:th,$$rAF:nh,$$jqLite:kg,$$Map:Sh,$$cookieReader:uh})}]).info({angularVersion:"1.6.4-local+sha.617b36117"})})(Va);
Va.module("ngLocale",[],["$provide",function(a){a.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:"January February March April May June July August September October November December".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONEMONTH:"January February March April May June July August September October November December".split(" "),
WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-\u00a4",negSuf:"",posPre:"\u00a4",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(b,
d){var c=b|0;if(void 0===d){d=Math;var e=d.min;b+="";var f=b.indexOf(".");d=e.call(d,f==-1?0:b.length-f-1,3)}return c==1&&d==0?"one":"other"}})}]);var Ya=va("$sce"),Yb={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",TEMPLATE_URL:"templateUrl",JS:"js"},be=/_([a-z])/g,Mh=va("$compile");da(function(){Vf(ia.document,le)})}})(window);angular.element(document).find("head").append(angular.element("<style>").text('@charset "UTF-8";\n\n[ng\\:cloak], [ng-cloak], [data-ng-cloak], [x-ng-cloak],\n.ng-cloak, .x-ng-cloak,\n.ng-hide:not(.ng-hide-animate) {\n  display: none !important;\n}\n\nng\\:form {\n  display: block;\n}\n\n.ng-animate-shim {\n  visibility:hidden;\n}\n\n.ng-anchor {\n  position:absolute;\n}\n'));

//third_party/javascript/angular/v1_6/angular-route.min.js
/*
 AngularJS v1.6.4-local+sha.617b36117
 (c) 2010-2018 Google, Inc. http://angularjs.org
 License: MIT
*/
(function(B,e){'use strict';function J(r){C&&r.get("$route")}function K(r,y,q){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(c,d,h,k,l){function p(){t&&(q.cancel(t),t=null);m&&(m.$destroy(),m=null);v&&(t=q.leave(v),t.done(function(u){u!==!1&&(t=null)}),v=null)}function z(){var u=r.current&&r.current.locals;if(e.isDefined(u&&u.$template)){u=c.$new();var G=r.current;v=l(u,function(H){q.enter(H,null,v||d).done(function(D){D===!1||!e.isDefined(A)||A&&!c.$eval(A)||y()});p()});m=
G.scope=u;m.$emit("$viewContentLoaded");m.$eval(I)}else p()}var m,v,t,A=h.autoscroll,I=h.onload||"";c.$on("$routeChangeSuccess",z);z()}}}function L(r,y,q){return{restrict:"ECA",priority:-400,link:function(c,d){var h=q.current,k=h.locals;d.html(k.$template);var l=r(d.contents());if(h.controller){k.$scope=c;var p=y(h.controller,k);h.controllerAs&&(c[h.controllerAs]=p);d.data("$ngControllerController",p);d.children().data("$ngControllerController",p)}c[h.resolveAs||"$resolve"]=k;l(c)}}}"use strict";
var M,N,O,P;B=e.module("ngRoute",[]).info({angularVersion:"1.6.4-local+sha.617b36117"}).provider("$route",function(){function r(c,d){return e.extend(Object.create(c),d)}function y(c,d){d=d.caseInsensitiveMatch;var h={originalPath:c,regexp:c},k=h.keys=[];c=c.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)(\*\?|[?*])?/g,function(l,p,z,m){l=m==="?"||m==="*?"?"?":null;m=m==="*"||m==="*?"?"*":null;k.push({name:z,optional:!!l});p=p||"";return""+(l?"":p)+"(?:"+(l?p:"")+(m&&"(.+?)"||"([^/]+)")+(l||"")+")"+
(l||"")}).replace(/([/$*])/g,"\\$1");h.regexp=new RegExp("^"+c+"$",d?"i":"");return h}M=e.isArray;N=e.isObject;O=e.isDefined;P=e.noop;var q={};this.when=function(c,d){var h=void 0;if(M(d)){h=h||[];for(var k=0,l=d.length;k<l;k++)h[k]=d[k]}else if(N(d))for(k in h=h||{},d)if(k.charAt(0)!=="$"||k.charAt(1)!=="$")h[k]=d[k];d=h||d;e.isUndefined(d.reloadOnSearch)&&(d.reloadOnSearch=!0);e.isUndefined(d.caseInsensitiveMatch)&&(d.caseInsensitiveMatch=this.caseInsensitiveMatch);q[c]=e.extend(d,c&&y(c,d));c&&
(h=c[c.length-1]==="/"?c.substr(0,c.length-1):c+"/",q[h]=e.extend({redirectTo:c},y(h,d)));return this};this.caseInsensitiveMatch=!1;this.otherwise=function(c){typeof c==="string"&&(c={redirectTo:c});this.when(null,c);return this};C=!0;this.eagerInstantiationEnabled=function(c){return O(c)?(C=c,this):C};this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce","$browser",function(c,d,h,k,l,p,z,m){function v(a){var b=w.current;(Q=(x=H())&&b&&x.$$route===b.$$route&&
e.equals(x.pathParams,b.pathParams)&&!x.reloadOnSearch&&!E)||!b&&!x||c.$broadcast("$routeChangeStart",x,b).defaultPrevented&&a&&a.preventDefault()}function t(){var a=w.current,b=x;if(Q)a.params=b.params,e.copy(a.params,h),c.$broadcast("$routeUpdate",a);else if(b||a){E=!1;w.current=b;var f=k.resolve(b);m.$$incOutstandingRequestCount();f.then(A).then(I).then(function(g){return g&&f.then(u).then(function(n){b===w.current&&(b&&(b.locals=n,e.copy(b.params,h)),c.$broadcast("$routeChangeSuccess",b,a))})}).catch(function(g){b===
w.current&&c.$broadcast("$routeChangeError",b,a,g)}).finally(function(){m.$$completeOutstandingRequest(P)})}}function A(a){var b={route:a,hasRedirection:!1};if(a)if(a.redirectTo)if(e.isString(a.redirectTo))b.path=D(a.redirectTo,a.params),b.search=a.params,b.hasRedirection=!0;else{var f=d.path(),g=d.search();a=a.redirectTo(a.pathParams,f,g);e.isDefined(a)&&(b.url=a,b.hasRedirection=!0)}else if(a.resolveRedirectTo)return k.resolve(l.invoke(a.resolveRedirectTo)).then(function(n){e.isDefined(n)&&(b.url=
n,b.hasRedirection=!0);return b});return b}function I(a){var b=!0;if(a.route!==w.current)b=!1;else if(a.hasRedirection){var f=d.url(),g=a.url;g?d.url(g).replace():g=d.path(a.path).search(a.search).replace().url();g!==f&&(b=!1)}return b}function u(a){if(a){var b=e.extend({},a.resolve);e.forEach(b,function(f,g){b[g]=e.isString(f)?l.get(f):l.invoke(f,null,null,g)});a=G(a);e.isDefined(a)&&(b.$template=a);return k.all(b)}}function G(a){var b,f;e.isDefined(b=a.template)?e.isFunction(b)&&(b=b(a.params)):
e.isDefined(f=a.templateUrl)&&(e.isFunction(f)&&(f=f(a.params)),e.isDefined(f)&&(a.loadedTemplateUrl=z.valueOf(f),b=p(f)));return b}function H(){var a,b;e.forEach(q,function(f,g){if(g=!b){var n=d.path();g=f.keys;var R={};if(f.regexp)if(n=f.regexp.exec(n)){for(var F=1,U=n.length;F<U;++F){var S=g[F-1],T=n[F];S&&T&&(R[S.name]=T)}g=R}else g=null;else g=null;g=a=g}g&&(b=r(f,{params:e.extend({},d.search(),a),pathParams:a}),b.$$route=f)});return b||q[null]&&r(q[null],{params:{},pathParams:{}})}function D(a,
b){var f=[];e.forEach((a||"").split(":"),function(g,n){n===0?f.push(g):(g=g.match(/(\w+)(?:[?*])?(.*)/),n=g[1],f.push(b[n]),f.push(g[2]||""),delete b[n])});return f.join("")}var E=!1,x,Q,w={routes:q,reload:function(){E=!0;var a={defaultPrevented:!1,preventDefault:function(){this.defaultPrevented=!0;E=!1}};c.$evalAsync(function(){v(a);a.defaultPrevented||t()})},updateParams:function(a){if(this.current&&this.current.$$route)a=e.extend({},this.current.params,a),d.path(D(this.current.$$route.originalPath,
a)),d.search(a);else throw V("norout");}};c.$on("$locationChangeStart",v);c.$on("$locationChangeSuccess",t);return w}]}).run(J);var V=e.$$minErr("ngRoute"),C;J.$inject=["$injector"];"use strict";B.provider("$routeParams",function(){this.$get=function(){return{}}});"use strict";B.directive("ngView",K);B.directive("ngView",L);K.$inject=["$route","$anchorScroll","$animate"];L.$inject=["$compile","$controller","$route"]})(window,window.angular);

//third_party/javascript/angular/v1_6/angular-cookies.min.js
/*
 AngularJS v1.6.4-local+sha.617b36117
 (c) 2010-2018 Google, Inc. http://angularjs.org
 License: MIT
*/
(function(p,c){'use strict';function m(d,e,k){var a=k.baseHref(),g=d[0];return function(h,f,b){b=b||{};var l=b.expires;var n=c.isDefined(b.path)?b.path:a;c.isUndefined(f)&&(l="Thu, 01 Jan 1970 00:00:00 GMT",f="");c.isString(l)&&(l=new Date(l));f=encodeURIComponent(h)+"="+encodeURIComponent(f);f=f+(n?";path="+n:"")+(b.domain?";domain="+b.domain:"");f+=l?";expires="+l.toUTCString():"";f+=b.secure?";secure":"";b=f.length+1;b>4096&&e.warn("Cookie '"+h+"' possibly not set or overflowed because it was too large ("+
b+" > 4096 bytes)!");g.cookie=f}}c.module("ngCookies",["ng"]).info({angularVersion:"1.6.4-local+sha.617b36117"}).provider("$cookies",[function(){var d=this.defaults={};this.$get=["$$cookieReader","$$cookieWriter",function(e,k){return{get:function(a){return e()[a]},getObject:function(a){return(a=this.get(a))?c.fromJson(a):a},getAll:function(){return e()},put:function(a,g,h){k(a,g,h?c.extend({},d,h):d)},putObject:function(a,g,h){this.put(a,c.toJson(g),h)},remove:function(a,g){k(a,void 0,g?c.extend({},
d,g):d)}}}]}]);"use strict";c.module("ngCookies").factory("$cookieStore",["$cookies",function(d){return{get:function(e){return d.getObject(e)},put:function(e,k){d.putObject(e,k)},remove:function(e){d.remove(e)}}}]);"use strict";m.$inject=["$document","$log","$browser"];c.module("ngCookies").provider("$$cookieWriter",function(){this.$get=m})})(window,window.angular);

//third_party/javascript/angular/v1_6/angular-sanitize.min.js
/*
 AngularJS v1.6.4-local+sha.617b36117
 (c) 2010-2018 Google, Inc. http://angularjs.org
 License: MIT
*/
(function(H,h){'use strict';var L=h.$$minErr("$sanitize"),O,r,P,Q,R,C,S,T,U,M;h.module("ngSanitize",[]).provider("$sanitize",function(){function m(a,b){return D(a.split(","),b)}function D(a,b){var d={},c;for(c=0;c<a.length;c++)d[b?C(a[c]):a[c]]=!0;return d}function z(a,b){b&&b.length&&r(a,D(b))}function I(a){return a.replace(/&/g,"&amp;").replace(g,function(b){var d=b.charCodeAt(0);b=b.charCodeAt(1);return"&#"+((d-55296)*1024+(b-56320)+65536)+";"}).replace(J,function(b){return"&#"+b.charCodeAt(0)+";"}).replace(/</g,
"&lt;").replace(/>/g,"&gt;")}function K(a){for(;a;){if(a.nodeType===H.Node.ELEMENT_NODE)for(var b=a.attributes,d=0,c=b.length;d<c;d++){var e=b[d],k=e.name.toLowerCase();if(k==="xmlns:ns1"||k.lastIndexOf("ns1:",0)===0)a.removeAttributeNode(e),d--,c--}(b=a.firstChild)&&K(b);a=A("nextSibling",a)}}function A(a,b){if((a=b[a])&&T.call(b,a))throw L("elclob",b.outerHTML||b.outerText);return a}var E=!1,F=!1;this.$get=["$$sanitizeUri",function(a){E=!0;F&&r(n,u);return function(b){var d=[];U(b,M(d,function(c,
e){return!/^unsafe:/.test(a(c,e))}));return d.join("")}}];this.enableSvg=function(a){return R(a)?(F=a,this):F};this.addValidElements=function(a){E||(Q(a)&&(a={htmlElements:a}),z(u,a.svgElements),z(v,a.htmlVoidElements),z(n,a.htmlVoidElements),z(n,a.htmlElements));return this};this.addValidAttrs=function(a){E||r(p,D(a,!0));return this};O=h.bind;r=h.extend;P=h.forEach;Q=h.isArray;R=h.isDefined;C=h.lowercase;S=h.noop;U=function(a,b){a===null||a===void 0?a="":typeof a!=="string"&&(a=""+a);var d=y(a);
if(!d)return"";var c=5;do{if(c===0)throw L("uinput");c--;a=d.innerHTML;d=y(a)}while(a!==d.innerHTML);for(a=d.firstChild;a;){switch(a.nodeType){case 1:c=b;for(var e=c.start,k=a.nodeName.toLowerCase(),f=a.attributes,l={},q=0,N=f.length;q<N;q++){var V=f[q];l[V.name]=V.value}e.call(c,k,l);break;case 3:b.chars(a.textContent)}if(!(c=a.firstChild)&&(a.nodeType===1&&b.end(a.nodeName.toLowerCase()),c=A("nextSibling",a),!c))for(;c==null;){a=A("parentNode",a);if(a===d)break;c=A("nextSibling",a);a.nodeType===
1&&b.end(a.nodeName.toLowerCase())}a=c}for(;a=d.firstChild;)d.removeChild(a)};M=function(a,b){var d=!1,c=O(a,a.push);return{start:function(e,k){e=C(e);!d&&t[e]&&(d=e);d||n[e]!==!0||(c("<"),c(e),P(k,function(f,l){var q=C(l),N=e==="img"&&q==="src"||q==="background";p[q]!==!0||B[q]===!0&&!b(f,N)||(c(" "),c(l),c('="'),c(I(f)),c('"'))}),c(">"))},end:function(e){e=C(e);d||n[e]!==!0||v[e]===!0||(c("</"),c(e),c(">"));e==d&&(d=!1)},chars:function(e){d||c(I(e))}}};T=H.Node.prototype.contains||function(a){return!!(this.compareDocumentPosition(a)&
16)};var g=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,J=/([^#-~ |!])/g,v=m("area,br,col,hr,img,wbr"),w=m("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),x=m("rp,rt"),G=r({},x,w);w=r({},w,m("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul"));x=r({},x,m("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var"));
var u=m("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),t=m("script,style"),n=r({},v,w,x,G),B=m("background,cite,href,longdesc,src,xlink:href,xml:base");G=m("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width");
x=m("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",
!0);var p=r({},B,x,G),y=function(a,b){function d(f){f="<remove></remove>"+f;try{var l=(new a.DOMParser).parseFromString(f,"text/html").body;l.firstChild.remove();return l}catch(q){}}function c(f){k.innerHTML=f;b.documentMode&&K(k);return k}if(b&&b.implementation)var e=b.implementation.createHTMLDocument("inert");else throw L("noinert");var k=(e.documentElement||e.getDocumentElement()).querySelector("body");k.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>';return k.querySelector("svg")?
(k.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',k.querySelector("svg img")?d:c):function(f){f="<remove></remove>"+f;try{f=encodeURI(f)}catch(q){return}var l=new a.XMLHttpRequest;l.responseType="document";l.open("GET","data:text/html;charset=utf-8,"+f,!1);l.send(null);f=l.response.body;f.firstChild.remove();return f}}(H,H.document)}).info({angularVersion:"1.6.4-local+sha.617b36117"});h.module("ngSanitize").filter("linky",["$sanitize",function(m){var D=/((s?ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,
z=/^mailto:/i,I=h.$$minErr("linky"),K=h.isDefined,A=h.isFunction,E=h.isObject,F=h.isString;return function(g,J,v){function w(p){if(p){var y=t,a=y.push,b=[];M(b,S).chars(p);p=b.join("");a.call(y,p)}}function x(p,y){var a,b=G(p);t.push("<a ");for(a in b)t.push(a+'="'+b[a]+'" ');!K(J)||"target"in b||t.push('target="',J,'" ');t.push('href="',p.replace(/"/g,"&quot;"),'">');w(y);t.push("</a>")}if(g==null||g==="")return g;if(!F(g))throw I("notstring",g);for(var G=A(v)?v:E(v)?function(){return v}:function(){return{}},
u=g,t=[],n,B;g=u.match(D);)n=g[0],g[2]||g[4]||(n=(g[3]?"http://":"mailto:")+n),B=g.index,w(u.substr(0,B)),x(n,g[0].replace(z,"")),u=u.substring(B+g[0].length);w(u);return m(t.join(""))}}])})(window,window.angular);

//third_party/javascript/angular/v1_6/angular-animate.min.js
/*
 AngularJS v1.6.4-local+sha.617b36117
 (c) 2010-2018 Google, Inc. http://angularjs.org
 License: MIT
*/
(function(Ba,ha){'use strict';function Va(a,b,d){if(!a)throw jb("areq",b||"?",d||"required");return a}function Wa(a,b){if(!a&&!b)return"";if(!a)return b;if(!b)return a;sa(a)&&(a=a.join(" "));sa(b)&&(b=b.join(" "));return a+" "+b}function kb(a){var b={};a&&(a.to||a.from)&&(b.to=a.to,b.from=a.from);return b}function ta(a,b,d){var k="";a=sa(a)?a:a&&pa(a)&&a.length?a.split(/\s+/):[];L(a,function(r,x){r&&r.length>0&&(k+=x>0?" ":"",k+=d?b+r:r+b)});return k}function Xa(a){if(a instanceof ja)switch(a.length){case 0:return a;
case 1:if(a[0].nodeType===1)return a;break;default:return ja(Na(a))}if(a.nodeType===1)return ja(a)}function Na(a){if(!a[0])return a;for(var b=0;b<a.length;b++){var d=a[b];if(d.nodeType===1)return d}}function lb(a,b,d){L(b,function(k){a.addClass(k,d)})}function mb(a,b,d){L(b,function(k){a.removeClass(k,d)})}function Ga(a){return function(b,d){d.addClass&&(lb(a,b,d.addClass),d.addClass=null);d.removeClass&&(mb(a,b,d.removeClass),d.removeClass=null)}}function Ha(a){a=a||{};if(!a.$$prepared){var b=a.domOperation||
ka;a.domOperation=function(){a.$$domOperationFired=!0;b();b=ka};a.$$prepared=!0}return a}function ya(a,b){Ya(a,b);Za(a,b)}function Ya(a,b){b.from&&(a.css(b.from),b.from=null)}function Za(a,b){b.to&&(a.css(b.to),b.to=null)}function Ca(a,b,d){var k=b.options||{};d=d.options||{};var r=(k.addClass||"")+" "+(d.addClass||""),x=(k.removeClass||"")+" "+(d.removeClass||"");a=nb(a.attr("class"),r,x);d.preparationClasses&&(k.preparationClasses=Ia(d.preparationClasses,k.preparationClasses),delete d.preparationClasses);
r=k.domOperation!==ka?k.domOperation:null;Oa(k,d);r&&(k.domOperation=r);k.addClass=a.addClass?a.addClass:null;k.removeClass=a.removeClass?a.removeClass:null;b.addClass=k.addClass;b.removeClass=k.removeClass;return k}function nb(a,b,d){function k(e){pa(e)&&(e=e.split(" "));var g={};L(e,function(y){y.length&&(g[y]=!0)});return g}var r={};a=k(a);b=k(b);L(b,function(e,g){r[g]=1});d=k(d);L(d,function(e,g){r[g]=r[g]===1?null:-1});var x={addClass:"",removeClass:""};L(r,function(e,g){if(e===1){var y="addClass";
var C=!a[g]||a[g+"-remove"]}else e===-1&&(y="removeClass",C=a[g]||a[g+"-add"]);C&&(x[y].length&&(x[y]+=" "),x[y]+=g)});return x}function ma(a){return a instanceof ja?a[0]:a}function ob(a,b,d){var k="";b&&(k=ta(b,"ng-",!0));d.addClass&&(k=Ia(k,ta(d.addClass,"-add")));d.removeClass&&(k=Ia(k,ta(d.removeClass,"-remove")));k.length&&(d.preparationClasses=k,a.addClass(k))}function Ja(a,b){b=b?"-"+b+"s":"";Da(a,[Ea,b]);return[Ea,b]}function Pa(a,b){b=b?"paused":"";var d=va+"PlayState";Da(a,[d,b]);return[d,
b]}function Da(a,b){a.style[b[0]]=b[1]}function Ia(a,b){return a?b?a+" "+b:a:b}function $a(a,b,d){var k=Object.create(null),r=a.getComputedStyle(b)||{};L(d,function(x,e){if(x=r[x]){var g=x.charAt(0);if(g==="-"||g==="+"||g>=0)x=pb(x);x===0&&(x=null);k[e]=x}});return k}function pb(a){var b=0;a=a.split(/\s*,\s*/);L(a,function(d){d.charAt(d.length-1)==="s"&&(d=d.substring(0,d.length-1));d=parseFloat(d)||0;b=b?Math.max(d,b):d});return b}function Qa(a){return a===0||a!=null}function ab(a,b){var d=qa;a+=
"s";b?d+="Duration":a+=" linear all";return[d,a]}function bb(){var a=Object.create(null);return{flush:function(){a=Object.create(null)},count:function(b){return(b=a[b])?b.total:0},get:function(b){return(b=a[b])&&b.value},put:function(b,d){a[b]?a[b].total++:a[b]={total:1,value:d}}}}function cb(a,b,d){L(d,function(k){a[k]=Ra(a[k])?a[k]:b.style.getPropertyValue(k)})}if(Ba.ontransitionend===void 0&&Ba.onwebkittransitionend!==void 0){var qa="WebkitTransition";var db="webkitTransitionEnd transitionend"}else qa=
"transition",db="transitionend";if(Ba.onanimationend===void 0&&Ba.onwebkitanimationend!==void 0){var va="WebkitAnimation";var eb="webkitAnimationEnd animationend"}else va="animation",eb="animationend";var Ka=va+"Delay",Sa=va+"Duration",Ea=qa+"Delay",fb=qa+"Duration",jb=ha.$$minErr("ng");"use strict";"use strict";"use strict";var qb={transitionDuration:fb,transitionDelay:Ea,transitionProperty:qa+"Property",animationDuration:Sa,animationDelay:Ka,animationIterationCount:va+"IterationCount"},rb={transitionDuration:fb,
transitionDelay:Ea,animationDuration:Sa,animationDelay:Ka};"use strict";"use strict";"use strict";"use strict";"use strict";"use strict";"use strict";var Ta,Oa,L,sa,Ra,La,Ua,Ma,pa,za,ja,ka;ha.module("ngAnimate",[],function(){ka=ha.noop;Ta=ha.copy;Oa=ha.extend;ja=ha.element;L=ha.forEach;sa=ha.isArray;pa=ha.isString;Ma=ha.isObject;za=ha.isUndefined;Ra=ha.isDefined;Ua=ha.isFunction;La=ha.isElement}).info({angularVersion:"1.6.4-local+sha.617b36117"}).directive("ngAnimateSwap",["$animate","$rootScope",
function(a,b){return{restrict:"A",transclude:"element",terminal:!0,priority:600,link:function(d,k,r,x,e){var g,y;d.$watchCollection(r.ngAnimateSwap||r["for"],function(C){g&&a.leave(g);y&&(y.$destroy(),y=null);if(C||C===0)y=d.$new(),e(y,function(T){g=T;a.enter(T,null,k)})})}}}]).directive("ngAnimateChildren",["$interpolate",function(a){return{link:function(b,d,k){function r(e){d.data("$$ngAnimateChildren",e==="on"||e==="true")}var x=k.ngAnimateChildren;pa(x)&&x.length===0?d.data("$$ngAnimateChildren",
!0):(r(a(x)(b)),k.$observe("ngAnimateChildren",r))}}}]).factory("$$rAFScheduler",["$$rAF",function(a){function b(x){r=r.concat(x);d()}function d(){if(r.length){for(var x=r.shift(),e=0;e<x.length;e++)x[e]();k||a(function(){k||d()})}}var k;var r=b.queue=[];b.waitUntilQuiet=function(x){k&&k();k=a(function(){k=null;x();d()})};return b}]).provider("$$animateQueue",["$animateProvider",function(a){function b(e){if(!e)return null;e=e.split(" ");var g=Object.create(null);L(e,function(y){g[y]=!0});return g}
function d(e,g){if(e&&g){var y=b(g);return e.split(" ").some(function(C){return y[C]})}}function k(e,g,y){return x[e].some(function(C){return C(g,y)})}function r(e,g){var y=(e.addClass||"").length>0;e=(e.removeClass||"").length>0;return g?y&&e:y||e}var x=this.rules={skip:[],cancel:[],join:[]};x.join.push(function(e,g){return!e.structural&&r(e)});x.skip.push(function(e,g){return!e.structural&&!r(e)});x.skip.push(function(e,g){return g.event==="leave"&&e.structural});x.skip.push(function(e,g){return g.structural&&
g.state===2&&!e.structural});x.cancel.push(function(e,g){return g.structural&&e.structural});x.cancel.push(function(e,g){return g.state===2&&e.structural});x.cancel.push(function(e,g){if(g.structural)return!1;var y=e.addClass;e=e.removeClass;var C=g.addClass;g=g.removeClass;return za(y)&&za(e)||za(C)&&za(g)?!1:d(y,g)||d(e,C)});this.$get=["$$rAF","$rootScope","$rootElement","$document","$$Map","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow","$$isDocumentHidden",function(e,
g,y,C,T,I,Y,V,z,P,M){function N(){var h=!1;return function(l){h?l():g.$$postDigest(function(){h=!0;l()})}}function n(h,l,q){var G=[],W=f[q];W&&L(W,function(A){X.call(A.node,l)?G.push(A.callback):q==="leave"&&X.call(A.node,h)&&G.push(A.callback)});return G}function t(h,l,q){var G=Na(l);return h.filter(function(W){return!(W.node===G&&(!q||W.callback===q))})}function u(h,l,q){function G(p,ca,ba,ra){wa(function(){var ea=n(na,O,ca);ea.length?e(function(){L(ea,function(la){la(Q,ba,ra)});ba!=="close"||O.parentNode||
aa.off(O)}):ba!=="close"||O.parentNode||aa.off(O)});p.progress(ca,ba,ra)}function W(p){var ca=Q,ba=A;ba.preparationClasses&&(ca.removeClass(ba.preparationClasses),ba.preparationClasses=null);ba.activeClasses&&(ca.removeClass(ba.activeClasses),ba.activeClasses=null);R(Q,A);ya(Q,A);A.domOperation();U.complete(!p)}var A=Ta(q),Q=Xa(h),O=ma(Q),na=O&&O.parentNode;A=Ha(A);var U=new Y,wa=N();sa(A.addClass)&&(A.addClass=A.addClass.join(" "));A.addClass&&!pa(A.addClass)&&(A.addClass=null);sa(A.removeClass)&&
(A.removeClass=A.removeClass.join(" "));A.removeClass&&!pa(A.removeClass)&&(A.removeClass=null);A.from&&!Ma(A.from)&&(A.from=null);A.to&&!Ma(A.to)&&(A.to=null);if(!(c&&O&&J(O,l,q)&&B(O,A)))return W(),U;var ua=["enter","move","leave"].indexOf(l)>=0,F=M(),ia=F||m.get(O);q=!ia&&D.get(O)||{};var oa=!!q.state;ia||oa&&q.state===1||(ia=!H(O,na,l));if(ia)return F&&G(U,l,"start"),W(),F&&G(U,l,"close"),U;ua&&S(O);F={structural:ua,element:Q,event:l,addClass:A.addClass,removeClass:A.removeClass,close:W,options:A,
runner:U};if(oa){if(k("skip",F,q)){if(q.state===2)return W(),U;Ca(Q,q,F);return q.runner}if(k("cancel",F,q))if(q.state===2)q.runner.end();else if(q.structural)q.close();else return Ca(Q,q,F),q.runner;else if(k("join",F,q))if(q.state===2)Ca(Q,F,{});else return ob(Q,ua?l:null,A),l=F.event=q.event,A=Ca(Q,q,F),q.runner}else Ca(Q,F,{});(oa=F.structural)||(oa=F.event==="animate"&&Object.keys(F.options.to||{}).length>0||r(F));if(!oa)return W(),v(O),U;var da=(q.counter||0)+1;F.counter=da;w(O,1,F);g.$$postDigest(function(){Q=
Xa(h);var p=D.get(O),ca=!p;p=p||{};var ba=(Q.parent()||[]).length>0&&(p.event==="animate"||p.structural||r(p));if(ca||p.counter!==da||!ba){ca&&(R(Q,A),ya(Q,A));if(ca||ua&&p.event!==l)A.domOperation(),U.end();ba||v(O)}else l=!p.structural&&r(p,!0)?"setClass":p.event,w(O,2),p=I(Q,l,p.options),U.setHost(p),G(U,l,"start",{}),p.done(function(ra){W(!ra);(ra=D.get(O))&&ra.counter===da&&v(O);G(U,l,"close",{})})});return U}function S(h){h=h.querySelectorAll("[data-ng-animate]");L(h,function(l){var q=parseInt(l.getAttribute("data-ng-animate"),
10),G=D.get(l);if(G)switch(q){case 2:G.runner.end();case 1:D.delete(l)}})}function v(h){h.removeAttribute("data-ng-animate");D.delete(h)}function H(h,l,q){q=C[0].body;var G=ma(y),W=h===q||h.nodeName==="HTML",A=h===G,Q=!1,O=m.get(h),na;for((h=ja.data(h,"$ngAnimatePin"))&&(l=ma(h));l;){A||(A=l===G);if(l.nodeType!==1)break;h=D.get(l)||{};if(!Q){var U=m.get(l);if(U===!0&&O!==!1){O=!0;break}else U===!1&&(O=!1);Q=h.structural}if(za(na)||na===!0)h=ja.data(l,"$$ngAnimateChildren"),Ra(h)&&(na=h);if(Q&&na===
!1)break;W||(W=l===q);if(W&&A)break;if(!A&&(h=ja.data(l,"$ngAnimatePin"))){l=ma(h);continue}l=l.parentNode}return(!Q||na)&&O!==!0&&A&&W}function w(h,l,q){q=q||{};q.state=l;h.setAttribute("data-ng-animate",l);q=(l=D.get(h))?Oa(l,q):q;D.set(h,q)}var D=new T,m=new T,c=null,E=g.$watch(function(){return V.totalPendingRequests===0},function(h){h&&(E(),g.$$postDigest(function(){g.$$postDigest(function(){c===null&&(c=!0)})}))}),f=Object.create(null);T=a.customFilter();var K=a.classNameFilter();P=function(){return!0};
var J=T||P,B=K?function(h,l){h=[h.getAttribute("class"),l.addClass,l.removeClass].join(" ");return K.test(h)}:P,R=Ga(z),X=Ba.Node.prototype.contains||function(h){return this===h||!!(this.compareDocumentPosition(h)&16)},aa={on:function(h,l,q){var G=Na(l);f[h]=f[h]||[];f[h].push({node:G,callback:q});ja(l).on("$destroy",function(){D.get(G)||aa.off(h,l,q)})},off:function(h,l,q){if(arguments.length!==1||pa(arguments[0])){var G=f[h];G&&(f[h]=arguments.length===1?null:t(G,l,q))}else for(G in l=arguments[0],
f)f[G]=t(f[G],l)},pin:function(h,l){Va(La(h),"element","not an element");Va(La(l),"parentElement","not an element");h.data("$ngAnimatePin",l)},push:function(h,l,q,G){q=q||{};q.domOperation=G;return u(h,l,q)},enabled:function(h,l){var q=arguments.length;if(q===0)l=!!c;else if(La(h)){var G=ma(h);q===1?l=!m.get(G):m.set(G,!l)}else l=c=!!h;return l}};return aa}]}]).provider("$$animation",["$animateProvider",function(a){var b=this.drivers=[];this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner",
"$$Map","$$rAFScheduler",function(d,k,r,x,e,g){function y(I){function Y(N){if(N.processed)return N;N.processed=!0;var n=N.domNode,t=n.parentNode;P.set(n,N);for(var u;t;){if(u=P.get(t)){u.processed||(u=Y(u));break}t=t.parentNode}(u||V).children.push(N);return N}var V={children:[]},z,P=new e;for(z=0;z<I.length;z++){var M=I[z];P.set(M.domNode,I[z]={domNode:M.domNode,fn:M.fn,children:[]})}for(z=0;z<I.length;z++)Y(I[z]);return function(N){var n=[],t=[],u;for(u=0;u<N.children.length;u++)t.push(N.children[u]);
N=t.length;var S=0,v=[];for(u=0;u<t.length;u++){var H=t[u];N<=0&&(N=S,S=0,n.push(v),v=[]);v.push(H.fn);H.children.forEach(function(w){S++;t.push(w)});N--}v.length&&n.push(v);return n}(V)}var C=[],T=Ga(d);return function(I,Y,V){function z(m){m=m.hasAttribute("ng-animate-ref")?[m]:m.querySelectorAll("[ng-animate-ref]");var c=[];L(m,function(E){var f=E.getAttribute("ng-animate-ref");f&&f.length&&c.push(E)});return c}function P(m){var c=[],E={};L(m,function(J,B){var R=ma(J.element),X=["enter","move"].indexOf(J.event)>=
0;R=J.structural?z(R):[];if(R.length){var aa=X?"to":"from";L(R,function(h){var l=h.getAttribute("ng-animate-ref");E[l]=E[l]||{};E[l][aa]={animationID:B,element:ja(h)}})}else c.push(J)});var f={},K={};L(E,function(J,B){B=J.from;J=J.to;if(B&&J){var R=m[B.animationID],X=m[J.animationID],aa=B.animationID.toString();if(!K[aa]){var h=K[aa]={structural:!0,beforeStart:function(){R.beforeStart();X.beforeStart()},close:function(){R.close();X.close()},classes:M(R.classes,X.classes),from:R,to:X,anchors:[]};h.classes.length?
c.push(h):(c.push(R),c.push(X))}K[aa].anchors.push({out:B.element,"in":J.element})}else B=B?B.animationID:J.animationID,J=B.toString(),f[J]||(f[J]=!0,c.push(m[B]))});return c}function M(m,c){m=m.split(" ");c=c.split(" ");for(var E=[],f=0;f<m.length;f++){var K=m[f];if(K.substring(0,3)!=="ng-")for(var J=0;J<c.length;J++)if(K===c[J]){E.push(K);break}}return E.join(" ")}function N(m){for(var c=b.length-1;c>=0;c--){var E=r.get(b[c])(m);if(E)return E}}function n(m,c){function E(f){(f=f.data("$$animationRunner"))&&
f.setHost(c)}m.from&&m.to?(E(m.from.element),E(m.to.element)):E(m.element)}function t(){var m=I.data("$$animationRunner");!m||Y==="leave"&&V.$$domOperationFired||m.end()}function u(m){I.off("$destroy",t);I.removeData("$$animationRunner");T(I,V);ya(I,V);V.domOperation();w&&d.removeClass(I,w);I.removeClass("ng-animate");v.complete(!m)}V=Ha(V);var S=["enter","move","leave"].indexOf(Y)>=0,v=new x({end:function(){u()},cancel:function(){u(!0)}});if(!b.length)return u(),v;I.data("$$animationRunner",v);var H=
Wa(I.attr("class"),Wa(V.addClass,V.removeClass)),w=V.tempClasses;w&&(H+=" "+w,V.tempClasses=null);if(S){var D="ng-"+Y+"-prepare";d.addClass(I,D)}C.push({element:I,classes:H,event:Y,structural:S,options:V,beforeStart:function(){I.addClass("ng-animate");w&&d.addClass(I,w);D&&(d.removeClass(I,D),D=null)},close:u});I.on("$destroy",t);if(C.length>1)return v;k.$$postDigest(function(){var m=[];L(C,function(f){f.element.data("$$animationRunner")?m.push(f):f.close()});C.length=0;var c=P(m),E=[];L(c,function(f){E.push({domNode:ma(f.from?
f.from.element:f.element),fn:function(){f.beforeStart();var K=f.close;if((f.anchors?f.from.element||f.to.element:f.element).data("$$animationRunner")){var J=N(f);if(J)var B=J.start}B?(B=B(),B.done(function(R){K(!R)}),n(f,B)):K()}})});g(y(E))});return v}}]}]).provider("$animateCss",["$animateProvider",function(a){var b=bb(),d=bb();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(k,r,x,e,g,y,C,T){function I(n,t){var u=
n.parentNode;return(u.$$ngAnimateParentKey||(u.$$ngAnimateParentKey=++M))+"-"+n.getAttribute("class")+"-"+t}function Y(n,t,u,S){if(b.count(u)>0){var v=d.get(u);v||(t=ta(t,"-stagger"),r.addClass(n,t),v=$a(k,n,S),v.animationDuration=Math.max(v.animationDuration,0),v.transitionDuration=Math.max(v.transitionDuration,0),r.removeClass(n,t),d.put(u,v))}return v||{}}function V(n){N.push(n);C.waitUntilQuiet(function(){b.flush();d.flush();for(var t=g(),u=0;u<N.length;u++)N[u](t);N.length=0})}function z(n,t,
u){t=b.get(u);t||(t=$a(k,n,qb),t.animationIterationCount==="infinite"&&(t.animationIterationCount=1));b.put(u,t);n=t;u=n.animationDelay;t=n.transitionDelay;n.maxDelay=u&&t?Math.max(u,t):u||t;n.maxDuration=Math.max(n.animationDuration*n.animationIterationCount,n.transitionDuration);return n}var P=Ga(r),M=0,N=[];return function(n,t){function u(){v()}function S(){v(!0)}function v(ea){if(!(R||aa&&X)){R=!0;X=!1;c.$$skipPreparationClasses||r.removeClass(n,Q);r.removeClass(n,na);Pa(f,!1);Ja(f,!1);L(K,function(xa){f.style[xa[0]]=
""});P(n,c);ya(n,c);Object.keys(E).length&&L(E,function(xa,Fa){xa?f.style.setProperty(Fa,xa):f.style.removeProperty(Fa)});if(c.onDone)c.onDone();G&&G.length&&n.off(G.join(" "),D);var la=n.data("$$animateCss");la&&(e.cancel(la[0].timer),n.removeData("$$animateCss"));h&&h.complete(!ea)}}function H(ea){p.blockTransition&&Ja(f,ea);p.blockKeyframeAnimation&&Pa(f,!!ea)}function w(){h=new x({end:u,cancel:S});V(ka);v();return{$$willAnimate:!1,start:function(){return h},end:u}}function D(ea){ea.stopPropagation();
var la=ea.originalEvent||ea;la.target===f&&(ea=la.$manualTimeStamp||Date.now(),la=parseFloat(la.elapsedTime.toFixed(3)),Math.max(ea-q,0)>=ba&&la>=da&&(aa=!0,v()))}function m(){function ea(){if(!R){H(!1);L(K,function(gb){f.style[gb[0]]=gb[1]});P(n,c);r.addClass(n,na);if(p.recalculateTimingStyles){O=f.getAttribute("class")+" "+Q;wa=I(f,O);F=z(f,O,wa);ia=F.maxDelay;oa=Math.max(ia,0);da=F.maxDuration;if(da===0){v();return}p.hasTransitions=F.transitionDuration>0;p.hasAnimations=F.animationDuration>0}p.applyAnimationDelay&&
(ia=typeof c.delay!=="boolean"&&Qa(c.delay)?parseFloat(c.delay):ia,oa=Math.max(ia,0),F.animationDelay=ia,ca=[Ka,ia+"s"],K.push(ca),f.style[ca[0]]=ca[1]);ba=oa*1E3;ra=da*1E3;if(c.easing){var Z=c.easing;if(p.hasTransitions){var fa=qa+"TimingFunction";K.push([fa,Z]);f.style[fa]=Z}p.hasAnimations&&(fa=va+"TimingFunction",K.push([fa,Z]),f.style[fa]=Z)}F.transitionDuration&&G.push(db);F.animationDuration&&G.push(eb);q=Date.now();var Aa=ba+1.5*ra;fa=q+Aa;Z=n.data("$$animateCss")||[];var hb=!0;if(Z.length){var ib=
Z[0];(hb=fa>ib.expectedEndTime)?e.cancel(ib.timer):Z.push(v)}hb&&(Aa=e(la,Aa,!1),Z[0]={timer:Aa,expectedEndTime:fa},Z.push(v),n.data("$$animateCss",Z));if(G.length)n.on(G.join(" "),D);c.to&&(c.cleanupStyles&&cb(E,f,Object.keys(c.to)),Za(n,c))}}function la(){var Z=n.data("$$animateCss");if(Z){for(var fa=1;fa<Z.length;fa++)Z[fa]();n.removeData("$$animateCss")}}if(!R)if(f.parentNode){var xa=function(Z){if(aa)X&&Z&&(X=!1,v());else if(X=!Z,F.animationDuration)if(Z=Pa(f,X),X)K.push(Z);else{var fa=K,Aa=
fa.indexOf(Z);Z>=0&&fa.splice(Aa,1)}},Fa=ua>0&&(F.transitionDuration&&U.transitionDuration===0||F.animationDuration&&U.animationDuration===0)&&Math.max(U.animationDelay,U.transitionDelay);Fa?e(ea,Math.floor(Fa*ua*1E3),!1):ea();l.resume=function(){xa(!0)};l.pause=function(){xa(!1)}}else v()}var c=t||{};c.$$prepared||(c=Ha(Ta(c)));var E={},f=ma(n);if(!f||!f.parentNode||!T.enabled())return w();var K=[],J=n.attr("class"),B=kb(c),R,X,aa,h,l,q,G=[];if(c.duration===0||!y.animations&&!y.transitions)return w();
var W=c.event&&sa(c.event)?c.event.join(" "):c.event,A="";t="";W&&c.structural?A=ta(W,"ng-",!0):W&&(A=W);c.addClass&&(t+=ta(c.addClass,"-add"));c.removeClass&&(t.length&&(t+=" "),t+=ta(c.removeClass,"-remove"));c.applyClassesEarly&&t.length&&P(n,c);var Q=[A,t].join(" ").trim(),O=J+" "+Q,na=ta(Q,"-active");J=B.to&&Object.keys(B.to).length>0;if(!((c.keyframeStyle||"").length>0||J||Q))return w();if(c.stagger>0){B=parseFloat(c.stagger);var U={transitionDelay:B,animationDelay:B,transitionDuration:0,animationDuration:0}}else{var wa=
I(f,O);U=Y(f,Q,wa,rb)}c.$$skipPreparationClasses||r.addClass(n,Q);c.transitionStyle&&(B=[qa,c.transitionStyle],Da(f,B),K.push(B));c.duration>=0&&(B=f.style[qa].length>0,B=ab(c.duration,B),Da(f,B),K.push(B));c.keyframeStyle&&(B=[va,c.keyframeStyle],Da(f,B),K.push(B));var ua=U?c.staggerIndex>=0?c.staggerIndex:b.count(wa):0;(W=ua===0)&&!c.skipBlocking&&Ja(f,9999);var F=z(f,O,wa),ia=F.maxDelay;var oa=Math.max(ia,0);var da=F.maxDuration;var p={};p.hasTransitions=F.transitionDuration>0;p.hasAnimations=
F.animationDuration>0;p.hasTransitionAll=p.hasTransitions&&F.transitionProperty==="all";p.applyTransitionDuration=J&&(p.hasTransitions&&!p.hasTransitionAll||p.hasAnimations&&!p.hasTransitions);p.applyAnimationDuration=c.duration&&p.hasAnimations;p.applyTransitionDelay=Qa(c.delay)&&(p.applyTransitionDuration||p.hasTransitions);p.applyAnimationDelay=Qa(c.delay)&&p.hasAnimations;p.recalculateTimingStyles=t.length>0;if(p.applyTransitionDuration||p.applyAnimationDuration)da=c.duration?parseFloat(c.duration):
da,p.applyTransitionDuration&&(p.hasTransitions=!0,F.transitionDuration=da,B=f.style[qa+"Property"].length>0,K.push(ab(da,B))),p.applyAnimationDuration&&(p.hasAnimations=!0,F.animationDuration=da,K.push([Sa,da+"s"]));if(da===0&&!p.recalculateTimingStyles)return w();if(c.delay!=null){if(typeof c.delay!=="boolean"){var ca=parseFloat(c.delay);oa=Math.max(ca,0)}p.applyTransitionDelay&&K.push([Ea,ca+"s"]);p.applyAnimationDelay&&K.push([Ka,ca+"s"])}c.duration==null&&F.transitionDuration>0&&(p.recalculateTimingStyles=
p.recalculateTimingStyles||W);var ba=oa*1E3;var ra=da*1E3;c.skipBlocking||(p.blockTransition=F.transitionDuration>0,p.blockKeyframeAnimation=F.animationDuration>0&&U.animationDelay>0&&U.animationDuration===0);c.from&&(c.cleanupStyles&&cb(E,f,Object.keys(c.from)),Ya(n,c));p.blockTransition||p.blockKeyframeAnimation?H(da):c.skipBlocking||Ja(f,!1);return{$$willAnimate:!0,end:u,start:function(){if(!R)return l={end:u,cancel:S,resume:null,pause:null},h=new x(l),V(m),h}}}}]}]).provider("$$animateCssDriver",
["$$animationProvider",function(a){a.drivers.push("$$animateCssDriver");this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(b,d,k,r,x,e,g){function y(z,P){pa(z)&&(z=z.split(" "));pa(P)&&(P=P.split(" "));return z.filter(function(M){return P.indexOf(M)===-1}).join(" ")}function C(z,P,M){function N(w){var D={},m=ma(w).getBoundingClientRect();L(["width","height","top","left"],function(c){var E=m[c];switch(c){case "top":E+=Y.scrollTop;break;
case "left":E+=Y.scrollLeft}D[c]=Math.floor(E)+"px"});return D}function n(){var w=(M.attr("class")||"").replace(/\bng-\S+\b/g,""),D=y(w,S);w=y(S,w);D=b(u,{to:N(M),addClass:"ng-anchor-in "+D,removeClass:"ng-anchor-out "+w,delay:!0});return D.$$willAnimate?D:null}function t(){u.remove();P.removeClass("ng-animate-shim");M.removeClass("ng-animate-shim")}var u=ja(ma(P).cloneNode(!0)),S=(u.attr("class")||"").replace(/\bng-\S+\b/g,"");P.addClass("ng-animate-shim");M.addClass("ng-animate-shim");u.addClass("ng-anchor");
V.append(u);z=function(){var w=b(u,{addClass:"ng-anchor-out",delay:!0,from:N(P)});return w.$$willAnimate?w:null}();if(!z){var v=n();if(!v)return t()}var H=z||v;return{start:function(){function w(){m&&m.end()}var D,m=H.start();m.done(function(){m=null;if(!v&&(v=n()))return m=v.start(),m.done(function(){m=null;t();D.complete()}),m;t();D.complete()});return D=new k({end:w,cancel:w})}}}function T(z,P,M,N){var n=I(z,ka),t=I(P,ka),u=[];L(N,function(S){(S=C(M,S.out,S["in"]))&&u.push(S)});if(n||t||u.length!==
0)return{start:function(){function S(){L(v,function(w){w.end()})}var v=[];n&&v.push(n.start());t&&v.push(t.start());L(u,function(w){v.push(w.start())});var H=new k({end:S,cancel:S});k.all(v,function(w){H.complete(w)});return H}}}function I(z){var P=z.element,M=z.options||{};z.structural&&(M.event=z.event,M.structural=!0,M.applyClassesEarly=!0,z.event==="leave"&&(M.onDone=M.domOperation));M.preparationClasses&&(M.event=Ia(M.event,M.preparationClasses));z=b(P,M);return z.$$willAnimate?z:null}if(!x.animations&&
!x.transitions)return ka;var Y=g[0].body;d=ma(r);var V=ja(d.parentNode&&d.parentNode.nodeType===11||Y.contains(d)?d:Y);return function(z){return z.from&&z.to?T(z.from,z.to,z.classes,z.anchors):I(z)}}]}]).provider("$$animateJs",["$animateProvider",function(a){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(b,d,k){function r(e){e=sa(e)?e:e.split(" ");for(var g=[],y={},C=0;C<e.length;C++){var T=e[C],I=a.$$registeredAnimations[T];I&&!y[T]&&(g.push(b.get(I)),y[T]=!0)}return g}var x=Ga(k);
return function(e,g,y,C){function T(){C.domOperation();x(e,C)}function I(H,w,D,m,c){switch(D){case "animate":w=[w,m.from,m.to,c];break;case "setClass":w=[w,P,M,c];break;case "addClass":w=[w,P,c];break;case "removeClass":w=[w,M,c];break;default:w=[w,c]}w.push(m);if(H=H.apply(H,w))if(Ua(H.start)&&(H=H.start()),H instanceof d)H.done(c);else if(Ua(H))return H;return ka}function Y(H,w,D,m,c){var E=[];L(m,function(f){var K=f[c];K&&E.push(function(){var J=!1,B=function(aa){J||(J=!0,(X||ka)(aa),R.complete(!aa))};
var R=new d({end:function(){B()},cancel:function(){B(!0)}});var X=I(K,H,w,D,function(aa){B(aa===!1)});return R})});return E}function V(H,w,D,m,c){var E=Y(H,w,D,m,c);if(E.length===0){if(c==="beforeSetClass"){var f=Y(H,"removeClass",D,m,"beforeRemoveClass");var K=Y(H,"addClass",D,m,"beforeAddClass")}else c==="setClass"&&(f=Y(H,"removeClass",D,m,"removeClass"),K=Y(H,"addClass",D,m,"addClass"));f&&(E=E.concat(f));K&&(E=E.concat(K))}if(E.length!==0)return function(J){var B=[];E.length&&L(E,function(R){B.push(R())});
B.length?d.all(B,J):J();return function(R){L(B,function(X){R?X.cancel():X.end()})}}}var z=!1;arguments.length===3&&Ma(y)&&(C=y,y=null);C=Ha(C);y||(y=e.attr("class")||"",C.addClass&&(y+=" "+C.addClass),C.removeClass&&(y+=" "+C.removeClass));var P=C.addClass,M=C.removeClass,N=r(y),n;if(N.length){if(g==="leave"){var t="leave";var u="afterLeave"}else t="before"+g.charAt(0).toUpperCase()+g.substr(1),u=g;g!=="enter"&&g!=="move"&&(n=V(e,g,C,N,t));var S=V(e,g,C,N,u)}if(n||S){var v;return{$$willAnimate:!0,
end:function(){v?v.end():(z=!0,T(),ya(e,C),v=new d,v.complete(!0));return v},start:function(){function H(m){z=!0;T();ya(e,C);v.complete(m)}if(v)return v;v=new d;var w,D=[];n&&D.push(function(m){w=n(m)});D.length?D.push(function(m){T();m(!0)}):T();S&&D.push(function(m){w=S(m)});v.setHost({end:function(){z||((w||ka)(void 0),H(void 0))},cancel:function(){z||((w||ka)(!0),H(!0))}});d.chain(D,H);return v}}}}}]}]).provider("$$animateJsDriver",["$$animationProvider",function(a){a.drivers.push("$$animateJsDriver");
this.$get=["$$animateJs","$$AnimateRunner",function(b,d){function k(r){return b(r.element,r.event,r.classes,r.options)}return function(r){if(r.from&&r.to){var x=k(r.from),e=k(r.to);return x||e?{start:function(){function g(){return function(){L(y,function(T){T.end()})}}var y=[];x&&y.push(x.start());e&&y.push(e.start());d.all(y,function(T){C.complete(T)});var C=new d({end:g(),cancel:g()});return C}}:void 0}return k(r)}}]}])})(window,window.angular);

//third_party/javascript/angular/v1_6/angular-aria.min.js
/*
 AngularJS v1.6.4-local+sha.617b36117
 (c) 2010-2018 Google, Inc. http://angularjs.org
 License: MIT
*/
(function(A,r){'use strict';var m="BUTTON A INPUT TEXTAREA SELECT DETAILS SUMMARY".split(" "),q=function(b,d){if(d.indexOf(b[0].nodeName)!==-1)return!0};r.module("ngAria",["ng"]).info({angularVersion:"1.6.4-local+sha.617b36117"}).provider("$aria",function(){function b(h,n,c,e){return function(f,l,a){var g=a.$normalize(n);!d[g]||q(l,c)||a[g]||f.$watch(a[h],function(k){k=e?!k:!!k;l.attr(n,k)})}}var d={ariaHidden:!0,ariaChecked:!0,ariaReadonly:!0,ariaDisabled:!0,ariaRequired:!0,ariaInvalid:!0,ariaValue:!0,tabindex:!0,
bindKeydown:!0,bindRoleForClick:!0};this.config=function(h){d=r.extend(d,h)};this.$get=function(){return{config:function(h){return d[h]},$$watchExpr:b}}}).directive("ngShow",["$aria",function(b){return b.$$watchExpr("ngShow","aria-hidden",[],!0)}]).directive("ngHide",["$aria",function(b){return b.$$watchExpr("ngHide","aria-hidden",[],!1)}]).directive("ngValue",["$aria",function(b){return b.$$watchExpr("ngValue","aria-checked",m,!1)}]).directive("ngChecked",["$aria",function(b){return b.$$watchExpr("ngChecked",
"aria-checked",m,!1)}]).directive("ngReadonly",["$aria",function(b){return b.$$watchExpr("ngReadonly","aria-readonly",m,!1)}]).directive("ngRequired",["$aria",function(b){return b.$$watchExpr("ngRequired","aria-required",m,!1)}]).directive("ngModel",["$aria",function(b){function d(c,e,f,l){return b.config(e)&&!f.attr(c)&&(l||!q(f,m))}function h(c,e){return!e.attr("role")&&e.attr("type")===c&&!q(e,m)}function n(c,e){e=c.type;c=c.role;return(e||c)==="checkbox"||c==="menuitemcheckbox"?"checkbox":(e||
c)==="radio"||c==="menuitemradio"?"radio":e==="range"||c==="progressbar"||c==="slider"?"range":""}return{restrict:"A",require:"ngModel",priority:200,compile:function(c,e){var f=n(e,c);return{post:function(l,a,g,k){function t(){return k.$modelValue}function v(p){a.attr("aria-checked",g.value==k.$viewValue)}function w(){a.attr("aria-checked",!k.$isEmpty(k.$viewValue))}var u=d("tabindex","tabindex",a,!1);switch(f){case "radio":case "checkbox":h(f,a)&&a.attr("role",f);d("aria-checked","ariaChecked",a,
!1)&&l.$watch(t,f==="radio"?v:w);u&&a.attr("tabindex",0);break;case "range":h(f,a)&&a.attr("role","slider");if(b.config("ariaValue")){var x=!a.attr("aria-valuemin")&&(g.hasOwnProperty("min")||g.hasOwnProperty("ngMin")),y=!a.attr("aria-valuemax")&&(g.hasOwnProperty("max")||g.hasOwnProperty("ngMax")),z=!a.attr("aria-valuenow");x&&g.$observe("min",function(p){a.attr("aria-valuemin",p)});y&&g.$observe("max",function(p){a.attr("aria-valuemax",p)});z&&l.$watch(t,function(p){a.attr("aria-valuenow",p)})}u&&
a.attr("tabindex",0)}!g.hasOwnProperty("ngRequired")&&k.$validators.required&&d("aria-required","ariaRequired",a,!1)&&g.$observe("required",function(){a.attr("aria-required",!!g.required)});d("aria-invalid","ariaInvalid",a,!0)&&l.$watch(function(){return k.$invalid},function(p){a.attr("aria-invalid",!!p)})}}}}}]).directive("ngDisabled",["$aria",function(b){return b.$$watchExpr("ngDisabled","aria-disabled",m,!1)}]).directive("ngMessages",function(){return{restrict:"A",require:"?ngMessages",link:function(b,
d,h,n){d.attr("aria-live")||d.attr("aria-live","assertive")}}}).directive("ngClick",["$aria","$parse",function(b,d){return{restrict:"A",compile:function(h,n){var c=d(n.ngClick);return function(e,f,l){if(!q(f,m)&&(b.config("bindRoleForClick")&&!f.attr("role")&&f.attr("role","button"),b.config("tabindex")&&!f.attr("tabindex")&&f.attr("tabindex",0),b.config("bindKeydown")&&!l.ngKeydown&&!l.ngKeypress&&!l.ngKeyup))f.on("keydown",function(a){function g(){c(e,{$event:a})}var k=a.which||a.keyCode;k!==32&&
k!==13||e.$apply(g)})}}}}]).directive("ngDblclick",["$aria",function(b){return function(d,h,n){!b.config("tabindex")||h.attr("tabindex")||q(h,m)||h.attr("tabindex",0)}}])})(window,window.angular);

//third_party/javascript/tslib/tslib_closure.js
goog.loadModule(function(exports) {'use strict';/**
 * @fileoverview
 * Hand-modified Closure version of tslib.js.
 * These use the literal space optimized code from TypeScript for
 * compatibility.
 *
 * @suppress {undefinedVars}
 */

// Do not use @license

/******************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */

goog.module('google3.third_party.javascript.tslib.tslib');

/** @suppress {missingPolyfill} the code below intentionally feature-tests. */
var extendStatics = Object.setPrototypeOf ||
    function(d, b) {
      for (var p in b)
        if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];
    };

/**
 * @param {?} d
 * @param {?} b
 */
exports.__extends = function(d, b) {
  extendStatics(d, b);
  // LOCAL MODIFICATION: Add jsdoc annotation here:
  /** @constructor */
  function __() { /** @type {?} */
    (this).constructor = d;
  }
  d.prototype =
      b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};

/** @type {typeof Object.assign} */
exports.__assign = Object.assign || /** @return {?} */ function(/** ? */ t) {
  for (var s, i = 1, n = arguments.length; i < n; i++) {
    s = arguments[i];
    for (var p in s)
      if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
  }
  return t;
};

/**
 * @param {?} s
 * @param {?} e
 * @return {?}
 */
exports.__rest = function(s, e) {
  var t = {};
  for (var p in s)
    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
      t[p] = s[p];
  if (s != null && typeof Object.getOwnPropertySymbols === 'function')
    for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
      if (e.indexOf(p[i]) < 0 &&
          Object.prototype.propertyIsEnumerable.call(s, p[i]))
        t[p[i]] = s[p[i]];
    }
  return t;
};

/**
 * @param {?} decorators
 * @param {T} target
 * @param {?=} key
 * @param {?=} desc
 * @return {T}
 * @template T
 */
exports.__decorate = function(decorators, target, key, desc) {
  var c = arguments.length,
      r = c < 3     ? target :
      desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) :
                      desc,
      d;
  // google3 local modification: use quoted property access to work around
  // https://b.corp.google.com/issues/77140019.
  if (typeof Reflect === 'object' && Reflect &&
      typeof Reflect['decorate'] === 'function')
    r = Reflect['decorate'](decorators, target, key, desc);
  else
    for (var i = decorators.length - 1; i >= 0; i--)
      if (d = decorators[i])
        r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
  return c > 3 && r && Object.defineProperty(target, key, r), r;
};

/**
 * @param {?} paramIndex
 * @param {?} decorator
 * @return {?}
 */
exports.__param = function(paramIndex, decorator) {
  return function(target, key) {
    decorator(target, key, paramIndex);
  };
};

exports.__setFunctionName = function(f, name, prefix) {
  if (typeof name === 'symbol')
    name = name.description ? '['.concat(name.description, ']') : '';
  return Object.defineProperty(f, 'name', {
    configurable: true,
    value: prefix ? ''.concat(prefix, ' ', name) : name
  });
};

/**
 * @param {?} metadataKey
 * @param {?} metadataValue
 * @return {?}
 */
exports.__metadata = function(metadataKey, metadataValue) {
  // google3 local modification: use quoted property access to work around
  // https://b.corp.google.com/issues/77140019.
  if (typeof Reflect === 'object' && Reflect &&
      typeof Reflect['metadata'] === 'function')
    return Reflect['metadata'](metadataKey, metadataValue);
};

/**
 * @template T
 * @param {T} thisArg
 * @param {?} _arguments
 * @param {?} P
 * @param {function(this:T)} generator
 * @return {?}
 */
exports.__awaiter = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    // LOCAL MODIFICATION: Cannot express the function + keys pattern in
    // closure, so we escape generator.next with ? type.
    function fulfilled(value) {
      try {
        step((/** @type {?} */ (generator)).next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator['throw'](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) :
                    adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};

/**
 * @param {?} thisArg
 * @param {?} body
 * @return {?}
 */
exports.__generator = function(thisArg, body) {
  var _ = {
    label: 0,
    sent: function() {
      if (t[0] & 1) throw (/** @type {!Error} */ (t[1]));
      return t[1];
    },
    trys: [],
    ops: []
  },
      f, y, t, g;
  // LOCAL MODIFICATION: Originally iterator body was "return this", but it
  // doesn't compile as this is unknown. Changed to g, which is equivalent.
  return g = {next: verb(0), 'throw': verb(1), 'return': verb(2)},
         typeof Symbol === 'function' && (g[Symbol.iterator] = function() {
           return g;
         }), g;
  function verb(n) {
    return function(v) {
      return step([n, v]);
    };
  }
  /**
   * @suppress {strictMissingProperties} TODO(b/214874268): Remove
   * strictMissingProperties suppression after b/214427036 is fixed
   */
  function step(op) {
    if (f) throw new TypeError('Generator is already executing.');
    while (_) try {
        if (f = 1,
            y &&
                (t = op[0] & 2 ? y['return'] :
                     op[0] ? y['throw'] || ((t = y['return']) && t.call(y), 0) :
                             y.next) &&
                !(t = t.call(y, op[1])).done)
          return t;
        if (y = 0, t) op = [op[0] & 2, t.value];
        switch (op[0]) {
          case 0:
          case 1:
            t = op;
            break;
          case 4:
            _.label++;
            return {value: op[1], done: false};
          case 5:
            _.label++;
            y = op[1];
            op = [0];
            continue;
          case 7:
            op = _.ops.pop();
            _.trys.pop();
            continue;
          default:
            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) &&
                (op[0] === 6 || op[0] === 2)) {
              _ = 0;
              continue;
            }
            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {
              _.label = op[1];
              break;
            }
            if (op[0] === 6 && _.label < t[1]) {
              _.label = t[1];
              t = op;
              break;
            }
            if (t && _.label < t[2]) {
              _.label = t[2];
              _.ops.push(op);
              break;
            }
            if (t[2]) _.ops.pop();
            _.trys.pop();
            continue;
        }
        op = body.call(thisArg, _);
      } catch (e) {
        op = [6, e];
        y = 0;
      } finally {
        f = t = 0;
      }
    if (op[0] & 5) throw (/** @type {!Error} */ (op[1]));
    return {value: op[0] ? op[1] : void 0, done: true};
  }
};

/**
 * @param {?} m
 * @param {?} o
 */
exports.__exportStar = function(m, o) {
  for (var p in m)
    if (!o.hasOwnProperty(p)) o[p] = m[p];
};

/**
 * @param {?} o
 * @return {?}
 */
exports.__values = function(o) {
  var m = typeof Symbol === 'function' && o[Symbol.iterator], i = 0;
  if (m) return m.call(o);
  return {
    next: function() {
      if (o && i >= o.length) o = void 0;
      return {value: o && o[i++], done: !o};
    }
  };
};

/**
 * @param {?} o
 * @param {?=} n
 * @return {?}
 */
exports.__read = function(o, n) {
  var m = typeof Symbol === 'function' && o[Symbol.iterator];
  if (!m) return o;
  var i = m.call(o), r, ar = [], e;
  try {
    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
  } catch (error) {
    e = {error: error};
  } finally {
    try {
      if (r && !r.done && (m = i['return'])) m.call(i);
    } finally {
      if (e) throw (/** @type {!Error} */ (e.error));
    }
  }
  return ar;
};


/** @deprecated */
exports.__spread = function() {
  for (var ar = [], i = 0; i < arguments.length; i++)
    ar = ar.concat(exports.__read(arguments[i]));
  return ar;
};

/** @deprecated */
exports.__spreadArrays = function() {
  for (var s = 0, i = 0, il = arguments.length; i < il; i++)
    s += arguments[i].length;
  for (var r = Array(s), k = 0, i = 0; i < il; i++)
    for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
      r[k] = a[j];
  return r;
};

/**
 * @param {!Array<?>} to
 * @param {!Array<?>} from
 * @param {!Array<?>} pack
 * @return {!Array<?>}
 */
exports.__spreadArray = function(to, from, pack) {
  // LOCAL MODIFICATION: https://github.com/microsoft/TypeScript/issues/43353
  // We have to accept NodeList because they don't implement Iterable in Edge.
  if (!Array.isArray(from) && !(from instanceof NodeList) &&
      Object.prototype.toString.call(from) !== '[object Arguments]') {
    throw new TypeError(
        'Expected an Array, NodeList, or or Arguments: ' + String(from));
  }
  // END LOCAL MODIFICATION
  if (pack || arguments.length === 2)
    for (var i = 0, l = from.length, ar; i < l; i++) {
      if (ar || !(i in from)) {
        if (!ar) ar = Array.prototype.slice.call(from, 0, i);
        ar[i] = from[i];
      }
    }
  return to.concat(ar || Array.prototype.slice.call(from));
};

/**
 * @constructor
 * LOCAL MODIFICATION: Originally used "this" in function body,
 * @this {?}
 * END LOCAL MODIFICATION
 * @param {?} v
 * @return {?}
 */
exports.__await = function(v) {
  return this instanceof exports.__await ? (this.v = v, this) :
                                           new exports.__await(v);
};

/**
 * @template T
 * @param {T} thisArg
 * @param {?} _arguments
 * @param {function(this:T)} generator
 * @return {?}
 */
exports.__asyncGenerator = function(thisArg, _arguments, generator) {
  if (!Symbol.asyncIterator)
    throw new TypeError('Symbol.asyncIterator is not defined.');
  var g = generator.apply(thisArg, _arguments || []), i, q = [];
  return i = {}, verb('next'), verb('throw'), verb('return', awaitReturn),
         i[Symbol.asyncIterator] = function() {
           return (/** @type {?} */ (this));
         }, i;
  function awaitReturn(f) {
    return function(v) {
      return Promise.resolve(v).then(f, reject);
    };
  }
  /**
   * @param {?} n
   * @param {?=} f
   * @return {?}
   */
  function verb(n, f) {
    if (g[n]) {
      i[n] = function(v) {
        return new Promise(function(a, b) {
          q.push([n, v, a, b]) > 1 || resume(n, v);
        });
      };
      if (f) i[n] = f(i[n]);
    }
  }
  function resume(n, v) {
    try {
      step(g[n](v));
    } catch (e) {
      settle(q[0][3], e);
    }
  }
  function step(r) {
    r.value instanceof exports.__await ?
        Promise.resolve(/** @type {?} */ (r.value).v).then(fulfill, reject) :
        settle(q[0][2], r);
  }
  function fulfill(value) {
    resume('next', value);
  }
  function reject(value) {
    resume('throw', value);
  }
  function settle(f, v) {
    if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]);
  }
};

/**
 * @param {?} o
 * @return {?}
 */
exports.__asyncDelegator = function(o) {
  var i, p;
  // LOCAL MODIFICATION: Originally iterator body was "return this", but it
  // doesn't compile in some builds, as this is unknown. Changed to i, which is
  // equivalent.
  return i = {}, verb('next'), verb('throw', function(e) {
           throw e;
         }), verb('return'), i[Symbol.iterator] = function() {
    return i;
  }, i;
  /**
   * @param {?} n
   * @param {?=} f
   * @return {?}
   */
  function verb(n, f) {
    i[n] = o[n] ? function(v) {
      return (p = !p) ?
          {value: new exports.__await(o[n](v)), done: n === 'return'} :
          f ? f(v) :
              v;
    } : f;
  }
};

/**
 * @param {?} o
 * @return {?}
 */
exports.__asyncValues = function(o) {
  if (!Symbol.asyncIterator)
    throw new TypeError('Symbol.asyncIterator is not defined.');
  var m = o[Symbol.asyncIterator], i;
  return m ?
      m.call(o) :
      (o = typeof __values === 'function' ? __values(o) : o[Symbol.iterator](),
       i = {}, verb('next'), verb('throw'), verb('return'),
       i[Symbol.asyncIterator] = function() {
         return (/** @type {?} */ (this));
       }, i);
  function verb(n) {
    i[n] = o[n] && function(v) {
      return new Promise(function(resolve, reject) {
        v = o[n](v), settle(resolve, reject, v.done, v.value);
      });
    };
  }
  function settle(resolve, reject, d, v) {
    Promise.resolve(v).then(function(v) {
      resolve({value: v, done: d});
    }, reject);
  }
};

/**
 * @param {?=} cooked
 * @param {?=} raw
 * @return {?}
 */
exports.__makeTemplateObject = function(cooked, raw) {
  if (Object.defineProperty) {
    Object.defineProperty(cooked, 'raw', {value: raw});
  } else {
    cooked.raw = raw;
  }
  return cooked;
};

/**
 * @param {?} receiver
 * @param {?} state
 * @param {?} kind
 * @param {?} f
 * @return {?}
 */
exports.__classPrivateFieldGet = function(receiver, state, kind, f) {
  if (kind === 'a' && !f)
    throw new TypeError('Private accessor was defined without a getter');
  if (typeof state === 'function' ? receiver !== state || !f :
                                    !state.has(receiver))
    throw new TypeError(
        'Cannot read private member from an object whose class did not declare it');
  return kind === 'm' ? f :
      kind === 'a'    ? f.call(receiver) :
      f               ? f.value :
                        state.get(receiver);
};

/**
 * @param {?} receiver
 * @param {?} state
 * @param {?} value
 * @param {?} kind
 * @param {?} f
 * @return {?}
 */
exports.__classPrivateFieldSet = function(receiver, state, value, kind, f) {
  if (kind === 'm') throw new TypeError('Private method is not writable');
  if (kind === 'a' && !f)
    throw new TypeError('Private accessor was defined without a setter');
  if (typeof state === 'function' ? receiver !== state || !f :
                                    !state.has(receiver))
    throw new TypeError(
        'Cannot write private member to an object whose class did not declare it');
  return (kind === 'a' ? f.call(receiver, value) :
              f        ? f.value = value :
                         state.set(receiver, value)),
         value;
};

/**
 * @param {?} state
 * @param {?} receiver
 * @return {?}
 */
exports.__classPrivateFieldIn = function(state, receiver) {
  if (receiver === null ||
      (typeof receiver !== 'object' && typeof receiver !== 'function'))
    throw new TypeError('Cannot use \'in\' operator on non-object');
  return typeof state === 'function' ? receiver === state : state.has(receiver);
};

/**
 * @param {?} env
 * @param {?} value
 * @param {?} async
 * @return {?}
 */
exports.__addDisposableResource = function (env, value, async) {
  if (value !== null && value !== void 0) {
      if (typeof value !== "object" && typeof value !== "function") throw new TypeError("Object expected.");
      var dispose, inner;
      // LOCAL MODIFICATION: Cast valueObject to explain to the compiler that
      //     value can't be null or undefined here.
      var valueObject = /** @type {!Object} */ (value);
      if (async) {
          if (!Symbol.asyncDispose) throw new TypeError("Symbol.asyncDispose is not defined.");
          dispose = valueObject[Symbol.asyncDispose];
      }
      if (dispose === void 0) {
          if (!Symbol.dispose) throw new TypeError("Symbol.dispose is not defined.");
          dispose = valueObject[Symbol.dispose];
          if (async) inner = dispose;
      }
      if (typeof dispose !== "function") throw new TypeError("Object not disposable.");
      if (inner) dispose = function() { try { inner.call((/** @type {?} */ (this))); } catch (e) { return Promise.reject(e); } };
      env.stack.push({ value: value, dispose: dispose, async: async });
  }
  else if (async) {
      env.stack.push({ async: true });
  }
  return value;
};

// LOCAL MODIFICATION: Not polyfilling SuppressedError here. It's polyfilled at
// google3/third_party/java_src/jscomp/java/com/google/javascript/jscomp/js/es6/dispose.js

/**
 * @param {?} env
 * @return {?}
 */
exports.__disposeResources = function (env) {
  function fail(e) {
      // LOCAL MODIFICATION: Use SuppressedError instead of _SuppressedError.
      env.error = env.hasError ? new SuppressedError(e, env.error, "An error was suppressed during disposal.") : e;
      env.hasError = true;
  }
  function next() {
      while (env.stack.length) {
          var rec = env.stack.pop();
          try {
              var result = rec.dispose && rec.dispose.call(rec.value);
              if (rec.async) return Promise.resolve(result).then(next, function(e) { fail(e); return next(); });
          }
          catch (e) {
              fail(e);
          }
      }
      if (env.hasError) throw env.error;
  }
  return next();
};

;return exports;});

//javascript/common/asserts/enable_goog_asserts.closure.js
goog.loadModule(function(exports) {'use strict';/**
 * @fileoverview goog.define for whether to enable asserts. In a separate file
 * so that Guards & Asserts can also depend on it without needing to depend on
 * the entire asserts library.
 * Generated from: javascript/common/asserts/enable_goog_asserts.ts
 * @suppress {checkTypes} added by tsickle
 * @suppress {extraRequire} added by tsickle
 * @suppress {missingRequire} added by tsickle
 * @suppress {uselessCode} added by tsickle
 * @suppress {suspiciousCode} added by tsickle
 * @suppress {missingReturn} added by tsickle
 * @suppress {unusedPrivateMembers} added by tsickle
 * @suppress {missingOverride} added by tsickle
 * @suppress {const} added by tsickle
 */
goog.module('google3.javascript.common.asserts.enable_goog_asserts');
var module = module || { id: 'javascript/common/asserts/enable_goog_asserts.closure.js' };
goog.require('google3.third_party.javascript.tslib.tslib');
/**
 * @define {boolean} Whether to strip out goog.asserts or to leave them in.
 */
exports.ENABLE_GOOG_ASSERTS = goog.define('goog.asserts.ENABLE_ASSERTS', goog.DEBUG);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZW5hYmxlX2dvb2dfYXNzZXJ0cy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL2phdmFzY3JpcHQvY29tbW9uL2Fzc2VydHMvZW5hYmxlX2dvb2dfYXNzZXJ0cy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFPYSxRQUFBLG1CQUFtQixHQUFHLElBQUksQ0FBQyxNQUFNLENBQzVDLDZCQUE2QixFQUM3QixJQUFJLENBQUMsS0FBSyxDQUNYIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IGdvb2cuZGVmaW5lIGZvciB3aGV0aGVyIHRvIGVuYWJsZSBhc3NlcnRzLiBJbiBhIHNlcGFyYXRlIGZpbGVcbiAqIHNvIHRoYXQgR3VhcmRzICYgQXNzZXJ0cyBjYW4gYWxzbyBkZXBlbmQgb24gaXQgd2l0aG91dCBuZWVkaW5nIHRvIGRlcGVuZCBvblxuICogdGhlIGVudGlyZSBhc3NlcnRzIGxpYnJhcnkuXG4gKi9cblxuLyoqIEBkZWZpbmUgV2hldGhlciB0byBzdHJpcCBvdXQgZ29vZy5hc3NlcnRzIG9yIHRvIGxlYXZlIHRoZW0gaW4uICovXG5leHBvcnQgY29uc3QgRU5BQkxFX0dPT0dfQVNTRVJUUyA9IGdvb2cuZGVmaW5lKFxuICAnZ29vZy5hc3NlcnRzLkVOQUJMRV9BU1NFUlRTJyxcbiAgZ29vZy5ERUJVRyxcbik7XG4iXX0=
;return exports;});

//third_party/javascript/safevalues/builders/sensitive_attributes.closure.js
goog.loadModule(function(exports) {'use strict';/**
 * @license
 * Copyright Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
// AUTOGENERATED. DO NOT EDIT.
/**
 * @fileoverview added by tsickle
 * Generated from: third_party/javascript/safevalues/builders/sensitive_attributes.ts
 * @suppress {checkTypes} added by tsickle
 * @suppress {extraRequire} added by tsickle
 * @suppress {missingRequire} added by tsickle
 * @suppress {uselessCode} added by tsickle
 * @suppress {suspiciousCode} added by tsickle
 * @suppress {missingReturn} added by tsickle
 * @suppress {unusedPrivateMembers} added by tsickle
 * @suppress {missingOverride} added by tsickle
 * @suppress {const} added by tsickle
 */
goog.module('google3.third_party.javascript.safevalues.builders.sensitive_attributes');
var module = module || { id: 'third_party/javascript/safevalues/builders/sensitive_attributes.closure.js' };
goog.require('google3.third_party.javascript.tslib.tslib');
/**
 * Security sensitive attribute names that should not be set through
 * `setAttribute` or similar functions.
 * @type {!Array<?>}
 */
exports.SECURITY_SENSITIVE_ATTRIBUTES = (/** @type {!Array<?>} */ ([
    'src',
    'srcdoc',
    'codebase',
    'data',
    'href',
    'rel',
    'action',
    'formaction',
    'sandbox',
    'cite',
    'poster',
    'icon',
]));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2Vuc2l0aXZlX2F0dHJpYnV0ZXMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi90aGlyZF9wYXJ0eS9qYXZhc2NyaXB0L3NhZmV2YWx1ZXMvYnVpbGRlcnMvc2Vuc2l0aXZlX2F0dHJpYnV0ZXMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBWWEsUUFBQSw2QkFBNkIsR0FBRywyQkFBQTtJQUMzQyxLQUFLO0lBQ0wsUUFBUTtJQUNSLFVBQVU7SUFDVixNQUFNO0lBQ04sTUFBTTtJQUNOLEtBQUs7SUFDTCxRQUFRO0lBQ1IsWUFBWTtJQUNaLFNBQVM7SUFDVCxNQUFNO0lBQ04sUUFBUTtJQUNSLE1BQU07Q0FDUCxFQUFTIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuLy8gQVVUT0dFTkVSQVRFRC4gRE8gTk9UIEVESVQuXG5cbi8qKlxuICogU2VjdXJpdHkgc2Vuc2l0aXZlIGF0dHJpYnV0ZSBuYW1lcyB0aGF0IHNob3VsZCBub3QgYmUgc2V0IHRocm91Z2hcbiAqIGBzZXRBdHRyaWJ1dGVgIG9yIHNpbWlsYXIgZnVuY3Rpb25zLlxuICovXG5leHBvcnQgY29uc3QgU0VDVVJJVFlfU0VOU0lUSVZFX0FUVFJJQlVURVMgPSBbXG4gICdzcmMnLFxuICAnc3JjZG9jJyxcbiAgJ2NvZGViYXNlJyxcbiAgJ2RhdGEnLFxuICAnaHJlZicsXG4gICdyZWwnLFxuICAnYWN0aW9uJyxcbiAgJ2Zvcm1hY3Rpb24nLFxuICAnc2FuZGJveCcsXG4gICdjaXRlJyxcbiAgJ3Bvc3RlcicsXG4gICdpY29uJyxcbl0gYXMgY29uc3Q7XG4iXX0=
;return exports;});

//third_party/javascript/safevalues/environment/dev.closure.js
goog.loadModule(function(exports) {'use strict';/**
 * @license
 * Copyright Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
/**
 * @fileoverview added by tsickle
 * Generated from: third_party/javascript/safevalues/environment/dev.ts
 * @suppress {checkTypes} added by tsickle
 * @suppress {extraRequire} added by tsickle
 * @suppress {missingRequire} added by tsickle
 * @suppress {uselessCode} added by tsickle
 * @suppress {suspiciousCode} added by tsickle
 * @suppress {missingReturn} added by tsickle
 * @suppress {unusedPrivateMembers} added by tsickle
 * @suppress {missingOverride} added by tsickle
 * @suppress {const} added by tsickle
 */
// BEGIN-INTERNAL
goog.module('google3.third_party.javascript.safevalues.environment.dev');
var module = module || { id: 'third_party/javascript/safevalues/environment/dev.closure.js' };
goog.require('google3.third_party.javascript.tslib.tslib');
/**
 * Whether we are in development mode. Used for stripping out unnecessary error
 * messages and security checks from production binaries. This will be rewritten
 * to use process.env.NODE_ENV in open-source.
 * @type {boolean}
 */
exports.DEV_MODE = goog.DEBUG;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGV2LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vdGhpcmRfcGFydHkvamF2YXNjcmlwdC9zYWZldmFsdWVzL2Vudmlyb25tZW50L2Rldi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBWWEsUUFBQSxRQUFRLEdBQUcsSUFBSSxDQUFDLEtBQUsiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG4vLyBCRUdJTi1JTlRFUk5BTFxuLyoqXG4gKiBXaGV0aGVyIHdlIGFyZSBpbiBkZXZlbG9wbWVudCBtb2RlLiBVc2VkIGZvciBzdHJpcHBpbmcgb3V0IHVubmVjZXNzYXJ5IGVycm9yXG4gKiBtZXNzYWdlcyBhbmQgc2VjdXJpdHkgY2hlY2tzIGZyb20gcHJvZHVjdGlvbiBiaW5hcmllcy4gVGhpcyB3aWxsIGJlIHJld3JpdHRlblxuICogdG8gdXNlIHByb2Nlc3MuZW52Lk5PREVfRU5WIGluIG9wZW4tc291cmNlLlxuICovXG5leHBvcnQgY29uc3QgREVWX01PREUgPSBnb29nLkRFQlVHO1xuLy8gRU5ELUlOVEVSTkFMXG5cbi8vIEJFR0lOLUVYVEVSTkFMXG4vLyAvKipcbi8vICAqIEVuc3VyZSBwcm9jZXNzLmVudi5OT0RFX0VOViBpcyBzZXQgZXZlbiB3aGVuIG5vdCBydW5uaW5nIHVuZGVyIFdlYnBhY2sgb3Jcbi8vICAqIE5vZGUuIFRlcnNlciB3aWxsIHN0cmlwIHRoaXMgb3V0IG9mIHByb2R1Y3Rpb24gYmluYXJpZXMuXG4vLyAgKi9cbi8vIC8qI19fUFVSRV9fKi8gKCgpID0+IHtcbi8vICAgaWYgKHR5cGVvZiBwcm9jZXNzID09PSAndW5kZWZpbmVkJykge1xuLy8gICAgICh3aW5kb3cucHJvY2VzcyBhcyB1bmtub3duKSA9IHtcbi8vICAgICAgIGVudjoge1xuLy8gICAgICAgICBOT0RFX0VOVjogJ2RldmVsb3BtZW50J1xuLy8gICAgICAgfVxuLy8gICAgIH07XG4vLyAgIH1cbi8vIH0pKCk7XG4vLyBFTkQtRVhURVJOQUxcbiJdfQ==
;return exports;});

//third_party/javascript/safevalues/internals/secrets.closure.js
goog.loadModule(function(exports) {'use strict';/**
 * @license
 * Copyright Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
/**
 * @fileoverview added by tsickle
 * Generated from: third_party/javascript/safevalues/internals/secrets.ts
 * @suppress {checkTypes} added by tsickle
 * @suppress {extraRequire} added by tsickle
 * @suppress {missingRequire} added by tsickle
 * @suppress {uselessCode} added by tsickle
 * @suppress {suspiciousCode} added by tsickle
 * @suppress {missingReturn} added by tsickle
 * @suppress {unusedPrivateMembers} added by tsickle
 * @suppress {missingOverride} added by tsickle
 * @suppress {const} added by tsickle
 */
goog.module('google3.third_party.javascript.safevalues.internals.secrets');
var module = module || { id: 'third_party/javascript/safevalues/internals/secrets.closure.js' };
goog.require('google3.third_party.javascript.tslib.tslib');
const tsickle_dev_1 = goog.requireType("google3.third_party.javascript.safevalues.environment.dev");
const dev_1 = goog.require('google3.third_party.javascript.safevalues.environment.dev');
/**
 * A secret token that must be passed to safe type constructors. It is only
 * accessible from within safevalues, ensuring that unrestricted safe type
 * creation is only possible within safevalues. In particular, this prevents
 * forgery such as `safeHtmlValue.constructor('javascript:evil')`.
 * @type {*}
 */
exports.secretToken = {};
/**
 * Asserts that the given token matches the secret safevalues token. An
 * exception is thrown if that is not the case.
 * @param {!Object} token
 * @return {void}
 */
function ensureTokenIsValid(token) {
    if (dev_1.DEV_MODE) {
        if (token !== exports.secretToken) {
            throw new Error('Bad secret');
        }
    }
}
exports.ensureTokenIsValid = ensureTokenIsValid;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VjcmV0cy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL3RoaXJkX3BhcnR5L2phdmFzY3JpcHQvc2FmZXZhbHVlcy9pbnRlcm5hbHMvc2VjcmV0cy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBTUEsd0ZBQTRDOzs7Ozs7OztBQVEvQixRQUFBLFdBQVcsR0FBRyxFQUFFOzs7Ozs7O0FBTTdCLFNBQWdCLGtCQUFrQixDQUFDLEtBQWE7SUFDOUMsSUFBSSxjQUFRLEVBQUUsQ0FBQztRQUNiLElBQUksS0FBSyxLQUFLLG1CQUFXLEVBQUUsQ0FBQztZQUMxQixNQUFNLElBQUksS0FBSyxDQUFDLFlBQVksQ0FBQyxDQUFDO1FBQ2hDLENBQUM7SUFDSCxDQUFDO0FBQ0gsQ0FBQztBQU5ELGdEQU1DIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuaW1wb3J0IHtERVZfTU9ERX0gZnJvbSAnLi4vZW52aXJvbm1lbnQvZGV2JztcblxuLyoqXG4gKiBBIHNlY3JldCB0b2tlbiB0aGF0IG11c3QgYmUgcGFzc2VkIHRvIHNhZmUgdHlwZSBjb25zdHJ1Y3RvcnMuIEl0IGlzIG9ubHlcbiAqIGFjY2Vzc2libGUgZnJvbSB3aXRoaW4gc2FmZXZhbHVlcywgZW5zdXJpbmcgdGhhdCB1bnJlc3RyaWN0ZWQgc2FmZSB0eXBlXG4gKiBjcmVhdGlvbiBpcyBvbmx5IHBvc3NpYmxlIHdpdGhpbiBzYWZldmFsdWVzLiBJbiBwYXJ0aWN1bGFyLCB0aGlzIHByZXZlbnRzXG4gKiBmb3JnZXJ5IHN1Y2ggYXMgYHNhZmVIdG1sVmFsdWUuY29uc3RydWN0b3IoJ2phdmFzY3JpcHQ6ZXZpbCcpYC5cbiAqL1xuZXhwb3J0IGNvbnN0IHNlY3JldFRva2VuID0ge307XG5cbi8qKlxuICogQXNzZXJ0cyB0aGF0IHRoZSBnaXZlbiB0b2tlbiBtYXRjaGVzIHRoZSBzZWNyZXQgc2FmZXZhbHVlcyB0b2tlbi4gQW5cbiAqIGV4Y2VwdGlvbiBpcyB0aHJvd24gaWYgdGhhdCBpcyBub3QgdGhlIGNhc2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbnN1cmVUb2tlbklzVmFsaWQodG9rZW46IG9iamVjdCkge1xuICBpZiAoREVWX01PREUpIHtcbiAgICBpZiAodG9rZW4gIT09IHNlY3JldFRva2VuKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0JhZCBzZWNyZXQnKTtcbiAgICB9XG4gIH1cbn1cbiJdfQ==
;return exports;});

//third_party/javascript/safevalues/internals/attribute_impl.closure.js
goog.loadModule(function(exports) {'use strict';/**
 * @license
 * Copyright Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
/**
 * @fileoverview Internal implementations of SafeAttributePrefix.
 * Generated from: third_party/javascript/safevalues/internals/attribute_impl.ts
 * @suppress {checkTypes} added by tsickle
 * @suppress {extraRequire} added by tsickle
 * @suppress {missingRequire} added by tsickle
 * @suppress {uselessCode} added by tsickle
 * @suppress {suspiciousCode} added by tsickle
 * @suppress {missingReturn} added by tsickle
 * @suppress {unusedPrivateMembers} added by tsickle
 * @suppress {missingOverride} added by tsickle
 * @suppress {const} added by tsickle
 */
goog.module('google3.third_party.javascript.safevalues.internals.attribute_impl');
var module = module || { id: 'third_party/javascript/safevalues/internals/attribute_impl.closure.js' };
goog.require('google3.third_party.javascript.tslib.tslib');
const tsickle_dev_1 = goog.requireType("google3.third_party.javascript.safevalues.environment.dev");
const tsickle_secrets_2 = goog.requireType("google3.third_party.javascript.safevalues.internals.secrets");
const dev_1 = goog.require('google3.third_party.javascript.safevalues.environment.dev');
const secrets_1 = goog.require('google3.third_party.javascript.safevalues.internals.secrets');
/**
 * A prefix with which an attribute is safe to set using plain strings.
 */
class SafeAttributePrefix {
    /**
     * @private
     * @param {!Object} token
     * @param {string} value
     */
    constructor(token, value) {
        if (dev_1.DEV_MODE) {
            (0, secrets_1.ensureTokenIsValid)(token);
        }
        this.privateDoNotAccessOrElseWrappedAttributePrefix = value;
    }
    /**
     * @public
     * @return {string}
     */
    toString() {
        return this.privateDoNotAccessOrElseWrappedAttributePrefix;
    }
}
exports.SafeAttributePrefix = SafeAttributePrefix;
/* istanbul ignore if */
if (false) {
    /**
     * @const {string}
     * @private
     */
    SafeAttributePrefix.prototype.privateDoNotAccessOrElseWrappedAttributePrefix;
}
// WARNING: interface has both a type and a value, skipping emit
/** @type {function(new:SafeAttributePrefix, !Object, string)} */
const AttributePrefixImpl = (/** @type {function(new:SafeAttributePrefix, !Object, string)} */ (SafeAttributePrefix));
/**
 * Builds a new `SafeAttributePrefix` from the given string, without enforcing
 * safety guarantees. This shouldn't be exposed to application developers, and
 * must only be used as a step towards safe builders or safe constants.
 * @param {string} value
 * @return {!SafeAttributePrefix}
 */
function createAttributePrefixInternal(value) {
    return new AttributePrefixImpl(secrets_1.secretToken, value);
}
exports.createAttributePrefixInternal = createAttributePrefixInternal;
/**
 * Checks if the given value is a `SafeAttributePrefix` instance.
 * @param {*} value
 * @return {boolean}
 */
function isAttributePrefix(value) {
    return value instanceof SafeAttributePrefix;
}
exports.isAttributePrefix = isAttributePrefix;
/**
 * Returns the string value of the passed `SafeAttributePrefix` object while
 * ensuring it has the correct type.
 * @param {!SafeAttributePrefix} value
 * @return {string}
 */
function unwrapAttributePrefix(value) {
    if (isAttributePrefix(value)) {
        return ((/** @type {?} */ ((/** @type {*} */ (value)))))
            .privateDoNotAccessOrElseWrappedAttributePrefix;
    }
    /** @type {string} */
    let message = '';
    if (dev_1.DEV_MODE) {
        message = `Unexpected type when unwrapping SafeAttributePrefix, got '${value}' of type '${typeof value}'`;
    }
    throw new Error(message);
}
exports.unwrapAttributePrefix = unwrapAttributePrefix;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXR0cmlidXRlX2ltcGwuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi90aGlyZF9wYXJ0eS9qYXZhc2NyaXB0L3NhZmV2YWx1ZXMvaW50ZXJuYWxzL2F0dHJpYnV0ZV9pbXBsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBUUEsd0ZBQTRDO0FBRTVDLDhGQUEwRDs7OztBQUsxRCxNQUFhLG1CQUFtQjs7Ozs7O0lBRzlCLFlBQW9CLEtBQWEsRUFBRSxLQUFhO1FBQzlDLElBQUksY0FBUSxFQUFFLENBQUM7WUFDYixJQUFBLDRCQUFrQixFQUFDLEtBQUssQ0FBQyxDQUFDO1FBQzVCLENBQUM7UUFFRCxJQUFJLENBQUMsOENBQThDLEdBQUcsS0FBSyxDQUFDO0lBQzlELENBQUM7Ozs7O0lBRUQsUUFBUTtRQUNOLE9BQU8sSUFBSSxDQUFDLDhDQUE4QyxDQUFDO0lBQzdELENBQUM7Q0FDRjtBQWRELGtEQWNDOzs7Ozs7O0lBYkMsNkVBQXdFOzs7O01Ba0JwRSxtQkFBbUIsR0FBRyxvRUFBQSxtQkFBbUIsRUFFOUM7Ozs7Ozs7O0FBT0QsU0FBZ0IsNkJBQTZCLENBQzNDLEtBQWE7SUFFYixPQUFPLElBQUksbUJBQW1CLENBQUMscUJBQVcsRUFBRSxLQUFLLENBQUMsQ0FBQztBQUNyRCxDQUFDO0FBSkQsc0VBSUM7Ozs7OztBQUtELFNBQWdCLGlCQUFpQixDQUMvQixLQUFjO0lBRWQsT0FBTyxLQUFLLFlBQVksbUJBQW1CLENBQUM7QUFDOUMsQ0FBQztBQUpELDhDQUlDOzs7Ozs7O0FBTUQsU0FBZ0IscUJBQXFCLENBQUMsS0FBMEI7SUFDOUQsSUFBSSxpQkFBaUIsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDO1FBQzdCLE9BQU8sQ0FBQyxtQkFBQSxtQkFBQSxLQUFLLEVBQVcsRUFBdUIsQ0FBQzthQUM3Qyw4Q0FBOEMsQ0FBQztJQUNwRCxDQUFDOztRQUNHLE9BQU8sR0FBRyxFQUFFO0lBQ2hCLElBQUksY0FBUSxFQUFFLENBQUM7UUFDYixPQUFPLEdBQUcsNkRBQTZELEtBQUssY0FBYyxPQUFPLEtBQUssR0FBRyxDQUFDO0lBQzVHLENBQUM7SUFDRCxNQUFNLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0FBQzNCLENBQUM7QUFWRCxzREFVQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbi8qKiBAZmlsZW92ZXJ2aWV3IEludGVybmFsIGltcGxlbWVudGF0aW9ucyBvZiBTYWZlQXR0cmlidXRlUHJlZml4LiAqL1xuXG5pbXBvcnQge0RFVl9NT0RFfSBmcm9tICcuLi9lbnZpcm9ubWVudC9kZXYnO1xuXG5pbXBvcnQge2Vuc3VyZVRva2VuSXNWYWxpZCwgc2VjcmV0VG9rZW59IGZyb20gJy4vc2VjcmV0cyc7XG5cbi8qKlxuICogQSBwcmVmaXggd2l0aCB3aGljaCBhbiBhdHRyaWJ1dGUgaXMgc2FmZSB0byBzZXQgdXNpbmcgcGxhaW4gc3RyaW5ncy5cbiAqL1xuZXhwb3J0IGNsYXNzIFNhZmVBdHRyaWJ1dGVQcmVmaXgge1xuICBwcml2YXRlIHJlYWRvbmx5IHByaXZhdGVEb05vdEFjY2Vzc09yRWxzZVdyYXBwZWRBdHRyaWJ1dGVQcmVmaXg6IHN0cmluZztcblxuICBwcml2YXRlIGNvbnN0cnVjdG9yKHRva2VuOiBvYmplY3QsIHZhbHVlOiBzdHJpbmcpIHtcbiAgICBpZiAoREVWX01PREUpIHtcbiAgICAgIGVuc3VyZVRva2VuSXNWYWxpZCh0b2tlbik7XG4gICAgfVxuXG4gICAgdGhpcy5wcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2VXcmFwcGVkQXR0cmlidXRlUHJlZml4ID0gdmFsdWU7XG4gIH1cblxuICB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLnByaXZhdGVEb05vdEFjY2Vzc09yRWxzZVdyYXBwZWRBdHRyaWJ1dGVQcmVmaXg7XG4gIH1cbn1cblxuaW50ZXJmYWNlIEF0dHJpYnV0ZVByZWZpeEltcGwge1xuICBwcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2VXcmFwcGVkQXR0cmlidXRlUHJlZml4OiBzdHJpbmc7XG59XG5jb25zdCBBdHRyaWJ1dGVQcmVmaXhJbXBsID0gU2FmZUF0dHJpYnV0ZVByZWZpeCBhcyB7XG4gIG5ldyAodG9rZW46IG9iamVjdCwgdmFsdWU6IHN0cmluZyk6IFNhZmVBdHRyaWJ1dGVQcmVmaXg7XG59O1xuXG4vKipcbiAqIEJ1aWxkcyBhIG5ldyBgU2FmZUF0dHJpYnV0ZVByZWZpeGAgZnJvbSB0aGUgZ2l2ZW4gc3RyaW5nLCB3aXRob3V0IGVuZm9yY2luZ1xuICogc2FmZXR5IGd1YXJhbnRlZXMuIFRoaXMgc2hvdWxkbid0IGJlIGV4cG9zZWQgdG8gYXBwbGljYXRpb24gZGV2ZWxvcGVycywgYW5kXG4gKiBtdXN0IG9ubHkgYmUgdXNlZCBhcyBhIHN0ZXAgdG93YXJkcyBzYWZlIGJ1aWxkZXJzIG9yIHNhZmUgY29uc3RhbnRzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQXR0cmlidXRlUHJlZml4SW50ZXJuYWwoXG4gIHZhbHVlOiBzdHJpbmcsXG4pOiBTYWZlQXR0cmlidXRlUHJlZml4IHtcbiAgcmV0dXJuIG5ldyBBdHRyaWJ1dGVQcmVmaXhJbXBsKHNlY3JldFRva2VuLCB2YWx1ZSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBhIGBTYWZlQXR0cmlidXRlUHJlZml4YCBpbnN0YW5jZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQXR0cmlidXRlUHJlZml4KFxuICB2YWx1ZTogdW5rbm93bixcbik6IHZhbHVlIGlzIFNhZmVBdHRyaWJ1dGVQcmVmaXgge1xuICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBTYWZlQXR0cmlidXRlUHJlZml4O1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIHN0cmluZyB2YWx1ZSBvZiB0aGUgcGFzc2VkIGBTYWZlQXR0cmlidXRlUHJlZml4YCBvYmplY3Qgd2hpbGVcbiAqIGVuc3VyaW5nIGl0IGhhcyB0aGUgY29ycmVjdCB0eXBlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdW53cmFwQXR0cmlidXRlUHJlZml4KHZhbHVlOiBTYWZlQXR0cmlidXRlUHJlZml4KTogc3RyaW5nIHtcbiAgaWYgKGlzQXR0cmlidXRlUHJlZml4KHZhbHVlKSkge1xuICAgIHJldHVybiAodmFsdWUgYXMgdW5rbm93biBhcyBBdHRyaWJ1dGVQcmVmaXhJbXBsKVxuICAgICAgLnByaXZhdGVEb05vdEFjY2Vzc09yRWxzZVdyYXBwZWRBdHRyaWJ1dGVQcmVmaXg7XG4gIH1cbiAgbGV0IG1lc3NhZ2UgPSAnJztcbiAgaWYgKERFVl9NT0RFKSB7XG4gICAgbWVzc2FnZSA9IGBVbmV4cGVjdGVkIHR5cGUgd2hlbiB1bndyYXBwaW5nIFNhZmVBdHRyaWJ1dGVQcmVmaXgsIGdvdCAnJHt2YWx1ZX0nIG9mIHR5cGUgJyR7dHlwZW9mIHZhbHVlfSdgO1xuICB9XG4gIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbn1cbiJdfQ==
;return exports;});

//third_party/javascript/safevalues/internals/string_literal.closure.js
goog.loadModule(function(exports) {'use strict';/**
 * @license
 * Copyright Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
/**
 * @fileoverview added by tsickle
 * Generated from: third_party/javascript/safevalues/internals/string_literal.ts
 * @suppress {checkTypes} added by tsickle
 * @suppress {extraRequire} added by tsickle
 * @suppress {missingRequire} added by tsickle
 * @suppress {uselessCode} added by tsickle
 * @suppress {suspiciousCode} added by tsickle
 * @suppress {missingReturn} added by tsickle
 * @suppress {unusedPrivateMembers} added by tsickle
 * @suppress {missingOverride} added by tsickle
 * @suppress {const} added by tsickle
 */
goog.module('google3.third_party.javascript.safevalues.internals.string_literal');
var module = module || { id: 'third_party/javascript/safevalues/internals/string_literal.closure.js' };
goog.require('google3.third_party.javascript.tslib.tslib');
/**
 * An object of type TemplateStringsArray represents the literal part(s) of a
 * template literal. This function checks if a TemplateStringsArray object is
 * actually from a template literal.
 *
 * @param {!TemplateStringsArray} templateObj This contains the literal part of the template literal.
 * @param {number} numExprs The number of embedded expressions
 * @return {void}
 */
function assertIsTemplateObject(templateObj, numExprs) {
    if (!isTemplateObject(templateObj) || numExprs + 1 !== templateObj.length) {
        throw new TypeError(`
    ############################## ERROR ##############################

    It looks like you are trying to call a template tag function (fn\`...\`)
    using the normal function syntax (fn(...)), which is not supported.

    The functions in the safevalues library are not designed to be called
    like normal functions, and doing so invalidates the security guarantees
    that safevalues provides.

    If you are stuck and not sure how to proceed, please reach out to us
    instead through:
     - go/ise-hardening-yaqs (preferred) // LINE-INTERNAL
     - g/ise-hardening // LINE-INTERNAL
     - https://github.com/google/safevalues/issues

    ############################## ERROR ##############################`);
    }
}
exports.assertIsTemplateObject = assertIsTemplateObject;
/**
 * Checks if `templateObj` and its raw property are frozen.
 * @param {!TemplateStringsArray} templateObj
 * @return {boolean}
 */
function checkFrozen(templateObj) {
    return Object.isFrozen(templateObj) && Object.isFrozen(templateObj.raw);
}
/** @typedef {function(!TemplateStringsArray): !TemplateStringsArray} */
var TagFn;
/**
 * Checks if a function containing a tagged template expression is transpiled.
 * @param {function(function(!TemplateStringsArray): !TemplateStringsArray): !TemplateStringsArray} fn
 * @return {boolean}
 */
function checkTranspiled(fn) {
    return fn.toString().indexOf('`') === -1;
}
/**
 * This value tells us if the code is transpiled, in which case we don't
 * check certain things that transpilers typically don't support. The
 * transpilation turns it into a function call that takes an array.
 * @type {boolean}
 */
const isTranspiled = checkTranspiled((/**
 * @param {function(!TemplateStringsArray): !TemplateStringsArray} tag
 * @return {!TemplateStringsArray}
 */
(tag) => tag ``)) ||
    checkTranspiled((/**
     * @param {function(!TemplateStringsArray): !TemplateStringsArray} tag
     * @return {!TemplateStringsArray}
     */
    (tag) => tag `\0`)) ||
    checkTranspiled((/**
     * @param {function(!TemplateStringsArray): !TemplateStringsArray} tag
     * @return {!TemplateStringsArray}
     */
    (tag) => tag `\n`)) ||
    checkTranspiled((/**
     * @param {function(!TemplateStringsArray): !TemplateStringsArray} tag
     * @return {!TemplateStringsArray}
     */
    (tag) => tag `\u0000`));
/**
 * This value tells us if `TemplateStringsArray` are typically frozen in the
 * current environment.
 * @type {boolean}
 */
const frozenTSA = checkFrozen `` && checkFrozen `\0` && checkFrozen `\n` && checkFrozen `\u0000`;
/**
 * Polyfill of https://github.com/tc39/proposal-array-is-template-object
 * @param {!TemplateStringsArray} templateObj
 * @return {boolean}
 */
function isTemplateObject(templateObj) {
    /*
     * ############################## WARNING ##############################
     *
     * If you are reading this code to understand how to create a value
     * that satisfies this check, STOP and read this paragraph.
     *
     * This function is there to ensure that our tagged template functions are
     * always called using the tag syntax fn`...`, rather than the normal
     * function syntax fn(...). Bypassing this check invalidates the guarantees
     * that safevalues provides and will result in security issues in your code.
     *
     * If you are stuck and not sure how to proceed, please reach out to us
     * instead through:
     *  - go/ise-hardening-yaqs (preferred) // LINE-INTERNAL
     *  - g/ise-hardening // LINE-INTERNAL
     *  - https://github.com/google/safevalues/issues
     *
     * ############################## WARNING ##############################
     */
    if (!Array.isArray(templateObj) || !Array.isArray(templateObj.raw)) {
        return false;
    }
    if (templateObj.length !== (/** @type {!Array<?>} */ (templateObj.raw)).length) {
        return false;
    }
    if (!isTranspiled && templateObj === templateObj.raw) {
        // Sometimes transpilers use the same array to save on codesize if the
        // template has no special characters that would cause the values in each
        // array to be different.
        return false;
    }
    if ((!isTranspiled || frozenTSA) && !checkFrozen(templateObj)) {
        // Transpilers typically don't freeze `TemplateStringsArray` objects, but we
        // expect that if they did, they would do it consistently, so we also
        // dynamically check if they do.
        return false;
    }
    return true;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RyaW5nX2xpdGVyYWwuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi90aGlyZF9wYXJ0eS9qYXZhc2NyaXB0L3NhZmV2YWx1ZXMvaW50ZXJuYWxzL3N0cmluZ19saXRlcmFsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQWNBLFNBQWdCLHNCQUFzQixDQUNwQyxXQUFpQyxFQUNqQyxRQUFnQjtJQUVoQixJQUFJLENBQUMsZ0JBQWdCLENBQUMsV0FBVyxDQUFDLElBQUksUUFBUSxHQUFHLENBQUMsS0FBSyxXQUFXLENBQUMsTUFBTSxFQUFFLENBQUM7UUFDMUUsTUFBTSxJQUFJLFNBQVMsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozt3RUFnQmdELENBQUMsQ0FBQztJQUN4RSxDQUFDO0FBQ0gsQ0FBQztBQXZCRCx3REF1QkM7Ozs7OztBQUdELFNBQVMsV0FBVyxDQUFDLFdBQWlDO0lBQ3BELE9BQU8sTUFBTSxDQUFDLFFBQVEsQ0FBQyxXQUFXLENBQUMsSUFBSSxNQUFNLENBQUMsUUFBUSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUMxRSxDQUFDOztBQUVELFVBQXFFOzs7Ozs7QUFLckUsU0FBUyxlQUFlLENBQUMsRUFBd0M7SUFDL0QsT0FBTyxFQUFFLENBQUMsUUFBUSxFQUFFLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO0FBQzNDLENBQUM7Ozs7Ozs7TUFPSyxZQUFZLEdBQ2hCLGVBQWU7Ozs7QUFBQyxDQUFDLEdBQUcsRUFBRSxFQUFFLENBQUMsR0FBRyxDQUFBLEVBQUUsRUFBQztJQUMvQixlQUFlOzs7O0lBQUMsQ0FBQyxHQUFHLEVBQUUsRUFBRSxDQUFDLEdBQUcsQ0FBQSxJQUFJLEVBQUM7SUFDakMsZUFBZTs7OztJQUFDLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQyxHQUFHLENBQUEsSUFBSSxFQUFDO0lBQ2pDLGVBQWU7Ozs7SUFBQyxDQUFDLEdBQUcsRUFBRSxFQUFFLENBQUMsR0FBRyxDQUFBLFFBQVEsRUFBQzs7Ozs7O01BTWpDLFNBQVMsR0FDYixXQUFXLENBQUEsRUFBRSxJQUFJLFdBQVcsQ0FBQSxJQUFJLElBQUksV0FBVyxDQUFBLElBQUksSUFBSSxXQUFXLENBQUEsUUFBUTs7Ozs7O0FBRzVFLFNBQVMsZ0JBQWdCLENBQUMsV0FBaUM7SUFDekQ7Ozs7Ozs7Ozs7Ozs7Ozs7OztPQWtCRztJQUVILElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQztRQUNuRSxPQUFPLEtBQUssQ0FBQztJQUNmLENBQUM7SUFFRCxJQUFJLFdBQVcsQ0FBQyxNQUFNLEtBQUssMkJBQUEsV0FBVyxDQUFDLEdBQUcsRUFBQSxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBQ2xELE9BQU8sS0FBSyxDQUFDO0lBQ2YsQ0FBQztJQUVELElBQUksQ0FBQyxZQUFZLElBQUksV0FBVyxLQUFLLFdBQVcsQ0FBQyxHQUFHLEVBQUUsQ0FBQztRQUNyRCxzRUFBc0U7UUFDdEUseUVBQXlFO1FBQ3pFLHlCQUF5QjtRQUN6QixPQUFPLEtBQUssQ0FBQztJQUNmLENBQUM7SUFDRCxJQUFJLENBQUMsQ0FBQyxZQUFZLElBQUksU0FBUyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsV0FBVyxDQUFDLEVBQUUsQ0FBQztRQUM5RCw0RUFBNEU7UUFDNUUscUVBQXFFO1FBQ3JFLGdDQUFnQztRQUNoQyxPQUFPLEtBQUssQ0FBQztJQUNmLENBQUM7SUFFRCxPQUFPLElBQUksQ0FBQztBQUNkLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG4vKipcbiAqIEFuIG9iamVjdCBvZiB0eXBlIFRlbXBsYXRlU3RyaW5nc0FycmF5IHJlcHJlc2VudHMgdGhlIGxpdGVyYWwgcGFydChzKSBvZiBhXG4gKiB0ZW1wbGF0ZSBsaXRlcmFsLiBUaGlzIGZ1bmN0aW9uIGNoZWNrcyBpZiBhIFRlbXBsYXRlU3RyaW5nc0FycmF5IG9iamVjdCBpc1xuICogYWN0dWFsbHkgZnJvbSBhIHRlbXBsYXRlIGxpdGVyYWwuXG4gKlxuICogQHBhcmFtIHRlbXBsYXRlT2JqIFRoaXMgY29udGFpbnMgdGhlIGxpdGVyYWwgcGFydCBvZiB0aGUgdGVtcGxhdGUgbGl0ZXJhbC5cbiAqIEBwYXJhbSBudW1FeHBycyBUaGUgbnVtYmVyIG9mIGVtYmVkZGVkIGV4cHJlc3Npb25zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRJc1RlbXBsYXRlT2JqZWN0KFxuICB0ZW1wbGF0ZU9iajogVGVtcGxhdGVTdHJpbmdzQXJyYXksXG4gIG51bUV4cHJzOiBudW1iZXIsXG4pOiB2b2lkIHtcbiAgaWYgKCFpc1RlbXBsYXRlT2JqZWN0KHRlbXBsYXRlT2JqKSB8fCBudW1FeHBycyArIDEgIT09IHRlbXBsYXRlT2JqLmxlbmd0aCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYFxuICAgICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyBFUlJPUiAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcblxuICAgIEl0IGxvb2tzIGxpa2UgeW91IGFyZSB0cnlpbmcgdG8gY2FsbCBhIHRlbXBsYXRlIHRhZyBmdW5jdGlvbiAoZm5cXGAuLi5cXGApXG4gICAgdXNpbmcgdGhlIG5vcm1hbCBmdW5jdGlvbiBzeW50YXggKGZuKC4uLikpLCB3aGljaCBpcyBub3Qgc3VwcG9ydGVkLlxuXG4gICAgVGhlIGZ1bmN0aW9ucyBpbiB0aGUgc2FmZXZhbHVlcyBsaWJyYXJ5IGFyZSBub3QgZGVzaWduZWQgdG8gYmUgY2FsbGVkXG4gICAgbGlrZSBub3JtYWwgZnVuY3Rpb25zLCBhbmQgZG9pbmcgc28gaW52YWxpZGF0ZXMgdGhlIHNlY3VyaXR5IGd1YXJhbnRlZXNcbiAgICB0aGF0IHNhZmV2YWx1ZXMgcHJvdmlkZXMuXG5cbiAgICBJZiB5b3UgYXJlIHN0dWNrIGFuZCBub3Qgc3VyZSBob3cgdG8gcHJvY2VlZCwgcGxlYXNlIHJlYWNoIG91dCB0byB1c1xuICAgIGluc3RlYWQgdGhyb3VnaDpcbiAgICAgLSBnby9pc2UtaGFyZGVuaW5nLXlhcXMgKHByZWZlcnJlZCkgLy8gTElORS1JTlRFUk5BTFxuICAgICAtIGcvaXNlLWhhcmRlbmluZyAvLyBMSU5FLUlOVEVSTkFMXG4gICAgIC0gaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZS9zYWZldmFsdWVzL2lzc3Vlc1xuXG4gICAgIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIEVSUk9SICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI2ApO1xuICB9XG59XG5cbi8qKiBDaGVja3MgaWYgYHRlbXBsYXRlT2JqYCBhbmQgaXRzIHJhdyBwcm9wZXJ0eSBhcmUgZnJvemVuLiAqL1xuZnVuY3Rpb24gY2hlY2tGcm96ZW4odGVtcGxhdGVPYmo6IFRlbXBsYXRlU3RyaW5nc0FycmF5KTogYm9vbGVhbiB7XG4gIHJldHVybiBPYmplY3QuaXNGcm96ZW4odGVtcGxhdGVPYmopICYmIE9iamVjdC5pc0Zyb3plbih0ZW1wbGF0ZU9iai5yYXcpO1xufVxuXG50eXBlIFRhZ0ZuID0gKHN0cmluZ3M6IFRlbXBsYXRlU3RyaW5nc0FycmF5KSA9PiBUZW1wbGF0ZVN0cmluZ3NBcnJheTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYSBmdW5jdGlvbiBjb250YWluaW5nIGEgdGFnZ2VkIHRlbXBsYXRlIGV4cHJlc3Npb24gaXMgdHJhbnNwaWxlZC5cbiAqL1xuZnVuY3Rpb24gY2hlY2tUcmFuc3BpbGVkKGZuOiAodGFnOiBUYWdGbikgPT4gVGVtcGxhdGVTdHJpbmdzQXJyYXkpOiBib29sZWFuIHtcbiAgcmV0dXJuIGZuLnRvU3RyaW5nKCkuaW5kZXhPZignYCcpID09PSAtMTtcbn1cblxuLyoqXG4gKiBUaGlzIHZhbHVlIHRlbGxzIHVzIGlmIHRoZSBjb2RlIGlzIHRyYW5zcGlsZWQsIGluIHdoaWNoIGNhc2Ugd2UgZG9uJ3RcbiAqIGNoZWNrIGNlcnRhaW4gdGhpbmdzIHRoYXQgdHJhbnNwaWxlcnMgdHlwaWNhbGx5IGRvbid0IHN1cHBvcnQuIFRoZVxuICogdHJhbnNwaWxhdGlvbiB0dXJucyBpdCBpbnRvIGEgZnVuY3Rpb24gY2FsbCB0aGF0IHRha2VzIGFuIGFycmF5LlxuICovXG5jb25zdCBpc1RyYW5zcGlsZWQgPVxuICBjaGVja1RyYW5zcGlsZWQoKHRhZykgPT4gdGFnYGApIHx8XG4gIGNoZWNrVHJhbnNwaWxlZCgodGFnKSA9PiB0YWdgXFwwYCkgfHxcbiAgY2hlY2tUcmFuc3BpbGVkKCh0YWcpID0+IHRhZ2BcXG5gKSB8fFxuICBjaGVja1RyYW5zcGlsZWQoKHRhZykgPT4gdGFnYFxcdTAwMDBgKTtcblxuLyoqXG4gKiBUaGlzIHZhbHVlIHRlbGxzIHVzIGlmIGBUZW1wbGF0ZVN0cmluZ3NBcnJheWAgYXJlIHR5cGljYWxseSBmcm96ZW4gaW4gdGhlXG4gKiBjdXJyZW50IGVudmlyb25tZW50LlxuICovXG5jb25zdCBmcm96ZW5UU0EgPVxuICBjaGVja0Zyb3plbmBgICYmIGNoZWNrRnJvemVuYFxcMGAgJiYgY2hlY2tGcm96ZW5gXFxuYCAmJiBjaGVja0Zyb3plbmBcXHUwMDAwYDtcblxuLyoqIFBvbHlmaWxsIG9mIGh0dHBzOi8vZ2l0aHViLmNvbS90YzM5L3Byb3Bvc2FsLWFycmF5LWlzLXRlbXBsYXRlLW9iamVjdCAqL1xuZnVuY3Rpb24gaXNUZW1wbGF0ZU9iamVjdCh0ZW1wbGF0ZU9iajogVGVtcGxhdGVTdHJpbmdzQXJyYXkpOiBib29sZWFuIHtcbiAgLypcbiAgICogIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIFdBUk5JTkcgIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG4gICAqXG4gICAqIElmIHlvdSBhcmUgcmVhZGluZyB0aGlzIGNvZGUgdG8gdW5kZXJzdGFuZCBob3cgdG8gY3JlYXRlIGEgdmFsdWVcbiAgICogdGhhdCBzYXRpc2ZpZXMgdGhpcyBjaGVjaywgU1RPUCBhbmQgcmVhZCB0aGlzIHBhcmFncmFwaC5cbiAgICpcbiAgICogVGhpcyBmdW5jdGlvbiBpcyB0aGVyZSB0byBlbnN1cmUgdGhhdCBvdXIgdGFnZ2VkIHRlbXBsYXRlIGZ1bmN0aW9ucyBhcmVcbiAgICogYWx3YXlzIGNhbGxlZCB1c2luZyB0aGUgdGFnIHN5bnRheCBmbmAuLi5gLCByYXRoZXIgdGhhbiB0aGUgbm9ybWFsXG4gICAqIGZ1bmN0aW9uIHN5bnRheCBmbiguLi4pLiBCeXBhc3NpbmcgdGhpcyBjaGVjayBpbnZhbGlkYXRlcyB0aGUgZ3VhcmFudGVlc1xuICAgKiB0aGF0IHNhZmV2YWx1ZXMgcHJvdmlkZXMgYW5kIHdpbGwgcmVzdWx0IGluIHNlY3VyaXR5IGlzc3VlcyBpbiB5b3VyIGNvZGUuXG4gICAqXG4gICAqIElmIHlvdSBhcmUgc3R1Y2sgYW5kIG5vdCBzdXJlIGhvdyB0byBwcm9jZWVkLCBwbGVhc2UgcmVhY2ggb3V0IHRvIHVzXG4gICAqIGluc3RlYWQgdGhyb3VnaDpcbiAgICogIC0gZ28vaXNlLWhhcmRlbmluZy15YXFzIChwcmVmZXJyZWQpIC8vIExJTkUtSU5URVJOQUxcbiAgICogIC0gZy9pc2UtaGFyZGVuaW5nIC8vIExJTkUtSU5URVJOQUxcbiAgICogIC0gaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZS9zYWZldmFsdWVzL2lzc3Vlc1xuICAgKlxuICAgKiAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMgV0FSTklORyAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcbiAgICovXG5cbiAgaWYgKCFBcnJheS5pc0FycmF5KHRlbXBsYXRlT2JqKSB8fCAhQXJyYXkuaXNBcnJheSh0ZW1wbGF0ZU9iai5yYXcpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKHRlbXBsYXRlT2JqLmxlbmd0aCAhPT0gdGVtcGxhdGVPYmoucmF3Lmxlbmd0aCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmICghaXNUcmFuc3BpbGVkICYmIHRlbXBsYXRlT2JqID09PSB0ZW1wbGF0ZU9iai5yYXcpIHtcbiAgICAvLyBTb21ldGltZXMgdHJhbnNwaWxlcnMgdXNlIHRoZSBzYW1lIGFycmF5IHRvIHNhdmUgb24gY29kZXNpemUgaWYgdGhlXG4gICAgLy8gdGVtcGxhdGUgaGFzIG5vIHNwZWNpYWwgY2hhcmFjdGVycyB0aGF0IHdvdWxkIGNhdXNlIHRoZSB2YWx1ZXMgaW4gZWFjaFxuICAgIC8vIGFycmF5IHRvIGJlIGRpZmZlcmVudC5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKCghaXNUcmFuc3BpbGVkIHx8IGZyb3plblRTQSkgJiYgIWNoZWNrRnJvemVuKHRlbXBsYXRlT2JqKSkge1xuICAgIC8vIFRyYW5zcGlsZXJzIHR5cGljYWxseSBkb24ndCBmcmVlemUgYFRlbXBsYXRlU3RyaW5nc0FycmF5YCBvYmplY3RzLCBidXQgd2VcbiAgICAvLyBleHBlY3QgdGhhdCBpZiB0aGV5IGRpZCwgdGhleSB3b3VsZCBkbyBpdCBjb25zaXN0ZW50bHksIHNvIHdlIGFsc29cbiAgICAvLyBkeW5hbWljYWxseSBjaGVjayBpZiB0aGV5IGRvLlxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuIl19
;return exports;});

//third_party/javascript/safevalues/builders/attribute_builders.closure.js
goog.loadModule(function(exports) {'use strict';/**
 * @license
 * Copyright Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
/**
 * @fileoverview added by tsickle
 * Generated from: third_party/javascript/safevalues/builders/attribute_builders.ts
 * @suppress {checkTypes} added by tsickle
 * @suppress {extraRequire} added by tsickle
 * @suppress {missingRequire} added by tsickle
 * @suppress {uselessCode} added by tsickle
 * @suppress {suspiciousCode} added by tsickle
 * @suppress {missingReturn} added by tsickle
 * @suppress {unusedPrivateMembers} added by tsickle
 * @suppress {missingOverride} added by tsickle
 * @suppress {const} added by tsickle
 */
goog.module('google3.third_party.javascript.safevalues.builders.attribute_builders');
var module = module || { id: 'third_party/javascript/safevalues/builders/attribute_builders.closure.js' };
goog.require('google3.third_party.javascript.tslib.tslib');
const tsickle_dev_1 = goog.requireType("google3.third_party.javascript.safevalues.environment.dev");
const tsickle_attribute_impl_2 = goog.requireType("google3.third_party.javascript.safevalues.internals.attribute_impl");
const tsickle_string_literal_3 = goog.requireType("google3.third_party.javascript.safevalues.internals.string_literal");
const tsickle_sensitive_attributes_4 = goog.requireType("google3.third_party.javascript.safevalues.builders.sensitive_attributes");
const dev_1 = goog.require('google3.third_party.javascript.safevalues.environment.dev');
const attribute_impl_1 = goog.require('google3.third_party.javascript.safevalues.internals.attribute_impl');
const string_literal_1 = goog.require('google3.third_party.javascript.safevalues.internals.string_literal');
const sensitive_attributes_1 = goog.require('google3.third_party.javascript.safevalues.builders.sensitive_attributes');
/**
 * Creates a SafeAttributePrefix object from a template literal with no
 * interpolations for attributes that share a common prefix guaranteed to be not
 * security sensitive.
 *
 * The template literal is a prefix that makes it obvious this attribute is not
 * security sensitive. If it doesn't, this function will throw.
 * @param {!TemplateStringsArray} templ
 * @return {!tsickle_attribute_impl_2.SafeAttributePrefix}
 */
function safeAttrPrefix(templ) {
    if (dev_1.DEV_MODE) {
        (0, string_literal_1.assertIsTemplateObject)(templ, 0);
    }
    /** @type {string} */
    const attrPrefix = templ[0].toLowerCase();
    if (dev_1.DEV_MODE) {
        if (attrPrefix.indexOf('on') === 0 || 'on'.indexOf(attrPrefix) === 0) {
            throw new Error(`Prefix '${templ[0]}' does not guarantee the attribute ` +
                `to be safe as it is also a prefix for event handler attributes` +
                `Please use 'addEventListener' to set event handlers.`);
        }
        sensitive_attributes_1.SECURITY_SENSITIVE_ATTRIBUTES.forEach((/**
         * @param {string} sensitiveAttr
         * @return {void}
         */
        (sensitiveAttr) => {
            if (sensitiveAttr.indexOf(attrPrefix) === 0) {
                throw new Error(`Prefix '${templ[0]}' does not guarantee the attribute ` +
                    `to be safe as it is also a prefix for ` +
                    `the security sensitive attribute '${sensitiveAttr}'. ` +
                    `Please use native or safe DOM APIs to set the attribute.`);
            }
        }));
    }
    return (0, attribute_impl_1.createAttributePrefixInternal)(attrPrefix);
}
exports.safeAttrPrefix = safeAttrPrefix;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXR0cmlidXRlX2J1aWxkZXJzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vdGhpcmRfcGFydHkvamF2YXNjcmlwdC9zYWZldmFsdWVzL2J1aWxkZXJzL2F0dHJpYnV0ZV9idWlsZGVycy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBTUEsd0ZBQTRDO0FBQzVDLDRHQUdxQztBQUNyQyw0R0FBbUU7QUFFbkUsdUhBQXFFOzs7Ozs7Ozs7OztBQVVyRSxTQUFnQixjQUFjLENBQzVCLEtBQTJCO0lBRTNCLElBQUksY0FBUSxFQUFFLENBQUM7UUFDYixJQUFBLHVDQUFzQixFQUFDLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNuQyxDQUFDOztVQUVLLFVBQVUsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsV0FBVyxFQUFFO0lBRXpDLElBQUksY0FBUSxFQUFFLENBQUM7UUFDYixJQUFJLFVBQVUsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUM7WUFDckUsTUFBTSxJQUFJLEtBQUssQ0FDYixXQUFXLEtBQUssQ0FBQyxDQUFDLENBQUMscUNBQXFDO2dCQUN0RCxnRUFBZ0U7Z0JBQ2hFLHNEQUFzRCxDQUN6RCxDQUFDO1FBQ0osQ0FBQztRQUVELG9EQUE2QixDQUFDLE9BQU87Ozs7UUFBQyxDQUFDLGFBQWEsRUFBRSxFQUFFO1lBQ3RELElBQUksYUFBYSxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQztnQkFDNUMsTUFBTSxJQUFJLEtBQUssQ0FDYixXQUFXLEtBQUssQ0FBQyxDQUFDLENBQUMscUNBQXFDO29CQUN0RCx3Q0FBd0M7b0JBQ3hDLHFDQUFxQyxhQUFhLEtBQUs7b0JBQ3ZELDBEQUEwRCxDQUM3RCxDQUFDO1lBQ0osQ0FBQztRQUNILENBQUMsRUFBQyxDQUFDO0lBQ0wsQ0FBQztJQUVELE9BQU8sSUFBQSw4Q0FBNkIsRUFBQyxVQUFVLENBQUMsQ0FBQztBQUNuRCxDQUFDO0FBL0JELHdDQStCQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbmltcG9ydCB7REVWX01PREV9IGZyb20gJy4uL2Vudmlyb25tZW50L2Rldic7XG5pbXBvcnQge1xuICBjcmVhdGVBdHRyaWJ1dGVQcmVmaXhJbnRlcm5hbCxcbiAgU2FmZUF0dHJpYnV0ZVByZWZpeCxcbn0gZnJvbSAnLi4vaW50ZXJuYWxzL2F0dHJpYnV0ZV9pbXBsJztcbmltcG9ydCB7YXNzZXJ0SXNUZW1wbGF0ZU9iamVjdH0gZnJvbSAnLi4vaW50ZXJuYWxzL3N0cmluZ19saXRlcmFsJztcblxuaW1wb3J0IHtTRUNVUklUWV9TRU5TSVRJVkVfQVRUUklCVVRFU30gZnJvbSAnLi9zZW5zaXRpdmVfYXR0cmlidXRlcyc7XG5cbi8qKlxuICogQ3JlYXRlcyBhIFNhZmVBdHRyaWJ1dGVQcmVmaXggb2JqZWN0IGZyb20gYSB0ZW1wbGF0ZSBsaXRlcmFsIHdpdGggbm9cbiAqIGludGVycG9sYXRpb25zIGZvciBhdHRyaWJ1dGVzIHRoYXQgc2hhcmUgYSBjb21tb24gcHJlZml4IGd1YXJhbnRlZWQgdG8gYmUgbm90XG4gKiBzZWN1cml0eSBzZW5zaXRpdmUuXG4gKlxuICogVGhlIHRlbXBsYXRlIGxpdGVyYWwgaXMgYSBwcmVmaXggdGhhdCBtYWtlcyBpdCBvYnZpb3VzIHRoaXMgYXR0cmlidXRlIGlzIG5vdFxuICogc2VjdXJpdHkgc2Vuc2l0aXZlLiBJZiBpdCBkb2Vzbid0LCB0aGlzIGZ1bmN0aW9uIHdpbGwgdGhyb3cuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzYWZlQXR0clByZWZpeChcbiAgdGVtcGw6IFRlbXBsYXRlU3RyaW5nc0FycmF5LFxuKTogU2FmZUF0dHJpYnV0ZVByZWZpeCB7XG4gIGlmIChERVZfTU9ERSkge1xuICAgIGFzc2VydElzVGVtcGxhdGVPYmplY3QodGVtcGwsIDApO1xuICB9XG5cbiAgY29uc3QgYXR0clByZWZpeCA9IHRlbXBsWzBdLnRvTG93ZXJDYXNlKCk7XG5cbiAgaWYgKERFVl9NT0RFKSB7XG4gICAgaWYgKGF0dHJQcmVmaXguaW5kZXhPZignb24nKSA9PT0gMCB8fCAnb24nLmluZGV4T2YoYXR0clByZWZpeCkgPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYFByZWZpeCAnJHt0ZW1wbFswXX0nIGRvZXMgbm90IGd1YXJhbnRlZSB0aGUgYXR0cmlidXRlIGAgK1xuICAgICAgICAgIGB0byBiZSBzYWZlIGFzIGl0IGlzIGFsc28gYSBwcmVmaXggZm9yIGV2ZW50IGhhbmRsZXIgYXR0cmlidXRlc2AgK1xuICAgICAgICAgIGBQbGVhc2UgdXNlICdhZGRFdmVudExpc3RlbmVyJyB0byBzZXQgZXZlbnQgaGFuZGxlcnMuYCxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgU0VDVVJJVFlfU0VOU0lUSVZFX0FUVFJJQlVURVMuZm9yRWFjaCgoc2Vuc2l0aXZlQXR0cikgPT4ge1xuICAgICAgaWYgKHNlbnNpdGl2ZUF0dHIuaW5kZXhPZihhdHRyUHJlZml4KSA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgYFByZWZpeCAnJHt0ZW1wbFswXX0nIGRvZXMgbm90IGd1YXJhbnRlZSB0aGUgYXR0cmlidXRlIGAgK1xuICAgICAgICAgICAgYHRvIGJlIHNhZmUgYXMgaXQgaXMgYWxzbyBhIHByZWZpeCBmb3IgYCArXG4gICAgICAgICAgICBgdGhlIHNlY3VyaXR5IHNlbnNpdGl2ZSBhdHRyaWJ1dGUgJyR7c2Vuc2l0aXZlQXR0cn0nLiBgICtcbiAgICAgICAgICAgIGBQbGVhc2UgdXNlIG5hdGl2ZSBvciBzYWZlIERPTSBBUElzIHRvIHNldCB0aGUgYXR0cmlidXRlLmAsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gY3JlYXRlQXR0cmlidXRlUHJlZml4SW50ZXJuYWwoYXR0clByZWZpeCk7XG59XG4iXX0=
;return exports;});

//third_party/javascript/closure/html/trustedtypes.js
/**
 * @license
 * Copyright The Closure Library Authors.
 * SPDX-License-Identifier: Apache-2.0
 */

/**
 * @fileoverview Policy to convert strings to Trusted Types. See
 * https://github.com/WICG/trusted-types for details.
 */

goog.provide('goog.html.trustedtypes');


/**
 * @define {string} Name for the Trusted Types policy used in Closure Safe
 * Types. Differs from `goog.TRUSTED_TYPES_POLICY_NAME` in that the latter is
 * also used for other purposes like the debug loader. If empty, Closure Safe
 * Types will not use Trusted Types. Default is `goog.TRUSTED_TYPES_POLICY_NAME`
 * plus the suffix `#html`, unless `goog.TRUSTED_TYPES_POLICY_NAME` is empty.
 * @package
 */
goog.html.trustedtypes.POLICY_NAME = goog.define(
    'goog.html.trustedtypes.POLICY_NAME',
    goog.TRUSTED_TYPES_POLICY_NAME ? goog.TRUSTED_TYPES_POLICY_NAME + '#html' :
                                     '');


/**
 * Cached result of goog.createTrustedTypesPolicy.
 * @type {?TrustedTypePolicy|undefined}
 * @private
 */
goog.html.trustedtypes.cachedPolicy_;


/**
 * Creates a (singleton) Trusted Type Policy for Safe HTML Types.
 * @return {?TrustedTypePolicy}
 */
goog.html.trustedtypes.getPolicyPrivateDoNotAccessOrElse = function() {
  'use strict';
  if (!goog.html.trustedtypes.POLICY_NAME) {
    // Binary not configured for Trusted Types.
    return null;
  }

  if (goog.html.trustedtypes.cachedPolicy_ === undefined) {
    goog.html.trustedtypes.cachedPolicy_ =
        goog.createTrustedTypesPolicy(goog.html.trustedtypes.POLICY_NAME);
  }

  return goog.html.trustedtypes.cachedPolicy_;
};

// MOE:begin_strip
// Ensure ES2021 inputs. go/transpile-js
null?.(6_6);
// MOE:end_strip

//third_party/javascript/safevalues/internals/pure.closure.js
goog.loadModule(function(exports) {'use strict';/**
 * @license
 * Copyright Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
/**
 * @fileoverview added by tsickle
 * Generated from: third_party/javascript/safevalues/internals/pure.ts
 * @suppress {checkTypes} added by tsickle
 * @suppress {extraRequire} added by tsickle
 * @suppress {missingRequire} added by tsickle
 * @suppress {uselessCode} added by tsickle
 * @suppress {suspiciousCode} added by tsickle
 * @suppress {missingReturn} added by tsickle
 * @suppress {unusedPrivateMembers} added by tsickle
 * @suppress {missingOverride} added by tsickle
 * @suppress {const} added by tsickle
 */
goog.module('google3.third_party.javascript.safevalues.internals.pure');
var module = module || { id: 'third_party/javascript/safevalues/internals/pure.closure.js' };
goog.require('google3.third_party.javascript.tslib.tslib');
/**
 * Mark an expression as being free of side effects.
 * @template T
 * @param {function(): T} valueOf
 * @return {T}
 */
function pure(valueOf) {
    // This odd looking expression is a workaround specific to the Closure
    // compiler to mark an expression as pure.
    // BEGIN-INTERNAL
    // Note: @nosideeffects can get dropped if calls to this function get inlined,
    // whereas this expression is better preserved across inlining, resulting in
    // smaller sizes in most cases. See
    // https://groups.google.com/a/google.com/g/ise-web/c/vh4Ky_0KunY for context.
    // END-INTERNAL
    return { valueOf }.valueOf();
}
exports.pure = pure;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHVyZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL3RoaXJkX3BhcnR5L2phdmFzY3JpcHQvc2FmZXZhbHVlcy9pbnRlcm5hbHMvcHVyZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFPQSxTQUFnQixJQUFJLENBQUksT0FBZ0I7SUFDdEMsc0VBQXNFO0lBQ3RFLDBDQUEwQztJQUMxQyxpQkFBaUI7SUFDakIsOEVBQThFO0lBQzlFLDRFQUE0RTtJQUM1RSxtQ0FBbUM7SUFDbkMsOEVBQThFO0lBQzlFLGVBQWU7SUFDZixPQUFPLEVBQUMsT0FBTyxFQUFDLENBQUMsT0FBTyxFQUFFLENBQUM7QUFDN0IsQ0FBQztBQVZELG9CQVVDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuLyoqIE1hcmsgYW4gZXhwcmVzc2lvbiBhcyBiZWluZyBmcmVlIG9mIHNpZGUgZWZmZWN0cy4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwdXJlPFQ+KHZhbHVlT2Y6ICgpID0+IFQpOiBUIHtcbiAgLy8gVGhpcyBvZGQgbG9va2luZyBleHByZXNzaW9uIGlzIGEgd29ya2Fyb3VuZCBzcGVjaWZpYyB0byB0aGUgQ2xvc3VyZVxuICAvLyBjb21waWxlciB0byBtYXJrIGFuIGV4cHJlc3Npb24gYXMgcHVyZS5cbiAgLy8gQkVHSU4tSU5URVJOQUxcbiAgLy8gTm90ZTogQG5vc2lkZWVmZmVjdHMgY2FuIGdldCBkcm9wcGVkIGlmIGNhbGxzIHRvIHRoaXMgZnVuY3Rpb24gZ2V0IGlubGluZWQsXG4gIC8vIHdoZXJlYXMgdGhpcyBleHByZXNzaW9uIGlzIGJldHRlciBwcmVzZXJ2ZWQgYWNyb3NzIGlubGluaW5nLCByZXN1bHRpbmcgaW5cbiAgLy8gc21hbGxlciBzaXplcyBpbiBtb3N0IGNhc2VzLiBTZWVcbiAgLy8gaHR0cHM6Ly9ncm91cHMuZ29vZ2xlLmNvbS9hL2dvb2dsZS5jb20vZy9pc2Utd2ViL2Mvdmg0S3lfMEt1blkgZm9yIGNvbnRleHQuXG4gIC8vIEVORC1JTlRFUk5BTFxuICByZXR1cm4ge3ZhbHVlT2Z9LnZhbHVlT2YoKTtcbn1cbiJdfQ==
;return exports;});

//third_party/javascript/safevalues/internals/html_impl.closure.js
goog.loadModule(function(exports) {'use strict';/**
 * @license
 * Copyright Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
/**
 * @fileoverview Internal implementations of SafeHtml.
 * Generated from: third_party/javascript/safevalues/internals/html_impl.ts
 * @suppress {checkTypes} added by tsickle
 * @suppress {extraRequire} added by tsickle
 * @suppress {missingRequire} added by tsickle
 * @suppress {uselessCode} added by tsickle
 * @suppress {suspiciousCode} added by tsickle
 * @suppress {missingReturn} added by tsickle
 * @suppress {unusedPrivateMembers} added by tsickle
 * @suppress {missingOverride} added by tsickle
 * @suppress {const} added by tsickle
 */
goog.module('google3.third_party.javascript.safevalues.internals.html_impl');
var module = module || { id: 'third_party/javascript/safevalues/internals/html_impl.closure.js' };
goog.require('google3.third_party.javascript.tslib.tslib');
const tsickle_trustedtypes_1 = goog.requireType("goog.html.trustedtypes");
const tsickle_dev_2 = goog.requireType("google3.third_party.javascript.safevalues.environment.dev");
const tsickle_pure_3 = goog.requireType("google3.third_party.javascript.safevalues.internals.pure");
const tsickle_secrets_4 = goog.requireType("google3.third_party.javascript.safevalues.internals.secrets");
const trustedtypes_1 = goog.require('goog.html.trustedtypes');
const dev_1 = goog.require('google3.third_party.javascript.safevalues.environment.dev');
const pure_1 = goog.require('google3.third_party.javascript.safevalues.internals.pure');
const secrets_1 = goog.require('google3.third_party.javascript.safevalues.internals.secrets');
/** @type {?} */
const trustedTypes = goog.global.trustedTypes;
/**
 * String that is safe to use in HTML contexts in DOM APIs and HTML documents.
 */
class SafeHtml {
    /**
     * @private
     * @param {!Object} token
     * @param {(string|!TrustedHTML)} value
     */
    constructor(token, value) {
        if (dev_1.DEV_MODE) {
            (0, secrets_1.ensureTokenIsValid)(token);
        }
        this.privateDoNotAccessOrElseWrappedHtml = value;
    }
    /**
     * @public
     * @return {string}
     */
    toString() {
        // String coercion minimizes code size.
        // tslint:disable-next-line:restrict-plus-operands
        return this.privateDoNotAccessOrElseWrappedHtml + '';
    }
}
exports.SafeHtml = SafeHtml;
/* istanbul ignore if */
if (false) {
    /**
     * @const {(string|!TrustedHTML)}
     * @private
     */
    SafeHtml.prototype.privateDoNotAccessOrElseWrappedHtml;
}
// WARNING: interface has both a type and a value, skipping emit
/** @type {function(new:SafeHtml, !Object, (string|!TrustedHTML))} */
const HtmlImpl = (/** @type {function(new:SafeHtml, !Object, (string|!TrustedHTML))} */ (SafeHtml));
/**
 * @param {(string|!TrustedHTML)} value
 * @return {!SafeHtml}
 */
function constructHtml(value) {
    return new HtmlImpl(secrets_1.secretToken, value);
}
/**
 * Builds a new `SafeHtml` from the given string, without enforcing
 * safety guarantees. It may cause side effects by creating a Trusted Types
 * policy. This shouldn't be exposed to application developers, and must only be
 * used as a step towards safe builders or safe constants.
 * @param {string} value
 * @return {!SafeHtml}
 */
function createHtmlInternal(value) {
    /**
     * @noinline
     * @type {string}
     */
    const noinlineValue = value;
    /** @type {(null|!TrustedTypePolicy<!TrustedTypePolicyOptions>)} */
    const policy = (0, trustedtypes_1.getPolicyPrivateDoNotAccessOrElse)();
    return constructHtml(policy ? policy.createHTML(noinlineValue) : noinlineValue);
}
exports.createHtmlInternal = createHtmlInternal;
/**
 * An empty `SafeHtml` constant.
 * Unlike the functions above, using this will not create a policy.
 * @type {!SafeHtml}
 */
exports.EMPTY_HTML = (0, pure_1.pure)((/**
 * @return {!SafeHtml}
 */
() => constructHtml(trustedTypes ? trustedTypes.emptyHTML : '')));
/**
 * Checks if the given value is a `SafeHtml` instance
 * @param {*} value
 * @return {boolean}
 */
function isHtml(value) {
    return value instanceof SafeHtml;
}
exports.isHtml = isHtml;
/**
 * Returns the value of the passed `SafeHtml` object while ensuring it
 * has the correct type.
 *
 * Returns a native `TrustedHTML` or a string if Trusted Types are disabled.
 * @param {!SafeHtml} value
 * @return {(string|!TrustedHTML)}
 */
function unwrapHtml(value) {
    if (isHtml(value)) {
        return ((/** @type {?} */ ((/** @type {*} */ (value))))).privateDoNotAccessOrElseWrappedHtml;
    }
    else {
        /** @type {string} */
        let message = '';
        if (dev_1.DEV_MODE) {
            message = 'Unexpected type when unwrapping SafeHtml';
        }
        throw new Error(message);
    }
}
exports.unwrapHtml = unwrapHtml;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaHRtbF9pbXBsLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vdGhpcmRfcGFydHkvamF2YXNjcmlwdC9zYWZldmFsdWVzL2ludGVybmFscy9odG1sX2ltcGwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVFBLDhEQUEyRztBQUUzRyx3RkFBNEM7QUFFNUMsd0ZBQTRCO0FBQzVCLDhGQUEwRDs7TUFFcEQsWUFBWSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsWUFBWTs7OztBQUs3QyxNQUFhLFFBQVE7Ozs7OztJQUduQixZQUFvQixLQUFhLEVBQUUsS0FBMkI7UUFDNUQsSUFBSSxjQUFRLEVBQUUsQ0FBQztZQUNiLElBQUEsNEJBQWtCLEVBQUMsS0FBSyxDQUFDLENBQUM7UUFDNUIsQ0FBQztRQUVELElBQUksQ0FBQyxtQ0FBbUMsR0FBRyxLQUFLLENBQUM7SUFDbkQsQ0FBQzs7Ozs7SUFFRCxRQUFRO1FBQ04sdUNBQXVDO1FBQ3ZDLGtEQUFrRDtRQUNsRCxPQUFPLElBQUksQ0FBQyxtQ0FBbUMsR0FBRyxFQUFFLENBQUM7SUFDdkQsQ0FBQztDQUNGO0FBaEJELDRCQWdCQzs7Ozs7OztJQWZDLHVEQUEyRTs7OztNQW9CdkUsUUFBUSxHQUFHLHdFQUFBLFFBQVEsRUFFeEI7Ozs7O0FBRUQsU0FBUyxhQUFhLENBQUMsS0FBMkI7SUFDaEQsT0FBTyxJQUFJLFFBQVEsQ0FBQyxxQkFBVyxFQUFFLEtBQUssQ0FBQyxDQUFDO0FBQzFDLENBQUM7Ozs7Ozs7OztBQVFELFNBQWdCLGtCQUFrQixDQUFDLEtBQWE7Ozs7O1VBRXhDLGFBQWEsR0FBRyxLQUFLOztVQUNyQixNQUFNLEdBQUcsSUFBQSxnREFBaUMsR0FBRTtJQUNsRCxPQUFPLGFBQWEsQ0FDbEIsTUFBTSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxhQUFhLENBQzFELENBQUM7QUFDSixDQUFDO0FBUEQsZ0RBT0M7Ozs7OztBQU1ZLFFBQUEsVUFBVSxHQUFhLElBQUEsV0FBSTs7O0FBQUMsR0FBRyxFQUFFLENBQzVDLGFBQWEsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUMxRDs7Ozs7O0FBR0QsU0FBZ0IsTUFBTSxDQUFDLEtBQWM7SUFDbkMsT0FBTyxLQUFLLFlBQVksUUFBUSxDQUFDO0FBQ25DLENBQUM7QUFGRCx3QkFFQzs7Ozs7Ozs7O0FBUUQsU0FBZ0IsVUFBVSxDQUFDLEtBQWU7SUFDeEMsSUFBSSxNQUFNLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQztRQUNsQixPQUFPLENBQUMsbUJBQUEsbUJBQUEsS0FBSyxFQUFXLEVBQVksQ0FBQyxDQUFDLG1DQUFtQyxDQUFDO0lBQzVFLENBQUM7U0FBTSxDQUFDOztZQUNGLE9BQU8sR0FBRyxFQUFFO1FBQ2hCLElBQUksY0FBUSxFQUFFLENBQUM7WUFDYixPQUFPLEdBQUcsMENBQTBDLENBQUM7UUFDdkQsQ0FBQztRQUNELE1BQU0sSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDM0IsQ0FBQztBQUNILENBQUM7QUFWRCxnQ0FVQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbi8qKiBAZmlsZW92ZXJ2aWV3IEludGVybmFsIGltcGxlbWVudGF0aW9ucyBvZiBTYWZlSHRtbC4gKi9cblxuaW1wb3J0IHtnZXRQb2xpY3lQcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2V9IGZyb20gJ2dvb2dsZTMvdGhpcmRfcGFydHkvamF2YXNjcmlwdC9jbG9zdXJlL2h0bWwvdHJ1c3RlZHR5cGVzJztcblxuaW1wb3J0IHtERVZfTU9ERX0gZnJvbSAnLi4vZW52aXJvbm1lbnQvZGV2JztcblxuaW1wb3J0IHtwdXJlfSBmcm9tICcuL3B1cmUnO1xuaW1wb3J0IHtlbnN1cmVUb2tlbklzVmFsaWQsIHNlY3JldFRva2VufSBmcm9tICcuL3NlY3JldHMnO1xuXG5jb25zdCB0cnVzdGVkVHlwZXMgPSBnb29nLmdsb2JhbC50cnVzdGVkVHlwZXM7XG5cbi8qKlxuICogU3RyaW5nIHRoYXQgaXMgc2FmZSB0byB1c2UgaW4gSFRNTCBjb250ZXh0cyBpbiBET00gQVBJcyBhbmQgSFRNTCBkb2N1bWVudHMuXG4gKi9cbmV4cG9ydCBjbGFzcyBTYWZlSHRtbCB7XG4gIHByaXZhdGUgcmVhZG9ubHkgcHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlV3JhcHBlZEh0bWw6IFRydXN0ZWRIVE1MIHwgc3RyaW5nO1xuXG4gIHByaXZhdGUgY29uc3RydWN0b3IodG9rZW46IG9iamVjdCwgdmFsdWU6IFRydXN0ZWRIVE1MIHwgc3RyaW5nKSB7XG4gICAgaWYgKERFVl9NT0RFKSB7XG4gICAgICBlbnN1cmVUb2tlbklzVmFsaWQodG9rZW4pO1xuICAgIH1cblxuICAgIHRoaXMucHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlV3JhcHBlZEh0bWwgPSB2YWx1ZTtcbiAgfVxuXG4gIHRvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgLy8gU3RyaW5nIGNvZXJjaW9uIG1pbmltaXplcyBjb2RlIHNpemUuXG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOnJlc3RyaWN0LXBsdXMtb3BlcmFuZHNcbiAgICByZXR1cm4gdGhpcy5wcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2VXcmFwcGVkSHRtbCArICcnO1xuICB9XG59XG5cbmludGVyZmFjZSBIdG1sSW1wbCB7XG4gIHByaXZhdGVEb05vdEFjY2Vzc09yRWxzZVdyYXBwZWRIdG1sOiBUcnVzdGVkSFRNTCB8IHN0cmluZztcbn1cbmNvbnN0IEh0bWxJbXBsID0gU2FmZUh0bWwgYXMge1xuICBuZXcgKHRva2VuOiBvYmplY3QsIHZhbHVlOiBUcnVzdGVkSFRNTCB8IHN0cmluZyk6IFNhZmVIdG1sO1xufTtcblxuZnVuY3Rpb24gY29uc3RydWN0SHRtbCh2YWx1ZTogVHJ1c3RlZEhUTUwgfCBzdHJpbmcpOiBTYWZlSHRtbCB7XG4gIHJldHVybiBuZXcgSHRtbEltcGwoc2VjcmV0VG9rZW4sIHZhbHVlKTtcbn1cblxuLyoqXG4gKiBCdWlsZHMgYSBuZXcgYFNhZmVIdG1sYCBmcm9tIHRoZSBnaXZlbiBzdHJpbmcsIHdpdGhvdXQgZW5mb3JjaW5nXG4gKiBzYWZldHkgZ3VhcmFudGVlcy4gSXQgbWF5IGNhdXNlIHNpZGUgZWZmZWN0cyBieSBjcmVhdGluZyBhIFRydXN0ZWQgVHlwZXNcbiAqIHBvbGljeS4gVGhpcyBzaG91bGRuJ3QgYmUgZXhwb3NlZCB0byBhcHBsaWNhdGlvbiBkZXZlbG9wZXJzLCBhbmQgbXVzdCBvbmx5IGJlXG4gKiB1c2VkIGFzIGEgc3RlcCB0b3dhcmRzIHNhZmUgYnVpbGRlcnMgb3Igc2FmZSBjb25zdGFudHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVIdG1sSW50ZXJuYWwodmFsdWU6IHN0cmluZyk6IFNhZmVIdG1sIHtcbiAgLyoqIEBub2lubGluZSAqL1xuICBjb25zdCBub2lubGluZVZhbHVlID0gdmFsdWU7XG4gIGNvbnN0IHBvbGljeSA9IGdldFBvbGljeVByaXZhdGVEb05vdEFjY2Vzc09yRWxzZSgpO1xuICByZXR1cm4gY29uc3RydWN0SHRtbChcbiAgICBwb2xpY3kgPyBwb2xpY3kuY3JlYXRlSFRNTChub2lubGluZVZhbHVlKSA6IG5vaW5saW5lVmFsdWUsXG4gICk7XG59XG5cbi8qKlxuICogQW4gZW1wdHkgYFNhZmVIdG1sYCBjb25zdGFudC5cbiAqIFVubGlrZSB0aGUgZnVuY3Rpb25zIGFib3ZlLCB1c2luZyB0aGlzIHdpbGwgbm90IGNyZWF0ZSBhIHBvbGljeS5cbiAqL1xuZXhwb3J0IGNvbnN0IEVNUFRZX0hUTUw6IFNhZmVIdG1sID0gcHVyZSgoKSA9PlxuICBjb25zdHJ1Y3RIdG1sKHRydXN0ZWRUeXBlcyA/IHRydXN0ZWRUeXBlcy5lbXB0eUhUTUwgOiAnJyksXG4pO1xuXG4vKiogQ2hlY2tzIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBhIGBTYWZlSHRtbGAgaW5zdGFuY2UgKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0h0bWwodmFsdWU6IHVua25vd24pOiB2YWx1ZSBpcyBTYWZlSHRtbCB7XG4gIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFNhZmVIdG1sO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIHZhbHVlIG9mIHRoZSBwYXNzZWQgYFNhZmVIdG1sYCBvYmplY3Qgd2hpbGUgZW5zdXJpbmcgaXRcbiAqIGhhcyB0aGUgY29ycmVjdCB0eXBlLlxuICpcbiAqIFJldHVybnMgYSBuYXRpdmUgYFRydXN0ZWRIVE1MYCBvciBhIHN0cmluZyBpZiBUcnVzdGVkIFR5cGVzIGFyZSBkaXNhYmxlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVud3JhcEh0bWwodmFsdWU6IFNhZmVIdG1sKTogVHJ1c3RlZEhUTUwgfCBzdHJpbmcge1xuICBpZiAoaXNIdG1sKHZhbHVlKSkge1xuICAgIHJldHVybiAodmFsdWUgYXMgdW5rbm93biBhcyBIdG1sSW1wbCkucHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlV3JhcHBlZEh0bWw7XG4gIH0gZWxzZSB7XG4gICAgbGV0IG1lc3NhZ2UgPSAnJztcbiAgICBpZiAoREVWX01PREUpIHtcbiAgICAgIG1lc3NhZ2UgPSAnVW5leHBlY3RlZCB0eXBlIHdoZW4gdW53cmFwcGluZyBTYWZlSHRtbCc7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgfVxufVxuIl19
;return exports;});

//third_party/javascript/safevalues/builders/document_fragment_builders.closure.js
goog.loadModule(function(exports) {'use strict';/**
 * @license
 * Copyright Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
/**
 * @fileoverview added by tsickle
 * Generated from: third_party/javascript/safevalues/builders/document_fragment_builders.ts
 * @suppress {checkTypes} added by tsickle
 * @suppress {extraRequire} added by tsickle
 * @suppress {missingRequire} added by tsickle
 * @suppress {uselessCode} added by tsickle
 * @suppress {suspiciousCode} added by tsickle
 * @suppress {missingReturn} added by tsickle
 * @suppress {unusedPrivateMembers} added by tsickle
 * @suppress {missingOverride} added by tsickle
 * @suppress {const} added by tsickle
 */
goog.module('google3.third_party.javascript.safevalues.builders.document_fragment_builders');
var module = module || { id: 'third_party/javascript/safevalues/builders/document_fragment_builders.closure.js' };
goog.require('google3.third_party.javascript.tslib.tslib');
const tsickle_dev_1 = goog.requireType("google3.third_party.javascript.safevalues.environment.dev");
const tsickle_html_impl_2 = goog.requireType("google3.third_party.javascript.safevalues.internals.html_impl");
const tsickle_string_literal_3 = goog.requireType("google3.third_party.javascript.safevalues.internals.string_literal");
const dev_1 = goog.require('google3.third_party.javascript.safevalues.environment.dev');
const html_impl_1 = goog.require('google3.third_party.javascript.safevalues.internals.html_impl');
const string_literal_1 = goog.require('google3.third_party.javascript.safevalues.internals.string_literal');
/**
 * Creates a DocumentFragment object from a template literal (without any
 * embedded expressions) using the document context (HTML).
 *
 * Note: use svgFragment instead to create a DocumentFragment belonging to the
 * SVG namespace.
 *
 * This function is a template literal tag function. It should be called with
 * a template literal that does not contain any expressions. For example,
 *                           htmlFragment`foo`;
 *
 * @param {!TemplateStringsArray} templateObj This contains the literal part of the template literal.
 * @return {!DocumentFragment}
 */
function htmlFragment(templateObj) {
    if (dev_1.DEV_MODE) {
        (0, string_literal_1.assertIsTemplateObject)(templateObj, 0);
    }
    /** @type {!Range} */
    const range = document.createRange();
    return range.createContextualFragment((/** @type {string} */ ((0, html_impl_1.unwrapHtml)((0, html_impl_1.createHtmlInternal)(templateObj[0])))));
}
exports.htmlFragment = htmlFragment;
/**
 * Creates a DocumentFragment object from a template literal (without any
 * embedded expressions), with an SVG context.
 *
 * This function is a template literal tag function. It should be called with
 * a template literal that does not contain any expressions. For example,
 *                           svgFragment`foo`;
 *
 * @param {!TemplateStringsArray} templateObj This contains the literal part of the template literal.
 * @return {!DocumentFragment}
 */
function svgFragment(templateObj) {
    if (dev_1.DEV_MODE) {
        (0, string_literal_1.assertIsTemplateObject)(templateObj, 0);
    }
    /** @type {!SVGSVGElement} */
    const svgElem = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
    /** @type {!Range} */
    const range = document.createRange();
    range.selectNodeContents(svgElem);
    return range.createContextualFragment((/** @type {string} */ ((0, html_impl_1.unwrapHtml)((0, html_impl_1.createHtmlInternal)(templateObj[0])))));
}
exports.svgFragment = svgFragment;
/**
 * Converts HTML markup into a node.
 * @param {!tsickle_html_impl_2.SafeHtml} html
 * @return {!Node}
 */
function htmlToNode(html) {
    /** @type {!Range} */
    const range = document.createRange();
    /** @type {!DocumentFragment} */
    const fragment = range.createContextualFragment((/** @type {string} */ ((0, html_impl_1.unwrapHtml)(html))));
    if (fragment.childNodes.length === 1) {
        return fragment.childNodes[0];
    }
    else {
        return fragment;
    }
}
exports.htmlToNode = htmlToNode;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZG9jdW1lbnRfZnJhZ21lbnRfYnVpbGRlcnMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi90aGlyZF9wYXJ0eS9qYXZhc2NyaXB0L3NhZmV2YWx1ZXMvYnVpbGRlcnMvZG9jdW1lbnRfZnJhZ21lbnRfYnVpbGRlcnMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBTUEsd0ZBQTRDO0FBQzVDLGtHQUFnRjtBQUNoRiw0R0FBbUU7Ozs7Ozs7Ozs7Ozs7OztBQWVuRSxTQUFnQixZQUFZLENBQzFCLFdBQWlDO0lBRWpDLElBQUksY0FBUSxFQUFFLENBQUM7UUFDYixJQUFBLHVDQUFzQixFQUFDLFdBQVcsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUN6QyxDQUFDOztVQUNLLEtBQUssR0FBRyxRQUFRLENBQUMsV0FBVyxFQUFFO0lBQ3BDLE9BQU8sS0FBSyxDQUFDLHdCQUF3QixDQUNuQyx3QkFBQSxJQUFBLHNCQUFVLEVBQUMsSUFBQSw4QkFBa0IsRUFBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFVLENBQ3pELENBQUM7QUFDSixDQUFDO0FBVkQsb0NBVUM7Ozs7Ozs7Ozs7OztBQVlELFNBQWdCLFdBQVcsQ0FDekIsV0FBaUM7SUFFakMsSUFBSSxjQUFRLEVBQUUsQ0FBQztRQUNiLElBQUEsdUNBQXNCLEVBQUMsV0FBVyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3pDLENBQUM7O1VBQ0ssT0FBTyxHQUFHLFFBQVEsQ0FBQyxlQUFlLENBQUMsNEJBQTRCLEVBQUUsS0FBSyxDQUFDOztVQUN2RSxLQUFLLEdBQUcsUUFBUSxDQUFDLFdBQVcsRUFBRTtJQUNwQyxLQUFLLENBQUMsa0JBQWtCLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDbEMsT0FBTyxLQUFLLENBQUMsd0JBQXdCLENBQ25DLHdCQUFBLElBQUEsc0JBQVUsRUFBQyxJQUFBLDhCQUFrQixFQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQVUsQ0FDekQsQ0FBQztBQUNKLENBQUM7QUFaRCxrQ0FZQzs7Ozs7O0FBR0QsU0FBZ0IsVUFBVSxDQUFDLElBQWM7O1VBQ2pDLEtBQUssR0FBRyxRQUFRLENBQUMsV0FBVyxFQUFFOztVQUM5QixRQUFRLEdBQUcsS0FBSyxDQUFDLHdCQUF3QixDQUFDLHdCQUFBLElBQUEsc0JBQVUsRUFBQyxJQUFJLENBQUMsRUFBVSxDQUFDO0lBQzNFLElBQUksUUFBUSxDQUFDLFVBQVUsQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFLENBQUM7UUFDckMsT0FBTyxRQUFRLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ2hDLENBQUM7U0FBTSxDQUFDO1FBQ04sT0FBTyxRQUFRLENBQUM7SUFDbEIsQ0FBQztBQUNILENBQUM7QUFSRCxnQ0FRQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbmltcG9ydCB7REVWX01PREV9IGZyb20gJy4uL2Vudmlyb25tZW50L2Rldic7XG5pbXBvcnQge2NyZWF0ZUh0bWxJbnRlcm5hbCwgU2FmZUh0bWwsIHVud3JhcEh0bWx9IGZyb20gJy4uL2ludGVybmFscy9odG1sX2ltcGwnO1xuaW1wb3J0IHthc3NlcnRJc1RlbXBsYXRlT2JqZWN0fSBmcm9tICcuLi9pbnRlcm5hbHMvc3RyaW5nX2xpdGVyYWwnO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBEb2N1bWVudEZyYWdtZW50IG9iamVjdCBmcm9tIGEgdGVtcGxhdGUgbGl0ZXJhbCAod2l0aG91dCBhbnlcbiAqIGVtYmVkZGVkIGV4cHJlc3Npb25zKSB1c2luZyB0aGUgZG9jdW1lbnQgY29udGV4dCAoSFRNTCkuXG4gKlxuICogTm90ZTogdXNlIHN2Z0ZyYWdtZW50IGluc3RlYWQgdG8gY3JlYXRlIGEgRG9jdW1lbnRGcmFnbWVudCBiZWxvbmdpbmcgdG8gdGhlXG4gKiBTVkcgbmFtZXNwYWNlLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gaXMgYSB0ZW1wbGF0ZSBsaXRlcmFsIHRhZyBmdW5jdGlvbi4gSXQgc2hvdWxkIGJlIGNhbGxlZCB3aXRoXG4gKiBhIHRlbXBsYXRlIGxpdGVyYWwgdGhhdCBkb2VzIG5vdCBjb250YWluIGFueSBleHByZXNzaW9ucy4gRm9yIGV4YW1wbGUsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgIGh0bWxGcmFnbWVudGBmb29gO1xuICpcbiAqIEBwYXJhbSB0ZW1wbGF0ZU9iaiBUaGlzIGNvbnRhaW5zIHRoZSBsaXRlcmFsIHBhcnQgb2YgdGhlIHRlbXBsYXRlIGxpdGVyYWwuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBodG1sRnJhZ21lbnQoXG4gIHRlbXBsYXRlT2JqOiBUZW1wbGF0ZVN0cmluZ3NBcnJheSxcbik6IERvY3VtZW50RnJhZ21lbnQge1xuICBpZiAoREVWX01PREUpIHtcbiAgICBhc3NlcnRJc1RlbXBsYXRlT2JqZWN0KHRlbXBsYXRlT2JqLCAwKTtcbiAgfVxuICBjb25zdCByYW5nZSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XG4gIHJldHVybiByYW5nZS5jcmVhdGVDb250ZXh0dWFsRnJhZ21lbnQoXG4gICAgdW53cmFwSHRtbChjcmVhdGVIdG1sSW50ZXJuYWwodGVtcGxhdGVPYmpbMF0pKSBhcyBzdHJpbmcsXG4gICk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIERvY3VtZW50RnJhZ21lbnQgb2JqZWN0IGZyb20gYSB0ZW1wbGF0ZSBsaXRlcmFsICh3aXRob3V0IGFueVxuICogZW1iZWRkZWQgZXhwcmVzc2lvbnMpLCB3aXRoIGFuIFNWRyBjb250ZXh0LlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gaXMgYSB0ZW1wbGF0ZSBsaXRlcmFsIHRhZyBmdW5jdGlvbi4gSXQgc2hvdWxkIGJlIGNhbGxlZCB3aXRoXG4gKiBhIHRlbXBsYXRlIGxpdGVyYWwgdGhhdCBkb2VzIG5vdCBjb250YWluIGFueSBleHByZXNzaW9ucy4gRm9yIGV4YW1wbGUsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgIHN2Z0ZyYWdtZW50YGZvb2A7XG4gKlxuICogQHBhcmFtIHRlbXBsYXRlT2JqIFRoaXMgY29udGFpbnMgdGhlIGxpdGVyYWwgcGFydCBvZiB0aGUgdGVtcGxhdGUgbGl0ZXJhbC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN2Z0ZyYWdtZW50KFxuICB0ZW1wbGF0ZU9iajogVGVtcGxhdGVTdHJpbmdzQXJyYXksXG4pOiBEb2N1bWVudEZyYWdtZW50IHtcbiAgaWYgKERFVl9NT0RFKSB7XG4gICAgYXNzZXJ0SXNUZW1wbGF0ZU9iamVjdCh0ZW1wbGF0ZU9iaiwgMCk7XG4gIH1cbiAgY29uc3Qgc3ZnRWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnc3ZnJyk7XG4gIGNvbnN0IHJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcbiAgcmFuZ2Uuc2VsZWN0Tm9kZUNvbnRlbnRzKHN2Z0VsZW0pO1xuICByZXR1cm4gcmFuZ2UuY3JlYXRlQ29udGV4dHVhbEZyYWdtZW50KFxuICAgIHVud3JhcEh0bWwoY3JlYXRlSHRtbEludGVybmFsKHRlbXBsYXRlT2JqWzBdKSkgYXMgc3RyaW5nLFxuICApO1xufVxuXG4vKiogQ29udmVydHMgSFRNTCBtYXJrdXAgaW50byBhIG5vZGUuICovXG5leHBvcnQgZnVuY3Rpb24gaHRtbFRvTm9kZShodG1sOiBTYWZlSHRtbCk6IE5vZGUge1xuICBjb25zdCByYW5nZSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XG4gIGNvbnN0IGZyYWdtZW50ID0gcmFuZ2UuY3JlYXRlQ29udGV4dHVhbEZyYWdtZW50KHVud3JhcEh0bWwoaHRtbCkgYXMgc3RyaW5nKTtcbiAgaWYgKGZyYWdtZW50LmNoaWxkTm9kZXMubGVuZ3RoID09PSAxKSB7XG4gICAgcmV0dXJuIGZyYWdtZW50LmNoaWxkTm9kZXNbMF07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZyYWdtZW50O1xuICB9XG59XG4iXX0=
;return exports;});

//third_party/javascript/safevalues/internals/style_sheet_impl.closure.js
goog.loadModule(function(exports) {'use strict';/**
 * @license
 * Copyright Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
/**
 * @fileoverview Internal implementations of SafeStyleSheet.
 * Generated from: third_party/javascript/safevalues/internals/style_sheet_impl.ts
 * @suppress {checkTypes} added by tsickle
 * @suppress {extraRequire} added by tsickle
 * @suppress {missingRequire} added by tsickle
 * @suppress {uselessCode} added by tsickle
 * @suppress {suspiciousCode} added by tsickle
 * @suppress {missingReturn} added by tsickle
 * @suppress {unusedPrivateMembers} added by tsickle
 * @suppress {missingOverride} added by tsickle
 * @suppress {const} added by tsickle
 */
goog.module('google3.third_party.javascript.safevalues.internals.style_sheet_impl');
var module = module || { id: 'third_party/javascript/safevalues/internals/style_sheet_impl.closure.js' };
goog.require('google3.third_party.javascript.tslib.tslib');
const tsickle_dev_1 = goog.requireType("google3.third_party.javascript.safevalues.environment.dev");
const tsickle_secrets_2 = goog.requireType("google3.third_party.javascript.safevalues.internals.secrets");
const dev_1 = goog.require('google3.third_party.javascript.safevalues.environment.dev');
const secrets_1 = goog.require('google3.third_party.javascript.safevalues.internals.secrets');
/**
 * A complete CSS style sheet, safe to use in style contexts in an HTML
 * document or DOM APIs.
 */
class SafeStyleSheet {
    /**
     * @private
     * @param {!Object} token
     * @param {string} value
     */
    constructor(token, value) {
        if (dev_1.DEV_MODE) {
            (0, secrets_1.ensureTokenIsValid)(token);
        }
        this.privateDoNotAccessOrElseWrappedStyleSheet = value;
    }
    /**
     * @public
     * @return {string}
     */
    toString() {
        return this.privateDoNotAccessOrElseWrappedStyleSheet;
    }
}
exports.SafeStyleSheet = SafeStyleSheet;
/* istanbul ignore if */
if (false) {
    /**
     * @const {string}
     * @private
     */
    SafeStyleSheet.prototype.privateDoNotAccessOrElseWrappedStyleSheet;
}
// WARNING: interface has both a type and a value, skipping emit
/** @type {function(new:SafeStyleSheet, !Object, string)} */
const StyleSheetImpl = (/** @type {function(new:SafeStyleSheet, !Object, string)} */ (SafeStyleSheet));
/**
 * Builds a new `SafeStyleSheet` from the given string, without enforcing
 * safety guarantees. This shouldn't be exposed to application developers, and
 * must only be used as a step towards safe builders or safe constants.
 * @param {string} value
 * @return {!SafeStyleSheet}
 */
function createStyleSheetInternal(value) {
    return new StyleSheetImpl(secrets_1.secretToken, value);
}
exports.createStyleSheetInternal = createStyleSheetInternal;
/**
 * Checks if the given value is a `SafeStyleSheet` instance.
 * @param {*} value
 * @return {boolean}
 */
function isStyleSheet(value) {
    return value instanceof SafeStyleSheet;
}
exports.isStyleSheet = isStyleSheet;
/**
 * Returns the string value of the passed `SafeStyleSheet` object while ensuring it
 * has the correct type.
 * @param {!SafeStyleSheet} value
 * @return {string}
 */
function unwrapStyleSheet(value) {
    if (isStyleSheet(value)) {
        return ((/** @type {?} */ ((/** @type {*} */ (value)))))
            .privateDoNotAccessOrElseWrappedStyleSheet;
    }
    /** @type {string} */
    let message = '';
    if (dev_1.DEV_MODE) {
        message = `Unexpected type when unwrapping SafeStyleSheet, got '${value}' of type '${typeof value}'`;
    }
    throw new Error(message);
}
exports.unwrapStyleSheet = unwrapStyleSheet;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3R5bGVfc2hlZXRfaW1wbC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL3RoaXJkX3BhcnR5L2phdmFzY3JpcHQvc2FmZXZhbHVlcy9pbnRlcm5hbHMvc3R5bGVfc2hlZXRfaW1wbC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVFBLHdGQUE0QztBQUU1Qyw4RkFBMEQ7Ozs7O0FBTTFELE1BQWEsY0FBYzs7Ozs7O0lBR3pCLFlBQW9CLEtBQWEsRUFBRSxLQUFhO1FBQzlDLElBQUksY0FBUSxFQUFFLENBQUM7WUFDYixJQUFBLDRCQUFrQixFQUFDLEtBQUssQ0FBQyxDQUFDO1FBQzVCLENBQUM7UUFFRCxJQUFJLENBQUMseUNBQXlDLEdBQUcsS0FBSyxDQUFDO0lBQ3pELENBQUM7Ozs7O0lBRUQsUUFBUTtRQUNOLE9BQU8sSUFBSSxDQUFDLHlDQUF5QyxDQUFDO0lBQ3hELENBQUM7Q0FDRjtBQWRELHdDQWNDOzs7Ozs7O0lBYkMsbUVBQW1FOzs7O01Ba0IvRCxjQUFjLEdBQUcsK0RBQUEsY0FBYyxFQUVwQzs7Ozs7Ozs7QUFPRCxTQUFnQix3QkFBd0IsQ0FBQyxLQUFhO0lBQ3BELE9BQU8sSUFBSSxjQUFjLENBQUMscUJBQVcsRUFBRSxLQUFLLENBQUMsQ0FBQztBQUNoRCxDQUFDO0FBRkQsNERBRUM7Ozs7OztBQUtELFNBQWdCLFlBQVksQ0FBQyxLQUFjO0lBQ3pDLE9BQU8sS0FBSyxZQUFZLGNBQWMsQ0FBQztBQUN6QyxDQUFDO0FBRkQsb0NBRUM7Ozs7Ozs7QUFNRCxTQUFnQixnQkFBZ0IsQ0FBQyxLQUFxQjtJQUNwRCxJQUFJLFlBQVksQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDO1FBQ3hCLE9BQU8sQ0FBQyxtQkFBQSxtQkFBQSxLQUFLLEVBQVcsRUFBa0IsQ0FBQzthQUN4Qyx5Q0FBeUMsQ0FBQztJQUMvQyxDQUFDOztRQUNHLE9BQU8sR0FBRyxFQUFFO0lBQ2hCLElBQUksY0FBUSxFQUFFLENBQUM7UUFDYixPQUFPLEdBQUcsd0RBQXdELEtBQUssY0FBYyxPQUFPLEtBQUssR0FBRyxDQUFDO0lBQ3ZHLENBQUM7SUFDRCxNQUFNLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0FBQzNCLENBQUM7QUFWRCw0Q0FVQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbi8qKiBAZmlsZW92ZXJ2aWV3IEludGVybmFsIGltcGxlbWVudGF0aW9ucyBvZiBTYWZlU3R5bGVTaGVldC4gKi9cblxuaW1wb3J0IHtERVZfTU9ERX0gZnJvbSAnLi4vZW52aXJvbm1lbnQvZGV2JztcblxuaW1wb3J0IHtlbnN1cmVUb2tlbklzVmFsaWQsIHNlY3JldFRva2VufSBmcm9tICcuL3NlY3JldHMnO1xuXG4vKipcbiAqIEEgY29tcGxldGUgQ1NTIHN0eWxlIHNoZWV0LCBzYWZlIHRvIHVzZSBpbiBzdHlsZSBjb250ZXh0cyBpbiBhbiBIVE1MXG4gKiBkb2N1bWVudCBvciBET00gQVBJcy5cbiAqL1xuZXhwb3J0IGNsYXNzIFNhZmVTdHlsZVNoZWV0IHtcbiAgcHJpdmF0ZSByZWFkb25seSBwcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2VXcmFwcGVkU3R5bGVTaGVldDogc3RyaW5nO1xuXG4gIHByaXZhdGUgY29uc3RydWN0b3IodG9rZW46IG9iamVjdCwgdmFsdWU6IHN0cmluZykge1xuICAgIGlmIChERVZfTU9ERSkge1xuICAgICAgZW5zdXJlVG9rZW5Jc1ZhbGlkKHRva2VuKTtcbiAgICB9XG5cbiAgICB0aGlzLnByaXZhdGVEb05vdEFjY2Vzc09yRWxzZVdyYXBwZWRTdHlsZVNoZWV0ID0gdmFsdWU7XG4gIH1cblxuICB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLnByaXZhdGVEb05vdEFjY2Vzc09yRWxzZVdyYXBwZWRTdHlsZVNoZWV0O1xuICB9XG59XG5cbmludGVyZmFjZSBTdHlsZVNoZWV0SW1wbCB7XG4gIHByaXZhdGVEb05vdEFjY2Vzc09yRWxzZVdyYXBwZWRTdHlsZVNoZWV0OiBzdHJpbmc7XG59XG5jb25zdCBTdHlsZVNoZWV0SW1wbCA9IFNhZmVTdHlsZVNoZWV0IGFzIHtcbiAgbmV3ICh0b2tlbjogb2JqZWN0LCB2YWx1ZTogc3RyaW5nKTogU2FmZVN0eWxlU2hlZXQ7XG59O1xuXG4vKipcbiAqIEJ1aWxkcyBhIG5ldyBgU2FmZVN0eWxlU2hlZXRgIGZyb20gdGhlIGdpdmVuIHN0cmluZywgd2l0aG91dCBlbmZvcmNpbmdcbiAqIHNhZmV0eSBndWFyYW50ZWVzLiBUaGlzIHNob3VsZG4ndCBiZSBleHBvc2VkIHRvIGFwcGxpY2F0aW9uIGRldmVsb3BlcnMsIGFuZFxuICogbXVzdCBvbmx5IGJlIHVzZWQgYXMgYSBzdGVwIHRvd2FyZHMgc2FmZSBidWlsZGVycyBvciBzYWZlIGNvbnN0YW50cy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVN0eWxlU2hlZXRJbnRlcm5hbCh2YWx1ZTogc3RyaW5nKTogU2FmZVN0eWxlU2hlZXQge1xuICByZXR1cm4gbmV3IFN0eWxlU2hlZXRJbXBsKHNlY3JldFRva2VuLCB2YWx1ZSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBhIGBTYWZlU3R5bGVTaGVldGAgaW5zdGFuY2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1N0eWxlU2hlZXQodmFsdWU6IHVua25vd24pOiB2YWx1ZSBpcyBTYWZlU3R5bGVTaGVldCB7XG4gIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFNhZmVTdHlsZVNoZWV0O1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIHN0cmluZyB2YWx1ZSBvZiB0aGUgcGFzc2VkIGBTYWZlU3R5bGVTaGVldGAgb2JqZWN0IHdoaWxlIGVuc3VyaW5nIGl0XG4gKiBoYXMgdGhlIGNvcnJlY3QgdHlwZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVud3JhcFN0eWxlU2hlZXQodmFsdWU6IFNhZmVTdHlsZVNoZWV0KTogc3RyaW5nIHtcbiAgaWYgKGlzU3R5bGVTaGVldCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gKHZhbHVlIGFzIHVua25vd24gYXMgU3R5bGVTaGVldEltcGwpXG4gICAgICAucHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlV3JhcHBlZFN0eWxlU2hlZXQ7XG4gIH1cbiAgbGV0IG1lc3NhZ2UgPSAnJztcbiAgaWYgKERFVl9NT0RFKSB7XG4gICAgbWVzc2FnZSA9IGBVbmV4cGVjdGVkIHR5cGUgd2hlbiB1bndyYXBwaW5nIFNhZmVTdHlsZVNoZWV0LCBnb3QgJyR7dmFsdWV9JyBvZiB0eXBlICcke3R5cGVvZiB2YWx1ZX0nYDtcbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG59XG4iXX0=
;return exports;});

//third_party/javascript/safevalues/builders/style_sheet_builders.closure.js
goog.loadModule(function(exports) {'use strict';/**
 * @license
 * Copyright Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
/**
 * @fileoverview added by tsickle
 * Generated from: third_party/javascript/safevalues/builders/style_sheet_builders.ts
 * @suppress {checkTypes} added by tsickle
 * @suppress {extraRequire} added by tsickle
 * @suppress {missingRequire} added by tsickle
 * @suppress {uselessCode} added by tsickle
 * @suppress {suspiciousCode} added by tsickle
 * @suppress {missingReturn} added by tsickle
 * @suppress {unusedPrivateMembers} added by tsickle
 * @suppress {missingOverride} added by tsickle
 * @suppress {const} added by tsickle
 */
goog.module('google3.third_party.javascript.safevalues.builders.style_sheet_builders');
var module = module || { id: 'third_party/javascript/safevalues/builders/style_sheet_builders.closure.js' };
goog.require('google3.third_party.javascript.tslib.tslib');
const tsickle_dev_1 = goog.requireType("google3.third_party.javascript.safevalues.environment.dev");
const tsickle_string_literal_2 = goog.requireType("google3.third_party.javascript.safevalues.internals.string_literal");
const tsickle_style_impl_3 = goog.requireType("google3.third_party.javascript.safevalues.internals.style_impl");
const tsickle_style_sheet_impl_4 = goog.requireType("google3.third_party.javascript.safevalues.internals.style_sheet_impl");
const dev_1 = goog.require('google3.third_party.javascript.safevalues.environment.dev');
const string_literal_1 = goog.require('google3.third_party.javascript.safevalues.internals.string_literal');
// LINE-INTERNAL
const style_sheet_impl_1 = goog.require('google3.third_party.javascript.safevalues.internals.style_sheet_impl');
/** @typedef {(string|number|boolean)} */
var Primitive;
/**
 * Creates a SafeStyleSheet object from a template literal, representing a
 * single CSSStyleRule.
 * This builder parses the CSSStyleRule using browser APIs and serializes it
 * back to a string. This may change the string representation of the
 * stylesheet.
 *
 * This function is a template literal tag function. It should be called with
 * a template literal. For example,
 *                         safeStyleRule`.foo {}`.
 * @param {!TemplateStringsArray} templateObj
 * @param {...(string|number|boolean|!tsickle_style_impl_3.SafeStyle)} rest
 * @return {(undefined|!tsickle_style_sheet_impl_4.SafeStyleSheet)} A SafeStyleSheet object for the CSSStyleRule if successfuly parsed,
 *     undefined otherwise.
 */
function safeStyleRule(templateObj, ...rest) {
    if (dev_1.DEV_MODE) {
        (0, string_literal_1.assertIsTemplateObject)(templateObj, rest.length);
    }
    /** @type {string} */
    let stringifiedRule = templateObj[0];
    for (let i = 0; i < templateObj.length - 1; i++) {
        stringifiedRule += String(rest[i]);
        stringifiedRule += templateObj[i + 1];
    }
    // TODO(gweg): use the CSSStyleSheet API when it has broader browser support.
    /** @type {!Document} */
    const doc = document.implementation.createHTMLDocument('');
    /** @type {!HTMLStyleElement} */
    const styleEl = doc.createElement('style');
    doc.head.appendChild(styleEl);
    /** @type {!CSSStyleSheet} */
    const styleSheet = (/** @type {!CSSStyleSheet} */ (styleEl.sheet));
    styleSheet.insertRule(stringifiedRule, 0);
    if (styleSheet.cssRules.length !== 1) {
        if (dev_1.DEV_MODE) {
            throw new Error('safeStyleRule can be used to construct only 1 CSSStyleRule at a time. Use the concatStyle function to create sheet with several rules. Tried to parse: ' +
                stringifiedRule +
                `which has ${styleSheet.cssRules.length} rules: ${styleSheet.cssRules[0].cssText} #$% ${styleSheet.cssRules[1].cssText}.`);
        }
        return undefined;
    }
    /** @type {!CSSRule} */
    const styleSheetRule = styleSheet.cssRules[0];
    if (!(styleSheetRule instanceof CSSStyleRule)) {
        if (dev_1.DEV_MODE) {
            throw new Error('safeStyleRule can be used to construct a CSSStyleRule. @-rules should be constructed with the safeStyleSheet builder. Tried to parse: ' +
                stringifiedRule);
        }
        return undefined;
    }
    /** @type {string} */
    const styleSheetValue = (/** @type {!CSSStyleRule} */ (styleSheetRule)).cssText;
    return (0, style_sheet_impl_1.createStyleSheetInternal)(styleSheetValue.replace(/</g, '\\3C '));
}
exports.safeStyleRule = safeStyleRule;
// END-INTERNAL
/**
 * Creates a SafeStyleSheet object from a template literal (without any
 * embedded expressions).
 *
 * This function is a template literal tag function. It should be called with
 * a template literal that does not contain any expressions. For example,
 *                         safeStyleSheet`foo`;
 * The argument must not have any < or > characters in it. This is so that
 * SafeStyleSheet's contract is preserved, allowing the SafeStyleSheet to
 * correctly be interpreted as a sequence of CSS declarations and without
 * affecting the syntactic structure of any surrounding CSS and HTML.
 *
 * @param {!TemplateStringsArray} templateObj This contains the literal part of the template literal.
 * @return {!tsickle_style_sheet_impl_4.SafeStyleSheet}
 */
function safeStyleSheet(templateObj) {
    if (dev_1.DEV_MODE) {
        (0, string_literal_1.assertIsTemplateObject)(templateObj, 0);
    }
    /** @type {string} */
    const styleSheet = templateObj[0];
    if (dev_1.DEV_MODE) {
        if (/</.test(styleSheet)) {
            throw new Error(`'<' character is forbidden in styleSheet string: ${styleSheet}`);
        }
    }
    return (0, style_sheet_impl_1.createStyleSheetInternal)(styleSheet);
}
exports.safeStyleSheet = safeStyleSheet;
/**
 * Creates a `SafeStyleSheet` value by concatenating multiple
 * `SafeStyleSheet`s.
 * @param {!ReadonlyArray<!tsickle_style_sheet_impl_4.SafeStyleSheet>} sheets
 * @return {!tsickle_style_sheet_impl_4.SafeStyleSheet}
 */
function concatStyleSheets(sheets) {
    return (0, style_sheet_impl_1.createStyleSheetInternal)(sheets.map(style_sheet_impl_1.unwrapStyleSheet).join(''));
}
exports.concatStyleSheets = concatStyleSheets;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3R5bGVfc2hlZXRfYnVpbGRlcnMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi90aGlyZF9wYXJ0eS9qYXZhc2NyaXB0L3NhZmV2YWx1ZXMvYnVpbGRlcnMvc3R5bGVfc2hlZXRfYnVpbGRlcnMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU1BLHdGQUE0QztBQUM1Qyw0R0FBbUU7O0FBRW5FLGdIQUl1Qzs7QUFHdkMsY0FBMkM7Ozs7Ozs7Ozs7Ozs7Ozs7QUFlM0MsU0FBZ0IsYUFBYSxDQUMzQixXQUFpQyxFQUNqQyxHQUFHLElBQWtDO0lBRXJDLElBQUksY0FBUSxFQUFFLENBQUM7UUFDYixJQUFBLHVDQUFzQixFQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDbkQsQ0FBQzs7UUFDRyxlQUFlLEdBQUcsV0FBVyxDQUFDLENBQUMsQ0FBQztJQUNwQyxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsV0FBVyxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQztRQUNoRCxlQUFlLElBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ25DLGVBQWUsSUFBSSxXQUFXLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBQ3hDLENBQUM7OztVQUdLLEdBQUcsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLGtCQUFrQixDQUFDLEVBQUUsQ0FBQzs7VUFDcEQsT0FBTyxHQUFHLEdBQUcsQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDO0lBQzFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxDQUFDOztVQUN4QixVQUFVLEdBQUcsZ0NBQUEsT0FBTyxDQUFDLEtBQUssRUFBaUI7SUFFakQsVUFBVSxDQUFDLFVBQVUsQ0FBQyxlQUFlLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDMUMsSUFBSSxVQUFVLENBQUMsUUFBUSxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUUsQ0FBQztRQUNyQyxJQUFJLGNBQVEsRUFBRSxDQUFDO1lBQ2IsTUFBTSxJQUFJLEtBQUssQ0FDYix5SkFBeUo7Z0JBQ3ZKLGVBQWU7Z0JBQ2YsYUFBYSxVQUFVLENBQUMsUUFBUSxDQUFDLE1BQU0sV0FBVyxVQUFVLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sUUFBUSxVQUFVLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sR0FBRyxDQUM1SCxDQUFDO1FBQ0osQ0FBQztRQUNELE9BQU8sU0FBUyxDQUFDO0lBQ25CLENBQUM7O1VBQ0ssY0FBYyxHQUFHLFVBQVUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO0lBQzdDLElBQUksQ0FBQyxDQUFDLGNBQWMsWUFBWSxZQUFZLENBQUMsRUFBRSxDQUFDO1FBQzlDLElBQUksY0FBUSxFQUFFLENBQUM7WUFDYixNQUFNLElBQUksS0FBSyxDQUNiLHdJQUF3STtnQkFDdEksZUFBZSxDQUNsQixDQUFDO1FBQ0osQ0FBQztRQUNELE9BQU8sU0FBUyxDQUFDO0lBQ25CLENBQUM7O1VBQ0ssZUFBZSxHQUFHLCtCQUFBLGNBQWMsRUFBQSxDQUFDLE9BQU87SUFDOUMsT0FBTyxJQUFBLDJDQUF3QixFQUFDLGVBQWUsQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLE9BQU8sQ0FBQyxDQUFDLENBQUM7QUFDMUUsQ0FBQztBQTFDRCxzQ0EwQ0M7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBaUJELFNBQWdCLGNBQWMsQ0FDNUIsV0FBaUM7SUFFakMsSUFBSSxjQUFRLEVBQUUsQ0FBQztRQUNiLElBQUEsdUNBQXNCLEVBQUMsV0FBVyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3pDLENBQUM7O1VBRUssVUFBVSxHQUFHLFdBQVcsQ0FBQyxDQUFDLENBQUM7SUFDakMsSUFBSSxjQUFRLEVBQUUsQ0FBQztRQUNiLElBQUksR0FBRyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDO1lBQ3pCLE1BQU0sSUFBSSxLQUFLLENBQ2Isb0RBQW9ELFVBQVUsRUFBRSxDQUNqRSxDQUFDO1FBQ0osQ0FBQztJQUNILENBQUM7SUFFRCxPQUFPLElBQUEsMkNBQXdCLEVBQUMsVUFBVSxDQUFDLENBQUM7QUFDOUMsQ0FBQztBQWpCRCx3Q0FpQkM7Ozs7Ozs7QUFNRCxTQUFnQixpQkFBaUIsQ0FDL0IsTUFBaUM7SUFFakMsT0FBTyxJQUFBLDJDQUF3QixFQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsbUNBQWdCLENBQUMsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztBQUN6RSxDQUFDO0FBSkQsOENBSUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG5pbXBvcnQge0RFVl9NT0RFfSBmcm9tICcuLi9lbnZpcm9ubWVudC9kZXYnO1xuaW1wb3J0IHthc3NlcnRJc1RlbXBsYXRlT2JqZWN0fSBmcm9tICcuLi9pbnRlcm5hbHMvc3RyaW5nX2xpdGVyYWwnO1xuaW1wb3J0IHtTYWZlU3R5bGV9IGZyb20gJy4uL2ludGVybmFscy9zdHlsZV9pbXBsJzsgLy8gTElORS1JTlRFUk5BTFxuaW1wb3J0IHtcbiAgY3JlYXRlU3R5bGVTaGVldEludGVybmFsLFxuICBTYWZlU3R5bGVTaGVldCxcbiAgdW53cmFwU3R5bGVTaGVldCxcbn0gZnJvbSAnLi4vaW50ZXJuYWxzL3N0eWxlX3NoZWV0X2ltcGwnO1xuXG4vLyBCRUdJTi1JTlRFUk5BTFxudHlwZSBQcmltaXRpdmUgPSBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBTYWZlU3R5bGVTaGVldCBvYmplY3QgZnJvbSBhIHRlbXBsYXRlIGxpdGVyYWwsIHJlcHJlc2VudGluZyBhXG4gKiBzaW5nbGUgQ1NTU3R5bGVSdWxlLlxuICogVGhpcyBidWlsZGVyIHBhcnNlcyB0aGUgQ1NTU3R5bGVSdWxlIHVzaW5nIGJyb3dzZXIgQVBJcyBhbmQgc2VyaWFsaXplcyBpdFxuICogYmFjayB0byBhIHN0cmluZy4gVGhpcyBtYXkgY2hhbmdlIHRoZSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlXG4gKiBzdHlsZXNoZWV0LlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gaXMgYSB0ZW1wbGF0ZSBsaXRlcmFsIHRhZyBmdW5jdGlvbi4gSXQgc2hvdWxkIGJlIGNhbGxlZCB3aXRoXG4gKiBhIHRlbXBsYXRlIGxpdGVyYWwuIEZvciBleGFtcGxlLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgc2FmZVN0eWxlUnVsZWAuZm9vIHt9YC5cbiAqIEByZXR1cm4gQSBTYWZlU3R5bGVTaGVldCBvYmplY3QgZm9yIHRoZSBDU1NTdHlsZVJ1bGUgaWYgc3VjY2Vzc2Z1bHkgcGFyc2VkLFxuICogICAgIHVuZGVmaW5lZCBvdGhlcndpc2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzYWZlU3R5bGVSdWxlKFxuICB0ZW1wbGF0ZU9iajogVGVtcGxhdGVTdHJpbmdzQXJyYXksXG4gIC4uLnJlc3Q6IEFycmF5PFByaW1pdGl2ZSB8IFNhZmVTdHlsZT5cbik6IFNhZmVTdHlsZVNoZWV0IHwgdW5kZWZpbmVkIHtcbiAgaWYgKERFVl9NT0RFKSB7XG4gICAgYXNzZXJ0SXNUZW1wbGF0ZU9iamVjdCh0ZW1wbGF0ZU9iaiwgcmVzdC5sZW5ndGgpO1xuICB9XG4gIGxldCBzdHJpbmdpZmllZFJ1bGUgPSB0ZW1wbGF0ZU9ialswXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB0ZW1wbGF0ZU9iai5sZW5ndGggLSAxOyBpKyspIHtcbiAgICBzdHJpbmdpZmllZFJ1bGUgKz0gU3RyaW5nKHJlc3RbaV0pO1xuICAgIHN0cmluZ2lmaWVkUnVsZSArPSB0ZW1wbGF0ZU9ialtpICsgMV07XG4gIH1cblxuICAvLyBUT0RPKGd3ZWcpOiB1c2UgdGhlIENTU1N0eWxlU2hlZXQgQVBJIHdoZW4gaXQgaGFzIGJyb2FkZXIgYnJvd3NlciBzdXBwb3J0LlxuICBjb25zdCBkb2MgPSBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoJycpO1xuICBjb25zdCBzdHlsZUVsID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gIGRvYy5oZWFkLmFwcGVuZENoaWxkKHN0eWxlRWwpO1xuICBjb25zdCBzdHlsZVNoZWV0ID0gc3R5bGVFbC5zaGVldCBhcyBDU1NTdHlsZVNoZWV0O1xuXG4gIHN0eWxlU2hlZXQuaW5zZXJ0UnVsZShzdHJpbmdpZmllZFJ1bGUsIDApO1xuICBpZiAoc3R5bGVTaGVldC5jc3NSdWxlcy5sZW5ndGggIT09IDEpIHtcbiAgICBpZiAoREVWX01PREUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ3NhZmVTdHlsZVJ1bGUgY2FuIGJlIHVzZWQgdG8gY29uc3RydWN0IG9ubHkgMSBDU1NTdHlsZVJ1bGUgYXQgYSB0aW1lLiBVc2UgdGhlIGNvbmNhdFN0eWxlIGZ1bmN0aW9uIHRvIGNyZWF0ZSBzaGVldCB3aXRoIHNldmVyYWwgcnVsZXMuIFRyaWVkIHRvIHBhcnNlOiAnICtcbiAgICAgICAgICBzdHJpbmdpZmllZFJ1bGUgK1xuICAgICAgICAgIGB3aGljaCBoYXMgJHtzdHlsZVNoZWV0LmNzc1J1bGVzLmxlbmd0aH0gcnVsZXM6ICR7c3R5bGVTaGVldC5jc3NSdWxlc1swXS5jc3NUZXh0fSAjJCUgJHtzdHlsZVNoZWV0LmNzc1J1bGVzWzFdLmNzc1RleHR9LmAsXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG4gIGNvbnN0IHN0eWxlU2hlZXRSdWxlID0gc3R5bGVTaGVldC5jc3NSdWxlc1swXTtcbiAgaWYgKCEoc3R5bGVTaGVldFJ1bGUgaW5zdGFuY2VvZiBDU1NTdHlsZVJ1bGUpKSB7XG4gICAgaWYgKERFVl9NT0RFKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdzYWZlU3R5bGVSdWxlIGNhbiBiZSB1c2VkIHRvIGNvbnN0cnVjdCBhIENTU1N0eWxlUnVsZS4gQC1ydWxlcyBzaG91bGQgYmUgY29uc3RydWN0ZWQgd2l0aCB0aGUgc2FmZVN0eWxlU2hlZXQgYnVpbGRlci4gVHJpZWQgdG8gcGFyc2U6ICcgK1xuICAgICAgICAgIHN0cmluZ2lmaWVkUnVsZSxcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbiAgY29uc3Qgc3R5bGVTaGVldFZhbHVlID0gc3R5bGVTaGVldFJ1bGUuY3NzVGV4dDtcbiAgcmV0dXJuIGNyZWF0ZVN0eWxlU2hlZXRJbnRlcm5hbChzdHlsZVNoZWV0VmFsdWUucmVwbGFjZSgvPC9nLCAnXFxcXDNDICcpKTtcbn1cbi8vIEVORC1JTlRFUk5BTFxuXG4vKipcbiAqIENyZWF0ZXMgYSBTYWZlU3R5bGVTaGVldCBvYmplY3QgZnJvbSBhIHRlbXBsYXRlIGxpdGVyYWwgKHdpdGhvdXQgYW55XG4gKiBlbWJlZGRlZCBleHByZXNzaW9ucykuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBpcyBhIHRlbXBsYXRlIGxpdGVyYWwgdGFnIGZ1bmN0aW9uLiBJdCBzaG91bGQgYmUgY2FsbGVkIHdpdGhcbiAqIGEgdGVtcGxhdGUgbGl0ZXJhbCB0aGF0IGRvZXMgbm90IGNvbnRhaW4gYW55IGV4cHJlc3Npb25zLiBGb3IgZXhhbXBsZSxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgIHNhZmVTdHlsZVNoZWV0YGZvb2A7XG4gKiBUaGUgYXJndW1lbnQgbXVzdCBub3QgaGF2ZSBhbnkgPCBvciA+IGNoYXJhY3RlcnMgaW4gaXQuIFRoaXMgaXMgc28gdGhhdFxuICogU2FmZVN0eWxlU2hlZXQncyBjb250cmFjdCBpcyBwcmVzZXJ2ZWQsIGFsbG93aW5nIHRoZSBTYWZlU3R5bGVTaGVldCB0b1xuICogY29ycmVjdGx5IGJlIGludGVycHJldGVkIGFzIGEgc2VxdWVuY2Ugb2YgQ1NTIGRlY2xhcmF0aW9ucyBhbmQgd2l0aG91dFxuICogYWZmZWN0aW5nIHRoZSBzeW50YWN0aWMgc3RydWN0dXJlIG9mIGFueSBzdXJyb3VuZGluZyBDU1MgYW5kIEhUTUwuXG4gKlxuICogQHBhcmFtIHRlbXBsYXRlT2JqIFRoaXMgY29udGFpbnMgdGhlIGxpdGVyYWwgcGFydCBvZiB0aGUgdGVtcGxhdGUgbGl0ZXJhbC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNhZmVTdHlsZVNoZWV0KFxuICB0ZW1wbGF0ZU9iajogVGVtcGxhdGVTdHJpbmdzQXJyYXksXG4pOiBTYWZlU3R5bGVTaGVldCB7XG4gIGlmIChERVZfTU9ERSkge1xuICAgIGFzc2VydElzVGVtcGxhdGVPYmplY3QodGVtcGxhdGVPYmosIDApO1xuICB9XG5cbiAgY29uc3Qgc3R5bGVTaGVldCA9IHRlbXBsYXRlT2JqWzBdO1xuICBpZiAoREVWX01PREUpIHtcbiAgICBpZiAoLzwvLnRlc3Qoc3R5bGVTaGVldCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYCc8JyBjaGFyYWN0ZXIgaXMgZm9yYmlkZGVuIGluIHN0eWxlU2hlZXQgc3RyaW5nOiAke3N0eWxlU2hlZXR9YCxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGNyZWF0ZVN0eWxlU2hlZXRJbnRlcm5hbChzdHlsZVNoZWV0KTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgYFNhZmVTdHlsZVNoZWV0YCB2YWx1ZSBieSBjb25jYXRlbmF0aW5nIG11bHRpcGxlXG4gKiBgU2FmZVN0eWxlU2hlZXRgcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbmNhdFN0eWxlU2hlZXRzKFxuICBzaGVldHM6IHJlYWRvbmx5IFNhZmVTdHlsZVNoZWV0W10sXG4pOiBTYWZlU3R5bGVTaGVldCB7XG4gIHJldHVybiBjcmVhdGVTdHlsZVNoZWV0SW50ZXJuYWwoc2hlZXRzLm1hcCh1bndyYXBTdHlsZVNoZWV0KS5qb2luKCcnKSk7XG59XG4iXX0=
;return exports;});

//third_party/javascript/closure/debug/error.js
goog.loadModule(function(exports) {'use strict';/**
 * @license
 * Copyright The Closure Library Authors.
 * SPDX-License-Identifier: Apache-2.0
 */

/**
 * @fileoverview Provides a base class for custom Error objects such that the
 * stack is correctly maintained.
 *
 * You should never need to throw DebugError(msg) directly, Error(msg) is
 * sufficient.
 */

goog.module('goog.debug.Error');
goog.module.declareLegacyNamespace();



/**
 * Base class for custom error objects.
 * @param {*=} msg The message associated with the error.
 * @param {{
 *    message: (?|undefined),
 *    name: (?|undefined),
 *    lineNumber: (?|undefined),
 *    fileName: (?|undefined),
 *    stack: (?|undefined),
 *    cause: (?|undefined),
 * }=} cause The original error object to chain with.
 * @constructor
 * @extends {Error}
 */
function DebugError(msg = undefined, cause = undefined) {
  // Attempt to ensure there is a stack trace.
  if (Error.captureStackTrace) {
    Error.captureStackTrace(this, DebugError);
  } else {
    const stack = new Error().stack;
    if (stack) {
      /** @override @type {string} */
      this.stack = stack;
    }
  }

  if (msg) {
    /** @override @type {string} */
    this.message = String(msg);
  }

  if (cause !== undefined) {
    /** @type {?} */
    this.cause = cause;
  }

  /**
   * Whether to report this error to the server. Setting this to false will
   * cause the error reporter to not report the error back to the server,
   * which can be useful if the client knows that the error has already been
   * logged on the server.
   * @type {boolean}
   */
  this.reportErrorToServer = true;
}
goog.inherits(DebugError, Error);


/** @override @type {string} */
DebugError.prototype.name = 'CustomError';


exports = DebugError;

// MOE:begin_strip
// Ensure ES2021 inputs. go/transpile-js
null?.(6_6);
// MOE:end_strip

;return exports;});

//third_party/javascript/closure/dom/nodetype.js
/**
 * @license
 * Copyright The Closure Library Authors.
 * SPDX-License-Identifier: Apache-2.0
 */

/**
 * @fileoverview Definition of goog.dom.NodeType.
 */

goog.provide('goog.dom.NodeType');


/**
 * Constants for the nodeType attribute in the Node interface.
 *
 * These constants match those specified in the Node interface. These are
 * usually present on the Node object in recent browsers, but not in older
 * browsers (specifically, early IEs) and thus are given here.
 *
 * In some browsers (early IEs), these are not defined on the Node object,
 * so they are provided here.
 *
 * See http://www.w3.org/TR/DOM-Level-2-Core/core.html#ID-1950641247
 * @enum {number}
 */
goog.dom.NodeType = {
  ELEMENT: 1,
  ATTRIBUTE: 2,
  TEXT: 3,
  CDATA_SECTION: 4,
  ENTITY_REFERENCE: 5,
  ENTITY: 6,
  PROCESSING_INSTRUCTION: 7,
  COMMENT: 8,
  DOCUMENT: 9,
  DOCUMENT_TYPE: 10,
  DOCUMENT_FRAGMENT: 11,
  NOTATION: 12
};

// MOE:begin_strip
// Ensure ES2021 inputs. go/transpile-js
null?.(6_6);
// MOE:end_strip

//third_party/javascript/closure/asserts/asserts.js
goog.loadModule(function(exports) {'use strict';/**
 * @license
 * Copyright The Closure Library Authors.
 * SPDX-License-Identifier: Apache-2.0
 */

/**
 * @fileoverview Utilities to check the preconditions, postconditions and
 * invariants runtime.
 *
 * Methods in this package are given special treatment by the compiler
 * for type-inference. For example, <code>goog.asserts.assert(foo)</code>
 * will make the compiler treat <code>foo</code> as non-nullable. Similarly,
 * <code>goog.asserts.assertNumber(foo)</code> informs the compiler about the
 * type of <code>foo</code>. Where applicable, such assertions are preferable to
 * casts by jsdoc with <code>@type</code>.
 *
 * The compiler has an option to disable asserts. So code like:
 * <code>
 * var x = goog.asserts.assert(foo());
 * goog.asserts.assert(bar());
 * </code>
 * will be transformed into:
 * <code>
 * var x = foo();
 * </code>
 * The compiler will leave in foo() (because its return value is used),
 * but it will remove bar() because it assumes it does not have side-effects.
 *
 * Additionally, note the compiler will consider the type to be "tightened" for
 * all statements <em>after</em> the assertion. For example:
 * <code>
 * const /** ?Object &#ast;/ value = foo();
 * goog.asserts.assert(value);
 * // "value" is of type {!Object} at this point.
 * </code>
 */

goog.module('goog.asserts');
goog.module.declareLegacyNamespace();

const DebugError = goog.require('goog.debug.Error');
const NodeType = goog.require('goog.dom.NodeType');
const {ENABLE_GOOG_ASSERTS} = goog.require('google3.javascript.common.asserts.enable_goog_asserts');


// NOTE: this needs to be exported directly and referenced via the exports
// object because unit tests stub it out.
/** @type {boolean} */
exports.ENABLE_ASSERTS = ENABLE_GOOG_ASSERTS;



/**
 * Error object for failed assertions.
 * @param {string} messagePattern The pattern that was used to form message.
 * @param {!Array<*>} messageArgs The items to substitute into the pattern.
 * @constructor
 * @extends {DebugError}
 * @final
 */
function AssertionError(messagePattern, messageArgs) {
  DebugError.call(this, subs(messagePattern, messageArgs));

  /**
   * The message pattern used to format the error message. Error handlers can
   * use this to uniquely identify the assertion.
   * @type {string}
   */
  this.messagePattern = messagePattern;
}
goog.inherits(AssertionError, DebugError);
exports.AssertionError = AssertionError;

/** @override @type {string} */
AssertionError.prototype.name = 'AssertionError';


/**
 * The default error handler.
 * @param {!AssertionError} e The exception to be handled.
 * @return {void}
 */
exports.DEFAULT_ERROR_HANDLER = function(e) {
  throw e;
};


/**
 * The handler responsible for throwing or logging assertion errors.
 * @type {function(!AssertionError)}
 */
let errorHandler_ = exports.DEFAULT_ERROR_HANDLER;


/**
 * Does simple python-style string substitution.
 * subs("foo%s hot%s", "bar", "dog") becomes "foobar hotdog".
 * @param {string} pattern The string containing the pattern.
 * @param {!Array<*>} subs The items to substitute into the pattern.
 * @return {string} A copy of `str` in which each occurrence of
 *     `%s` has been replaced an argument from `var_args`.
 */
function subs(pattern, subs) {
  const splitParts = pattern.split('%s');
  let returnString = '';

  // Replace up to the last split part. We are inserting in the
  // positions between split parts.
  const subLast = splitParts.length - 1;
  for (let i = 0; i < subLast; i++) {
    // keep unsupplied as '%s'
    const sub = (i < subs.length) ? subs[i] : '%s';
    returnString += splitParts[i] + sub;
  }
  return returnString + splitParts[subLast];
}


/**
 * Throws an exception with the given message and "Assertion failed" prefixed
 * onto it.
 * @param {string} defaultMessage The message to use if givenMessage is empty.
 * @param {?Array<*>} defaultArgs The substitution arguments for defaultMessage.
 * @param {string|undefined} givenMessage Message supplied by the caller.
 * @param {!Array<*>} givenArgs The substitution arguments for givenMessage.
 * @throws {AssertionError} When the value is not a number.
 */
function doAssertFailure(defaultMessage, defaultArgs, givenMessage, givenArgs) {
  let message = 'Assertion failed';
  let args;
  if (givenMessage) {
    message += ': ' + givenMessage;
    args = givenArgs;
  } else if (defaultMessage) {
    message += ': ' + defaultMessage;
    args = defaultArgs;
  }
  // The '' + works around an Opera 10 bug in the unit tests. Without it,
  // a stack trace is added to var message above. With this, a stack trace is
  // not added until this line (it causes the extra garbage to be added after
  // the assertion message instead of in the middle of it).
  const e = new AssertionError('' + message, args || []);
  errorHandler_(e);
}


/**
 * Sets a custom error handler that can be used to customize the behavior of
 * assertion failures, for example by turning all assertion failures into log
 * messages.
 * @param {function(!AssertionError)} errorHandler
 * @return {void}
 */
exports.setErrorHandler = function(errorHandler) {
  if (exports.ENABLE_ASSERTS) {
    errorHandler_ = errorHandler;
  }
};


/**
 * Checks if the condition evaluates to true if ENABLE_ASSERTS is
 * true.
 * @template T
 * @param {T} condition The condition to check.
 * @param {string=} opt_message Error message in case of failure.
 * @param {...*} var_args The items to substitute into the failure message.
 * @return {T} The value of the condition.
 * @throws {AssertionError} When the condition evaluates to false.
 * @closurePrimitive {asserts.truthy}
 */
exports.assert = function(condition, opt_message, var_args) {
  if (exports.ENABLE_ASSERTS && !condition) {
    doAssertFailure(
        '', null, opt_message, Array.prototype.slice.call(arguments, 2));
  }
  return condition;
};


/**
 * Checks if `value` is `null` or `undefined` if goog.asserts.ENABLE_ASSERTS is
 * true.
 *
 * @param {T} value The value to check.
 * @param {string=} opt_message Error message in case of failure.
 * @param {...*} var_args The items to substitute into the failure message.
 * @return {R} `value` with its type narrowed to exclude `null` and `undefined`.
 *
 * @template T
 * @template R :=
 *     mapunion(T, (V) =>
 *         cond(eq(V, 'null'),
 *             none(),
 *             cond(eq(V, 'undefined'),
 *                 none(),
 *                 V)))
 *  =:
 *
 * @throws {!AssertionError} When `value` is `null` or `undefined`.
 * @closurePrimitive {asserts.matchesReturn}
 */
exports.assertExists = function(value, opt_message, var_args) {
  if (exports.ENABLE_ASSERTS && value == null) {
    doAssertFailure(
        'Expected to exist: %s.', [value], opt_message,
        Array.prototype.slice.call(arguments, 2));
  }
  return value;
};


/**
 * Fails if goog.asserts.ENABLE_ASSERTS is true. This function is useful in case
 * when we want to add a check in the unreachable area like switch-case
 * statement:
 *
 * <pre>
 *  switch(type) {
 *    case FOO: doSomething(); break;
 *    case BAR: doSomethingElse(); break;
 *    default: goog.asserts.fail('Unrecognized type: ' + type);
 *      // We have only 2 types - "default:" section is unreachable code.
 *  }
 * </pre>
 *
 * @param {string=} opt_message Error message in case of failure.
 * @param {...*} var_args The items to substitute into the failure message.
 * @return {void}
 * @throws {AssertionError} Failure.
 * @closurePrimitive {asserts.fail}
 */
exports.fail = function(opt_message, var_args) {
  if (exports.ENABLE_ASSERTS) {
    errorHandler_(new AssertionError(
        'Failure' + (opt_message ? ': ' + opt_message : ''),
        Array.prototype.slice.call(arguments, 1)));
  }
};


/**
 * Checks if the value is a number if goog.asserts.ENABLE_ASSERTS is true.
 * @param {*} value The value to check.
 * @param {string=} opt_message Error message in case of failure.
 * @param {...*} var_args The items to substitute into the failure message.
 * @return {number} The value, guaranteed to be a number when asserts enabled.
 * @throws {AssertionError} When the value is not a number.
 * @closurePrimitive {asserts.matchesReturn}
 */
exports.assertNumber = function(value, opt_message, var_args) {
  if (exports.ENABLE_ASSERTS && typeof value !== 'number') {
    doAssertFailure(
        'Expected number but got %s: %s.', [goog.typeOf(value), value],
        opt_message, Array.prototype.slice.call(arguments, 2));
  }
  return /** @type {number} */ (value);
};


/**
 * Checks if the value is a string if goog.asserts.ENABLE_ASSERTS is true.
 * @param {*} value The value to check.
 * @param {string=} opt_message Error message in case of failure.
 * @param {...*} var_args The items to substitute into the failure message.
 * @return {string} The value, guaranteed to be a string when asserts enabled.
 * @throws {AssertionError} When the value is not a string.
 * @closurePrimitive {asserts.matchesReturn}
 */
exports.assertString = function(value, opt_message, var_args) {
  if (exports.ENABLE_ASSERTS && typeof value !== 'string') {
    doAssertFailure(
        'Expected string but got %s: %s.', [goog.typeOf(value), value],
        opt_message, Array.prototype.slice.call(arguments, 2));
  }
  return /** @type {string} */ (value);
};


/**
 * Checks if the value is a function if goog.asserts.ENABLE_ASSERTS is true.
 * @param {*} value The value to check.
 * @param {string=} opt_message Error message in case of failure.
 * @param {...*} var_args The items to substitute into the failure message.
 * @return {!Function} The value, guaranteed to be a function when asserts
 *     enabled.
 * @throws {AssertionError} When the value is not a function.
 * @closurePrimitive {asserts.matchesReturn}
 */
exports.assertFunction = function(value, opt_message, var_args) {
  if (exports.ENABLE_ASSERTS && typeof value !== 'function') {
    doAssertFailure(
        'Expected function but got %s: %s.', [goog.typeOf(value), value],
        opt_message, Array.prototype.slice.call(arguments, 2));
  }
  return /** @type {!Function} */ (value);
};


/**
 * Checks if the value is an Object if goog.asserts.ENABLE_ASSERTS is true.
 * @param {*} value The value to check.
 * @param {string=} opt_message Error message in case of failure.
 * @param {...*} var_args The items to substitute into the failure message.
 * @return {!Object} The value, guaranteed to be a non-null object.
 * @throws {AssertionError} When the value is not an object.
 * @closurePrimitive {asserts.matchesReturn}
 */
exports.assertObject = function(value, opt_message, var_args) {
  if (exports.ENABLE_ASSERTS && !goog.isObject(value)) {
    doAssertFailure(
        'Expected object but got %s: %s.', [goog.typeOf(value), value],
        opt_message, Array.prototype.slice.call(arguments, 2));
  }
  return /** @type {!Object} */ (value);
};


/**
 * Checks if the value is an Array if ENABLE_ASSERTS is true.
 * @param {*} value The value to check.
 * @param {string=} opt_message Error message in case of failure.
 * @param {...*} var_args The items to substitute into the failure message.
 * @return {!Array<?>} The value, guaranteed to be a non-null array.
 * @throws {AssertionError} When the value is not an array.
 * @closurePrimitive {asserts.matchesReturn}
 */
exports.assertArray = function(value, opt_message, var_args) {
  if (exports.ENABLE_ASSERTS && !Array.isArray(value)) {
    doAssertFailure(
        'Expected array but got %s: %s.', [goog.typeOf(value), value],
        opt_message, Array.prototype.slice.call(arguments, 2));
  }
  return /** @type {!Array<?>} */ (value);
};


/**
 * Checks if the value is a boolean if goog.asserts.ENABLE_ASSERTS is true.
 * @param {*} value The value to check.
 * @param {string=} opt_message Error message in case of failure.
 * @param {...*} var_args The items to substitute into the failure message.
 * @return {boolean} The value, guaranteed to be a boolean when asserts are
 *     enabled.
 * @throws {AssertionError} When the value is not a boolean.
 * @closurePrimitive {asserts.matchesReturn}
 */
exports.assertBoolean = function(value, opt_message, var_args) {
  if (exports.ENABLE_ASSERTS && typeof value !== 'boolean') {
    doAssertFailure(
        'Expected boolean but got %s: %s.', [goog.typeOf(value), value],
        opt_message, Array.prototype.slice.call(arguments, 2));
  }
  return /** @type {boolean} */ (value);
};


/**
 * Checks if the value is a DOM Element if goog.asserts.ENABLE_ASSERTS is true.
 * @param {*} value The value to check.
 * @param {string=} opt_message Error message in case of failure.
 * @param {...*} var_args The items to substitute into the failure message.
 * @return {!Element} The value, likely to be a DOM Element when asserts are
 *     enabled.
 * @throws {AssertionError} When the value is not an Element.
 * @closurePrimitive {asserts.matchesReturn}
 * @deprecated Use goog.asserts.dom.assertIsElement instead.
 */
exports.assertElement = function(value, opt_message, var_args) {
  if (exports.ENABLE_ASSERTS &&
      (!goog.isObject(value) ||
       /** @type {!Node} */ (value).nodeType != NodeType.ELEMENT)) {
    doAssertFailure(
        'Expected Element but got %s: %s.', [goog.typeOf(value), value],
        opt_message, Array.prototype.slice.call(arguments, 2));
  }
  return /** @type {!Element} */ (value);
};


/**
 * Checks if the value is an instance of the user-defined type if
 * goog.asserts.ENABLE_ASSERTS is true.
 *
 * The compiler may tighten the type returned by this function.
 *
 * Do not use this to ensure a value is an HTMLElement or a subclass! Cross-
 * document DOM inherits from separate - though identical - browser classes, and
 * such a check will unexpectedly fail. Please use the methods in
 * goog.asserts.dom for these purposes.
 *
 * @param {?} value The value to check.
 * @param {function(new: T, ...)} type A user-defined constructor.
 * @param {string=} opt_message Error message in case of failure.
 * @param {...*} var_args The items to substitute into the failure message.
 * @throws {AssertionError} When the value is not an instance of
 *     type.
 * @return {T}
 * @template T
 * @closurePrimitive {asserts.matchesReturn}
 */
exports.assertInstanceof = function(value, type, opt_message, var_args) {
  if (exports.ENABLE_ASSERTS && !(value instanceof type)) {
    doAssertFailure(
        'Expected instanceof %s but got %s.', [getType(type), getType(value)],
        opt_message, Array.prototype.slice.call(arguments, 3));
  }
  return value;
};


/**
 * Checks whether the value is a finite number, if ENABLE_ASSERTS
 * is true.
 *
 * @param {*} value The value to check.
 * @param {string=} opt_message Error message in case of failure.
 * @param {...*} var_args The items to substitute into the failure message.
 * @throws {AssertionError} When the value is not a number, or is
 *     a non-finite number such as NaN, Infinity or -Infinity.
 * @return {number} The value initially passed in.
 */
exports.assertFinite = function(value, opt_message, var_args) {
  if (exports.ENABLE_ASSERTS &&
      (typeof value != 'number' || !isFinite(value))) {
    doAssertFailure(
        'Expected %s to be a finite number but it is not.', [value],
        opt_message, Array.prototype.slice.call(arguments, 2));
  }
  return /** @type {number} */ (value);
};

/**
 * Returns the type of a value. If a constructor is passed, and a suitable
 * string cannot be found, 'unknown type name' will be returned.
 * @param {*} value A constructor, object, or primitive.
 * @return {string} The best display name for the value, or 'unknown type name'.
 */
function getType(value) {
  if (value instanceof Function) {
    return value.displayName || value.name || 'unknown type name';
  } else if (value instanceof Object) {
    return /** @type {string} */ (value.constructor.displayName) ||
        value.constructor.name || Object.prototype.toString.call(value);
  } else {
    return value === null ? 'null' : typeof value;
  }
}

;return exports;});

//third_party/javascript/closure/string/const.js
/**
 * @license
 * Copyright The Closure Library Authors.
 * SPDX-License-Identifier: Apache-2.0
 */

goog.provide('goog.string.Const');

goog.require('goog.asserts');



/**
 * Wrapper for compile-time-constant strings.
 *
 * Const is a wrapper for strings that can only be created from program
 * constants (i.e., string literals).  This property relies on a custom Closure
 * compiler check that `goog.string.Const.from` is only invoked on
 * compile-time-constant expressions.
 *
 * Const is useful in APIs whose correct and secure use requires that certain
 * arguments are not attacker controlled: Compile-time constants are inherently
 * under the control of the application and not under control of external
 * attackers, and hence are safe to use in such contexts.
 *
 * Instances of this type must be created via its factory method
 * `goog.string.Const.from` and not by invoking its constructor.  The
 * constructor intentionally takes no parameters and the type is immutable;
 * hence only a default instance corresponding to the empty string can be
 * obtained via constructor invocation.  Use goog.string.Const.EMPTY
 * instead of using this constructor to get an empty Const string.
 *
 * @see goog.string.Const#from
 * @constructor
 * @final
 * @struct
 * @param {Object=} opt_token package-internal implementation detail.
 * @param {string=} opt_content package-internal implementation detail.
 *
 * @deprecated Enforcing literalness of values created with this class is
 *     expensive for the compiler to do & this feature will get removed soon.
 *     If you're using APIs from closure, please migrate to safevalues instead
 *     (see go/lsc-closure-safevalues).
 *     If you're using `Const` in your own APIs and want to keep ensuring that
 *     values passed to it are literal, you can use tagged template literals &
 *     a custom type to achieve the same result, otherwise please migrate your
 *     code to use plain strings directly.
 */
goog.string.Const = function(opt_token, opt_content) {
  'use strict';
  /**
   * The wrapped value of this Const object.  The field has a purposely ugly
   * name to make (non-compiled) code that attempts to directly access this
   * field stand out.
   * @private {string}
   */
  this.stringConstValueWithSecurityContract__googStringSecurityPrivate_ =
      ((opt_token ===
        goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_) &&
       opt_content) ||
      '';

  /**
   * A type marker used to implement additional run-time type checking.
   * @see goog.string.Const#unwrap
   * @const {!Object}
   * @private
   */
  this.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_ =
      goog.string.Const.TYPE_MARKER_;
};


/**
 * Returns this Const's value as a string.
 *
 * IMPORTANT: In code where it is security-relevant that an object's type is
 * indeed `goog.string.Const`, use `goog.string.Const.unwrap`
 * instead of this method.
 *
 * @see goog.string.Const#unwrap
 * @override
 * @return {string}
 */
goog.string.Const.prototype.toString = function() {
  'use strict';
  return this.stringConstValueWithSecurityContract__googStringSecurityPrivate_;
};


/**
 * Performs a runtime check that the provided object is indeed an instance
 * of `goog.string.Const`, and returns its value.
 * @param {!goog.string.Const} stringConst The object to extract from.
 * @return {string} The Const object's contained string, unless the run-time
 *     type check fails. In that case, `unwrap` returns an innocuous
 *     string, or, if assertions are enabled, throws
 *     `goog.asserts.AssertionError`.
 *
 * @deprecated Enforcing literalness of values created with this class is
 *     expensive for the compiler to do & this feature will get removed soon.
 *     If you're using APIs from closure, please migrate to safevalues instead
 *     (see go/lsc-closure-safevalues).
 *     If you're using `Const` in your own APIs and want to keep ensuring that
 *     values passed to it are literal, you can use tagged template literals &
 *     a custom type to achieve the same result, otherwise please migrate your
 *     code to use plain strings directly.
 */
goog.string.Const.unwrap = function(stringConst) {
  'use strict';
  // Perform additional run-time type-checking to ensure that stringConst is
  // indeed an instance of the expected type.  This provides some additional
  // protection against security bugs due to application code that disables type
  // checks.
  if (stringConst instanceof goog.string.Const &&
      stringConst.constructor === goog.string.Const &&
      stringConst.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_ ===
          goog.string.Const.TYPE_MARKER_) {
    return stringConst
        .stringConstValueWithSecurityContract__googStringSecurityPrivate_;
  } else {
    goog.asserts.fail(
        'expected object of type Const, got \'' + stringConst + '\'');
    return 'type_error:Const';
  }
};


/**
 * Creates a Const object from a compile-time constant string.
 *
 * It is illegal to invoke this function on an expression whose
 * compile-time-constant value cannot be determined by the Closure compiler.
 *
 * Correct invocations include,
 * <pre>
 *   var s = goog.string.Const.from('hello');
 *   var t = goog.string.Const.from('hello' + 'world');
 * </pre>
 *
 * In contrast, the following are illegal:
 * <pre>
 *   var s = goog.string.Const.from(getHello());
 *   var t = goog.string.Const.from('hello' + world);
 * </pre>
 *
 * @param {string} s A constant string from which to create a Const.
 * @return {!goog.string.Const} A Const object initialized to stringConst.
 *
 * @deprecated Enforcing literalness of values created with this class is
 *     expensive for the compiler to do & this feature will get removed soon.
 *     If you're using APIs from closure, please migrate to safevalues instead
 *     (see go/lsc-closure-safevalues).
 *     If you're using `Const` in your own APIs and want to keep ensuring that
 *     values passed to it are literal, you can use tagged template literals &
 *     a custom type to achieve the same result, otherwise please migrate your
 *     code to use plain strings directly.
 */
goog.string.Const.from = function(s) {
  'use strict';
  return new goog.string.Const(
      goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_, s);
};

/**
 * Type marker for the Const type, used to implement additional run-time
 * type checking.
 * @const {!Object}
 * @private
 */
goog.string.Const.TYPE_MARKER_ = {};

/**
 * @type {!Object}
 * @private
 * @const
 */
goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_ = {};

/**
 * A Const instance wrapping the empty string.
 * @const {!goog.string.Const}
 */
goog.string.Const.EMPTY = goog.string.Const.from('');

//third_party/javascript/closure/html/trustedresourceurl.js
/**
 * @license
 * Copyright The Closure Library Authors.
 * SPDX-License-Identifier: Apache-2.0
 */

/**
 * @fileoverview The TrustedResourceUrl type and its builders.
 *
 * TODO(xtof): Link to document stating type contract.
 */

goog.provide('goog.html.TrustedResourceUrl');

goog.require('goog.asserts');
goog.require('goog.html.trustedtypes');
goog.require('goog.string.Const');



/**
 * A URL which is under application control and from which script, CSS, and
 * other resources that represent executable code, can be fetched.
 *
 * Given that the URL can only be constructed from strings under application
 * control and is used to load resources, bugs resulting in a malformed URL
 * should not have a security impact and are likely to be easily detectable
 * during testing. Given the wide number of non-RFC compliant URLs in use,
 * stricter validation could prevent some applications from being able to use
 * this type.
 *
 * Instances of this type must be created via the factory method,
 * (`fromConstant`, `fromConstants`, `format` or `formatWithParams`), and not by
 * invoking its constructor. The constructor intentionally takes an extra
 * parameter that cannot be constructed outside of this file and the type is
 * immutable; hence only a default instance corresponding to the empty string
 * can be obtained via constructor invocation.
 *
 * Creating TrustedResourceUrl objects HAS SIDE-EFFECTS due to calling
 * Trusted Types Web API.
 *
 * @see goog.html.TrustedResourceUrl#fromConstant
 * @final
 * @struct
 */
goog.html.TrustedResourceUrl = class {
  /**
   * @private
   * @param {!TrustedScriptURL|string} value
   * @param {!Object} token package-internal implementation detail.
   */
  constructor(value, token) {
    if (goog.DEBUG &&
        token !== goog.html.TrustedResourceUrl.CONSTRUCTOR_TOKEN_PRIVATE_) {
      throw Error('TrustedResourceUrl is not meant to be built directly');
    }

    /**
     * The contained value of this TrustedResourceUrl.  The field has a
     * purposely ugly name to make (non-compiled) code that attempts to directly
     * access this field stand out.
     * @const
     * @private {!TrustedScriptURL|string}
     */
    this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_ = value;
  }

  /**
   * Returns a string-representation of this value.
   *
   * To obtain the actual string value wrapped in a TrustedResourceUrl, use
   * `goog.html.TrustedResourceUrl.unwrap`.
   *
   * @return {string}
   * @see goog.html.TrustedResourceUrl#unwrap
   * @override
   */
  toString() {
    return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_ + '';
  }
};


/**
 * Creates a new TrustedResourceUrl with params added to URL. Both search and
 * hash params can be specified.
 *
 * @param {string|?Object<string, *>|undefined} searchParams Search parameters
 *     to add to URL. See goog.html.TrustedResourceUrl.stringifyParams_ for
 *     exact format definition.
 * @param {(string|?Object<string, *>)=} opt_hashParams Hash parameters to add
 *     to URL. See goog.html.TrustedResourceUrl.stringifyParams_ for exact
 *     format definition.
 * @return {!goog.html.TrustedResourceUrl} New TrustedResourceUrl with params.
 * @deprecated Use `safevalues.appendParams` and `safevalues.replaceFragment`
 *     instead.
 */
goog.html.TrustedResourceUrl.prototype.cloneWithParams = function(
    searchParams, opt_hashParams) {
  'use strict';
  return goog.html.TrustedResourceUrl.cloneWithParams(
      this, searchParams, opt_hashParams);
};

/**
 * Creates a new TrustedResourceUrl with params added to URL. Both search
 * and hash params can be specified.
 *
 * @param {!goog.html.TrustedResourceUrl} url The url to clone
 * @param {string|?Object<string, *>|undefined} searchParams Search
 *     parameters to add to URL. See
 *     goog.html.TrustedResourceUrl.stringifyParams_ for exact format
 *     definition.
 * @param {(string|?Object<string, *>)=} opt_hashParams Hash parameters to
 *     add to URL. See goog.html.TrustedResourceUrl.stringifyParams_ for
 *     exact format definition.
 * @return {!goog.html.TrustedResourceUrl} New TrustedResourceUrl with
 *     params.
 * @deprecated Use `safevalues.appendParams` and
 *     `safevalues.replaceFragment` instead.
 */
goog.html.TrustedResourceUrl.cloneWithParams = function(
    url, searchParams, opt_hashParams) {
  'use strict';
  const urlString = goog.html.TrustedResourceUrl.unwrap(url);
  const parts = goog.html.TrustedResourceUrl.URL_PARAM_PARSER_.exec(urlString);
  const urlBase = parts[1];
  const urlSearch = parts[2] || '';
  const urlHash = parts[3] || '';

  return goog.html.TrustedResourceUrl
      .createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(
          urlBase +
          goog.html.TrustedResourceUrl.stringifyParams_(
              '?', urlSearch, searchParams) +
          goog.html.TrustedResourceUrl.stringifyParams_(
              '#', urlHash, opt_hashParams));
};

/**
 * Performs a runtime check that the provided object is indeed a
 * TrustedResourceUrl object, and returns its value.
 *
 * @param {!goog.html.TrustedResourceUrl} trustedResourceUrl The object to
 *     extract from.
 * @return {string} The trustedResourceUrl object's contained string, unless
 *     the run-time type check fails. In that case, `unwrap` returns an
 *     innocuous string, or, if assertions are enabled, throws
 *     `goog.asserts.AssertionError`.
 * @deprecated Use `safevalues.unwrapResourceUrl` and `toString()` instead
 */
goog.html.TrustedResourceUrl.unwrap = function(trustedResourceUrl) {
  'use strict';
  return goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(trustedResourceUrl)
      .toString();
};


/**
 * Unwraps value as TrustedScriptURL if supported or as a string if not.
 * @param {!goog.html.TrustedResourceUrl} trustedResourceUrl
 * @return {!TrustedScriptURL|string}
 * @see goog.html.TrustedResourceUrl.unwrap
 * @deprecated Use `safevalues.unwrapResourceUrl` instead.
 */
goog.html.TrustedResourceUrl.unwrapTrustedScriptURL = function(
    trustedResourceUrl) {
  'use strict';
  // Perform additional Run-time type-checking to ensure that
  // trustedResourceUrl is indeed an instance of the expected type.  This
  // provides some additional protection against security bugs due to
  // application code that disables type checks.
  // Specifically, the following checks are performed:
  // 1. The object is an instance of the expected type.
  // 2. The object is not an instance of a subclass.
  if (trustedResourceUrl instanceof goog.html.TrustedResourceUrl &&
      trustedResourceUrl.constructor === goog.html.TrustedResourceUrl) {
    return trustedResourceUrl
        .privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_;
  } else {
    goog.asserts.fail(
        'expected object of type TrustedResourceUrl, got \'%s\' of type %s',
        trustedResourceUrl, goog.typeOf(trustedResourceUrl));
    return 'type_error:TrustedResourceUrl';
  }
};


/**
 * Creates a TrustedResourceUrl from a format string and arguments.
 *
 * The arguments for interpolation into the format string map labels to values.
 * Values of type `goog.string.Const` are interpolated without modifcation.
 * Values of other types are cast to string and encoded with
 * encodeURIComponent.
 *
 * `%{<label>}` markers are used in the format string to indicate locations
 * to be interpolated with the valued mapped to the given label. `<label>`
 * must contain only alphanumeric and `_` characters.
 *
 * The format string must match goog.html.TrustedResourceUrl.BASE_URL_.
 *
 * Example usage:
 *
 *    var url = goog.html.TrustedResourceUrl.format(goog.string.Const.from(
 *        'https://www.google.com/search?q=%{query}'), {'query': searchTerm});
 *
 *    var url = goog.html.TrustedResourceUrl.format(goog.string.Const.from(
 *        '//www.youtube.com/v/%{videoId}?hl=en&fs=1%{autoplay}'), {
 *        'videoId': videoId,
 *        'autoplay': opt_autoplay ?
 *            goog.string.Const.from('&autoplay=1') : goog.string.Const.EMPTY
 *    });
 *
 * While this function can be used to create a TrustedResourceUrl from only
 * constants, fromConstant() and fromConstants() are generally preferable for
 * that purpose.
 *
 * @param {!goog.string.Const} format The format string.
 * @param {!Object<string, (string|number|!goog.string.Const)>} args Mapping
 *     of labels to values to be interpolated into the format string.
 *     goog.string.Const values are interpolated without encoding.
 * @return {!goog.html.TrustedResourceUrl}
 * @throws {!Error} On an invalid format string or if a label used in the
 *     the format string is not present in args.
 * @deprecated Use the `safevalues.trustedResourceUrl` template string literal
 *     builder instead.
 */
goog.html.TrustedResourceUrl.format = function(format, args) {
  'use strict';
  var formatStr = goog.string.Const.unwrap(format);
  if (!goog.html.TrustedResourceUrl.BASE_URL_.test(formatStr)) {
    throw new Error('Invalid TrustedResourceUrl format: ' + formatStr);
  }
  var result = formatStr.replace(
      goog.html.TrustedResourceUrl.FORMAT_MARKER_, function(match, id) {
        'use strict';
        if (!Object.prototype.hasOwnProperty.call(args, id)) {
          throw new Error(
              'Found marker, "' + id + '", in format string, "' + formatStr +
              '", but no valid label mapping found ' +
              'in args: ' + JSON.stringify(args));
        }
        var arg = args[id];
        if (arg instanceof goog.string.Const) {
          return goog.string.Const.unwrap(arg);
        } else {
          return encodeURIComponent(String(arg));
        }
      });
  return goog.html.TrustedResourceUrl
      .createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(result);
};


/**
 * @private @const {!RegExp}
 */
goog.html.TrustedResourceUrl.FORMAT_MARKER_ = /%{(\w+)}/g;


/**
 * The URL must be absolute, scheme-relative or path-absolute. So it must
 * start with:
 * - https:// followed by allowed origin characters.
 * - // followed by allowed origin characters.
 * - Any absolute or relative path.
 *
 * Based on
 * https://url.spec.whatwg.org/commit-snapshots/56b74ce7cca8883eab62e9a12666e2fac665d03d/#url-parsing
 * an initial / which is not followed by another / or \ will end up in the "path
 * state" and from there it can only go to "fragment state" and "query state".
 *
 * We don't enforce a well-formed domain name. So '.' or '1.2' are valid.
 * That's ok because the origin comes from a compile-time constant.
 *
 * A regular expression is used instead of goog.uri for several reasons:
 * - Strictness. E.g. we don't want any userinfo component and we don't
 *   want '/./, nor \' in the first path component.
 * - Small trusted base. goog.uri is generic and might need to change,
 *   reasoning about all the ways it can parse a URL now and in the future
 *   is error-prone.
 * - Code size. We expect many calls to .format(), many of which might
 *   not be using goog.uri.
 * - Simplicity. Using goog.uri would likely not result in simpler nor shorter
 *   code.
 * @private @const {!RegExp}
 */
goog.html.TrustedResourceUrl.BASE_URL_ = new RegExp(
    '^((https:)?//[0-9a-z.:[\\]-]+/'  // Origin.
        + '|/[^/\\\\]'                // Absolute path.
        + '|[^:/\\\\%]+/'             // Relative path.
        + '|[^:/\\\\%]*[?#]'          // Query string or fragment.
        + '|about:blank#'             // about:blank with fragment.
        + ')',
    'i');

/**
 * RegExp for splitting a URL into the base, search field, and hash field.
 *
 * @private @const {!RegExp}
 */
goog.html.TrustedResourceUrl.URL_PARAM_PARSER_ =
    /^([^?#]*)(\?[^#]*)?(#[\s\S]*)?/;


/**
 * Formats the URL same as TrustedResourceUrl.format and then adds extra URL
 * parameters.
 *
 * Example usage:
 *
 *     // Creates '//www.youtube.com/v/abc?autoplay=1' for videoId='abc' and
 *     // opt_autoplay=1. Creates '//www.youtube.com/v/abc' for videoId='abc'
 *     // and opt_autoplay=undefined.
 *     var url = goog.html.TrustedResourceUrl.formatWithParams(
 *         goog.string.Const.from('//www.youtube.com/v/%{videoId}'),
 *         {'videoId': videoId},
 *         {'autoplay': opt_autoplay});
 *
 * @param {!goog.string.Const} format The format string.
 * @param {!Object<string, (string|number|!goog.string.Const)>} args Mapping
 *     of labels to values to be interpolated into the format string.
 *     goog.string.Const values are interpolated without encoding.
 * @param {string|?Object<string, *>|undefined} searchParams Parameters to add
 *     to URL. See goog.html.TrustedResourceUrl.stringifyParams_ for exact
 *     format definition.
 * @param {(string|?Object<string, *>)=} opt_hashParams Hash parameters to add
 *     to URL. See goog.html.TrustedResourceUrl.stringifyParams_ for exact
 *     format definition.
 * @return {!goog.html.TrustedResourceUrl}
 * @throws {!Error} On an invalid format string or if a label used in the
 *     the format string is not present in args.
 * @deprecated Use `safevalues.trustedResourceUrl` and `safevalues.appendParams`
 *     instead.
 */
goog.html.TrustedResourceUrl.formatWithParams = function(
    format, args, searchParams, opt_hashParams) {
  'use strict';
  var url = goog.html.TrustedResourceUrl.format(format, args);
  return url.cloneWithParams(searchParams, opt_hashParams);
};


/**
 * Creates a TrustedResourceUrl object from a compile-time constant string.
 *
 * Compile-time constant strings are inherently program-controlled and hence
 * trusted.
 *
 * @param {!goog.string.Const} url A compile-time-constant string from which to
 *     create a TrustedResourceUrl.
 * @return {!goog.html.TrustedResourceUrl} A TrustedResourceUrl object
 *     initialized to `url`.
 * @deprecated Use `safevalues.trustedResourceUrl` instead.
 */
goog.html.TrustedResourceUrl.fromConstant = function(url) {
  'use strict';
  return goog.html.TrustedResourceUrl
      .createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(
          goog.string.Const.unwrap(url));
};


/**
 * Creates a TrustedResourceUrl object from a compile-time constant strings.
 *
 * Compile-time constant strings are inherently program-controlled and hence
 * trusted.
 *
 * @param {!Array<!goog.string.Const>} parts Compile-time-constant strings from
 *     which to create a TrustedResourceUrl.
 * @return {!goog.html.TrustedResourceUrl} A TrustedResourceUrl object
 *     initialized to concatenation of `parts`.
 * @deprecated Use `safevalues.trustedResourceUrl` instead.
 */
goog.html.TrustedResourceUrl.fromConstants = function(parts) {
  'use strict';
  var unwrapped = '';
  for (var i = 0; i < parts.length; i++) {
    unwrapped += goog.string.Const.unwrap(parts[i]);
  }
  return goog.html.TrustedResourceUrl
      .createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(unwrapped);
};


/**
 * Token used to ensure that object is created only from this file. No code
 * outside of this file can access this token.
 * @private {!Object}
 * @const
 */
goog.html.TrustedResourceUrl.CONSTRUCTOR_TOKEN_PRIVATE_ = {};


/**
 * Package-internal utility method to create TrustedResourceUrl instances.
 *
 * @param {string} url The string to initialize the TrustedResourceUrl object
 *     with.
 * @return {!goog.html.TrustedResourceUrl} The initialized TrustedResourceUrl
 *     object.
 * @package
 */
goog.html.TrustedResourceUrl
    .createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse = function(url) {
  'use strict';
  /** @noinline */
  const noinlineUrl = url;
  const policy = goog.html.trustedtypes.getPolicyPrivateDoNotAccessOrElse();
  const value = policy ? policy.createScriptURL(noinlineUrl) : noinlineUrl;
  return new goog.html.TrustedResourceUrl(
      value, goog.html.TrustedResourceUrl.CONSTRUCTOR_TOKEN_PRIVATE_);
};


/**
 * Stringifies the passed params to be used as either a search or hash field of
 * a URL.
 *
 * @param {string} prefix The prefix character for the given field ('?' or '#').
 * @param {string} currentString The existing field value (including the prefix
 *     character, if the field is present).
 * @param {string|?Object<string, *>|undefined} params The params to set or
 *     append to the field.
 * - If `undefined` or `null`, the field remains unchanged.
 * - If a string, then the string will be escaped and the field will be
 *   overwritten with that value.
 * - If an Object, that object is treated as a set of key-value pairs to be
 *   appended to the current field. Note that JavaScript doesn't guarantee the
 *   order of values in an object which might result in non-deterministic order
 *   of the parameters. However, browsers currently preserve the order. The
 *   rules for each entry:
 *   - If an array, it will be processed as if each entry were an additional
 *     parameter with exactly the same key, following the same logic below.
 *   - If `undefined` or `null`, it will be skipped.
 *   - Otherwise, it will be turned into a string, escaped, and appended.
 * @return {string}
 * @private
 */
goog.html.TrustedResourceUrl.stringifyParams_ = function(
    prefix, currentString, params) {
  'use strict';
  if (params == null) {
    // Do not modify the field.
    return currentString;
  }
  if (typeof params === 'string') {
    // Set field to the passed string.
    return params ? prefix + encodeURIComponent(params) : '';
  }
  // Add on parameters to field from key-value object.
  for (var key in params) {
    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/hasOwnProperty#Using_hasOwnProperty_as_a_property_name
    if (Object.prototype.hasOwnProperty.call(params, key)) {
      var value = params[key];
      var outputValues = Array.isArray(value) ? value : [value];
      for (var i = 0; i < outputValues.length; i++) {
        var outputValue = outputValues[i];
        if (outputValue != null) {
          if (!currentString) {
            currentString = prefix;
          }
          currentString += (currentString.length > prefix.length ? '&' : '') +
              encodeURIComponent(key) + '=' +
              encodeURIComponent(String(outputValue));
        }
      }
    }
  }
  return currentString;
};

//third_party/javascript/closure/html/trustedresourceurl_internals_for_safevalues.js
goog.loadModule(function(exports) {'use strict';/**
 * @license
 * Copyright The Closure Library Authors.
 * SPDX-License-Identifier: Apache-2.0
 */


/**
 * @fileoverview File that re-exports the internals of
 * goog.html.TrustedResourceUrl type so that they can be used in safevalues for
 * compatibility purposes.
 * DO NOT OPENSOURCE
 */

goog.module('goog.html.trustedresourceurl_internals_for_safevalues');

const TrustedResourceUrl = goog.require('goog.html.TrustedResourceUrl');

exports.createTrustedResourceUrl =
    TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse;

;return exports;});

//third_party/javascript/safevalues/internals/resource_url_impl.closure.js
goog.loadModule(function(exports) {'use strict';/**
 * @license
 * Copyright Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
/**
 * @fileoverview Internal implementations of TrustedResourceUrl.
 * DO NOT OPENSOURCE
 * Generated from: third_party/javascript/safevalues/internals/resource_url_impl.ts
 * @suppress {checkTypes} added by tsickle
 * @suppress {extraRequire} added by tsickle
 * @suppress {missingRequire} added by tsickle
 * @suppress {uselessCode} added by tsickle
 * @suppress {suspiciousCode} added by tsickle
 * @suppress {missingReturn} added by tsickle
 * @suppress {unusedPrivateMembers} added by tsickle
 * @suppress {missingOverride} added by tsickle
 * @suppress {const} added by tsickle
 */
goog.module('google3.third_party.javascript.safevalues.internals.resource_url_impl');
var module = module || { id: 'third_party/javascript/safevalues/internals/resource_url_impl.closure.js' };
goog.require('google3.third_party.javascript.tslib.tslib');
const tsickle_trustedresourceurl_1 = goog.requireType("goog.html.TrustedResourceUrl");
const tsickle_trustedresourceurl_internals_for_safevalues_2 = goog.requireType("goog.html.trustedresourceurl_internals_for_safevalues");
const trustedresourceurl_1 = goog.require('goog.html.TrustedResourceUrl');
const trustedresourceurl_internals_for_safevalues_1 = goog.require('goog.html.trustedresourceurl_internals_for_safevalues');
// tslint:disable:enforce-name-casing
/**
 * Export the object separately to break the use of legacy static functions on
 * the re-export, but preserve instanceof checks.
 *
 * Please have a look at go/safehtml?polygot=ts to see what functions are
 * available in safevalues.
 * @type {function(new:tsickle_trustedresourceurl_1, ?)}
 */
exports.TrustedResourceUrl = (/** @type {function(new:tsickle_trustedresourceurl_1, ?)} */ ((/** @type {*} */ (trustedresourceurl_1))));
/**
 * Builds a new `TrustedResourceUrl` from the given string, without
 * enforcing safety guarantees. It may cause side effects by creating a Trusted
 * Types policy. This shouldn't be exposed to application developers, and must
 * only be used as a step towards safe builders or safe constants.
 * @param {string} url
 * @return {!tsickle_trustedresourceurl_1}
 */
function createResourceUrlInternal(url) {
    return (0, trustedresourceurl_internals_for_safevalues_1.createTrustedResourceUrl)(url);
}
exports.createResourceUrlInternal = createResourceUrlInternal;
/**
 * Checks if the given value is a `TrustedResourceUrl` instance.
 * @param {*} value
 * @return {boolean}
 */
function isResourceUrl(value) {
    return value instanceof trustedresourceurl_1;
}
exports.isResourceUrl = isResourceUrl;
/**
 * Returns the value of the passed `TrustedResourceUrl` object while ensuring it
 * has the correct type.
 *
 * Returns a native `TrustedScriptURL` or a string if Trusted Types are
 * disabled.
 * @param {!tsickle_trustedresourceurl_1} value
 * @return {(string|!TrustedScriptURL)}
 */
function unwrapResourceUrl(value) {
    return trustedresourceurl_1.unwrapTrustedScriptURL(value);
}
exports.unwrapResourceUrl = unwrapResourceUrl;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVzb3VyY2VfdXJsX2ltcGwuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi90aGlyZF9wYXJ0eS9qYXZhc2NyaXB0L3NhZmV2YWx1ZXMvaW50ZXJuYWxzL3Jlc291cmNlX3VybF9pbXBsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVdBLDBFQUErSDtBQUMvSCw0SEFBaUk7Ozs7Ozs7Ozs7QUFhcEgsUUFBQSxrQkFBa0IsR0FBRywrREFBQSx5Q0FBb0MsRUFFckU7Ozs7Ozs7OztBQVFELFNBQWdCLHlCQUF5QixDQUFDLEdBQVc7SUFDbkQsT0FBTyxJQUFBLHNFQUF3QixFQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ3ZDLENBQUM7QUFGRCw4REFFQzs7Ozs7O0FBS0QsU0FBZ0IsYUFBYSxDQUFDLEtBQWM7SUFDMUMsT0FBTyxLQUFLLGdDQUFxQyxDQUFDO0FBQ3BELENBQUM7QUFGRCxzQ0FFQzs7Ozs7Ozs7OztBQVNELFNBQWdCLGlCQUFpQixDQUMvQixLQUF5QjtJQUV6QixPQUFPLHFCQUEwQixzQkFBc0IsQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUNqRSxDQUFDO0FBSkQsOENBSUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgSW50ZXJuYWwgaW1wbGVtZW50YXRpb25zIG9mIFRydXN0ZWRSZXNvdXJjZVVybC5cbiAqIERPIE5PVCBPUEVOU09VUkNFXG4gKi9cblxuaW1wb3J0IHtUcnVzdGVkUmVzb3VyY2VVcmwgYXMgQ2xvc3VyZVRydXN0ZWRSZXNvdXJjZVVybH0gZnJvbSAnZ29vZ2xlMy90aGlyZF9wYXJ0eS9qYXZhc2NyaXB0L2Nsb3N1cmUvaHRtbC90cnVzdGVkcmVzb3VyY2V1cmwnO1xuaW1wb3J0IHtjcmVhdGVUcnVzdGVkUmVzb3VyY2VVcmx9IGZyb20gJ2dvb2dsZTMvdGhpcmRfcGFydHkvamF2YXNjcmlwdC9jbG9zdXJlL2h0bWwvdHJ1c3RlZHJlc291cmNldXJsX2ludGVybmFsc19mb3Jfc2FmZXZhbHVlcyc7XG5cbi8qKiBSZS1leHBvcnRzIHRoZSBDbG9zdXJlIHR5cGUgdG8gZW5zdXJlIGJvdGggY29kZWJhc2VzIGFyZSBjb21wYXRpYmxlLiAqL1xuZXhwb3J0IHR5cGUgVHJ1c3RlZFJlc291cmNlVXJsID0gQ2xvc3VyZVRydXN0ZWRSZXNvdXJjZVVybDtcblxuLy8gdHNsaW50OmRpc2FibGU6ZW5mb3JjZS1uYW1lLWNhc2luZ1xuLyoqXG4gKiBFeHBvcnQgdGhlIG9iamVjdCBzZXBhcmF0ZWx5IHRvIGJyZWFrIHRoZSB1c2Ugb2YgbGVnYWN5IHN0YXRpYyBmdW5jdGlvbnMgb25cbiAqIHRoZSByZS1leHBvcnQsIGJ1dCBwcmVzZXJ2ZSBpbnN0YW5jZW9mIGNoZWNrcy5cbiAqXG4gKiBQbGVhc2UgaGF2ZSBhIGxvb2sgYXQgZ28vc2FmZWh0bWw/cG9seWdvdD10cyB0byBzZWUgd2hhdCBmdW5jdGlvbnMgYXJlXG4gKiBhdmFpbGFibGUgaW4gc2FmZXZhbHVlcy5cbiAqL1xuZXhwb3J0IGNvbnN0IFRydXN0ZWRSZXNvdXJjZVVybCA9IENsb3N1cmVUcnVzdGVkUmVzb3VyY2VVcmwgYXMgdW5rbm93biBhcyB7XG4gIG5ldyAoXzogbmV2ZXIpOiBUcnVzdGVkUmVzb3VyY2VVcmw7XG59O1xuXG4vKipcbiAqIEJ1aWxkcyBhIG5ldyBgVHJ1c3RlZFJlc291cmNlVXJsYCBmcm9tIHRoZSBnaXZlbiBzdHJpbmcsIHdpdGhvdXRcbiAqIGVuZm9yY2luZyBzYWZldHkgZ3VhcmFudGVlcy4gSXQgbWF5IGNhdXNlIHNpZGUgZWZmZWN0cyBieSBjcmVhdGluZyBhIFRydXN0ZWRcbiAqIFR5cGVzIHBvbGljeS4gVGhpcyBzaG91bGRuJ3QgYmUgZXhwb3NlZCB0byBhcHBsaWNhdGlvbiBkZXZlbG9wZXJzLCBhbmQgbXVzdFxuICogb25seSBiZSB1c2VkIGFzIGEgc3RlcCB0b3dhcmRzIHNhZmUgYnVpbGRlcnMgb3Igc2FmZSBjb25zdGFudHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVSZXNvdXJjZVVybEludGVybmFsKHVybDogc3RyaW5nKTogVHJ1c3RlZFJlc291cmNlVXJsIHtcbiAgcmV0dXJuIGNyZWF0ZVRydXN0ZWRSZXNvdXJjZVVybCh1cmwpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgYSBgVHJ1c3RlZFJlc291cmNlVXJsYCBpbnN0YW5jZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzUmVzb3VyY2VVcmwodmFsdWU6IHVua25vd24pOiB2YWx1ZSBpcyBUcnVzdGVkUmVzb3VyY2VVcmwge1xuICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBDbG9zdXJlVHJ1c3RlZFJlc291cmNlVXJsO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIHZhbHVlIG9mIHRoZSBwYXNzZWQgYFRydXN0ZWRSZXNvdXJjZVVybGAgb2JqZWN0IHdoaWxlIGVuc3VyaW5nIGl0XG4gKiBoYXMgdGhlIGNvcnJlY3QgdHlwZS5cbiAqXG4gKiBSZXR1cm5zIGEgbmF0aXZlIGBUcnVzdGVkU2NyaXB0VVJMYCBvciBhIHN0cmluZyBpZiBUcnVzdGVkIFR5cGVzIGFyZVxuICogZGlzYWJsZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1bndyYXBSZXNvdXJjZVVybChcbiAgdmFsdWU6IFRydXN0ZWRSZXNvdXJjZVVybCxcbik6IFRydXN0ZWRTY3JpcHRVUkwgfCBzdHJpbmcge1xuICByZXR1cm4gQ2xvc3VyZVRydXN0ZWRSZXNvdXJjZVVybC51bndyYXBUcnVzdGVkU2NyaXB0VVJMKHZhbHVlKTtcbn1cbiJdfQ==
;return exports;});

//third_party/javascript/safevalues/internals/url_impl.closure.js
goog.loadModule(function(exports) {'use strict';/**
 * @license
 * Copyright Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
/**
 * @fileoverview Internal implementations of SafeUrl.
 * Generated from: third_party/javascript/safevalues/internals/url_impl.ts
 * @suppress {checkTypes} added by tsickle
 * @suppress {extraRequire} added by tsickle
 * @suppress {missingRequire} added by tsickle
 * @suppress {uselessCode} added by tsickle
 * @suppress {suspiciousCode} added by tsickle
 * @suppress {missingReturn} added by tsickle
 * @suppress {unusedPrivateMembers} added by tsickle
 * @suppress {missingOverride} added by tsickle
 * @suppress {const} added by tsickle
 */
goog.module('google3.third_party.javascript.safevalues.internals.url_impl');
var module = module || { id: 'third_party/javascript/safevalues/internals/url_impl.closure.js' };
goog.require('google3.third_party.javascript.tslib.tslib');
const tsickle_dev_1 = goog.requireType("google3.third_party.javascript.safevalues.environment.dev");
const tsickle_secrets_2 = goog.requireType("google3.third_party.javascript.safevalues.internals.secrets");
const dev_1 = goog.require('google3.third_party.javascript.safevalues.environment.dev');
const secrets_1 = goog.require('google3.third_party.javascript.safevalues.internals.secrets');
/**
 * URL that is safe to use in navigation contexts
 * (e.g. `document.location`, `a.href`)
 */
class SafeUrl {
    /**
     * @private
     * @param {!Object} token
     * @param {string} value
     */
    constructor(token, value) {
        if (dev_1.DEV_MODE) {
            (0, secrets_1.ensureTokenIsValid)(token);
        }
        this.privateDoNotAccessOrElseWrappedUrl = value;
    }
    /**
     * @public
     * @return {string}
     */
    toString() {
        return this.privateDoNotAccessOrElseWrappedUrl;
    }
}
exports.SafeUrl = SafeUrl;
/* istanbul ignore if */
if (false) {
    /**
     * @const {string}
     * @private
     */
    SafeUrl.prototype.privateDoNotAccessOrElseWrappedUrl;
}
// WARNING: interface has both a type and a value, skipping emit
/** @type {function(new:SafeUrl, !Object, string)} */
const UrlImpl = (/** @type {function(new:SafeUrl, !Object, string)} */ (SafeUrl));
/**
 * Builds a new `SafeUrl` from the given string, without enforcing
 * safety guarantees. This shouldn't be exposed to application developers, and
 * must only be used as a step towards safe builders or safe constants.
 * @param {string} value
 * @return {!SafeUrl}
 */
function createUrlInternal(value) {
    return new UrlImpl(secrets_1.secretToken, value);
}
exports.createUrlInternal = createUrlInternal;
/**
 * A SafeUrl containing 'about:blank'.
 * @type {!SafeUrl}
 */
exports.ABOUT_BLANK = createUrlInternal('about:blank');
/**
 * A SafeUrl containing an inert URL, used as an inert return value when
 * an unsafe input was sanitized.
 * @type {!SafeUrl}
 */
exports.INNOCUOUS_URL = createUrlInternal('about:invalid#zClosurez');
/**
 * Checks if the given value is a `SafeUrl` instance.
 * @param {*} value
 * @return {boolean}
 */
function isUrl(value) {
    return value instanceof SafeUrl;
}
exports.isUrl = isUrl;
/**
 * Returns the string value of the passed `SafeUrl` object while ensuring it
 * has the correct type.
 * @param {!SafeUrl} value
 * @return {string}
 */
function unwrapUrl(value) {
    if (isUrl(value)) {
        return ((/** @type {?} */ ((/** @type {*} */ (value))))).privateDoNotAccessOrElseWrappedUrl;
    }
    /** @type {string} */
    let message = '';
    if (dev_1.DEV_MODE) {
        message = `Unexpected type when unwrapping SafeUrl, got '${value}' of type '${typeof value}'`;
    }
    throw new Error(message);
}
exports.unwrapUrl = unwrapUrl;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXJsX2ltcGwuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi90aGlyZF9wYXJ0eS9qYXZhc2NyaXB0L3NhZmV2YWx1ZXMvaW50ZXJuYWxzL3VybF9pbXBsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBUUEsd0ZBQTRDO0FBRTVDLDhGQUEwRDs7Ozs7QUFNMUQsTUFBYSxPQUFPOzs7Ozs7SUFHbEIsWUFBb0IsS0FBYSxFQUFFLEtBQWE7UUFDOUMsSUFBSSxjQUFRLEVBQUUsQ0FBQztZQUNiLElBQUEsNEJBQWtCLEVBQUMsS0FBSyxDQUFDLENBQUM7UUFDNUIsQ0FBQztRQUVELElBQUksQ0FBQyxrQ0FBa0MsR0FBRyxLQUFLLENBQUM7SUFDbEQsQ0FBQzs7Ozs7SUFFRCxRQUFRO1FBQ04sT0FBTyxJQUFJLENBQUMsa0NBQWtDLENBQUM7SUFDakQsQ0FBQztDQUNGO0FBZEQsMEJBY0M7Ozs7Ozs7SUFiQyxxREFBNEQ7Ozs7TUFrQnhELE9BQU8sR0FBRyx3REFBQSxPQUFPLEVBRXRCOzs7Ozs7OztBQU9ELFNBQWdCLGlCQUFpQixDQUFDLEtBQWE7SUFDN0MsT0FBTyxJQUFJLE9BQU8sQ0FBQyxxQkFBVyxFQUFFLEtBQUssQ0FBQyxDQUFDO0FBQ3pDLENBQUM7QUFGRCw4Q0FFQzs7Ozs7QUFHWSxRQUFBLFdBQVcsR0FBWSxpQkFBaUIsQ0FBQyxhQUFhLENBQUM7Ozs7OztBQU12RCxRQUFBLGFBQWEsR0FBWSxpQkFBaUIsQ0FDckQseUJBQXlCLENBQzFCOzs7Ozs7QUFLRCxTQUFnQixLQUFLLENBQUMsS0FBYztJQUNsQyxPQUFPLEtBQUssWUFBWSxPQUFPLENBQUM7QUFDbEMsQ0FBQztBQUZELHNCQUVDOzs7Ozs7O0FBTUQsU0FBZ0IsU0FBUyxDQUFDLEtBQWM7SUFDdEMsSUFBSSxLQUFLLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQztRQUNqQixPQUFPLENBQUMsbUJBQUEsbUJBQUEsS0FBSyxFQUFXLEVBQVcsQ0FBQyxDQUFDLGtDQUFrQyxDQUFDO0lBQzFFLENBQUM7O1FBQ0csT0FBTyxHQUFHLEVBQUU7SUFDaEIsSUFBSSxjQUFRLEVBQUUsQ0FBQztRQUNiLE9BQU8sR0FBRyxpREFBaUQsS0FBSyxjQUFjLE9BQU8sS0FBSyxHQUFHLENBQUM7SUFDaEcsQ0FBQztJQUNELE1BQU0sSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUM7QUFDM0IsQ0FBQztBQVRELDhCQVNDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuLyoqIEBmaWxlb3ZlcnZpZXcgSW50ZXJuYWwgaW1wbGVtZW50YXRpb25zIG9mIFNhZmVVcmwuICovXG5cbmltcG9ydCB7REVWX01PREV9IGZyb20gJy4uL2Vudmlyb25tZW50L2Rldic7XG5cbmltcG9ydCB7ZW5zdXJlVG9rZW5Jc1ZhbGlkLCBzZWNyZXRUb2tlbn0gZnJvbSAnLi9zZWNyZXRzJztcblxuLyoqXG4gKiBVUkwgdGhhdCBpcyBzYWZlIHRvIHVzZSBpbiBuYXZpZ2F0aW9uIGNvbnRleHRzXG4gKiAoZS5nLiBgZG9jdW1lbnQubG9jYXRpb25gLCBgYS5ocmVmYClcbiAqL1xuZXhwb3J0IGNsYXNzIFNhZmVVcmwge1xuICBwcml2YXRlIHJlYWRvbmx5IHByaXZhdGVEb05vdEFjY2Vzc09yRWxzZVdyYXBwZWRVcmw6IHN0cmluZztcblxuICBwcml2YXRlIGNvbnN0cnVjdG9yKHRva2VuOiBvYmplY3QsIHZhbHVlOiBzdHJpbmcpIHtcbiAgICBpZiAoREVWX01PREUpIHtcbiAgICAgIGVuc3VyZVRva2VuSXNWYWxpZCh0b2tlbik7XG4gICAgfVxuXG4gICAgdGhpcy5wcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2VXcmFwcGVkVXJsID0gdmFsdWU7XG4gIH1cblxuICB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLnByaXZhdGVEb05vdEFjY2Vzc09yRWxzZVdyYXBwZWRVcmw7XG4gIH1cbn1cblxuaW50ZXJmYWNlIFVybEltcGwge1xuICBwcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2VXcmFwcGVkVXJsOiBzdHJpbmc7XG59XG5jb25zdCBVcmxJbXBsID0gU2FmZVVybCBhcyB7XG4gIG5ldyAodG9rZW46IG9iamVjdCwgdmFsdWU6IHN0cmluZyk6IFNhZmVVcmw7XG59O1xuXG4vKipcbiAqIEJ1aWxkcyBhIG5ldyBgU2FmZVVybGAgZnJvbSB0aGUgZ2l2ZW4gc3RyaW5nLCB3aXRob3V0IGVuZm9yY2luZ1xuICogc2FmZXR5IGd1YXJhbnRlZXMuIFRoaXMgc2hvdWxkbid0IGJlIGV4cG9zZWQgdG8gYXBwbGljYXRpb24gZGV2ZWxvcGVycywgYW5kXG4gKiBtdXN0IG9ubHkgYmUgdXNlZCBhcyBhIHN0ZXAgdG93YXJkcyBzYWZlIGJ1aWxkZXJzIG9yIHNhZmUgY29uc3RhbnRzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVXJsSW50ZXJuYWwodmFsdWU6IHN0cmluZyk6IFNhZmVVcmwge1xuICByZXR1cm4gbmV3IFVybEltcGwoc2VjcmV0VG9rZW4sIHZhbHVlKTtcbn1cblxuLyoqIEEgU2FmZVVybCBjb250YWluaW5nICdhYm91dDpibGFuaycuICovXG5leHBvcnQgY29uc3QgQUJPVVRfQkxBTks6IFNhZmVVcmwgPSBjcmVhdGVVcmxJbnRlcm5hbCgnYWJvdXQ6YmxhbmsnKTtcblxuLyoqXG4gKiBBIFNhZmVVcmwgY29udGFpbmluZyBhbiBpbmVydCBVUkwsIHVzZWQgYXMgYW4gaW5lcnQgcmV0dXJuIHZhbHVlIHdoZW5cbiAqIGFuIHVuc2FmZSBpbnB1dCB3YXMgc2FuaXRpemVkLlxuICovXG5leHBvcnQgY29uc3QgSU5OT0NVT1VTX1VSTDogU2FmZVVybCA9IGNyZWF0ZVVybEludGVybmFsKFxuICAnYWJvdXQ6aW52YWxpZCN6Q2xvc3VyZXonLFxuKTtcblxuLyoqXG4gKiBDaGVja3MgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIGEgYFNhZmVVcmxgIGluc3RhbmNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNVcmwodmFsdWU6IHVua25vd24pOiB2YWx1ZSBpcyBTYWZlVXJsIHtcbiAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgU2FmZVVybDtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBzdHJpbmcgdmFsdWUgb2YgdGhlIHBhc3NlZCBgU2FmZVVybGAgb2JqZWN0IHdoaWxlIGVuc3VyaW5nIGl0XG4gKiBoYXMgdGhlIGNvcnJlY3QgdHlwZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVud3JhcFVybCh2YWx1ZTogU2FmZVVybCk6IHN0cmluZyB7XG4gIGlmIChpc1VybCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gKHZhbHVlIGFzIHVua25vd24gYXMgVXJsSW1wbCkucHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlV3JhcHBlZFVybDtcbiAgfVxuICBsZXQgbWVzc2FnZSA9ICcnO1xuICBpZiAoREVWX01PREUpIHtcbiAgICBtZXNzYWdlID0gYFVuZXhwZWN0ZWQgdHlwZSB3aGVuIHVud3JhcHBpbmcgU2FmZVVybCwgZ290ICcke3ZhbHVlfScgb2YgdHlwZSAnJHt0eXBlb2YgdmFsdWV9J2A7XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xufVxuIl19
;return exports;});

//third_party/javascript/safevalues/builders/url_builders.closure.js
goog.loadModule(function(exports) {'use strict';/**
 * @license
 * Copyright Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
/**
 * @fileoverview added by tsickle
 * Generated from: third_party/javascript/safevalues/builders/url_builders.ts
 * @suppress {checkTypes} added by tsickle
 * @suppress {extraRequire} added by tsickle
 * @suppress {missingRequire} added by tsickle
 * @suppress {uselessCode} added by tsickle
 * @suppress {suspiciousCode} added by tsickle
 * @suppress {missingReturn} added by tsickle
 * @suppress {unusedPrivateMembers} added by tsickle
 * @suppress {missingOverride} added by tsickle
 * @suppress {const} added by tsickle
 */
goog.module('google3.third_party.javascript.safevalues.builders.url_builders');
var module = module || { id: 'third_party/javascript/safevalues/builders/url_builders.closure.js' };
goog.require('google3.third_party.javascript.tslib.tslib');
const tsickle_dev_1 = goog.requireType("google3.third_party.javascript.safevalues.environment.dev");
const tsickle_pure_2 = goog.requireType("google3.third_party.javascript.safevalues.internals.pure");
const tsickle_resource_url_impl_3 = goog.requireType("google3.third_party.javascript.safevalues.internals.resource_url_impl");
const tsickle_string_literal_4 = goog.requireType("google3.third_party.javascript.safevalues.internals.string_literal");
const tsickle_url_impl_5 = goog.requireType("google3.third_party.javascript.safevalues.internals.url_impl");
const tsickle_TrustedResourceUrl_6 = goog.requireType("goog.html.TrustedResourceUrl");
const dev_1 = goog.require('google3.third_party.javascript.safevalues.environment.dev');
// BEGIN-INTERNAL
const pure_1 = goog.require('google3.third_party.javascript.safevalues.internals.pure');
const resource_url_impl_1 = goog.require('google3.third_party.javascript.safevalues.internals.resource_url_impl');
const string_literal_1 = goog.require('google3.third_party.javascript.safevalues.internals.string_literal');
const url_impl_1 = goog.require('google3.third_party.javascript.safevalues.internals.url_impl');
// END-INTERNAL
// BEGIN-INTERNAL
/**
 * A pattern that matches safe MIME types. Only matches image, video and audio
 * types, with some parameter support (most notably, we haven't implemented the
 * more complex parts like %-encoded characters or non-alphanumerical ones for
 * simplicity's sake). Also, the specs are fairly complex, and they don't
 * necessarily agree with Chrome on some aspects, and so we settled on a subset
 * where the behavior makes sense to all parties involved.
 *
 * The spec is available at https://mimesniff.spec.whatwg.org/ (and see
 * https://tools.ietf.org/html/rfc2397 for data: urls, which override some of
 * it).
 * @param {string} mimeType
 * @return {boolean}
 */
function isSafeMimeType(mimeType) {
    /** @type {(null|!RegExpMatchArray)} */
    const match = mimeType.match(/^([^;]+)(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i);
    return (match?.length === 2 &&
        (isSafeImageMimeType(match[1]) ||
            isSafeVideoMimeType(match[1]) ||
            isSafeAudioMimeType(match[1]) ||
            isSafeFontMimeType(match[1])));
}
/**
 * @param {string} mimeType
 * @return {boolean}
 */
function isSafeImageMimeType(mimeType) {
    return /^image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon|heic|heif|avif|x-ms-bmp)$/i.test(mimeType);
}
/**
 * @param {string} mimeType
 * @return {boolean}
 */
function isSafeVideoMimeType(mimeType) {
    return /^video\/(?:mpeg|mp4|ogg|webm|x-matroska|quicktime|x-ms-wmv)$/i.test(mimeType);
}
/**
 * @param {string} mimeType
 * @return {boolean}
 */
function isSafeAudioMimeType(mimeType) {
    return /^audio\/(?:3gpp2|3gpp|aac|amr|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)$/i.test(mimeType);
}
/**
 * @param {string} mimeType
 * @return {boolean}
 */
function isSafeFontMimeType(mimeType) {
    return /^font\/\w+/i.test(mimeType);
}
/**
 * Interface representing a scheme that sanitizeUrl can optionally accommodate.
 * Even though this interface could be implemented by user code, the code will
 * ignore any implementation that doesn't come from this file.
 * @record
 */
function Scheme() { }
exports.Scheme = Scheme;
/* istanbul ignore if */
if (false) {
    /**
     * @public
     * @param {string} url
     * @return {boolean}
     */
    Scheme.prototype.isValid = function (url) { };
}
/**
 * @implements {Scheme}
 */
class SchemeImpl {
    /**
     * @public
     * @param {function(string): boolean} isValid
     */
    constructor(isValid) {
        this.isValid = isValid;
    }
}
/* istanbul ignore if */
if (false) {
    /**
     * @const {function(string): boolean}
     * @public
     */
    SchemeImpl.prototype.isValid;
}
/**
 * @param {!Scheme} scheme
 * @return {boolean}
 */
function isValidScheme(scheme) {
    return scheme instanceof SchemeImpl;
}
/**
 * @param {string} scheme
 * @return {!Scheme}
 */
function simpleScheme(scheme) {
    return new SchemeImpl((/**
     * @param {string} url
     * @return {boolean}
     */
    (url) => {
        return url.substr(0, scheme.length + 1).toLowerCase() === scheme + ':';
    }));
}
/** @type {!Scheme} */
const RELATIVE_SCHEME = new SchemeImpl((/**
 * @param {string} url
 * @return {boolean}
 */
(url) => /^[^:]*([/?#]|$)/.test(url)));
/** @type {!Scheme} */
const CALLTO_SCHEME = new SchemeImpl((/**
 * @param {string} url
 * @return {boolean}
 */
(url) => /^callto:\+?\d*$/i.test(url)));
/** @type {!Scheme} */
const SSH_SCHEME = new SchemeImpl((/**
 * @param {string} url
 * @return {boolean}
 */
(url) => url.indexOf('ssh://') === 0));
/** @type {!Scheme} */
const EXTENSION_SCHEME = new SchemeImpl((/**
 * @param {string} url
 * @return {boolean}
 */
(url) => {
    return (url.indexOf('chrome-extension://') === 0 ||
        url.indexOf('moz-extension://') === 0 ||
        url.indexOf('ms-browser-extension://') === 0);
}));
/** @type {!Scheme} */
const SIP_SCHEME = new SchemeImpl((/**
 * @param {string} url
 * @return {boolean}
 */
(url) => {
    return url.indexOf('sip:') === 0 || url.indexOf('sips:') === 0;
}));
// This used to be an enum, we preserved the name avoid changing the API.
// tslint:disable:enforce-name-casing
/**
 * The list of schemes sanitizeUrl can optionally accommodate.
 * @type {{TEL: !Scheme, CALLTO: !Scheme, SSH: !Scheme, RTSP: !Scheme, DATA: !Scheme, HTTP: !Scheme, HTTPS: !Scheme, EXTENSION: !Scheme, FTP: !Scheme, RELATIVE: !Scheme, MAILTO: !Scheme, INTENT: !Scheme, MARKET: !Scheme, ITMS: !Scheme, ITMS_APPSS: !Scheme, ITMS_SERVICES: !Scheme, FACEBOOK_MESSENGER: !Scheme, WHATSAPP: !Scheme, SIP: !Scheme, SMS: !Scheme, VND_YOUTUBE: !Scheme, GOOGLEHOME: !Scheme, GOOGLEHOMESDK: !Scheme}}
 */
exports.SanitizableUrlScheme = {
    TEL: simpleScheme('tel'),
    CALLTO: CALLTO_SCHEME,
    SSH: SSH_SCHEME,
    RTSP: simpleScheme('rtsp'),
    DATA: simpleScheme('data'),
    HTTP: simpleScheme('http'),
    HTTPS: simpleScheme('https'),
    EXTENSION: EXTENSION_SCHEME,
    FTP: simpleScheme('ftp'),
    RELATIVE: RELATIVE_SCHEME,
    MAILTO: simpleScheme('mailto'),
    INTENT: simpleScheme('intent'),
    MARKET: simpleScheme('market'),
    ITMS: simpleScheme('itms'),
    ITMS_APPSS: simpleScheme('itms-appss'),
    ITMS_SERVICES: simpleScheme('itms-services'),
    FACEBOOK_MESSENGER: simpleScheme('fb-messenger'),
    WHATSAPP: simpleScheme('whatsapp'),
    SIP: SIP_SCHEME,
    SMS: simpleScheme('sms'),
    VND_YOUTUBE: simpleScheme('vnd.youtube'),
    GOOGLEHOME: simpleScheme('googlehome'),
    GOOGLEHOMESDK: simpleScheme('googlehomesdk'),
};
// tslint:enable:enforce-name-casing
/**
 * List of schemes used by default.
 * @type {!Array<!Scheme>}
 */
const DEFAULT_SCHEMES = [
    exports.SanitizableUrlScheme.DATA,
    exports.SanitizableUrlScheme.HTTP,
    exports.SanitizableUrlScheme.HTTPS,
    exports.SanitizableUrlScheme.MAILTO,
    exports.SanitizableUrlScheme.FTP,
    exports.SanitizableUrlScheme.RELATIVE,
];
/**
 * Creates a SafeUrl object from a string `url` by sanitizing it.
 *
 * Note: If your url is partially known statically, you should prefer using the
 * `safeUrl` function directly.
 *
 * The input string is validated against the set of `allowedSchemes`, which
 * defaults to a set of commonly used safe URL schemes. If validation fails,
 * `undefined` is returned.
 *
 * If no `allowedSchemes` are passed, the `url` may use the http, https, mailto,
 * ftp or data schemes, or a relative URL (i.e., a URL without a scheme;
 * specifically, a scheme-relative, absolute-path-relative, or path-relative
 * URL).
 *
 * Other supported schemes don't have direct security issues (i.e. no JS
 * execution), but their inherent capabilities are not touched: for instance, if
 * you allow TEL only, you won't get javascript execution, but the resulting
 * link could still potentially be used to call toll numbers.
 * @param {(string|!tsickle_url_impl_5.SafeUrl)} url
 * @param {!ReadonlyArray<!Scheme>=} allowedSchemes
 * @return {(undefined|!tsickle_url_impl_5.SafeUrl)}
 */
function trySanitizeUrl(url, allowedSchemes = DEFAULT_SCHEMES) {
    if ((0, url_impl_1.isUrl)(url)) {
        return url;
    }
    // Using simple iteration because the compiler doesn't optimize this well for
    // es5.
    for (let i = 0; i < allowedSchemes.length; ++i) {
        /** @type {!Scheme} */
        const scheme = allowedSchemes[i];
        if (isValidScheme(scheme) && scheme.isValid(url)) {
            return (0, url_impl_1.createUrlInternal)(url);
        }
    }
    return undefined;
}
exports.trySanitizeUrl = trySanitizeUrl;
/**
 * Creates a SafeUrl object from a string `url` by sanitizing it.
 *
 * Works the same way as `trySanitizeUrl`, but returns an innocuous url instead
 * of `undefined`.
 * Triggers the sanitization callbacks if the url is sanitized away (see
 * addJavaScriptUrlSanitizationCallback).
 * @param {(string|!tsickle_url_impl_5.SafeUrl)} url
 * @param {!ReadonlyArray<!Scheme>=} allowedSchemes
 * @return {!tsickle_url_impl_5.SafeUrl}
 */
function sanitizeUrl(url, allowedSchemes = DEFAULT_SCHEMES) {
    /** @type {(undefined|!tsickle_url_impl_5.SafeUrl)} */
    const sanitizedUrl = trySanitizeUrl(url, allowedSchemes);
    if (sanitizedUrl === undefined) {
        triggerCallbacks(url.toString());
    }
    return sanitizedUrl || url_impl_1.INNOCUOUS_URL;
}
exports.sanitizeUrl = sanitizeUrl;
/**
 * Creates a SafeUrl object from a Blob or MediaSource. For blobs, the function
 * validates that the Blob's type is amongst the safe MIME types, and throws if
 * that's not the case.
 *
 * Caller must call `URL.revokeObjectUrl()` on the stringified url to
 * release the underlying `Blob`.
 * @param {(!Blob|!MediaSource)} source
 * @return {!tsickle_url_impl_5.SafeUrl}
 */
function objectUrlFromSafeSource(source) {
    // MediaSource support in Safari is limited
    // https://developer.mozilla.org/en-US/docs/Web/API/MediaSource#browser_compatibility
    if (typeof MediaSource !== 'undefined' && source instanceof MediaSource) {
        return (0, url_impl_1.createUrlInternal)(URL.createObjectURL(source));
    }
    /** @type {!Blob} */
    const blob = (/** @type {!Blob} */ (source));
    if (!isSafeMimeType(blob.type)) {
        /** @type {string} */
        let message = '';
        if (dev_1.DEV_MODE) {
            message = `unsafe blob MIME type: ${blob.type}`;
        }
        throw new Error(message);
    }
    return (0, url_impl_1.createUrlInternal)(URL.createObjectURL(blob));
}
exports.objectUrlFromSafeSource = objectUrlFromSafeSource;
/**
 * Creates a SafeUrl object from a MediaSource.
 * @deprecated Use objectUrlFromSafeSource.
 * @param {!MediaSource} media
 * @return {!tsickle_url_impl_5.SafeUrl}
 */
function fromMediaSource(media) {
    // MediaSource support in Safari is limited
    // https://developer.mozilla.org/en-US/docs/Web/API/MediaSource#browser_compatibility
    if (typeof MediaSource !== 'undefined' && media instanceof MediaSource) {
        return (0, url_impl_1.createUrlInternal)(URL.createObjectURL(media));
    }
    /** @type {string} */
    let message = '';
    if (dev_1.DEV_MODE) {
        message = `fromMediaSource only accepts MediaSource instances, but was called with ${media}.`;
    }
    throw new Error(message);
}
exports.fromMediaSource = fromMediaSource;
/**
 * Builds SafeUrl object from a TrustedResourceUrl. This is safe because
 * TrustedResourceUrl is more tightly restricted than SafeUrl.
 * @deprecated Unwrap to string instead. SafeUrl sinks accept string values.
 * @param {!tsickle_TrustedResourceUrl_6} url
 * @return {!tsickle_url_impl_5.SafeUrl}
 */
function fromTrustedResourceUrl(url) {
    return (0, url_impl_1.createUrlInternal)((0, resource_url_impl_1.unwrapResourceUrl)(url).toString());
}
exports.fromTrustedResourceUrl = fromTrustedResourceUrl;
/**
 * Checks whether this url prefix contains:
 *  - a fully specified and valid scheme
 *  - a character forcing it to be a relative url
 *
 * Since this function is only called with compile-time constants, we don't need
 * to be as careful as in `sanitizeUrl` and we can just check that the scheme is
 * valid and non-'javascript:'. If we discover other dangerous schemes we want
 * to prevent, we can statically find all instances and refactor them. See
 * https://url.spec.whatwg.org/#url-scheme-string for scheme validation.
 * @param {string} prefix
 * @param {boolean} isWholeUrl
 * @return {boolean}
 */
function isSafeUrlPrefix(prefix, isWholeUrl) {
    /** @type {number} */
    const markerIdx = prefix.search(/[:/?#]/);
    if (markerIdx < 0) {
        // If we don't find a marker, but there is no interpolation, the url is
        // relative
        return isWholeUrl;
    }
    if (prefix.charAt(markerIdx) !== ':') {
        // Relative URL
        return true;
    }
    /** @type {string} */
    const scheme = prefix.substring(0, markerIdx).toLowerCase();
    return /^[a-z][a-z\d+.-]*$/.test(scheme) && scheme !== 'javascript';
}
/**
 * Builds a SafeUrl from a template literal.
 *
 * Use this function if your url has a static prefix containing the whole scheme
 * of the url.
 *
 * This factory is a template literal tag function. It should be called with
 * a template literal, with or without embedded expressions. For example,
 *               safeUrl`./somepath.html`;
 * or
 *               safeUrl`data:text/html;base64,${btoa('<div></div>')}`;
 *
 * To be successfully built, we must ensure that the scheme is correctly defined
 * and not dangerous. In practice this means the first chunk of the template
 * must satisfy one of the following conditions:
 * - Start with an explicit scheme that is valid and is not `javascript`
 *    (e.g. safeUrl`https:${...}`)
 * - Start with a prefix that ensures the url is relative
 *    (e.g. safeUrl`./${...}` or safeUrl`#${...}`)
 * Embedded expressions are interpolated as-is and no URL encoding is applied.
 * @param {!TemplateStringsArray} templateObj
 * @param {...*} rest
 * @return {!tsickle_url_impl_5.SafeUrl}
 */
function safeUrl(templateObj, ...rest) {
    if (dev_1.DEV_MODE) {
        (0, string_literal_1.assertIsTemplateObject)(templateObj, rest.length);
    }
    /** @type {string} */
    const prefix = templateObj[0];
    if (dev_1.DEV_MODE) {
        if (!isSafeUrlPrefix(prefix, rest.length === 0)) {
            throw new Error(`Trying to interpolate with unsupported prefix: ${prefix}`);
        }
    }
    /** @type {!Array<string>} */
    const urlParts = [prefix];
    for (let i = 0; i < rest.length; i++) {
        urlParts.push(String(rest[i]));
        urlParts.push(templateObj[i + 1]);
    }
    return (0, url_impl_1.createUrlInternal)(urlParts.join(''));
}
exports.safeUrl = safeUrl;
/**
 * @define {boolean}
 */
const ASSUME_IMPLEMENTS_URL_API = goog.define('ASSUME_IMPLEMENTS_URL_API', 
// TODO(b/154845327) narrow this down if earlier featureset years allow,
// if they get defined. FY2020 does NOT include Edge (EdgeHTML), which is
// good as workarounds are needed for spec compliance and a searchParams
// polyfill.
goog.FEATURESET_YEAR >= 2020);
// Tests for URL browser API support. e.g. IE doesn't support it.
/** @type {boolean} */
const supportsURLAPI = (0, pure_1.pure)((/**
 * @return {boolean}
 */
() => {
    // TODO(b/155106210) Does this work without JSCompiler?
    if (ASSUME_IMPLEMENTS_URL_API) {
        return true;
    }
    return typeof URL === 'function';
}));
/**
 * @param {string} url
 * @return {(undefined|string)}
 */
function legacyExtractScheme(url) {
    /** @type {!HTMLAnchorElement} */
    const aTag = document.createElement('a');
    try {
        // We don't use the safe wrapper here because we don't want to sanitize the
        // URL (which would lead to a dependency loop anyway). This is safe because
        // this node is NEVER attached to the DOM.
        aTag.href = url;
    }
    catch (e) {
        return undefined;
    }
    // Chrome and Firefox resolve relative scheme to https directly,
    // while IE keeps a ':' or empty string protocol.
    /** @type {string} */
    const protocol = aTag.protocol;
    return protocol === ':' || protocol === '' ? 'https:' : protocol;
}
/** @typedef {function(string): void} */
var JavaScriptUrlSanitizationCallback;
// END-INTERNAL
/**
 * Extracts the scheme from the given URL. If the URL is relative, https: is
 * assumed.
 * @param {string} url The URL to extract the scheme from.
 * @return {(undefined|string)} the URL scheme.
 */
function extractScheme(url) {
    // BEGIN-INTERNAL
    // We defer to the browser URL parsing as much as possible to detect
    // javascript: schemes. However, old browsers like IE don't support it.
    if (!supportsURLAPI) {
        return legacyExtractScheme(url);
    }
    // END-INTERNAL
    /** @type {?} */
    let parsedUrl;
    try {
        parsedUrl = new URL(url);
    }
    catch (e) {
        // According to https://url.spec.whatwg.org/#constructors, the URL
        // constructor with one parameter throws if `url` is not absolute. In this
        // case, we are sure that no explicit scheme (javascript: ) is set.
        // This can also be a URL parsing error, but in this case the URL won't be
        // run anyway.
        return 'https:';
    }
    return (/** @type {!URL} */ (parsedUrl)).protocol;
}
exports.extractScheme = extractScheme;
// We can't use an ES6 Set here because gws somehow depends on this code and
// doesn't want to pay the cost of a polyfill.
/** @type {!Array<string>} */
const ALLOWED_SCHEMES = ['data:', 'http:', 'https:', 'mailto:', 'ftp:'];
/**
 * A pattern that blocks javascript: URLs. Matches
 * (a) Urls with an explicit scheme that is not javascript and that only has
 *     alphanumeric or [.-+_] characters; or
 * (b) Urls with no explicit scheme. The pattern allows the first colon
 *     (`:`) character to appear after one of  the `/` `?` or `#` characters,
 *     which means the colon appears in path, query or fragment part of the URL.
 * @type {!RegExp}
 */
exports.IS_NOT_JAVASCRIPT_URL_PATTERN = /^\s*(?!javascript:)(?:[\w+.-]+:|[^:/?#]*(?:[/?#]|$))/i;
/**
 * Checks whether a urls has a `javascript:` scheme.
 * If the url has a `javascript:` scheme, reports it and returns true.
 * Otherwise, returns false.
 * @param {string} url
 * @return {boolean}
 */
function reportJavaScriptUrl(url) {
    /** @type {boolean} */
    const hasJavascriptUrlScheme = !exports.IS_NOT_JAVASCRIPT_URL_PATTERN.test(url);
    if (hasJavascriptUrlScheme) {
        // BEGIN-EXTERNAL
        // if (DEV_MODE) {
        //   console.error(`A URL with content '${url}' was sanitized away.`);
        // }
        // END-EXTERNAL
        triggerCallbacks(url); // LINE-INTERNAL
    }
    return hasJavascriptUrlScheme;
}
exports.reportJavaScriptUrl = reportJavaScriptUrl;
/**
 * Checks that the URL scheme is not javascript.
 * The URL parsing relies on the URL API in browsers that support it.
 * @param {string} url The URL to sanitize for a SafeUrl sink.
 * @return {(undefined|string)} undefined if url has a javascript: scheme, the original URL
 *     otherwise.
 */
function sanitizeJavaScriptUrl(url) {
    if (reportJavaScriptUrl(url)) {
        return undefined;
    }
    return url;
}
exports.sanitizeJavaScriptUrl = sanitizeJavaScriptUrl;
/**
 * Type alias for URLs passed to DOM sink wrappers.
 * @typedef {(string|!tsickle_url_impl_5.SafeUrl)}
 */
exports.Url;
// END-INTERNAL
// BEGIN-EXTERNAL
// /**
//  * Type alias for URLs passed to DOM sink wrappers.
//  */
// export type Url = string;
// END-EXTERNAL
// BEGIN-EXTERNAL
// /**
//  * Adapter to sanitize string URLs in DOM sink wrappers.
//  * @return undefined if the URL was sanitized.
//  */
// END-EXTERNAL
// BEGIN-INTERNAL
/**
 * Adapter to support string and SafeUrl in DOM sink wrappers.
 * @param {(string|!tsickle_url_impl_5.SafeUrl)} url
 * @return {(undefined|string)} undefined if the URL was sanitized.
 */
// END-INTERNAL
function unwrapUrlOrSanitize(url) {
    // BEGIN-INTERNAL
    return url instanceof url_impl_1.SafeUrl ? (0, url_impl_1.unwrapUrl)(url) : sanitizeJavaScriptUrl(url);
    // END-INTERNAL
    // LINE-EXTERNAL return sanitizeJavaScriptUrl(url);
}
exports.unwrapUrlOrSanitize = unwrapUrlOrSanitize;
/**
 * Sanitizes a URL restrictively.
 * This sanitizer protects against XSS and potentially other uncommon and
 * undesirable schemes that an attacker could use e.g. phishing (tel:, callto:
 * ssh: etc schemes). This sanitizer is primarily meant to be used by the HTML
 * sanitizer.
 * @param {string} url
 * @return {string}
 */
function restrictivelySanitizeUrl(url) {
    /** @type {(undefined|string)} */
    const parsedScheme = extractScheme(url);
    if (parsedScheme !== undefined &&
        ALLOWED_SCHEMES.indexOf(parsedScheme.toLowerCase()) !== -1) {
        return url;
    }
    // BEGIN-INTERNAL
    // The sanitizer used to sanitize URLs with SafeUrl's sanitizeUrl which
    // returns this innocuous URL. We need to keep this behavior here because some
    // golden tests still expect this value.
    // TODO(b/238861489): return a short innocuous URL
    // END-INTERNAL
    return 'about:invalid#zClosurez';
}
exports.restrictivelySanitizeUrl = restrictivelySanitizeUrl;
// BEGIN-INTERNAL
// We need to avoid using ES6 Sets here to avoid the expenssive ES5 polyfill.
// This is acceptable anyway because this array should have only few elements.
/** @type {!Array<function(string): void>} */
const sanitizationCallbacks = [];
// This callback is re-defined when a new callback is registered/removed.
// When no callback is registered, there are no references to the
// sanitizationCallbacks array, which make it possible for the compiler to
// optimize it away.
/** @type {function(string): void} */
let triggerCallbacks = (/**
 * @param {string} url
 * @return {void}
 */
(url) => { });
if (dev_1.DEV_MODE) {
    addJavaScriptUrlSanitizationCallback((/**
     * @param {string} url
     * @return {void}
     */
    (url) => {
        console.warn(`A URL with content '${url}' was sanitized away.`);
    }));
}
/**
 * Registers a sanitization callback that is called whenever a javascript: URL
 * is sanitized away.
 * @param {function(string): void} callback
 * @return {void}
 */
function addJavaScriptUrlSanitizationCallback(callback) {
    if (sanitizationCallbacks.indexOf(callback) === -1) {
        sanitizationCallbacks.push(callback);
    }
    triggerCallbacks = (/**
     * @param {string} url
     * @return {void}
     */
    (url) => {
        sanitizationCallbacks.forEach((/**
         * @param {function(string): void} callback
         * @return {void}
         */
        (callback) => {
            callback(url);
        }));
    });
}
exports.addJavaScriptUrlSanitizationCallback = addJavaScriptUrlSanitizationCallback;
/**
 * Unregister the JavaScript URL sanitization callback.
 * @param {function(string): void} callback
 * @return {void}
 */
function removeJavaScriptUrlSanitizationCallback(callback) {
    /** @type {number} */
    const callbackIndex = sanitizationCallbacks.indexOf(callback);
    if (callbackIndex !== -1) {
        sanitizationCallbacks.splice(callbackIndex, 1);
    }
}
exports.removeJavaScriptUrlSanitizationCallback = removeJavaScriptUrlSanitizationCallback;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXJsX2J1aWxkZXJzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vdGhpcmRfcGFydHkvamF2YXNjcmlwdC9zYWZldmFsdWVzL2J1aWxkZXJzL3VybF9idWlsZGVycy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFNQSx3RkFBNEM7O0FBRzVDLHdGQUF1QztBQUN2QyxrSEFHd0M7QUFDeEMsNEdBQW1FO0FBQ25FLGdHQU0rQjs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFnQi9CLFNBQVMsY0FBYyxDQUFDLFFBQWdCOztVQUNoQyxLQUFLLEdBQUcsUUFBUSxDQUFDLEtBQUssQ0FBQyx5Q0FBeUMsQ0FBQztJQUN2RSxPQUFPLENBQ0wsS0FBSyxFQUFFLE1BQU0sS0FBSyxDQUFDO1FBQ25CLENBQUMsbUJBQW1CLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzVCLG1CQUFtQixDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUM3QixtQkFBbUIsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDN0Isa0JBQWtCLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FDaEMsQ0FBQztBQUNKLENBQUM7Ozs7O0FBRUQsU0FBUyxtQkFBbUIsQ0FBQyxRQUFnQjtJQUMzQyxPQUFPLDZFQUE2RSxDQUFDLElBQUksQ0FDdkYsUUFBUSxDQUNULENBQUM7QUFDSixDQUFDOzs7OztBQUVELFNBQVMsbUJBQW1CLENBQUMsUUFBZ0I7SUFDM0MsT0FBTywrREFBK0QsQ0FBQyxJQUFJLENBQ3pFLFFBQVEsQ0FDVCxDQUFDO0FBQ0osQ0FBQzs7Ozs7QUFFRCxTQUFTLG1CQUFtQixDQUFDLFFBQWdCO0lBQzNDLE9BQU8scUdBQXFHLENBQUMsSUFBSSxDQUMvRyxRQUFRLENBQ1QsQ0FBQztBQUNKLENBQUM7Ozs7O0FBRUQsU0FBUyxrQkFBa0IsQ0FBQyxR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Ozs7TUFNSyxxQkFBcUIsR0FBd0MsRUFBRTs7Ozs7O0lBTWpFLGdCQUFnQjs7OztBQUEwQixDQUFDLEdBQVcsRUFBRSxFQUFFLEdBQUUsQ0FBQyxDQUFBO0FBQ2pFLElBQUksY0FBUSxFQUFFLENBQUM7SUFDYixvQ0FBb0M7Ozs7SUFBQyxDQUFDLEdBQVcsRUFBRSxFQUFFO1FBQ25ELE9BQU8sQ0FBQyxJQUFJLENBQUMsdUJBQXVCLEdBQUcsdUJBQXVCLENBQUMsQ0FBQztJQUNsRSxDQUFDLEVBQUMsQ0FBQztBQUNMLENBQUM7Ozs7Ozs7QUFNRCxTQUFnQixvQ0FBb0MsQ0FDbEQsUUFBMkM7SUFFM0MsSUFBSSxxQkFBcUIsQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQztRQUNuRCxxQkFBcUIsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDdkMsQ0FBQztJQUNELGdCQUFnQjs7OztJQUFHLENBQUMsR0FBVyxFQUFFLEVBQUU7UUFDakMscUJBQXFCLENBQUMsT0FBTzs7OztRQUFDLENBQUMsUUFBUSxFQUFFLEVBQUU7WUFDekMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ2hCLENBQUMsRUFBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFBLENBQUM7QUFDSixDQUFDO0FBWEQsb0ZBV0M7Ozs7OztBQUtELFNBQWdCLHVDQUF1QyxDQUNyRCxRQUEyQzs7VUFFckMsYUFBYSxHQUFHLHFCQUFxQixDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUM7SUFDN0QsSUFBSSxhQUFhLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQztRQUN6QixxQkFBcUIsQ0FBQyxNQUFNLENBQUMsYUFBYSxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ2pELENBQUM7QUFDSCxDQUFDO0FBUEQsMEZBT0MiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG5pbXBvcnQge0RFVl9NT0RFfSBmcm9tICcuLi9lbnZpcm9ubWVudC9kZXYnO1xuXG4vLyBCRUdJTi1JTlRFUk5BTFxuaW1wb3J0IHtwdXJlfSBmcm9tICcuLi9pbnRlcm5hbHMvcHVyZSc7XG5pbXBvcnQge1xuICBUcnVzdGVkUmVzb3VyY2VVcmwsXG4gIHVud3JhcFJlc291cmNlVXJsLFxufSBmcm9tICcuLi9pbnRlcm5hbHMvcmVzb3VyY2VfdXJsX2ltcGwnO1xuaW1wb3J0IHthc3NlcnRJc1RlbXBsYXRlT2JqZWN0fSBmcm9tICcuLi9pbnRlcm5hbHMvc3RyaW5nX2xpdGVyYWwnO1xuaW1wb3J0IHtcbiAgSU5OT0NVT1VTX1VSTCxcbiAgU2FmZVVybCxcbiAgY3JlYXRlVXJsSW50ZXJuYWwsXG4gIGlzVXJsLFxuICB1bndyYXBVcmwsXG59IGZyb20gJy4uL2ludGVybmFscy91cmxfaW1wbCc7XG4vLyBFTkQtSU5URVJOQUxcblxuLy8gQkVHSU4tSU5URVJOQUxcbi8qKlxuICogQSBwYXR0ZXJuIHRoYXQgbWF0Y2hlcyBzYWZlIE1JTUUgdHlwZXMuIE9ubHkgbWF0Y2hlcyBpbWFnZSwgdmlkZW8gYW5kIGF1ZGlvXG4gKiB0eXBlcywgd2l0aCBzb21lIHBhcmFtZXRlciBzdXBwb3J0IChtb3N0IG5vdGFibHksIHdlIGhhdmVuJ3QgaW1wbGVtZW50ZWQgdGhlXG4gKiBtb3JlIGNvbXBsZXggcGFydHMgbGlrZSAlLWVuY29kZWQgY2hhcmFjdGVycyBvciBub24tYWxwaGFudW1lcmljYWwgb25lcyBmb3JcbiAqIHNpbXBsaWNpdHkncyBzYWtlKS4gQWxzbywgdGhlIHNwZWNzIGFyZSBmYWlybHkgY29tcGxleCwgYW5kIHRoZXkgZG9uJ3RcbiAqIG5lY2Vzc2FyaWx5IGFncmVlIHdpdGggQ2hyb21lIG9uIHNvbWUgYXNwZWN0cywgYW5kIHNvIHdlIHNldHRsZWQgb24gYSBzdWJzZXRcbiAqIHdoZXJlIHRoZSBiZWhhdmlvciBtYWtlcyBzZW5zZSB0byBhbGwgcGFydGllcyBpbnZvbHZlZC5cbiAqXG4gKiBUaGUgc3BlYyBpcyBhdmFpbGFibGUgYXQgaHR0cHM6Ly9taW1lc25pZmYuc3BlYy53aGF0d2cub3JnLyAoYW5kIHNlZVxuICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzIzOTcgZm9yIGRhdGE6IHVybHMsIHdoaWNoIG92ZXJyaWRlIHNvbWUgb2ZcbiAqIGl0KS5cbiAqL1xuZnVuY3Rpb24gaXNTYWZlTWltZVR5cGUobWltZVR5cGU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICBjb25zdCBtYXRjaCA9IG1pbWVUeXBlLm1hdGNoKC9eKFteO10rKSg/OjtcXHcrPSg/Olxcdyt8XCJbXFx3Oyw9IF0rXCIpKSokL2kpO1xuICByZXR1cm4gKFxuICAgIG1hdGNoPy5sZW5ndGggPT09IDIgJiZcbiAgICAoaXNTYWZlSW1hZ2VNaW1lVHlwZShtYXRjaFsxXSkgfHxcbiAgICAgIGlzU2FmZVZpZGVvTWltZVR5cGUobWF0Y2hbMV0pIHx8XG4gICAgICBpc1NhZmVBdWRpb01pbWVUeXBlKG1hdGNoWzFdKSB8fFxuICAgICAgaXNTYWZlRm9udE1pbWVUeXBlKG1hdGNoWzFdKSlcbiAgKTtcbn1cblxuZnVuY3Rpb24gaXNTYWZlSW1hZ2VNaW1lVHlwZShtaW1lVHlwZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gIHJldHVybiAvXmltYWdlXFwvKD86Ym1wfGdpZnxqcGVnfGpwZ3xwbmd8dGlmZnx3ZWJwfHgtaWNvbnxoZWljfGhlaWZ8YXZpZnx4LW1zLWJtcCkkL2kudGVzdChcbiAgICBtaW1lVHlwZSxcbiAgKTtcbn1cblxuZnVuY3Rpb24gaXNTYWZlVmlkZW9NaW1lVHlwZShtaW1lVHlwZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gIHJldHVybiAvXnZpZGVvXFwvKD86bXBlZ3xtcDR8b2dnfHdlYm18eC1tYXRyb3NrYXxxdWlja3RpbWV8eC1tcy13bXYpJC9pLnRlc3QoXG4gICAgbWltZVR5cGUsXG4gICk7XG59XG5cbmZ1bmN0aW9uIGlzU2FmZUF1ZGlvTWltZVR5cGUobWltZVR5cGU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICByZXR1cm4gL15hdWRpb1xcLyg/OjNncHAyfDNncHB8YWFjfGFtcnxMMTZ8bWlkaXxtcDN8bXA0fG1wZWd8b2dhfG9nZ3xvcHVzfHgtbTRhfHgtbWF0cm9za2F8eC13YXZ8d2F2fHdlYm0pJC9pLnRlc3QoXG4gICAgbWltZVR5cGUsXG4gICk7XG59XG5cbmZ1bmN0aW9uIGlzU2FmZUZvbnRNaW1lVHlwZShtaW1lVHlwZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gIHJldHVybiAvXmZvbnRcXC9cXHcrL2kudGVzdChtaW1lVHlwZSk7XG59XG5cbi8qKlxuICogSW50ZXJmYWNlIHJlcHJlc2VudGluZyBhIHNjaGVtZSB0aGF0IHNhbml0aXplVXJsIGNhbiBvcHRpb25hbGx5IGFjY29tbW9kYXRlLlxuICogRXZlbiB0aG91Z2ggdGhpcyBpbnRlcmZhY2UgY291bGQgYmUgaW1wbGVtZW50ZWQgYnkgdXNlciBjb2RlLCB0aGUgY29kZSB3aWxsXG4gKiBpZ25vcmUgYW55IGltcGxlbWVudGF0aW9uIHRoYXQgZG9lc24ndCBjb21lIGZyb20gdGhpcyBmaWxlLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNjaGVtZSB7XG4gIGlzVmFsaWQodXJsOiBzdHJpbmcpOiBib29sZWFuO1xufVxuXG5jbGFzcyBTY2hlbWVJbXBsIGltcGxlbWVudHMgU2NoZW1lIHtcbiAgY29uc3RydWN0b3IocmVhZG9ubHkgaXNWYWxpZDogKHVybDogc3RyaW5nKSA9PiBib29sZWFuKSB7fVxufVxuXG5mdW5jdGlvbiBpc1ZhbGlkU2NoZW1lKHNjaGVtZTogU2NoZW1lKTogYm9vbGVhbiB7XG4gIHJldHVybiBzY2hlbWUgaW5zdGFuY2VvZiBTY2hlbWVJbXBsO1xufVxuXG5mdW5jdGlvbiBzaW1wbGVTY2hlbWUoc2NoZW1lOiBzdHJpbmcpOiBTY2hlbWUge1xuICByZXR1cm4gbmV3IFNjaGVtZUltcGwoKHVybDogc3RyaW5nKSA9PiB7XG4gICAgcmV0dXJuIHVybC5zdWJzdHIoMCwgc2NoZW1lLmxlbmd0aCArIDEpLnRvTG93ZXJDYXNlKCkgPT09IHNjaGVtZSArICc6JztcbiAgfSk7XG59XG5cbmNvbnN0IFJFTEFUSVZFX1NDSEVNRTogU2NoZW1lID0gbmV3IFNjaGVtZUltcGwoKHVybDogc3RyaW5nKSA9PlxuICAvXlteOl0qKFsvPyNdfCQpLy50ZXN0KHVybCksXG4pO1xuXG5jb25zdCBDQUxMVE9fU0NIRU1FOiBTY2hlbWUgPSBuZXcgU2NoZW1lSW1wbCgodXJsOiBzdHJpbmcpID0+XG4gIC9eY2FsbHRvOlxcKz9cXGQqJC9pLnRlc3QodXJsKSxcbik7XG5cbmNvbnN0IFNTSF9TQ0hFTUU6IFNjaGVtZSA9IG5ldyBTY2hlbWVJbXBsKFxuICAodXJsOiBzdHJpbmcpID0+IHVybC5pbmRleE9mKCdzc2g6Ly8nKSA9PT0gMCxcbik7XG5cbmNvbnN0IEVYVEVOU0lPTl9TQ0hFTUU6IFNjaGVtZSA9IG5ldyBTY2hlbWVJbXBsKCh1cmw6IHN0cmluZykgPT4ge1xuICByZXR1cm4gKFxuICAgIHVybC5pbmRleE9mKCdjaHJvbWUtZXh0ZW5zaW9uOi8vJykgPT09IDAgfHxcbiAgICB1cmwuaW5kZXhPZignbW96LWV4dGVuc2lvbjovLycpID09PSAwIHx8XG4gICAgdXJsLmluZGV4T2YoJ21zLWJyb3dzZXItZXh0ZW5zaW9uOi8vJykgPT09IDBcbiAgKTtcbn0pO1xuXG5jb25zdCBTSVBfU0NIRU1FOiBTY2hlbWUgPSBuZXcgU2NoZW1lSW1wbCgodXJsOiBzdHJpbmcpID0+IHtcbiAgcmV0dXJuIHVybC5pbmRleE9mKCdzaXA6JykgPT09IDAgfHwgdXJsLmluZGV4T2YoJ3NpcHM6JykgPT09IDA7XG59KTtcblxuLy8gVGhpcyB1c2VkIHRvIGJlIGFuIGVudW0sIHdlIHByZXNlcnZlZCB0aGUgbmFtZSBhdm9pZCBjaGFuZ2luZyB0aGUgQVBJLlxuLy8gdHNsaW50OmRpc2FibGU6ZW5mb3JjZS1uYW1lLWNhc2luZ1xuLyoqIFRoZSBsaXN0IG9mIHNjaGVtZXMgc2FuaXRpemVVcmwgY2FuIG9wdGlvbmFsbHkgYWNjb21tb2RhdGUuICovXG5leHBvcnQgY29uc3QgU2FuaXRpemFibGVVcmxTY2hlbWUgPSB7XG4gIFRFTDogc2ltcGxlU2NoZW1lKCd0ZWwnKSxcbiAgQ0FMTFRPOiBDQUxMVE9fU0NIRU1FLFxuICBTU0g6IFNTSF9TQ0hFTUUsXG4gIFJUU1A6IHNpbXBsZVNjaGVtZSgncnRzcCcpLFxuICBEQVRBOiBzaW1wbGVTY2hlbWUoJ2RhdGEnKSxcbiAgSFRUUDogc2ltcGxlU2NoZW1lKCdodHRwJyksXG4gIEhUVFBTOiBzaW1wbGVTY2hlbWUoJ2h0dHBzJyksXG4gIEVYVEVOU0lPTjogRVhURU5TSU9OX1NDSEVNRSxcbiAgRlRQOiBzaW1wbGVTY2hlbWUoJ2Z0cCcpLFxuICBSRUxBVElWRTogUkVMQVRJVkVfU0NIRU1FLFxuICBNQUlMVE86IHNpbXBsZVNjaGVtZSgnbWFpbHRvJyksXG4gIElOVEVOVDogc2ltcGxlU2NoZW1lKCdpbnRlbnQnKSxcbiAgTUFSS0VUOiBzaW1wbGVTY2hlbWUoJ21hcmtldCcpLFxuICBJVE1TOiBzaW1wbGVTY2hlbWUoJ2l0bXMnKSxcbiAgSVRNU19BUFBTUzogc2ltcGxlU2NoZW1lKCdpdG1zLWFwcHNzJyksXG4gIElUTVNfU0VSVklDRVM6IHNpbXBsZVNjaGVtZSgnaXRtcy1zZXJ2aWNlcycpLFxuICBGQUNFQk9PS19NRVNTRU5HRVI6IHNpbXBsZVNjaGVtZSgnZmItbWVzc2VuZ2VyJyksXG4gIFdIQVRTQVBQOiBzaW1wbGVTY2hlbWUoJ3doYXRzYXBwJyksXG4gIFNJUDogU0lQX1NDSEVNRSxcbiAgU01TOiBzaW1wbGVTY2hlbWUoJ3NtcycpLFxuICBWTkRfWU9VVFVCRTogc2ltcGxlU2NoZW1lKCd2bmQueW91dHViZScpLFxuICBHT09HTEVIT01FOiBzaW1wbGVTY2hlbWUoJ2dvb2dsZWhvbWUnKSxcbiAgR09PR0xFSE9NRVNESzogc2ltcGxlU2NoZW1lKCdnb29nbGVob21lc2RrJyksXG59O1xuLy8gdHNsaW50OmVuYWJsZTplbmZvcmNlLW5hbWUtY2FzaW5nXG5cbi8qKiBMaXN0IG9mIHNjaGVtZXMgdXNlZCBieSBkZWZhdWx0LiAqL1xuY29uc3QgREVGQVVMVF9TQ0hFTUVTID0gW1xuICBTYW5pdGl6YWJsZVVybFNjaGVtZS5EQVRBLFxuICBTYW5pdGl6YWJsZVVybFNjaGVtZS5IVFRQLFxuICBTYW5pdGl6YWJsZVVybFNjaGVtZS5IVFRQUyxcbiAgU2FuaXRpemFibGVVcmxTY2hlbWUuTUFJTFRPLFxuICBTYW5pdGl6YWJsZVVybFNjaGVtZS5GVFAsXG4gIFNhbml0aXphYmxlVXJsU2NoZW1lLlJFTEFUSVZFLFxuXTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgU2FmZVVybCBvYmplY3QgZnJvbSBhIHN0cmluZyBgdXJsYCBieSBzYW5pdGl6aW5nIGl0LlxuICpcbiAqIE5vdGU6IElmIHlvdXIgdXJsIGlzIHBhcnRpYWxseSBrbm93biBzdGF0aWNhbGx5LCB5b3Ugc2hvdWxkIHByZWZlciB1c2luZyB0aGVcbiAqIGBzYWZlVXJsYCBmdW5jdGlvbiBkaXJlY3RseS5cbiAqXG4gKiBUaGUgaW5wdXQgc3RyaW5nIGlzIHZhbGlkYXRlZCBhZ2FpbnN0IHRoZSBzZXQgb2YgYGFsbG93ZWRTY2hlbWVzYCwgd2hpY2hcbiAqIGRlZmF1bHRzIHRvIGEgc2V0IG9mIGNvbW1vbmx5IHVzZWQgc2FmZSBVUkwgc2NoZW1lcy4gSWYgdmFsaWRhdGlvbiBmYWlscyxcbiAqIGB1bmRlZmluZWRgIGlzIHJldHVybmVkLlxuICpcbiAqIElmIG5vIGBhbGxvd2VkU2NoZW1lc2AgYXJlIHBhc3NlZCwgdGhlIGB1cmxgIG1heSB1c2UgdGhlIGh0dHAsIGh0dHBzLCBtYWlsdG8sXG4gKiBmdHAgb3IgZGF0YSBzY2hlbWVzLCBvciBhIHJlbGF0aXZlIFVSTCAoaS5lLiwgYSBVUkwgd2l0aG91dCBhIHNjaGVtZTtcbiAqIHNwZWNpZmljYWxseSwgYSBzY2hlbWUtcmVsYXRpdmUsIGFic29sdXRlLXBhdGgtcmVsYXRpdmUsIG9yIHBhdGgtcmVsYXRpdmVcbiAqIFVSTCkuXG4gKlxuICogT3RoZXIgc3VwcG9ydGVkIHNjaGVtZXMgZG9uJ3QgaGF2ZSBkaXJlY3Qgc2VjdXJpdHkgaXNzdWVzIChpLmUuIG5vIEpTXG4gKiBleGVjdXRpb24pLCBidXQgdGhlaXIgaW5oZXJlbnQgY2FwYWJpbGl0aWVzIGFyZSBub3QgdG91Y2hlZDogZm9yIGluc3RhbmNlLCBpZlxuICogeW91IGFsbG93IFRFTCBvbmx5LCB5b3Ugd29uJ3QgZ2V0IGphdmFzY3JpcHQgZXhlY3V0aW9uLCBidXQgdGhlIHJlc3VsdGluZ1xuICogbGluayBjb3VsZCBzdGlsbCBwb3RlbnRpYWxseSBiZSB1c2VkIHRvIGNhbGwgdG9sbCBudW1iZXJzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJ5U2FuaXRpemVVcmwoXG4gIHVybDogc3RyaW5nIHwgU2FmZVVybCxcbiAgYWxsb3dlZFNjaGVtZXM6IHJlYWRvbmx5IFNjaGVtZVtdID0gREVGQVVMVF9TQ0hFTUVTLFxuKTogU2FmZVVybCB8IHVuZGVmaW5lZCB7XG4gIGlmIChpc1VybCh1cmwpKSB7XG4gICAgcmV0dXJuIHVybDtcbiAgfVxuICAvLyBVc2luZyBzaW1wbGUgaXRlcmF0aW9uIGJlY2F1c2UgdGhlIGNvbXBpbGVyIGRvZXNuJ3Qgb3B0aW1pemUgdGhpcyB3ZWxsIGZvclxuICAvLyBlczUuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYWxsb3dlZFNjaGVtZXMubGVuZ3RoOyArK2kpIHtcbiAgICBjb25zdCBzY2hlbWUgPSBhbGxvd2VkU2NoZW1lc1tpXTtcbiAgICBpZiAoaXNWYWxpZFNjaGVtZShzY2hlbWUpICYmIHNjaGVtZS5pc1ZhbGlkKHVybCkpIHtcbiAgICAgIHJldHVybiBjcmVhdGVVcmxJbnRlcm5hbCh1cmwpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBTYWZlVXJsIG9iamVjdCBmcm9tIGEgc3RyaW5nIGB1cmxgIGJ5IHNhbml0aXppbmcgaXQuXG4gKlxuICogV29ya3MgdGhlIHNhbWUgd2F5IGFzIGB0cnlTYW5pdGl6ZVVybGAsIGJ1dCByZXR1cm5zIGFuIGlubm9jdW91cyB1cmwgaW5zdGVhZFxuICogb2YgYHVuZGVmaW5lZGAuXG4gKiBUcmlnZ2VycyB0aGUgc2FuaXRpemF0aW9uIGNhbGxiYWNrcyBpZiB0aGUgdXJsIGlzIHNhbml0aXplZCBhd2F5IChzZWVcbiAqIGFkZEphdmFTY3JpcHRVcmxTYW5pdGl6YXRpb25DYWxsYmFjaykuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzYW5pdGl6ZVVybChcbiAgdXJsOiBzdHJpbmcgfCBTYWZlVXJsLFxuICBhbGxvd2VkU2NoZW1lczogcmVhZG9ubHkgU2NoZW1lW10gPSBERUZBVUxUX1NDSEVNRVMsXG4pOiBTYWZlVXJsIHtcbiAgY29uc3Qgc2FuaXRpemVkVXJsID0gdHJ5U2FuaXRpemVVcmwodXJsLCBhbGxvd2VkU2NoZW1lcyk7XG4gIGlmIChzYW5pdGl6ZWRVcmwgPT09IHVuZGVmaW5lZCkge1xuICAgIHRyaWdnZXJDYWxsYmFja3ModXJsLnRvU3RyaW5nKCkpO1xuICB9XG4gIHJldHVybiBzYW5pdGl6ZWRVcmwgfHwgSU5OT0NVT1VTX1VSTDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgU2FmZVVybCBvYmplY3QgZnJvbSBhIEJsb2Igb3IgTWVkaWFTb3VyY2UuIEZvciBibG9icywgdGhlIGZ1bmN0aW9uXG4gKiB2YWxpZGF0ZXMgdGhhdCB0aGUgQmxvYidzIHR5cGUgaXMgYW1vbmdzdCB0aGUgc2FmZSBNSU1FIHR5cGVzLCBhbmQgdGhyb3dzIGlmXG4gKiB0aGF0J3Mgbm90IHRoZSBjYXNlLlxuICpcbiAqIENhbGxlciBtdXN0IGNhbGwgYFVSTC5yZXZva2VPYmplY3RVcmwoKWAgb24gdGhlIHN0cmluZ2lmaWVkIHVybCB0b1xuICogcmVsZWFzZSB0aGUgdW5kZXJseWluZyBgQmxvYmAuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvYmplY3RVcmxGcm9tU2FmZVNvdXJjZShzb3VyY2U6IEJsb2IgfCBNZWRpYVNvdXJjZSk6IFNhZmVVcmwge1xuICAvLyBNZWRpYVNvdXJjZSBzdXBwb3J0IGluIFNhZmFyaSBpcyBsaW1pdGVkXG4gIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9NZWRpYVNvdXJjZSNicm93c2VyX2NvbXBhdGliaWxpdHlcbiAgaWYgKHR5cGVvZiBNZWRpYVNvdXJjZSAhPT0gJ3VuZGVmaW5lZCcgJiYgc291cmNlIGluc3RhbmNlb2YgTWVkaWFTb3VyY2UpIHtcbiAgICByZXR1cm4gY3JlYXRlVXJsSW50ZXJuYWwoVVJMLmNyZWF0ZU9iamVjdFVSTChzb3VyY2UpKTtcbiAgfVxuICBjb25zdCBibG9iID0gc291cmNlIGFzIEJsb2I7XG4gIGlmICghaXNTYWZlTWltZVR5cGUoYmxvYi50eXBlKSkge1xuICAgIGxldCBtZXNzYWdlID0gJyc7XG4gICAgaWYgKERFVl9NT0RFKSB7XG4gICAgICBtZXNzYWdlID0gYHVuc2FmZSBibG9iIE1JTUUgdHlwZTogJHtibG9iLnR5cGV9YDtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICB9XG4gIHJldHVybiBjcmVhdGVVcmxJbnRlcm5hbChVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpKTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgU2FmZVVybCBvYmplY3QgZnJvbSBhIE1lZGlhU291cmNlLlxuICogQGRlcHJlY2F0ZWQgVXNlIG9iamVjdFVybEZyb21TYWZlU291cmNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbU1lZGlhU291cmNlKG1lZGlhOiBNZWRpYVNvdXJjZSk6IFNhZmVVcmwge1xuICAvLyBNZWRpYVNvdXJjZSBzdXBwb3J0IGluIFNhZmFyaSBpcyBsaW1pdGVkXG4gIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9NZWRpYVNvdXJjZSNicm93c2VyX2NvbXBhdGliaWxpdHlcbiAgaWYgKHR5cGVvZiBNZWRpYVNvdXJjZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbWVkaWEgaW5zdGFuY2VvZiBNZWRpYVNvdXJjZSkge1xuICAgIHJldHVybiBjcmVhdGVVcmxJbnRlcm5hbChVUkwuY3JlYXRlT2JqZWN0VVJMKG1lZGlhKSk7XG4gIH1cbiAgbGV0IG1lc3NhZ2UgPSAnJztcbiAgaWYgKERFVl9NT0RFKSB7XG4gICAgbWVzc2FnZSA9IGBmcm9tTWVkaWFTb3VyY2Ugb25seSBhY2NlcHRzIE1lZGlhU291cmNlIGluc3RhbmNlcywgYnV0IHdhcyBjYWxsZWQgd2l0aCAke21lZGlhfS5gO1xuICB9XG4gIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbn1cblxuLyoqXG4gKiBCdWlsZHMgU2FmZVVybCBvYmplY3QgZnJvbSBhIFRydXN0ZWRSZXNvdXJjZVVybC4gVGhpcyBpcyBzYWZlIGJlY2F1c2VcbiAqIFRydXN0ZWRSZXNvdXJjZVVybCBpcyBtb3JlIHRpZ2h0bHkgcmVzdHJpY3RlZCB0aGFuIFNhZmVVcmwuXG4gKiBAZGVwcmVjYXRlZCBVbndyYXAgdG8gc3RyaW5nIGluc3RlYWQuIFNhZmVVcmwgc2lua3MgYWNjZXB0IHN0cmluZyB2YWx1ZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tVHJ1c3RlZFJlc291cmNlVXJsKHVybDogVHJ1c3RlZFJlc291cmNlVXJsKSB7XG4gIHJldHVybiBjcmVhdGVVcmxJbnRlcm5hbCh1bndyYXBSZXNvdXJjZVVybCh1cmwpLnRvU3RyaW5nKCkpO1xufVxuXG4vKipcbiAqIENoZWNrcyB3aGV0aGVyIHRoaXMgdXJsIHByZWZpeCBjb250YWluczpcbiAqICAtIGEgZnVsbHkgc3BlY2lmaWVkIGFuZCB2YWxpZCBzY2hlbWVcbiAqICAtIGEgY2hhcmFjdGVyIGZvcmNpbmcgaXQgdG8gYmUgYSByZWxhdGl2ZSB1cmxcbiAqXG4gKiBTaW5jZSB0aGlzIGZ1bmN0aW9uIGlzIG9ubHkgY2FsbGVkIHdpdGggY29tcGlsZS10aW1lIGNvbnN0YW50cywgd2UgZG9uJ3QgbmVlZFxuICogdG8gYmUgYXMgY2FyZWZ1bCBhcyBpbiBgc2FuaXRpemVVcmxgIGFuZCB3ZSBjYW4ganVzdCBjaGVjayB0aGF0IHRoZSBzY2hlbWUgaXNcbiAqIHZhbGlkIGFuZCBub24tJ2phdmFzY3JpcHQ6Jy4gSWYgd2UgZGlzY292ZXIgb3RoZXIgZGFuZ2Vyb3VzIHNjaGVtZXMgd2Ugd2FudFxuICogdG8gcHJldmVudCwgd2UgY2FuIHN0YXRpY2FsbHkgZmluZCBhbGwgaW5zdGFuY2VzIGFuZCByZWZhY3RvciB0aGVtLiBTZWVcbiAqIGh0dHBzOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jdXJsLXNjaGVtZS1zdHJpbmcgZm9yIHNjaGVtZSB2YWxpZGF0aW9uLlxuICovXG5mdW5jdGlvbiBpc1NhZmVVcmxQcmVmaXgocHJlZml4OiBzdHJpbmcsIGlzV2hvbGVVcmw6IGJvb2xlYW4pOiBib29sZWFuIHtcbiAgY29uc3QgbWFya2VySWR4ID0gcHJlZml4LnNlYXJjaCgvWzovPyNdLyk7XG4gIGlmIChtYXJrZXJJZHggPCAwKSB7XG4gICAgLy8gSWYgd2UgZG9uJ3QgZmluZCBhIG1hcmtlciwgYnV0IHRoZXJlIGlzIG5vIGludGVycG9sYXRpb24sIHRoZSB1cmwgaXNcbiAgICAvLyByZWxhdGl2ZVxuICAgIHJldHVybiBpc1dob2xlVXJsO1xuICB9XG4gIGlmIChwcmVmaXguY2hhckF0KG1hcmtlcklkeCkgIT09ICc6Jykge1xuICAgIC8vIFJlbGF0aXZlIFVSTFxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgY29uc3Qgc2NoZW1lID0gcHJlZml4LnN1YnN0cmluZygwLCBtYXJrZXJJZHgpLnRvTG93ZXJDYXNlKCk7XG4gIHJldHVybiAvXlthLXpdW2EtelxcZCsuLV0qJC8udGVzdChzY2hlbWUpICYmIHNjaGVtZSAhPT0gJ2phdmFzY3JpcHQnO1xufVxuXG4vKipcbiAqIEJ1aWxkcyBhIFNhZmVVcmwgZnJvbSBhIHRlbXBsYXRlIGxpdGVyYWwuXG4gKlxuICogVXNlIHRoaXMgZnVuY3Rpb24gaWYgeW91ciB1cmwgaGFzIGEgc3RhdGljIHByZWZpeCBjb250YWluaW5nIHRoZSB3aG9sZSBzY2hlbWVcbiAqIG9mIHRoZSB1cmwuXG4gKlxuICogVGhpcyBmYWN0b3J5IGlzIGEgdGVtcGxhdGUgbGl0ZXJhbCB0YWcgZnVuY3Rpb24uIEl0IHNob3VsZCBiZSBjYWxsZWQgd2l0aFxuICogYSB0ZW1wbGF0ZSBsaXRlcmFsLCB3aXRoIG9yIHdpdGhvdXQgZW1iZWRkZWQgZXhwcmVzc2lvbnMuIEZvciBleGFtcGxlLFxuICogICAgICAgICAgICAgICBzYWZlVXJsYC4vc29tZXBhdGguaHRtbGA7XG4gKiBvclxuICogICAgICAgICAgICAgICBzYWZlVXJsYGRhdGE6dGV4dC9odG1sO2Jhc2U2NCwke2J0b2EoJzxkaXY+PC9kaXY+Jyl9YDtcbiAqXG4gKiBUbyBiZSBzdWNjZXNzZnVsbHkgYnVpbHQsIHdlIG11c3QgZW5zdXJlIHRoYXQgdGhlIHNjaGVtZSBpcyBjb3JyZWN0bHkgZGVmaW5lZFxuICogYW5kIG5vdCBkYW5nZXJvdXMuIEluIHByYWN0aWNlIHRoaXMgbWVhbnMgdGhlIGZpcnN0IGNodW5rIG9mIHRoZSB0ZW1wbGF0ZVxuICogbXVzdCBzYXRpc2Z5IG9uZSBvZiB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKiAtIFN0YXJ0IHdpdGggYW4gZXhwbGljaXQgc2NoZW1lIHRoYXQgaXMgdmFsaWQgYW5kIGlzIG5vdCBgamF2YXNjcmlwdGBcbiAqICAgIChlLmcuIHNhZmVVcmxgaHR0cHM6JHsuLi59YClcbiAqIC0gU3RhcnQgd2l0aCBhIHByZWZpeCB0aGF0IGVuc3VyZXMgdGhlIHVybCBpcyByZWxhdGl2ZVxuICogICAgKGUuZy4gc2FmZVVybGAuLyR7Li4ufWAgb3Igc2FmZVVybGAjJHsuLi59YClcbiAqIEVtYmVkZGVkIGV4cHJlc3Npb25zIGFyZSBpbnRlcnBvbGF0ZWQgYXMtaXMgYW5kIG5vIFVSTCBlbmNvZGluZyBpcyBhcHBsaWVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2FmZVVybCh0ZW1wbGF0ZU9iajogVGVtcGxhdGVTdHJpbmdzQXJyYXksIC4uLnJlc3Q6IHVua25vd25bXSkge1xuICBpZiAoREVWX01PREUpIHtcbiAgICBhc3NlcnRJc1RlbXBsYXRlT2JqZWN0KHRlbXBsYXRlT2JqLCByZXN0Lmxlbmd0aCk7XG4gIH1cblxuICBjb25zdCBwcmVmaXggPSB0ZW1wbGF0ZU9ialswXTtcbiAgaWYgKERFVl9NT0RFKSB7XG4gICAgaWYgKCFpc1NhZmVVcmxQcmVmaXgocHJlZml4LCByZXN0Lmxlbmd0aCA9PT0gMCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYFRyeWluZyB0byBpbnRlcnBvbGF0ZSB3aXRoIHVuc3VwcG9ydGVkIHByZWZpeDogJHtwcmVmaXh9YCxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgdXJsUGFydHMgPSBbcHJlZml4XTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdXJsUGFydHMucHVzaChTdHJpbmcocmVzdFtpXSkpO1xuICAgIHVybFBhcnRzLnB1c2godGVtcGxhdGVPYmpbaSArIDFdKTtcbiAgfVxuICByZXR1cm4gY3JlYXRlVXJsSW50ZXJuYWwodXJsUGFydHMuam9pbignJykpO1xufVxuXG4vKipcbiAqIEBkZWZpbmVcbiAqL1xuY29uc3QgQVNTVU1FX0lNUExFTUVOVFNfVVJMX0FQSSA9IGdvb2cuZGVmaW5lKFxuICAnQVNTVU1FX0lNUExFTUVOVFNfVVJMX0FQSScsXG4gIC8vIFRPRE8oYi8xNTQ4NDUzMjcpIG5hcnJvdyB0aGlzIGRvd24gaWYgZWFybGllciBmZWF0dXJlc2V0IHllYXJzIGFsbG93LFxuICAvLyBpZiB0aGV5IGdldCBkZWZpbmVkLiBGWTIwMjAgZG9lcyBOT1QgaW5jbHVkZSBFZGdlIChFZGdlSFRNTCksIHdoaWNoIGlzXG4gIC8vIGdvb2QgYXMgd29ya2Fyb3VuZHMgYXJlIG5lZWRlZCBmb3Igc3BlYyBjb21wbGlhbmNlIGFuZCBhIHNlYXJjaFBhcmFtc1xuICAvLyBwb2x5ZmlsbC5cbiAgZ29vZy5GRUFUVVJFU0VUX1lFQVIgPj0gMjAyMCxcbik7XG5cbi8vIFRlc3RzIGZvciBVUkwgYnJvd3NlciBBUEkgc3VwcG9ydC4gZS5nLiBJRSBkb2Vzbid0IHN1cHBvcnQgaXQuXG5jb25zdCBzdXBwb3J0c1VSTEFQSSA9IHB1cmUoKCkgPT4ge1xuICAvLyBUT0RPKGIvMTU1MTA2MjEwKSBEb2VzIHRoaXMgd29yayB3aXRob3V0IEpTQ29tcGlsZXI/XG4gIGlmIChBU1NVTUVfSU1QTEVNRU5UU19VUkxfQVBJKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIHR5cGVvZiBVUkwgPT09ICdmdW5jdGlvbic7XG59KTtcblxuZnVuY3Rpb24gbGVnYWN5RXh0cmFjdFNjaGVtZSh1cmw6IHN0cmluZyk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG4gIGNvbnN0IGFUYWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gIHRyeSB7XG4gICAgLy8gV2UgZG9uJ3QgdXNlIHRoZSBzYWZlIHdyYXBwZXIgaGVyZSBiZWNhdXNlIHdlIGRvbid0IHdhbnQgdG8gc2FuaXRpemUgdGhlXG4gICAgLy8gVVJMICh3aGljaCB3b3VsZCBsZWFkIHRvIGEgZGVwZW5kZW5jeSBsb29wIGFueXdheSkuIFRoaXMgaXMgc2FmZSBiZWNhdXNlXG4gICAgLy8gdGhpcyBub2RlIGlzIE5FVkVSIGF0dGFjaGVkIHRvIHRoZSBET00uXG4gICAgYVRhZy5ocmVmID0gdXJsO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuICAvLyBDaHJvbWUgYW5kIEZpcmVmb3ggcmVzb2x2ZSByZWxhdGl2ZSBzY2hlbWUgdG8gaHR0cHMgZGlyZWN0bHksXG4gIC8vIHdoaWxlIElFIGtlZXBzIGEgJzonIG9yIGVtcHR5IHN0cmluZyBwcm90b2NvbC5cbiAgY29uc3QgcHJvdG9jb2wgPSBhVGFnLnByb3RvY29sO1xuICByZXR1cm4gcHJvdG9jb2wgPT09ICc6JyB8fCBwcm90b2NvbCA9PT0gJycgPyAnaHR0cHM6JyA6IHByb3RvY29sO1xufVxuXG50eXBlIEphdmFTY3JpcHRVcmxTYW5pdGl6YXRpb25DYWxsYmFjayA9ICh1cmw6IHN0cmluZykgPT4gdm9pZDtcbi8vIEVORC1JTlRFUk5BTFxuXG4vKipcbiAqIEV4dHJhY3RzIHRoZSBzY2hlbWUgZnJvbSB0aGUgZ2l2ZW4gVVJMLiBJZiB0aGUgVVJMIGlzIHJlbGF0aXZlLCBodHRwczogaXNcbiAqIGFzc3VtZWQuXG4gKiBAcGFyYW0gdXJsIFRoZSBVUkwgdG8gZXh0cmFjdCB0aGUgc2NoZW1lIGZyb20uXG4gKiBAcmV0dXJuIHRoZSBVUkwgc2NoZW1lLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZXh0cmFjdFNjaGVtZSh1cmw6IHN0cmluZyk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG4gIC8vIEJFR0lOLUlOVEVSTkFMXG4gIC8vIFdlIGRlZmVyIHRvIHRoZSBicm93c2VyIFVSTCBwYXJzaW5nIGFzIG11Y2ggYXMgcG9zc2libGUgdG8gZGV0ZWN0XG4gIC8vIGphdmFzY3JpcHQ6IHNjaGVtZXMuIEhvd2V2ZXIsIG9sZCBicm93c2VycyBsaWtlIElFIGRvbid0IHN1cHBvcnQgaXQuXG4gIGlmICghc3VwcG9ydHNVUkxBUEkpIHtcbiAgICByZXR1cm4gbGVnYWN5RXh0cmFjdFNjaGVtZSh1cmwpO1xuICB9XG4gIC8vIEVORC1JTlRFUk5BTFxuICBsZXQgcGFyc2VkVXJsO1xuICB0cnkge1xuICAgIHBhcnNlZFVybCA9IG5ldyBVUkwodXJsKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIC8vIEFjY29yZGluZyB0byBodHRwczovL3VybC5zcGVjLndoYXR3Zy5vcmcvI2NvbnN0cnVjdG9ycywgdGhlIFVSTFxuICAgIC8vIGNvbnN0cnVjdG9yIHdpdGggb25lIHBhcmFtZXRlciB0aHJvd3MgaWYgYHVybGAgaXMgbm90IGFic29sdXRlLiBJbiB0aGlzXG4gICAgLy8gY2FzZSwgd2UgYXJlIHN1cmUgdGhhdCBubyBleHBsaWNpdCBzY2hlbWUgKGphdmFzY3JpcHQ6ICkgaXMgc2V0LlxuICAgIC8vIFRoaXMgY2FuIGFsc28gYmUgYSBVUkwgcGFyc2luZyBlcnJvciwgYnV0IGluIHRoaXMgY2FzZSB0aGUgVVJMIHdvbid0IGJlXG4gICAgLy8gcnVuIGFueXdheS5cbiAgICByZXR1cm4gJ2h0dHBzOic7XG4gIH1cbiAgcmV0dXJuIHBhcnNlZFVybC5wcm90b2NvbDtcbn1cblxuLy8gV2UgY2FuJ3QgdXNlIGFuIEVTNiBTZXQgaGVyZSBiZWNhdXNlIGd3cyBzb21laG93IGRlcGVuZHMgb24gdGhpcyBjb2RlIGFuZFxuLy8gZG9lc24ndCB3YW50IHRvIHBheSB0aGUgY29zdCBvZiBhIHBvbHlmaWxsLlxuY29uc3QgQUxMT1dFRF9TQ0hFTUVTID0gWydkYXRhOicsICdodHRwOicsICdodHRwczonLCAnbWFpbHRvOicsICdmdHA6J107XG5cbi8qKlxuICogQSBwYXR0ZXJuIHRoYXQgYmxvY2tzIGphdmFzY3JpcHQ6IFVSTHMuIE1hdGNoZXNcbiAqIChhKSBVcmxzIHdpdGggYW4gZXhwbGljaXQgc2NoZW1lIHRoYXQgaXMgbm90IGphdmFzY3JpcHQgYW5kIHRoYXQgb25seSBoYXNcbiAqICAgICBhbHBoYW51bWVyaWMgb3IgWy4tK19dIGNoYXJhY3RlcnM7IG9yXG4gKiAoYikgVXJscyB3aXRoIG5vIGV4cGxpY2l0IHNjaGVtZS4gVGhlIHBhdHRlcm4gYWxsb3dzIHRoZSBmaXJzdCBjb2xvblxuICogICAgIChgOmApIGNoYXJhY3RlciB0byBhcHBlYXIgYWZ0ZXIgb25lIG9mICB0aGUgYC9gIGA/YCBvciBgI2AgY2hhcmFjdGVycyxcbiAqICAgICB3aGljaCBtZWFucyB0aGUgY29sb24gYXBwZWFycyBpbiBwYXRoLCBxdWVyeSBvciBmcmFnbWVudCBwYXJ0IG9mIHRoZSBVUkwuXG4gKi9cbmV4cG9ydCBjb25zdCBJU19OT1RfSkFWQVNDUklQVF9VUkxfUEFUVEVSTiA9XG4gIC9eXFxzKig/IWphdmFzY3JpcHQ6KSg/OltcXHcrLi1dKzp8W146Lz8jXSooPzpbLz8jXXwkKSkvaTtcblxuLyoqXG4gKiBDaGVja3Mgd2hldGhlciBhIHVybHMgaGFzIGEgYGphdmFzY3JpcHQ6YCBzY2hlbWUuXG4gKiBJZiB0aGUgdXJsIGhhcyBhIGBqYXZhc2NyaXB0OmAgc2NoZW1lLCByZXBvcnRzIGl0IGFuZCByZXR1cm5zIHRydWUuXG4gKiBPdGhlcndpc2UsIHJldHVybnMgZmFsc2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXBvcnRKYXZhU2NyaXB0VXJsKHVybDogc3RyaW5nKTogYm9vbGVhbiB7XG4gIGNvbnN0IGhhc0phdmFzY3JpcHRVcmxTY2hlbWUgPSAhSVNfTk9UX0pBVkFTQ1JJUFRfVVJMX1BBVFRFUk4udGVzdCh1cmwpO1xuICBpZiAoaGFzSmF2YXNjcmlwdFVybFNjaGVtZSkge1xuICAgIC8vIEJFR0lOLUVYVEVSTkFMXG4gICAgLy8gaWYgKERFVl9NT0RFKSB7XG4gICAgLy8gICBjb25zb2xlLmVycm9yKGBBIFVSTCB3aXRoIGNvbnRlbnQgJyR7dXJsfScgd2FzIHNhbml0aXplZCBhd2F5LmApO1xuICAgIC8vIH1cbiAgICAvLyBFTkQtRVhURVJOQUxcbiAgICB0cmlnZ2VyQ2FsbGJhY2tzKHVybCk7IC8vIExJTkUtSU5URVJOQUxcbiAgfVxuICByZXR1cm4gaGFzSmF2YXNjcmlwdFVybFNjaGVtZTtcbn1cblxuLyoqXG4gKiBDaGVja3MgdGhhdCB0aGUgVVJMIHNjaGVtZSBpcyBub3QgamF2YXNjcmlwdC5cbiAqIFRoZSBVUkwgcGFyc2luZyByZWxpZXMgb24gdGhlIFVSTCBBUEkgaW4gYnJvd3NlcnMgdGhhdCBzdXBwb3J0IGl0LlxuICogQHBhcmFtIHVybCBUaGUgVVJMIHRvIHNhbml0aXplIGZvciBhIFNhZmVVcmwgc2luay5cbiAqIEByZXR1cm4gdW5kZWZpbmVkIGlmIHVybCBoYXMgYSBqYXZhc2NyaXB0OiBzY2hlbWUsIHRoZSBvcmlnaW5hbCBVUkxcbiAqICAgICBvdGhlcndpc2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzYW5pdGl6ZUphdmFTY3JpcHRVcmwodXJsOiBzdHJpbmcpOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICBpZiAocmVwb3J0SmF2YVNjcmlwdFVybCh1cmwpKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuICByZXR1cm4gdXJsO1xufVxuXG4vLyBCRUdJTi1JTlRFUk5BTFxuLyoqXG4gKiBUeXBlIGFsaWFzIGZvciBVUkxzIHBhc3NlZCB0byBET00gc2luayB3cmFwcGVycy5cbiAqL1xuZXhwb3J0IHR5cGUgVXJsID0gc3RyaW5nIHwgU2FmZVVybDtcbi8vIEVORC1JTlRFUk5BTFxuLy8gQkVHSU4tRVhURVJOQUxcbi8vIC8qKlxuLy8gICogVHlwZSBhbGlhcyBmb3IgVVJMcyBwYXNzZWQgdG8gRE9NIHNpbmsgd3JhcHBlcnMuXG4vLyAgKi9cbi8vIGV4cG9ydCB0eXBlIFVybCA9IHN0cmluZztcbi8vIEVORC1FWFRFUk5BTFxuXG4vLyBCRUdJTi1FWFRFUk5BTFxuLy8gLyoqXG4vLyAgKiBBZGFwdGVyIHRvIHNhbml0aXplIHN0cmluZyBVUkxzIGluIERPTSBzaW5rIHdyYXBwZXJzLlxuLy8gICogQHJldHVybiB1bmRlZmluZWQgaWYgdGhlIFVSTCB3YXMgc2FuaXRpemVkLlxuLy8gICovXG4vLyBFTkQtRVhURVJOQUxcbi8vIEJFR0lOLUlOVEVSTkFMXG4vKipcbiAqIEFkYXB0ZXIgdG8gc3VwcG9ydCBzdHJpbmcgYW5kIFNhZmVVcmwgaW4gRE9NIHNpbmsgd3JhcHBlcnMuXG4gKiBAcmV0dXJuIHVuZGVmaW5lZCBpZiB0aGUgVVJMIHdhcyBzYW5pdGl6ZWQuXG4gKi9cbi8vIEVORC1JTlRFUk5BTFxuZXhwb3J0IGZ1bmN0aW9uIHVud3JhcFVybE9yU2FuaXRpemUodXJsOiBVcmwpOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICAvLyBCRUdJTi1JTlRFUk5BTFxuICByZXR1cm4gdXJsIGluc3RhbmNlb2YgU2FmZVVybCA/IHVud3JhcFVybCh1cmwpIDogc2FuaXRpemVKYXZhU2NyaXB0VXJsKHVybCk7XG4gIC8vIEVORC1JTlRFUk5BTFxuICAvLyBMSU5FLUVYVEVSTkFMIHJldHVybiBzYW5pdGl6ZUphdmFTY3JpcHRVcmwodXJsKTtcbn1cblxuLyoqXG4gKiBTYW5pdGl6ZXMgYSBVUkwgcmVzdHJpY3RpdmVseS5cbiAqIFRoaXMgc2FuaXRpemVyIHByb3RlY3RzIGFnYWluc3QgWFNTIGFuZCBwb3RlbnRpYWxseSBvdGhlciB1bmNvbW1vbiBhbmRcbiAqIHVuZGVzaXJhYmxlIHNjaGVtZXMgdGhhdCBhbiBhdHRhY2tlciBjb3VsZCB1c2UgZS5nLiBwaGlzaGluZyAodGVsOiwgY2FsbHRvOlxuICogc3NoOiBldGMgc2NoZW1lcykuIFRoaXMgc2FuaXRpemVyIGlzIHByaW1hcmlseSBtZWFudCB0byBiZSB1c2VkIGJ5IHRoZSBIVE1MXG4gKiBzYW5pdGl6ZXIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXN0cmljdGl2ZWx5U2FuaXRpemVVcmwodXJsOiBzdHJpbmcpOiBzdHJpbmcge1xuICBjb25zdCBwYXJzZWRTY2hlbWUgPSBleHRyYWN0U2NoZW1lKHVybCk7XG4gIGlmIChcbiAgICBwYXJzZWRTY2hlbWUgIT09IHVuZGVmaW5lZCAmJlxuICAgIEFMTE9XRURfU0NIRU1FUy5pbmRleE9mKHBhcnNlZFNjaGVtZS50b0xvd2VyQ2FzZSgpKSAhPT0gLTFcbiAgKSB7XG4gICAgcmV0dXJuIHVybDtcbiAgfVxuICAvLyBCRUdJTi1JTlRFUk5BTFxuICAvLyBUaGUgc2FuaXRpemVyIHVzZWQgdG8gc2FuaXRpemUgVVJMcyB3aXRoIFNhZmVVcmwncyBzYW5pdGl6ZVVybCB3aGljaFxuICAvLyByZXR1cm5zIHRoaXMgaW5ub2N1b3VzIFVSTC4gV2UgbmVlZCB0byBrZWVwIHRoaXMgYmVoYXZpb3IgaGVyZSBiZWNhdXNlIHNvbWVcbiAgLy8gZ29sZGVuIHRlc3RzIHN0aWxsIGV4cGVjdCB0aGlzIHZhbHVlLlxuICAvLyBUT0RPKGIvMjM4ODYxNDg5KTogcmV0dXJuIGEgc2hvcnQgaW5ub2N1b3VzIFVSTFxuICAvLyBFTkQtSU5URVJOQUxcbiAgcmV0dXJuICdhYm91dDppbnZhbGlkI3pDbG9zdXJleic7XG59XG5cbi8vIEJFR0lOLUlOVEVSTkFMXG5cbi8vIFdlIG5lZWQgdG8gYXZvaWQgdXNpbmcgRVM2IFNldHMgaGVyZSB0byBhdm9pZCB0aGUgZXhwZW5zc2l2ZSBFUzUgcG9seWZpbGwuXG4vLyBUaGlzIGlzIGFjY2VwdGFibGUgYW55d2F5IGJlY2F1c2UgdGhpcyBhcnJheSBzaG91bGQgaGF2ZSBvbmx5IGZldyBlbGVtZW50cy5cbmNvbnN0IHNhbml0aXphdGlvbkNhbGxiYWNrczogSmF2YVNjcmlwdFVybFNhbml0aXphdGlvbkNhbGxiYWNrW10gPSBbXTtcblxuLy8gVGhpcyBjYWxsYmFjayBpcyByZS1kZWZpbmVkIHdoZW4gYSBuZXcgY2FsbGJhY2sgaXMgcmVnaXN0ZXJlZC9yZW1vdmVkLlxuLy8gV2hlbiBubyBjYWxsYmFjayBpcyByZWdpc3RlcmVkLCB0aGVyZSBhcmUgbm8gcmVmZXJlbmNlcyB0byB0aGVcbi8vIHNhbml0aXphdGlvbkNhbGxiYWNrcyBhcnJheSwgd2hpY2ggbWFrZSBpdCBwb3NzaWJsZSBmb3IgdGhlIGNvbXBpbGVyIHRvXG4vLyBvcHRpbWl6ZSBpdCBhd2F5LlxubGV0IHRyaWdnZXJDYWxsYmFja3M6ICh1cmw6IHN0cmluZykgPT4gdm9pZCA9ICh1cmw6IHN0cmluZykgPT4ge307XG5pZiAoREVWX01PREUpIHtcbiAgYWRkSmF2YVNjcmlwdFVybFNhbml0aXphdGlvbkNhbGxiYWNrKCh1cmw6IHN0cmluZykgPT4ge1xuICAgIGNvbnNvbGUud2FybihgQSBVUkwgd2l0aCBjb250ZW50ICcke3VybH0nIHdhcyBzYW5pdGl6ZWQgYXdheS5gKTtcbiAgfSk7XG59XG5cbi8qKlxuICogUmVnaXN0ZXJzIGEgc2FuaXRpemF0aW9uIGNhbGxiYWNrIHRoYXQgaXMgY2FsbGVkIHdoZW5ldmVyIGEgamF2YXNjcmlwdDogVVJMXG4gKiBpcyBzYW5pdGl6ZWQgYXdheS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZEphdmFTY3JpcHRVcmxTYW5pdGl6YXRpb25DYWxsYmFjayhcbiAgY2FsbGJhY2s6IEphdmFTY3JpcHRVcmxTYW5pdGl6YXRpb25DYWxsYmFjayxcbik6IHZvaWQge1xuICBpZiAoc2FuaXRpemF0aW9uQ2FsbGJhY2tzLmluZGV4T2YoY2FsbGJhY2spID09PSAtMSkge1xuICAgIHNhbml0aXphdGlvbkNhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcbiAgfVxuICB0cmlnZ2VyQ2FsbGJhY2tzID0gKHVybDogc3RyaW5nKSA9PiB7XG4gICAgc2FuaXRpemF0aW9uQ2FsbGJhY2tzLmZvckVhY2goKGNhbGxiYWNrKSA9PiB7XG4gICAgICBjYWxsYmFjayh1cmwpO1xuICAgIH0pO1xuICB9O1xufVxuXG4vKipcbiAqIFVucmVnaXN0ZXIgdGhlIEphdmFTY3JpcHQgVVJMIHNhbml0aXphdGlvbiBjYWxsYmFjay5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUphdmFTY3JpcHRVcmxTYW5pdGl6YXRpb25DYWxsYmFjayhcbiAgY2FsbGJhY2s6IEphdmFTY3JpcHRVcmxTYW5pdGl6YXRpb25DYWxsYmFjayxcbik6IHZvaWQge1xuICBjb25zdCBjYWxsYmFja0luZGV4ID0gc2FuaXRpemF0aW9uQ2FsbGJhY2tzLmluZGV4T2YoY2FsbGJhY2spO1xuICBpZiAoY2FsbGJhY2tJbmRleCAhPT0gLTEpIHtcbiAgICBzYW5pdGl6YXRpb25DYWxsYmFja3Muc3BsaWNlKGNhbGxiYWNrSW5kZXgsIDEpO1xuICB9XG59XG4vLyBFTkQtSU5URVJOQUxcbiJdfQ==
;return exports;});

//third_party/javascript/safevalues/internals/script_impl.closure.js
goog.loadModule(function(exports) {'use strict';/**
 * @license
 * Copyright Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
/**
 * @fileoverview Internal implementations of SafeScript.
 * Generated from: third_party/javascript/safevalues/internals/script_impl.ts
 * @suppress {checkTypes} added by tsickle
 * @suppress {extraRequire} added by tsickle
 * @suppress {missingRequire} added by tsickle
 * @suppress {uselessCode} added by tsickle
 * @suppress {suspiciousCode} added by tsickle
 * @suppress {missingReturn} added by tsickle
 * @suppress {unusedPrivateMembers} added by tsickle
 * @suppress {missingOverride} added by tsickle
 * @suppress {const} added by tsickle
 */
goog.module('google3.third_party.javascript.safevalues.internals.script_impl');
var module = module || { id: 'third_party/javascript/safevalues/internals/script_impl.closure.js' };
goog.require('google3.third_party.javascript.tslib.tslib');
const tsickle_trustedtypes_1 = goog.requireType("goog.html.trustedtypes");
const tsickle_dev_2 = goog.requireType("google3.third_party.javascript.safevalues.environment.dev");
const tsickle_pure_3 = goog.requireType("google3.third_party.javascript.safevalues.internals.pure");
const tsickle_secrets_4 = goog.requireType("google3.third_party.javascript.safevalues.internals.secrets");
const trustedtypes_1 = goog.require('goog.html.trustedtypes');
const dev_1 = goog.require('google3.third_party.javascript.safevalues.environment.dev');
const pure_1 = goog.require('google3.third_party.javascript.safevalues.internals.pure');
const secrets_1 = goog.require('google3.third_party.javascript.safevalues.internals.secrets');
/** @type {?} */
const trustedTypes = goog.global.trustedTypes;
/**
 * JavaScript code that is safe to evaluate and use as the content of an HTML
 * script element.
 */
class SafeScript {
    /**
     * @private
     * @param {!Object} token
     * @param {(string|!TrustedScript)} value
     */
    constructor(token, value) {
        if (dev_1.DEV_MODE) {
            (0, secrets_1.ensureTokenIsValid)(token);
        }
        this.privateDoNotAccessOrElseWrappedScript = value;
    }
    /**
     * @public
     * @return {string}
     */
    toString() {
        // String coercion minimizes code size.
        // tslint:disable-next-line:restrict-plus-operands
        return this.privateDoNotAccessOrElseWrappedScript + '';
    }
}
exports.SafeScript = SafeScript;
/* istanbul ignore if */
if (false) {
    /**
     * @const {(string|!TrustedScript)}
     * @private
     */
    SafeScript.prototype.privateDoNotAccessOrElseWrappedScript;
}
// WARNING: interface has both a type and a value, skipping emit
/** @type {function(new:SafeScript, !Object, (string|!TrustedScript))} */
const ScriptImpl = (/** @type {function(new:SafeScript, !Object, (string|!TrustedScript))} */ (SafeScript));
/**
 * @param {(string|!TrustedScript)} value
 * @return {!SafeScript}
 */
function constructScript(value) {
    return new ScriptImpl(secrets_1.secretToken, value);
}
/**
 * Builds a new `SafeScript` from the given string, without enforcing
 * safety guarantees. It may cause side effects by creating a Trusted Types
 * policy. This shouldn't be exposed to application developers, and must only be
 * used as a step towards safe builders or safe constants.
 * @param {string} value
 * @return {!SafeScript}
 */
function createScriptInternal(value) {
    /**
     * @noinline
     * @type {string}
     */
    const noinlineValue = value;
    /** @type {(null|!TrustedTypePolicy<!TrustedTypePolicyOptions>)} */
    const policy = (0, trustedtypes_1.getPolicyPrivateDoNotAccessOrElse)();
    return constructScript(policy ? policy.createScript(noinlineValue) : noinlineValue);
}
exports.createScriptInternal = createScriptInternal;
/**
 * An empty `SafeScript` constant.
 * Unlike the functions above, using this will not create a policy.
 * @type {!SafeScript}
 */
exports.EMPTY_SCRIPT = (0, pure_1.pure)((/**
 * @return {!SafeScript}
 */
() => constructScript(trustedTypes ? trustedTypes.emptyScript : '')));
/**
 * Checks if the given value is a `SafeScript` instance
 * @param {*} value
 * @return {boolean}
 */
function isScript(value) {
    return value instanceof SafeScript;
}
exports.isScript = isScript;
/**
 * Returns the value of the passed `SafeScript` object while ensuring it
 * has the correct type.
 *
 * Returns a native `TrustedScript` or a string if Trusted Types are disabled.
 * @param {!SafeScript} value
 * @return {(string|!TrustedScript)}
 */
function unwrapScript(value) {
    if (isScript(value)) {
        return ((/** @type {?} */ ((/** @type {*} */ (value)))))
            .privateDoNotAccessOrElseWrappedScript;
    }
    else {
        /** @type {string} */
        let message = '';
        if (dev_1.DEV_MODE) {
            message = 'Unexpected type when unwrapping SafeScript';
        }
        throw new Error(message);
    }
}
exports.unwrapScript = unwrapScript;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2NyaXB0X2ltcGwuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi90aGlyZF9wYXJ0eS9qYXZhc2NyaXB0L3NhZmV2YWx1ZXMvaW50ZXJuYWxzL3NjcmlwdF9pbXBsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFRQSw4REFBMkc7QUFFM0csd0ZBQTRDO0FBRTVDLHdGQUE0QjtBQUM1Qiw4RkFBMEQ7O01BRXBELFlBQVksR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLFlBQVk7Ozs7O0FBTTdDLE1BQWEsVUFBVTs7Ozs7O0lBS3JCLFlBQW9CLEtBQWEsRUFBRSxLQUE2QjtRQUM5RCxJQUFJLGNBQVEsRUFBRSxDQUFDO1lBQ2IsSUFBQSw0QkFBa0IsRUFBQyxLQUFLLENBQUMsQ0FBQztRQUM1QixDQUFDO1FBRUQsSUFBSSxDQUFDLHFDQUFxQyxHQUFHLEtBQUssQ0FBQztJQUNyRCxDQUFDOzs7OztJQUVELFFBQVE7UUFDTix1Q0FBdUM7UUFDdkMsa0RBQWtEO1FBQ2xELE9BQU8sSUFBSSxDQUFDLHFDQUFxQyxHQUFHLEVBQUUsQ0FBQztJQUN6RCxDQUFDO0NBQ0Y7QUFsQkQsZ0NBa0JDOzs7Ozs7O0lBakJDLDJEQUVXOzs7O01Bb0JQLFVBQVUsR0FBRyw0RUFBQSxVQUFVLEVBRTVCOzs7OztBQUVELFNBQVMsZUFBZSxDQUFDLEtBQTZCO0lBQ3BELE9BQU8sSUFBSSxVQUFVLENBQUMscUJBQVcsRUFBRSxLQUFLLENBQUMsQ0FBQztBQUM1QyxDQUFDOzs7Ozs7Ozs7QUFRRCxTQUFnQixvQkFBb0IsQ0FBQyxLQUFhOzs7OztVQUUxQyxhQUFhLEdBQUcsS0FBSzs7VUFDckIsTUFBTSxHQUFHLElBQUEsZ0RBQWlDLEdBQUU7SUFDbEQsT0FBTyxlQUFlLENBQ3BCLE1BQU0sQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLENBQUMsYUFBYSxDQUM1RCxDQUFDO0FBQ0osQ0FBQztBQVBELG9EQU9DOzs7Ozs7QUFNWSxRQUFBLFlBQVksR0FBZSxJQUFBLFdBQUk7OztBQUFDLEdBQUcsRUFBRSxDQUNoRCxlQUFlLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxZQUFZLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFDOUQ7Ozs7OztBQUdELFNBQWdCLFFBQVEsQ0FBQyxLQUFjO0lBQ3JDLE9BQU8sS0FBSyxZQUFZLFVBQVUsQ0FBQztBQUNyQyxDQUFDO0FBRkQsNEJBRUM7Ozs7Ozs7OztBQVFELFNBQWdCLFlBQVksQ0FBQyxLQUFpQjtJQUM1QyxJQUFJLFFBQVEsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDO1FBQ3BCLE9BQU8sQ0FBQyxtQkFBQSxtQkFBQSxLQUFLLEVBQVcsRUFBYyxDQUFDO2FBQ3BDLHFDQUFxQyxDQUFDO0lBQzNDLENBQUM7U0FBTSxDQUFDOztZQUNGLE9BQU8sR0FBRyxFQUFFO1FBQ2hCLElBQUksY0FBUSxFQUFFLENBQUM7WUFDYixPQUFPLEdBQUcsNENBQTRDLENBQUM7UUFDekQsQ0FBQztRQUNELE1BQU0sSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDM0IsQ0FBQztBQUNILENBQUM7QUFYRCxvQ0FXQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbi8qKiBAZmlsZW92ZXJ2aWV3IEludGVybmFsIGltcGxlbWVudGF0aW9ucyBvZiBTYWZlU2NyaXB0LiAqL1xuXG5pbXBvcnQge2dldFBvbGljeVByaXZhdGVEb05vdEFjY2Vzc09yRWxzZX0gZnJvbSAnZ29vZ2xlMy90aGlyZF9wYXJ0eS9qYXZhc2NyaXB0L2Nsb3N1cmUvaHRtbC90cnVzdGVkdHlwZXMnO1xuXG5pbXBvcnQge0RFVl9NT0RFfSBmcm9tICcuLi9lbnZpcm9ubWVudC9kZXYnO1xuXG5pbXBvcnQge3B1cmV9IGZyb20gJy4vcHVyZSc7XG5pbXBvcnQge2Vuc3VyZVRva2VuSXNWYWxpZCwgc2VjcmV0VG9rZW59IGZyb20gJy4vc2VjcmV0cyc7XG5cbmNvbnN0IHRydXN0ZWRUeXBlcyA9IGdvb2cuZ2xvYmFsLnRydXN0ZWRUeXBlcztcblxuLyoqXG4gKiBKYXZhU2NyaXB0IGNvZGUgdGhhdCBpcyBzYWZlIHRvIGV2YWx1YXRlIGFuZCB1c2UgYXMgdGhlIGNvbnRlbnQgb2YgYW4gSFRNTFxuICogc2NyaXB0IGVsZW1lbnQuXG4gKi9cbmV4cG9ydCBjbGFzcyBTYWZlU2NyaXB0IHtcbiAgcHJpdmF0ZSByZWFkb25seSBwcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2VXcmFwcGVkU2NyaXB0OlxuICAgIHwgVHJ1c3RlZFNjcmlwdFxuICAgIHwgc3RyaW5nO1xuXG4gIHByaXZhdGUgY29uc3RydWN0b3IodG9rZW46IG9iamVjdCwgdmFsdWU6IFRydXN0ZWRTY3JpcHQgfCBzdHJpbmcpIHtcbiAgICBpZiAoREVWX01PREUpIHtcbiAgICAgIGVuc3VyZVRva2VuSXNWYWxpZCh0b2tlbik7XG4gICAgfVxuXG4gICAgdGhpcy5wcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2VXcmFwcGVkU2NyaXB0ID0gdmFsdWU7XG4gIH1cblxuICB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgIC8vIFN0cmluZyBjb2VyY2lvbiBtaW5pbWl6ZXMgY29kZSBzaXplLlxuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpyZXN0cmljdC1wbHVzLW9wZXJhbmRzXG4gICAgcmV0dXJuIHRoaXMucHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlV3JhcHBlZFNjcmlwdCArICcnO1xuICB9XG59XG5cbmludGVyZmFjZSBTY3JpcHRJbXBsIHtcbiAgcHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlV3JhcHBlZFNjcmlwdDogVHJ1c3RlZFNjcmlwdCB8IHN0cmluZztcbn1cbmNvbnN0IFNjcmlwdEltcGwgPSBTYWZlU2NyaXB0IGFzIHtcbiAgbmV3ICh0b2tlbjogb2JqZWN0LCB2YWx1ZTogVHJ1c3RlZFNjcmlwdCB8IHN0cmluZyk6IFNhZmVTY3JpcHQ7XG59O1xuXG5mdW5jdGlvbiBjb25zdHJ1Y3RTY3JpcHQodmFsdWU6IFRydXN0ZWRTY3JpcHQgfCBzdHJpbmcpOiBTYWZlU2NyaXB0IHtcbiAgcmV0dXJuIG5ldyBTY3JpcHRJbXBsKHNlY3JldFRva2VuLCB2YWx1ZSk7XG59XG5cbi8qKlxuICogQnVpbGRzIGEgbmV3IGBTYWZlU2NyaXB0YCBmcm9tIHRoZSBnaXZlbiBzdHJpbmcsIHdpdGhvdXQgZW5mb3JjaW5nXG4gKiBzYWZldHkgZ3VhcmFudGVlcy4gSXQgbWF5IGNhdXNlIHNpZGUgZWZmZWN0cyBieSBjcmVhdGluZyBhIFRydXN0ZWQgVHlwZXNcbiAqIHBvbGljeS4gVGhpcyBzaG91bGRuJ3QgYmUgZXhwb3NlZCB0byBhcHBsaWNhdGlvbiBkZXZlbG9wZXJzLCBhbmQgbXVzdCBvbmx5IGJlXG4gKiB1c2VkIGFzIGEgc3RlcCB0b3dhcmRzIHNhZmUgYnVpbGRlcnMgb3Igc2FmZSBjb25zdGFudHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTY3JpcHRJbnRlcm5hbCh2YWx1ZTogc3RyaW5nKTogU2FmZVNjcmlwdCB7XG4gIC8qKiBAbm9pbmxpbmUgKi9cbiAgY29uc3Qgbm9pbmxpbmVWYWx1ZSA9IHZhbHVlO1xuICBjb25zdCBwb2xpY3kgPSBnZXRQb2xpY3lQcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2UoKTtcbiAgcmV0dXJuIGNvbnN0cnVjdFNjcmlwdChcbiAgICBwb2xpY3kgPyBwb2xpY3kuY3JlYXRlU2NyaXB0KG5vaW5saW5lVmFsdWUpIDogbm9pbmxpbmVWYWx1ZSxcbiAgKTtcbn1cblxuLyoqXG4gKiBBbiBlbXB0eSBgU2FmZVNjcmlwdGAgY29uc3RhbnQuXG4gKiBVbmxpa2UgdGhlIGZ1bmN0aW9ucyBhYm92ZSwgdXNpbmcgdGhpcyB3aWxsIG5vdCBjcmVhdGUgYSBwb2xpY3kuXG4gKi9cbmV4cG9ydCBjb25zdCBFTVBUWV9TQ1JJUFQ6IFNhZmVTY3JpcHQgPSBwdXJlKCgpID0+XG4gIGNvbnN0cnVjdFNjcmlwdCh0cnVzdGVkVHlwZXMgPyB0cnVzdGVkVHlwZXMuZW1wdHlTY3JpcHQgOiAnJyksXG4pO1xuXG4vKiogQ2hlY2tzIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBhIGBTYWZlU2NyaXB0YCBpbnN0YW5jZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzU2NyaXB0KHZhbHVlOiB1bmtub3duKTogdmFsdWUgaXMgU2FmZVNjcmlwdCB7XG4gIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFNhZmVTY3JpcHQ7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgdmFsdWUgb2YgdGhlIHBhc3NlZCBgU2FmZVNjcmlwdGAgb2JqZWN0IHdoaWxlIGVuc3VyaW5nIGl0XG4gKiBoYXMgdGhlIGNvcnJlY3QgdHlwZS5cbiAqXG4gKiBSZXR1cm5zIGEgbmF0aXZlIGBUcnVzdGVkU2NyaXB0YCBvciBhIHN0cmluZyBpZiBUcnVzdGVkIFR5cGVzIGFyZSBkaXNhYmxlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVud3JhcFNjcmlwdCh2YWx1ZTogU2FmZVNjcmlwdCk6IFRydXN0ZWRTY3JpcHQgfCBzdHJpbmcge1xuICBpZiAoaXNTY3JpcHQodmFsdWUpKSB7XG4gICAgcmV0dXJuICh2YWx1ZSBhcyB1bmtub3duIGFzIFNjcmlwdEltcGwpXG4gICAgICAucHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlV3JhcHBlZFNjcmlwdDtcbiAgfSBlbHNlIHtcbiAgICBsZXQgbWVzc2FnZSA9ICcnO1xuICAgIGlmIChERVZfTU9ERSkge1xuICAgICAgbWVzc2FnZSA9ICdVbmV4cGVjdGVkIHR5cGUgd2hlbiB1bndyYXBwaW5nIFNhZmVTY3JpcHQnO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG4gIH1cbn1cbiJdfQ==
;return exports;});

//third_party/javascript/safevalues/internals/style_impl.closure.js
goog.loadModule(function(exports) {'use strict';/**
 * @license
 * Copyright Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
/**
 * @fileoverview Internal implementations of SafeStyle.
 * Generated from: third_party/javascript/safevalues/internals/style_impl.ts
 * @suppress {checkTypes} added by tsickle
 * @suppress {extraRequire} added by tsickle
 * @suppress {missingRequire} added by tsickle
 * @suppress {uselessCode} added by tsickle
 * @suppress {suspiciousCode} added by tsickle
 * @suppress {missingReturn} added by tsickle
 * @suppress {unusedPrivateMembers} added by tsickle
 * @suppress {missingOverride} added by tsickle
 * @suppress {const} added by tsickle
 */
goog.module('google3.third_party.javascript.safevalues.internals.style_impl');
var module = module || { id: 'third_party/javascript/safevalues/internals/style_impl.closure.js' };
goog.require('google3.third_party.javascript.tslib.tslib');
const tsickle_dev_1 = goog.requireType("google3.third_party.javascript.safevalues.environment.dev");
const tsickle_secrets_2 = goog.requireType("google3.third_party.javascript.safevalues.internals.secrets");
const dev_1 = goog.require('google3.third_party.javascript.safevalues.environment.dev');
const secrets_1 = goog.require('google3.third_party.javascript.safevalues.internals.secrets');
/**
 * Sequence of CSS declarations safe to use in inline style contexts in an HTML
 * document or in DOM APIs.
 *
 * Note: This contract is deprecated and no longer enforced by conformance.
 * See go/deleting-safestyle for more information.
 * Reach out to http://yaqs/ise-web if you have any questions.
 */
class SafeStyle {
    /**
     * @private
     * @param {!Object} token
     * @param {string} value
     */
    constructor(token, value) {
        if (dev_1.DEV_MODE) {
            (0, secrets_1.ensureTokenIsValid)(token);
        }
        this.privateDoNotAccessOrElseWrappedStyle = value;
    }
    /**
     * @public
     * @return {string}
     */
    toString() {
        return this.privateDoNotAccessOrElseWrappedStyle;
    }
}
exports.SafeStyle = SafeStyle;
/* istanbul ignore if */
if (false) {
    /**
     * @const {string}
     * @private
     */
    SafeStyle.prototype.privateDoNotAccessOrElseWrappedStyle;
}
// WARNING: interface has both a type and a value, skipping emit
/** @type {function(new:SafeStyle, !Object, string)} */
const StyleImpl = (/** @type {function(new:SafeStyle, !Object, string)} */ (SafeStyle));
/**
 * Builds a new `SafeStyle` from the given string, without enforcing
 * safety guarantees. This shouldn't be exposed to application developers, and
 * must only be used as a step towards safe builders or safe constants.
 * @param {string} value
 * @return {!SafeStyle}
 */
function createStyleInternal(value) {
    return new StyleImpl(secrets_1.secretToken, value);
}
exports.createStyleInternal = createStyleInternal;
/**
 * Checks if the given value is a `SafeStyle` instance.
 * @param {*} value
 * @return {boolean}
 */
function isStyle(value) {
    return value instanceof SafeStyle;
}
exports.isStyle = isStyle;
/**
 * Returns the string value of the passed `SafeStyle` object while ensuring it
 * has the correct type.
 * @param {!SafeStyle} value
 * @return {string}
 */
function unwrapStyle(value) {
    if (isStyle(value)) {
        return ((/** @type {?} */ ((/** @type {*} */ (value))))).privateDoNotAccessOrElseWrappedStyle;
    }
    /** @type {string} */
    let message = '';
    if (dev_1.DEV_MODE) {
        message = `Unexpected type when unwrapping SafeStyle, got '${value}' of type '${typeof value}'`;
    }
    throw new Error(message);
}
exports.unwrapStyle = unwrapStyle;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3R5bGVfaW1wbC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL3RoaXJkX3BhcnR5L2phdmFzY3JpcHQvc2FmZXZhbHVlcy9pbnRlcm5hbHMvc3R5bGVfaW1wbC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVFBLHdGQUE0QztBQUU1Qyw4RkFBMEQ7Ozs7Ozs7OztBQVUxRCxNQUFhLFNBQVM7Ozs7OztJQUdwQixZQUFvQixLQUFhLEVBQUUsS0FBYTtRQUM5QyxJQUFJLGNBQVEsRUFBRSxDQUFDO1lBQ2IsSUFBQSw0QkFBa0IsRUFBQyxLQUFLLENBQUMsQ0FBQztRQUM1QixDQUFDO1FBRUQsSUFBSSxDQUFDLG9DQUFvQyxHQUFHLEtBQUssQ0FBQztJQUNwRCxDQUFDOzs7OztJQUVELFFBQVE7UUFDTixPQUFPLElBQUksQ0FBQyxvQ0FBb0MsQ0FBQztJQUNuRCxDQUFDO0NBQ0Y7QUFkRCw4QkFjQzs7Ozs7OztJQWJDLHlEQUE4RDs7OztNQWtCMUQsU0FBUyxHQUFHLDBEQUFBLFNBQVMsRUFFMUI7Ozs7Ozs7O0FBT0QsU0FBZ0IsbUJBQW1CLENBQUMsS0FBYTtJQUMvQyxPQUFPLElBQUksU0FBUyxDQUFDLHFCQUFXLEVBQUUsS0FBSyxDQUFDLENBQUM7QUFDM0MsQ0FBQztBQUZELGtEQUVDOzs7Ozs7QUFLRCxTQUFnQixPQUFPLENBQUMsS0FBYztJQUNwQyxPQUFPLEtBQUssWUFBWSxTQUFTLENBQUM7QUFDcEMsQ0FBQztBQUZELDBCQUVDOzs7Ozs7O0FBTUQsU0FBZ0IsV0FBVyxDQUFDLEtBQWdCO0lBQzFDLElBQUksT0FBTyxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUM7UUFDbkIsT0FBTyxDQUFDLG1CQUFBLG1CQUFBLEtBQUssRUFBVyxFQUFhLENBQUMsQ0FBQyxvQ0FBb0MsQ0FBQztJQUM5RSxDQUFDOztRQUNHLE9BQU8sR0FBRyxFQUFFO0lBQ2hCLElBQUksY0FBUSxFQUFFLENBQUM7UUFDYixPQUFPLEdBQUcsbURBQW1ELEtBQUssY0FBYyxPQUFPLEtBQUssR0FBRyxDQUFDO0lBQ2xHLENBQUM7SUFDRCxNQUFNLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0FBQzNCLENBQUM7QUFURCxrQ0FTQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbi8qKiBAZmlsZW92ZXJ2aWV3IEludGVybmFsIGltcGxlbWVudGF0aW9ucyBvZiBTYWZlU3R5bGUuICovXG5cbmltcG9ydCB7REVWX01PREV9IGZyb20gJy4uL2Vudmlyb25tZW50L2Rldic7XG5cbmltcG9ydCB7ZW5zdXJlVG9rZW5Jc1ZhbGlkLCBzZWNyZXRUb2tlbn0gZnJvbSAnLi9zZWNyZXRzJztcblxuLyoqXG4gKiBTZXF1ZW5jZSBvZiBDU1MgZGVjbGFyYXRpb25zIHNhZmUgdG8gdXNlIGluIGlubGluZSBzdHlsZSBjb250ZXh0cyBpbiBhbiBIVE1MXG4gKiBkb2N1bWVudCBvciBpbiBET00gQVBJcy5cbiAqXG4gKiBOb3RlOiBUaGlzIGNvbnRyYWN0IGlzIGRlcHJlY2F0ZWQgYW5kIG5vIGxvbmdlciBlbmZvcmNlZCBieSBjb25mb3JtYW5jZS5cbiAqIFNlZSBnby9kZWxldGluZy1zYWZlc3R5bGUgZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gKiBSZWFjaCBvdXQgdG8gaHR0cDovL3lhcXMvaXNlLXdlYiBpZiB5b3UgaGF2ZSBhbnkgcXVlc3Rpb25zLlxuICovXG5leHBvcnQgY2xhc3MgU2FmZVN0eWxlIHtcbiAgcHJpdmF0ZSByZWFkb25seSBwcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2VXcmFwcGVkU3R5bGU6IHN0cmluZztcblxuICBwcml2YXRlIGNvbnN0cnVjdG9yKHRva2VuOiBvYmplY3QsIHZhbHVlOiBzdHJpbmcpIHtcbiAgICBpZiAoREVWX01PREUpIHtcbiAgICAgIGVuc3VyZVRva2VuSXNWYWxpZCh0b2tlbik7XG4gICAgfVxuXG4gICAgdGhpcy5wcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2VXcmFwcGVkU3R5bGUgPSB2YWx1ZTtcbiAgfVxuXG4gIHRvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMucHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlV3JhcHBlZFN0eWxlO1xuICB9XG59XG5cbmludGVyZmFjZSBTdHlsZUltcGwge1xuICBwcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2VXcmFwcGVkU3R5bGU6IHN0cmluZztcbn1cbmNvbnN0IFN0eWxlSW1wbCA9IFNhZmVTdHlsZSBhcyB7XG4gIG5ldyAodG9rZW46IG9iamVjdCwgdmFsdWU6IHN0cmluZyk6IFNhZmVTdHlsZTtcbn07XG5cbi8qKlxuICogQnVpbGRzIGEgbmV3IGBTYWZlU3R5bGVgIGZyb20gdGhlIGdpdmVuIHN0cmluZywgd2l0aG91dCBlbmZvcmNpbmdcbiAqIHNhZmV0eSBndWFyYW50ZWVzLiBUaGlzIHNob3VsZG4ndCBiZSBleHBvc2VkIHRvIGFwcGxpY2F0aW9uIGRldmVsb3BlcnMsIGFuZFxuICogbXVzdCBvbmx5IGJlIHVzZWQgYXMgYSBzdGVwIHRvd2FyZHMgc2FmZSBidWlsZGVycyBvciBzYWZlIGNvbnN0YW50cy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVN0eWxlSW50ZXJuYWwodmFsdWU6IHN0cmluZyk6IFNhZmVTdHlsZSB7XG4gIHJldHVybiBuZXcgU3R5bGVJbXBsKHNlY3JldFRva2VuLCB2YWx1ZSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBhIGBTYWZlU3R5bGVgIGluc3RhbmNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNTdHlsZSh2YWx1ZTogdW5rbm93bik6IHZhbHVlIGlzIFNhZmVTdHlsZSB7XG4gIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFNhZmVTdHlsZTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBzdHJpbmcgdmFsdWUgb2YgdGhlIHBhc3NlZCBgU2FmZVN0eWxlYCBvYmplY3Qgd2hpbGUgZW5zdXJpbmcgaXRcbiAqIGhhcyB0aGUgY29ycmVjdCB0eXBlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdW53cmFwU3R5bGUodmFsdWU6IFNhZmVTdHlsZSk6IHN0cmluZyB7XG4gIGlmIChpc1N0eWxlKHZhbHVlKSkge1xuICAgIHJldHVybiAodmFsdWUgYXMgdW5rbm93biBhcyBTdHlsZUltcGwpLnByaXZhdGVEb05vdEFjY2Vzc09yRWxzZVdyYXBwZWRTdHlsZTtcbiAgfVxuICBsZXQgbWVzc2FnZSA9ICcnO1xuICBpZiAoREVWX01PREUpIHtcbiAgICBtZXNzYWdlID0gYFVuZXhwZWN0ZWQgdHlwZSB3aGVuIHVud3JhcHBpbmcgU2FmZVN0eWxlLCBnb3QgJyR7dmFsdWV9JyBvZiB0eXBlICcke3R5cGVvZiB2YWx1ZX0nYDtcbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG59XG4iXX0=
;return exports;});

//third_party/javascript/safevalues/builders/html_builders.closure.js
goog.loadModule(function(exports) {'use strict';/**
 * @license
 * Copyright Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
/**
 * @fileoverview added by tsickle
 * Generated from: third_party/javascript/safevalues/builders/html_builders.ts
 * @suppress {checkTypes} added by tsickle
 * @suppress {extraRequire} added by tsickle
 * @suppress {missingRequire} added by tsickle
 * @suppress {uselessCode} added by tsickle
 * @suppress {suspiciousCode} added by tsickle
 * @suppress {missingReturn} added by tsickle
 * @suppress {unusedPrivateMembers} added by tsickle
 * @suppress {missingOverride} added by tsickle
 * @suppress {const} added by tsickle
 */
goog.module('google3.third_party.javascript.safevalues.builders.html_builders');
var module = module || { id: 'third_party/javascript/safevalues/builders/html_builders.closure.js' };
goog.require('google3.third_party.javascript.tslib.tslib');
const tsickle_dev_1 = goog.requireType("google3.third_party.javascript.safevalues.environment.dev");
const tsickle_html_impl_2 = goog.requireType("google3.third_party.javascript.safevalues.internals.html_impl");
const tsickle_resource_url_impl_3 = goog.requireType("google3.third_party.javascript.safevalues.internals.resource_url_impl");
const tsickle_script_impl_4 = goog.requireType("google3.third_party.javascript.safevalues.internals.script_impl");
const tsickle_style_impl_5 = goog.requireType("google3.third_party.javascript.safevalues.internals.style_impl");
const tsickle_style_sheet_impl_6 = goog.requireType("google3.third_party.javascript.safevalues.internals.style_sheet_impl");
const tsickle_url_impl_7 = goog.requireType("google3.third_party.javascript.safevalues.internals.url_impl");
const tsickle_style_sheet_builders_8 = goog.requireType("google3.third_party.javascript.safevalues.builders.style_sheet_builders");
const tsickle_url_builders_9 = goog.requireType("google3.third_party.javascript.safevalues.builders.url_builders");
const tsickle_TrustedResourceUrl_10 = goog.requireType("goog.html.TrustedResourceUrl");
const dev_1 = goog.require('google3.third_party.javascript.safevalues.environment.dev'); // LINE-INTERNAL
// LINE-INTERNAL
const html_impl_1 = goog.require('google3.third_party.javascript.safevalues.internals.html_impl');
const resource_url_impl_1 = goog.require('google3.third_party.javascript.safevalues.internals.resource_url_impl');
const script_impl_1 = goog.require('google3.third_party.javascript.safevalues.internals.script_impl');
const style_impl_1 = goog.require('google3.third_party.javascript.safevalues.internals.style_impl'); // LINE-INTERNAL
// LINE-INTERNAL
const style_sheet_impl_1 = goog.require('google3.third_party.javascript.safevalues.internals.style_sheet_impl'); // LINE-INTERNAL
// LINE-INTERNAL
const url_impl_1 = goog.require('google3.third_party.javascript.safevalues.internals.url_impl'); // LINE-INTERNAL
// LINE-INTERNAL
const style_sheet_builders_1 = goog.require('google3.third_party.javascript.safevalues.builders.style_sheet_builders'); // LINE-INTERNAL
// LINE-INTERNAL
const url_builders_1 = goog.require('google3.third_party.javascript.safevalues.builders.url_builders'); // LINE-INTERNAL
// LINE-INTERNAL
/**
 * Returns HTML-escaped text as a `SafeHtml` object. No-op if value is already a
 * SafeHtml instance.
 *
 * Available options:
 * - `preserveSpaces` turns every second consecutive space character into its
 * HTML entity representation (`&#160;`).
 * - `preserveNewlines` turns newline characters into breaks (`<br>`).
 * - `preserveTabs` wraps tab characters in a span with style=white-space:pre.
 * @param {(string|!tsickle_html_impl_2.SafeHtml)} value
 * @param {{preserveNewlines: (undefined|boolean), preserveSpaces: (undefined|boolean), preserveTabs: (undefined|boolean)}=} options
 * @return {!tsickle_html_impl_2.SafeHtml}
 */
function htmlEscape(value, options = {}) {
    if ((0, html_impl_1.isHtml)(value)) {
        return value;
    }
    /** @type {string} */
    let htmlEscapedString = htmlEscapeToString(String(value));
    if (options.preserveSpaces) {
        // Do this first to ensure we preserve spaces after newlines and tabs.
        htmlEscapedString = htmlEscapedString.replace(/(^|[\r\n\t ]) /g, '$1&#160;');
    }
    if (options.preserveNewlines) {
        htmlEscapedString = htmlEscapedString.replace(/(\r\n|\n|\r)/g, '<br>');
    }
    if (options.preserveTabs) {
        htmlEscapedString = htmlEscapedString.replace(/(\t+)/g, '<span style="white-space:pre">$1</span>');
    }
    return (0, html_impl_1.createHtmlInternal)(htmlEscapedString);
}
exports.htmlEscape = htmlEscape;
/**
 * Creates a `SafeHtml` representing a script tag with inline script content.
 * @param {!tsickle_script_impl_4.SafeScript} script
 * @param {{defer: (undefined|boolean), id: (undefined|string), nonce: (undefined|string), type: (undefined|string)}=} options
 * @return {!tsickle_html_impl_2.SafeHtml}
 */
function scriptToHtml(script, options = {}) {
    /** @type {string} */
    const unwrappedScript = (0, script_impl_1.unwrapScript)(script).toString();
    /** @type {string} */
    let stringTag = `<script`;
    if (options.id) {
        stringTag += ` id="${htmlEscapeToString(options.id)}"`;
    }
    if (options.nonce) {
        stringTag += ` nonce="${htmlEscapeToString(options.nonce)}"`;
    }
    if (options.type) {
        stringTag += ` type="${htmlEscapeToString(options.type)}"`;
    }
    if (options.defer) {
        stringTag += ` defer`;
    }
    stringTag += `>${unwrappedScript}\u003C/script>`;
    return (0, html_impl_1.createHtmlInternal)(stringTag);
}
exports.scriptToHtml = scriptToHtml;
/**
 * Creates a `SafeHtml` representing a script tag with the src attribute.
 * This also supports CSP nonces and async loading.
 * @param {!tsickle_TrustedResourceUrl_10} src
 * @param {{async: (undefined|boolean), customElement: (undefined|string), defer: (undefined|boolean), id: (undefined|string), nonce: (undefined|string), type: (undefined|string), crossorigin: (undefined|string)}=} options
 * @return {!tsickle_html_impl_2.SafeHtml}
 */
function scriptUrlToHtml(src, options = {}) {
    /** @type {string} */
    const unwrappedSrc = (0, resource_url_impl_1.unwrapResourceUrl)(src).toString();
    /** @type {string} */
    let stringTag = `<script src="${htmlEscapeToString(unwrappedSrc)}"`;
    if (options.async) {
        stringTag += ' async';
    }
    if (options.customElement) {
        stringTag += ` custom-element="${htmlEscapeToString(options.customElement)}"`;
    }
    if (options.defer) {
        stringTag += ` defer`;
    }
    if (options.id) {
        stringTag += ` id="${htmlEscapeToString(options.id)}"`;
    }
    if (options.nonce) {
        stringTag += ` nonce="${htmlEscapeToString(options.nonce)}"`;
    }
    if (options.type) {
        stringTag += ` type="${htmlEscapeToString(options.type)}"`;
    }
    if (options.crossorigin) {
        stringTag += ` crossorigin="${htmlEscapeToString(options.crossorigin)}"`;
    }
    stringTag += '>\u003C/script>';
    return (0, html_impl_1.createHtmlInternal)(stringTag);
}
exports.scriptUrlToHtml = scriptUrlToHtml;
/**
 * HTML-escapes the given text (`&`, `<`, `>`, `"` and `'`).
 * @param {string} text
 * @return {string}
 */
function htmlEscapeToString(text) {
    /** @type {string} */
    const escaped = text
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;')
        .replace(/'/g, '&apos;');
    return escaped;
}
/**
 * Creates a `SafeHtml` value by concatenating multiple `SafeHtml`s.
 * @param {!ReadonlyArray<(string|!tsickle_html_impl_2.SafeHtml)>} htmls
 * @return {!tsickle_html_impl_2.SafeHtml}
 */
function concatHtmls(htmls) {
    return joinHtmls('', htmls);
}
exports.concatHtmls = concatHtmls;
/**
 * Creates a `SafeHtml` value by concatenating multiple `SafeHtml`s interleaved
 * with a separator.
 * @param {(string|!tsickle_html_impl_2.SafeHtml)} separator
 * @param {!ReadonlyArray<(string|!tsickle_html_impl_2.SafeHtml)>} htmls
 * @return {!tsickle_html_impl_2.SafeHtml}
 */
function joinHtmls(separator, htmls) {
    /** @type {!tsickle_html_impl_2.SafeHtml} */
    const separatorHtml = htmlEscape(separator);
    return (0, html_impl_1.createHtmlInternal)(htmls
        .map((/**
     * @param {(string|!tsickle_html_impl_2.SafeHtml)} value
     * @return {(string|!TrustedHTML)}
     */
    (value) => (0, html_impl_1.unwrapHtml)(htmlEscape(value))))
        .join((0, html_impl_1.unwrapHtml)(separatorHtml).toString()));
}
exports.joinHtmls = joinHtmls;
/**
 * Returns a `SafeHtml` that contains `<!DOCTYPE html>`.
 * This is defined as a function to prevent the definition of a Trusted Type
 * policy when simply importing safevalues.
 * @return {!tsickle_html_impl_2.SafeHtml}
 */
function doctypeHtml() {
    return (0, html_impl_1.createHtmlInternal)('<!DOCTYPE html>');
}
exports.doctypeHtml = doctypeHtml;
/**
 * Non-exported version of `nodeToHtml`, with an explicit temporary root to
 * accomodate for the sanitizer's user case.
 * @param {!Node} node
 * @param {!Element} temporaryRoot
 * @return {!tsickle_html_impl_2.SafeHtml}
 */
function nodeToHtmlInternal(node, temporaryRoot) {
    temporaryRoot.appendChild(node);
    // XML serialization is preferred over HTML serialization as it is
    // stricter and makes sure all attributes are properly escaped, avoiding
    // cases where the tree might mutate when parsed again later due to the
    // complexities of the HTML parsing algorithm
    /** @type {string} */
    let serializedNewTree = new XMLSerializer().serializeToString(temporaryRoot);
    // We remove the outer most element as this is the span node created as
    // the root for the sanitized tree and contains a spurious xmlns attribute
    // from the XML serialization step.
    serializedNewTree = serializedNewTree.slice(serializedNewTree.indexOf('>') + 1, serializedNewTree.lastIndexOf('</'));
    return (0, html_impl_1.createHtmlInternal)(serializedNewTree);
}
exports.nodeToHtmlInternal = nodeToHtmlInternal;
/**
 * Serializes a Node into it's HTML representation.
 *
 * Note: this method uses strict XML serialization to mitigate mutation issues
 * when the html is then re-parsed by the browser.
 * @param {!Node} node
 * @return {!tsickle_html_impl_2.SafeHtml}
 */
function nodeToHtml(node) {
    /** @type {!HTMLSpanElement} */
    const tempRoot = document.createElement('span');
    return nodeToHtmlInternal(node, tempRoot);
}
exports.nodeToHtml = nodeToHtml;
/**
 * Type for the attribute value in SafeHtml builders. SafeStyle and SafeUrl are
 * in for legacy reasons.
 * @typedef {(string|number|!tsickle_url_impl_7.SafeUrl|!tsickle_style_impl_5.SafeStyle)}
 */
exports.AttributeValue;
/**
 * Shorthand for union of types that can sensibly be converted to strings
 * or might already be SafeHtml.
 * @typedef {(string|number|boolean|!tsickle_html_impl_2.SafeHtml)}
 */
var TextOrHtml;
/** @type {!RegExp} */
const VALID_TAG_OR_ATTRIBUTE_NAMES = /^[a-z][a-z\d-]*$/i;
/**
 * Tags which are unsupported via createHtml(). They might be
 * supported via a tag-specific create method. These are tags which might
 * require a TrustedResourceUrl in one of their attributes or a restricted
 * type for their content.
 * @type {!Array<string>}
 */
const DISALLOWED_TAG_NAMES = [
    'APPLET',
    'BASE',
    'EMBED',
    'IFRAME',
    'LINK',
    'MATH',
    'META',
    'OBJECT',
    'SCRIPT',
    'STYLE',
    'SVG',
    'TEMPLATE',
];
/**
 * List of void tags.
 * @type {!Array<string>}
 */
exports.VOID_TAG_NAMES = [
    'AREA',
    'BR',
    'COL',
    'COMMAND',
    'HR',
    'IMG',
    'INPUT',
    'KEYGEN',
    'PARAM',
    'SOURCE',
    'TRACK',
    'WBR',
];
/**
 * Attributes that can cause the execution of javascript: URLs.
 * @type {!Array<string>}
 */
const URL_ATTRIBUTES = ['action', 'formaction', 'href'];
/**
 * Verifies if the tag name is valid and if it doesn't change the context.
 * E.g. STRONG is fine but SCRIPT throws because it changes context. See
 * createHtml for an explanation of allowed tags.
 * @throws {!Error} If invalid tag name is provided.
 * @param {string} tagName
 * @return {void}
 */
function verifyTagName(tagName) {
    if (!VALID_TAG_OR_ATTRIBUTE_NAMES.test(tagName)) {
        throw new Error(dev_1.DEV_MODE ? `Invalid tag name <${tagName}>.` : '');
    }
    if (DISALLOWED_TAG_NAMES.indexOf(tagName.toUpperCase()) !== -1) {
        throw new Error(dev_1.DEV_MODE ? `Tag name <${tagName}> is not allowed for createHtml.` : '');
    }
}
exports.verifyTagName = verifyTagName;
/**
 * Returns true if the tag name is a void tag.
 * @param {string} tagName
 * @return {boolean}
 */
function isVoidTag(tagName) {
    return exports.VOID_TAG_NAMES.indexOf(tagName.toUpperCase()) !== -1;
}
exports.isVoidTag = isVoidTag;
/**
 * Creates a SafeHtml content consisting of a tag with optional attributes and
 * optional content.
 * This is roughly equivalent to Closure's goog.html.SafeHtml.create function,
 * with a few dropped features, like Const strings. It is discouraged for new
 * usages. Prefer using a recommended templating system like Lit instead.
 *
 * Example usage:
 *
 * createHtml('br');
 * createHtml('div', {'class': 'a'});
 * createHtml('p', {}, 'a');
 * createHtml('p', {}, createHtml('br'));
 *
 * createHtml('span', {
 *   'style': {'margin': '0'}
 * });
 *
 * To guarantee SafeHtml's type contract is upheld there are restrictions on
 * attribute values and tag names.
 *
 * - Attributes which contain script code (e.g. on*) are disallowed.
 * - For attributes which are interpreted as URLs (e.g. src, href), the URL
 * will be sanitized with javascript: URLs blocked.
 * - Tags which are not supported by this function are applet, base, embed,
 *   iframe, link, math, meta, object, script, style, svg, and template.
 * @param {string} tagName
 * @param {(undefined|!Object<string,(undefined|string|number|!tsickle_url_impl_7.SafeUrl|!tsickle_style_impl_5.SafeStyle)>)=} attributes
 * @param {(undefined|string|number|boolean|!tsickle_html_impl_2.SafeHtml|!Array<(string|number|boolean|!tsickle_html_impl_2.SafeHtml)>)=} content
 * @return {!tsickle_html_impl_2.SafeHtml}
 */
function createHtml(tagName, attributes, content) {
    verifyTagName(tagName);
    /** @type {string} */
    let result = `<${tagName}`;
    if (attributes) {
        result += stringifyAttributes(tagName, attributes);
    }
    if (!Array.isArray(content)) {
        content = content === undefined ? [] : [content];
    }
    if (isVoidTag(tagName)) {
        if (dev_1.DEV_MODE) {
            if ((/** @type {!Array<(string|number|boolean|!tsickle_html_impl_2.SafeHtml)>} */ (content)).length > 0) {
                throw new Error(`Void tag <${tagName}> does not allow content.`);
            }
        }
        result += '>';
    }
    else {
        /** @type {!tsickle_html_impl_2.SafeHtml} */
        const html = concatHtmls((/** @type {!Array<(string|number|boolean|!tsickle_html_impl_2.SafeHtml)>} */ (content)).map((/**
         * @param {(string|number|boolean|!tsickle_html_impl_2.SafeHtml)} value
         * @return {!tsickle_html_impl_2.SafeHtml}
         */
        (value) => (0, html_impl_1.isHtml)(value) ? value : htmlEscape(String(value)))));
        result += '>' + html.toString() + '</' + tagName + '>';
    }
    return (0, html_impl_1.createHtmlInternal)(result);
}
exports.createHtml = createHtml;
/**
 * Creates a SafeHtml representing a style tag. The type attribute is set
 * to "text/css".
 * @throws {!Error} If invalid attribute name or attribute value is provided or
 *     if attributes contains the type attribute.
 * @param {(!tsickle_style_sheet_impl_6.SafeStyleSheet|!Array<!tsickle_style_sheet_impl_6.SafeStyleSheet>)} styleSheet Content to put inside the tag. Array elements are
 *     concatenated.
 * @param {(undefined|!Object<string,(undefined|string|number|!tsickle_url_impl_7.SafeUrl|!tsickle_style_impl_5.SafeStyle)>)=} attributes Mapping from attribute names to their values. Only
 *     attribute names consisting of [a-zA-Z0-9-] are allowed. Value of
 *     undefined causes the attribute to be omitted.
 * @return {!tsickle_html_impl_2.SafeHtml} The SafeHtml content with the tag.
 */
function styleSheetToHtml(styleSheet, attributes) {
    /** @type {!Object<string,(undefined|string|number|!tsickle_url_impl_7.SafeUrl|!tsickle_style_impl_5.SafeStyle)>} */
    const combinedAttributes = {};
    if (attributes) {
        /** @type {!Array<string>} */
        const customAttrNames = Object.keys(attributes);
        for (let i = 0; i < customAttrNames.length; i++) {
            /** @type {string} */
            const name = customAttrNames[i];
            if (name.toLowerCase() === 'type') {
                throw new Error(dev_1.DEV_MODE
                    ? `Cannot override the 'type' attribute with value ${attributes[name]}.`
                    : '');
            }
            combinedAttributes[name] = attributes[name];
        }
    }
    combinedAttributes['type'] = 'text/css';
    /** @type {string} */
    const stringifiedAttributes = stringifyAttributes('style', combinedAttributes);
    if (Array.isArray(styleSheet)) {
        styleSheet = (0, style_sheet_builders_1.concatStyleSheets)(styleSheet);
    }
    /** @type {string} */
    const styleContent = (0, style_sheet_impl_1.unwrapStyleSheet)(styleSheet);
    return (0, html_impl_1.createHtmlInternal)(`<style ${stringifiedAttributes}>${styleContent}</style>`);
}
exports.styleSheetToHtml = styleSheetToHtml;
/**
 * Creates a string with attributes to insert after tagName.
 * @throws {!Error} If attribute value is unsafe for the given tag and
 *     attribute.
 * @param {string} tagName
 * @param {!Object<string,(undefined|string|number|!tsickle_url_impl_7.SafeUrl|!tsickle_style_impl_5.SafeStyle)>} attributes
 * @return {string}
 */
function stringifyAttributes(tagName, attributes) {
    /** @type {string} */
    let result = '';
    /** @type {!Array<string>} */
    const attrNames = Object.keys(attributes);
    for (let i = 0; i < attrNames.length; i++) {
        /** @type {string} */
        const name = attrNames[i];
        /** @type {(undefined|string|number|!tsickle_url_impl_7.SafeUrl|!tsickle_style_impl_5.SafeStyle)} */
        const value = attributes[name];
        if (!VALID_TAG_OR_ATTRIBUTE_NAMES.test(name)) {
            throw new Error(dev_1.DEV_MODE ? `Invalid attribute name "${name}".` : '');
        }
        if (value === undefined || value === null) {
            continue;
        }
        result += ' ' + getAttrNameAndValue(tagName, name, value);
    }
    return result;
}
exports.stringifyAttributes = stringifyAttributes;
/**
 * @param {string} tagName
 * @param {string} name
 * @param {(string|number|!tsickle_url_impl_7.SafeUrl|!tsickle_style_impl_5.SafeStyle)} value
 * @return {string}
 */
function getAttrNameAndValue(tagName, name, value) {
    if (/^on/i.test(name)) {
        throw new Error(dev_1.DEV_MODE
            ? `Attribute "${name} is forbidden. Inline event handlers can lead to XSS. Please use the 'addEventListener' API instead.`
            : '');
    }
    else if (URL_ATTRIBUTES.indexOf(name.toLowerCase()) !== -1) {
        if ((0, url_impl_1.isUrl)(value)) {
            value = (/** @type {!tsickle_url_impl_7.SafeUrl} */ (value)).toString();
        }
        else {
            value = (0, url_builders_1.sanitizeJavaScriptUrl)(String(value)) || 'about:invalid#zClosurez';
        }
    }
    if (dev_1.DEV_MODE) {
        if (!(0, url_impl_1.isUrl)(value) &&
            !(0, html_impl_1.isHtml)(value) &&
            !(0, style_impl_1.isStyle)(value) &&
            typeof value !== 'string' &&
            typeof value !== 'number') {
            throw new Error(`String or number value expected, got ${typeof value} with value '${value}' given.`);
        }
    }
    return `${name}="${htmlEscape(String(value))}"`;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaHRtbF9idWlsZGVycy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL3RoaXJkX3BhcnR5L2phdmFzY3JpcHQvc2FmZXZhbHVlcy9idWlsZGVycy9odG1sX2J1aWxkZXJzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFNQSx3RkFBNEMsQ0FBQyxnQkFBZ0I7O0FBQzdELGtHQUtnQztBQUNoQyxrSEFHd0M7QUFDeEMsc0dBQWtFO0FBQ2xFLG9HQUEyRCxDQUFDLGdCQUFnQjs7QUFDNUUsZ0hBQStFLENBQUMsZ0JBQWdCOztBQUNoRyxnR0FBcUQsQ0FBQyxnQkFBZ0I7O0FBRXRFLHVIQUF5RCxDQUFDLGdCQUFnQjs7QUFDMUUsdUdBQXFELENBQUMsZ0JBQWdCOzs7Ozs7Ozs7Ozs7Ozs7QUFZdEUsU0FBZ0IsVUFBVSxDQUN4QixLQUF3QixFQUN4QixVQUlJLEVBQUU7SUFFTixJQUFJLElBQUEsa0JBQU0sRUFBQyxLQUFLLENBQUMsRUFBRSxDQUFDO1FBQ2xCLE9BQU8sS0FBSyxDQUFDO0lBQ2YsQ0FBQzs7UUFDRyxpQkFBaUIsR0FBRyxrQkFBa0IsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDekQsSUFBSSxPQUFPLENBQUMsY0FBYyxFQUFFLENBQUM7O1FBRTNCLGlCQUFpQixHQUFHLGlCQUFpQixDQUFDLE9BQU8sQ0FDM0MsaUJBQWlCLEVBQ2pCLFVBQVUsQ0FDWCxDQUFDO0lBQ0osQ0FBQztJQUNELElBQUksT0FBTyxDQUFDLGdCQUFnQixFQUFFLENBQUM7UUFDN0IsaUJBQWlCLEdBQUcsaUJBQWlCLENBQUMsT0FBTyxDQUFDLGVBQWUsRUFBRSxNQUFNLENBQUMsQ0FBQztJQUN6RSxDQUFDO0lBQ0QsSUFBSSxPQUFPLENBQUMsWUFBWSxFQUFFLENBQUM7UUFDekIsaUJBQWlCLEdBQUcsaUJBQWlCLENBQUMsT0FBTyxDQUMzQyxRQUFRLEVB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LENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsQ0FBQztBQUNsRCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuaW1wb3J0IHtERVZfTU9ERX0gZnJvbSAnLi4vZW52aXJvbm1lbnQvZGV2JzsgLy8gTElORS1JTlRFUk5BTFxuaW1wb3J0IHtcbiAgY3JlYXRlSHRtbEludGVybmFsLFxuICBpc0h0bWwsXG4gIFNhZmVIdG1sLFxuICB1bndyYXBIdG1sLFxufSBmcm9tICcuLi9pbnRlcm5hbHMvaHRtbF9pbXBsJztcbmltcG9ydCB7XG4gIFRydXN0ZWRSZXNvdXJjZVVybCxcbiAgdW53cmFwUmVzb3VyY2VVcmwsXG59IGZyb20gJy4uL2ludGVybmFscy9yZXNvdXJjZV91cmxfaW1wbCc7XG5pbXBvcnQge1NhZmVTY3JpcHQsIHVud3JhcFNjcmlwdH0gZnJvbSAnLi4vaW50ZXJuYWxzL3NjcmlwdF9pbXBsJztcbmltcG9ydCB7aXNTdHlsZSwgU2FmZVN0eWxlfSBmcm9tICcuLi9pbnRlcm5hbHMvc3R5bGVfaW1wbCc7IC8vIExJTkUtSU5URVJOQUxcbmltcG9ydCB7U2FmZVN0eWxlU2hlZXQsIHVud3JhcFN0eWxlU2hlZXR9IGZyb20gJy4uL2ludGVybmFscy9zdHlsZV9zaGVldF9pbXBsJzsgLy8gTElORS1JTlRFUk5BTFxuaW1wb3J0IHtpc1VybCwgU2FmZVVybH0gZnJvbSAnLi4vaW50ZXJuYWxzL3VybF9pbXBsJzsgLy8gTElORS1JTlRFUk5BTFxuXG5pbXBvcnQge2NvbmNhdFN0eWxlU2hlZXRzfSBmcm9tICcuL3N0eWxlX3NoZWV0X2J1aWxkZXJzJzsgLy8gTElORS1JTlRFUk5BTFxuaW1wb3J0IHtzYW5pdGl6ZUphdmFTY3JpcHRVcmx9IGZyb20gJy4vdXJsX2J1aWxkZXJzJzsgLy8gTElORS1JTlRFUk5BTFxuXG4vKipcbiAqIFJldHVybnMgSFRNTC1lc2NhcGVkIHRleHQgYXMgYSBgU2FmZUh0bWxgIG9iamVjdC4gTm8tb3AgaWYgdmFsdWUgaXMgYWxyZWFkeSBhXG4gKiBTYWZlSHRtbCBpbnN0YW5jZS5cbiAqXG4gKiBBdmFpbGFibGUgb3B0aW9uczpcbiAqIC0gYHByZXNlcnZlU3BhY2VzYCB0dXJucyBldmVyeSBzZWNvbmQgY29uc2VjdXRpdmUgc3BhY2UgY2hhcmFjdGVyIGludG8gaXRzXG4gKiBIVE1MIGVudGl0eSByZXByZXNlbnRhdGlvbiAoYCYjMTYwO2ApLlxuICogLSBgcHJlc2VydmVOZXdsaW5lc2AgdHVybnMgbmV3bGluZSBjaGFyYWN0ZXJzIGludG8gYnJlYWtzIChgPGJyPmApLlxuICogLSBgcHJlc2VydmVUYWJzYCB3cmFwcyB0YWIgY2hhcmFjdGVycyBpbiBhIHNwYW4gd2l0aCBzdHlsZT13aGl0ZS1zcGFjZTpwcmUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBodG1sRXNjYXBlKFxuICB2YWx1ZTogU2FmZUh0bWwgfCBzdHJpbmcsXG4gIG9wdGlvbnM6IHtcbiAgICBwcmVzZXJ2ZU5ld2xpbmVzPzogYm9vbGVhbjtcbiAgICBwcmVzZXJ2ZVNwYWNlcz86IGJvb2xlYW47XG4gICAgcHJlc2VydmVUYWJzPzogYm9vbGVhbjtcbiAgfSA9IHt9LFxuKTogU2FmZUh0bWwge1xuICBpZiAoaXNIdG1sKHZhbHVlKSkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBsZXQgaHRtbEVzY2FwZWRTdHJpbmcgPSBodG1sRXNjYXBlVG9TdHJpbmcoU3RyaW5nKHZhbHVlKSk7XG4gIGlmIChvcHRpb25zLnByZXNlcnZlU3BhY2VzKSB7XG4gICAgLy8gRG8gdGhpcyBmaXJzdCB0byBlbnN1cmUgd2UgcHJlc2VydmUgc3BhY2VzIGFmdGVyIG5ld2xpbmVzIGFuZCB0YWJzLlxuICAgIGh0bWxFc2NhcGVkU3RyaW5nID0gaHRtbEVzY2FwZWRTdHJpbmcucmVwbGFjZShcbiAgICAgIC8oXnxbXFxyXFxuXFx0IF0pIC9nLFxuICAgICAgJyQxJiMxNjA7JyxcbiAgICApO1xuICB9XG4gIGlmIChvcHRpb25zLnByZXNlcnZlTmV3bGluZXMpIHtcbiAgICBodG1sRXNjYXBlZFN0cmluZyA9IGh0bWxFc2NhcGVkU3RyaW5nLnJlcGxhY2UoLyhcXHJcXG58XFxufFxccikvZywgJzxicj4nKTtcbiAgfVxuICBpZiAob3B0aW9ucy5wcmVzZXJ2ZVRhYnMpIHtcbiAgICBodG1sRXNjYXBlZFN0cmluZyA9IGh0bWxFc2NhcGVkU3RyaW5nLnJlcGxhY2UoXG4gICAgICAvKFxcdCspL2csXG4gICAgICAnPHNwYW4gc3R5bGU9XCJ3aGl0ZS1zcGFjZTpwcmVcIj4kMTwvc3Bhbj4nLFxuICAgICk7XG4gIH1cbiAgcmV0dXJuIGNyZWF0ZUh0bWxJbnRlcm5hbChodG1sRXNjYXBlZFN0cmluZyk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIGBTYWZlSHRtbGAgcmVwcmVzZW50aW5nIGEgc2NyaXB0IHRhZyB3aXRoIGlubGluZSBzY3JpcHQgY29udGVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNjcmlwdFRvSHRtbChcbiAgc2NyaXB0OiBTYWZlU2NyaXB0LFxuICBvcHRpb25zOiB7XG4gICAgZGVmZXI/OiBib29sZWFuO1xuICAgIGlkPzogc3RyaW5nO1xuICAgIG5vbmNlPzogc3RyaW5nO1xuICAgIHR5cGU/OiBzdHJpbmc7XG4gIH0gPSB7fSxcbik6IFNhZmVIdG1sIHtcbiAgY29uc3QgdW53cmFwcGVkU2NyaXB0ID0gdW53cmFwU2NyaXB0KHNjcmlwdCkudG9TdHJpbmcoKTtcbiAgbGV0IHN0cmluZ1RhZyA9IGA8c2NyaXB0YDtcbiAgaWYgKG9wdGlvbnMuaWQpIHtcbiAgICBzdHJpbmdUYWcgKz0gYCBpZD1cIiR7aHRtbEVzY2FwZVRvU3RyaW5nKG9wdGlvbnMuaWQpfVwiYDtcbiAgfVxuICBpZiAob3B0aW9ucy5ub25jZSkge1xuICAgIHN0cmluZ1RhZyArPSBgIG5vbmNlPVwiJHtodG1sRXNjYXBlVG9TdHJpbmcob3B0aW9ucy5ub25jZSl9XCJgO1xuICB9XG4gIGlmIChvcHRpb25zLnR5cGUpIHtcbiAgICBzdHJpbmdUYWcgKz0gYCB0eXBlPVwiJHtodG1sRXNjYXBlVG9TdHJpbmcob3B0aW9ucy50eXBlKX1cImA7XG4gIH1cbiAgaWYgKG9wdGlvbnMuZGVmZXIpIHtcbiAgICBzdHJpbmdUYWcgKz0gYCBkZWZlcmA7XG4gIH1cbiAgc3RyaW5nVGFnICs9IGA+JHt1bndyYXBwZWRTY3JpcHR9XFx1MDAzQy9zY3JpcHQ+YDtcbiAgcmV0dXJuIGNyZWF0ZUh0bWxJbnRlcm5hbChzdHJpbmdUYWcpO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBgU2FmZUh0bWxgIHJlcHJlc2VudGluZyBhIHNjcmlwdCB0YWcgd2l0aCB0aGUgc3JjIGF0dHJpYnV0ZS5cbiAqIFRoaXMgYWxzbyBzdXBwb3J0cyBDU1Agbm9uY2VzIGFuZCBhc3luYyBsb2FkaW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2NyaXB0VXJsVG9IdG1sKFxuICBzcmM6IFRydXN0ZWRSZXNvdXJjZVVybCxcbiAgb3B0aW9uczoge1xuICAgIGFzeW5jPzogYm9vbGVhbjtcbiAgICBjdXN0b21FbGVtZW50Pzogc3RyaW5nO1xuICAgIGRlZmVyPzogYm9vbGVhbjtcbiAgICBpZD86IHN0cmluZztcbiAgICBub25jZT86IHN0cmluZztcbiAgICB0eXBlPzogc3RyaW5nO1xuICAgIGNyb3Nzb3JpZ2luPzogJ2Fub255bW91cycgfCAndXNlLWNyZWRlbnRpYWxzJztcbiAgfSA9IHt9LFxuKTogU2FmZUh0bWwge1xuICBjb25zdCB1bndyYXBwZWRTcmMgPSB1bndyYXBSZXNvdXJjZVVybChzcmMpLnRvU3RyaW5nKCk7XG4gIGxldCBzdHJpbmdUYWcgPSBgPHNjcmlwdCBzcmM9XCIke2h0bWxFc2NhcGVUb1N0cmluZyh1bndyYXBwZWRTcmMpfVwiYDtcbiAgaWYgKG9wdGlvbnMuYXN5bmMpIHtcbiAgICBzdHJpbmdUYWcgKz0gJyBhc3luYyc7XG4gIH1cbiAgaWYgKG9wdGlvbnMuY3VzdG9tRWxlbWVudCkge1xuICAgIHN0cmluZ1RhZyArPSBgIGN1c3RvbS1lbGVtZW50PVwiJHtodG1sRXNjYXBlVG9TdHJpbmcoXG4gICAgICBvcHRpb25zLmN1c3RvbUVsZW1lbnQsXG4gICAgKX1cImA7XG4gIH1cbiAgaWYgKG9wdGlvbnMuZGVmZXIpIHtcbiAgICBzdHJpbmdUYWcgKz0gYCBkZWZlcmA7XG4gIH1cbiAgaWYgKG9wdGlvbnMuaWQpIHtcbiAgICBzdHJpbmdUYWcgKz0gYCBpZD1cIiR7aHRtbEVzY2FwZVRvU3RyaW5nKG9wdGlvbnMuaWQpfVwiYDtcbiAgfVxuICBpZiAob3B0aW9ucy5ub25jZSkge1xuICAgIHN0cmluZ1RhZyArPSBgIG5vbmNlPVwiJHtodG1sRXNjYXBlVG9TdHJpbmcob3B0aW9ucy5ub25jZSl9XCJgO1xuICB9XG4gIGlmIChvcHRpb25zLnR5cGUpIHtcbiAgICBzdHJpbmdUYWcgKz0gYCB0eXBlPVwiJHtodG1sRXNjYXBlVG9TdHJpbmcob3B0aW9ucy50eXBlKX1cImA7XG4gIH1cbiAgaWYgKG9wdGlvbnMuY3Jvc3NvcmlnaW4pIHtcbiAgICBzdHJpbmdUYWcgKz0gYCBjcm9zc29yaWdpbj1cIiR7aHRtbEVzY2FwZVRvU3RyaW5nKG9wdGlvbnMuY3Jvc3NvcmlnaW4pfVwiYDtcbiAgfVxuICBzdHJpbmdUYWcgKz0gJz5cXHUwMDNDL3NjcmlwdD4nO1xuICByZXR1cm4gY3JlYXRlSHRtbEludGVybmFsKHN0cmluZ1RhZyk7XG59XG5cbi8qKlxuICogSFRNTC1lc2NhcGVzIHRoZSBnaXZlbiB0ZXh0IChgJmAsIGA8YCwgYD5gLCBgXCJgIGFuZCBgJ2ApLlxuICovXG5mdW5jdGlvbiBodG1sRXNjYXBlVG9TdHJpbmcodGV4dDogc3RyaW5nKTogc3RyaW5nIHtcbiAgY29uc3QgZXNjYXBlZCA9IHRleHRcbiAgICAucmVwbGFjZSgvJi9nLCAnJmFtcDsnKVxuICAgIC5yZXBsYWNlKC88L2csICcmbHQ7JylcbiAgICAucmVwbGFjZSgvPi9nLCAnJmd0OycpXG4gICAgLnJlcGxhY2UoL1wiL2csICcmcXVvdDsnKVxuICAgIC5yZXBsYWNlKC8nL2csICcmYXBvczsnKTtcbiAgcmV0dXJuIGVzY2FwZWQ7XG59XG5cbi8qKiBDcmVhdGVzIGEgYFNhZmVIdG1sYCB2YWx1ZSBieSBjb25jYXRlbmF0aW5nIG11bHRpcGxlIGBTYWZlSHRtbGBzLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbmNhdEh0bWxzKGh0bWxzOiBSZWFkb25seUFycmF5PFNhZmVIdG1sIHwgc3RyaW5nPik6IFNhZmVIdG1sIHtcbiAgcmV0dXJuIGpvaW5IdG1scygnJywgaHRtbHMpO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBgU2FmZUh0bWxgIHZhbHVlIGJ5IGNvbmNhdGVuYXRpbmcgbXVsdGlwbGUgYFNhZmVIdG1sYHMgaW50ZXJsZWF2ZWRcbiAqIHdpdGggYSBzZXBhcmF0b3IuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBqb2luSHRtbHMoXG4gIHNlcGFyYXRvcjogU2FmZUh0bWwgfCBzdHJpbmcsXG4gIGh0bWxzOiBSZWFkb25seUFycmF5PFNhZmVIdG1sIHwgc3RyaW5nPixcbik6IFNhZmVIdG1sIHtcbiAgY29uc3Qgc2VwYXJhdG9ySHRtbCA9IGh0bWxFc2NhcGUoc2VwYXJhdG9yKTtcbiAgcmV0dXJuIGNyZWF0ZUh0bWxJbnRlcm5hbChcbiAgICBodG1sc1xuICAgICAgLm1hcCgodmFsdWUpID0+IHVud3JhcEh0bWwoaHRtbEVzY2FwZSh2YWx1ZSkpKVxuICAgICAgLmpvaW4odW53cmFwSHRtbChzZXBhcmF0b3JIdG1sKS50b1N0cmluZygpKSxcbiAgKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgYFNhZmVIdG1sYCB0aGF0IGNvbnRhaW5zIGA8IURPQ1RZUEUgaHRtbD5gLlxuICogVGhpcyBpcyBkZWZpbmVkIGFzIGEgZnVuY3Rpb24gdG8gcHJldmVudCB0aGUgZGVmaW5pdGlvbiBvZiBhIFRydXN0ZWQgVHlwZVxuICogcG9saWN5IHdoZW4gc2ltcGx5IGltcG9ydGluZyBzYWZldmFsdWVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZG9jdHlwZUh0bWwoKTogU2FmZUh0bWwge1xuICByZXR1cm4gY3JlYXRlSHRtbEludGVybmFsKCc8IURPQ1RZUEUgaHRtbD4nKTtcbn1cblxuLyoqXG4gKiBOb24tZXhwb3J0ZWQgdmVyc2lvbiBvZiBgbm9kZVRvSHRtbGAsIHdpdGggYW4gZXhwbGljaXQgdGVtcG9yYXJ5IHJvb3QgdG9cbiAqIGFjY29tb2RhdGUgZm9yIHRoZSBzYW5pdGl6ZXIncyB1c2VyIGNhc2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBub2RlVG9IdG1sSW50ZXJuYWwoXG4gIG5vZGU6IE5vZGUsXG4gIHRlbXBvcmFyeVJvb3Q6IEVsZW1lbnQsXG4pOiBTYWZlSHRtbCB7XG4gIHRlbXBvcmFyeVJvb3QuYXBwZW5kQ2hpbGQobm9kZSk7XG5cbiAgLy8gWE1MIHNlcmlhbGl6YXRpb24gaXMgcHJlZmVycmVkIG92ZXIgSFRNTCBzZXJpYWxpemF0aW9uIGFzIGl0IGlzXG4gIC8vIHN0cmljdGVyIGFuZCBtYWtlcyBzdXJlIGFsbCBhdHRyaWJ1dGVzIGFyZSBwcm9wZXJseSBlc2NhcGVkLCBhdm9pZGluZ1xuICAvLyBjYXNlcyB3aGVyZSB0aGUgdHJlZSBtaWdodCBtdXRhdGUgd2hlbiBwYXJzZWQgYWdhaW4gbGF0ZXIgZHVlIHRvIHRoZVxuICAvLyBjb21wbGV4aXRpZXMgb2YgdGhlIEhUTUwgcGFyc2luZyBhbGdvcml0aG1cbiAgbGV0IHNlcmlhbGl6ZWROZXdUcmVlID0gbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh0ZW1wb3JhcnlSb290KTtcbiAgLy8gV2UgcmVtb3ZlIHRoZSBvdXRlciBtb3N0IGVsZW1lbnQgYXMgdGhpcyBpcyB0aGUgc3BhbiBub2RlIGNyZWF0ZWQgYXNcbiAgLy8gdGhlIHJvb3QgZm9yIHRoZSBzYW5pdGl6ZWQgdHJlZSBhbmQgY29udGFpbnMgYSBzcHVyaW91cyB4bWxucyBhdHRyaWJ1dGVcbiAgLy8gZnJvbSB0aGUgWE1MIHNlcmlhbGl6YXRpb24gc3RlcC5cbiAgc2VyaWFsaXplZE5ld1RyZWUgPSBzZXJpYWxpemVkTmV3VHJlZS5zbGljZShcbiAgICBzZXJpYWxpemVkTmV3VHJlZS5pbmRleE9mKCc+JykgKyAxLFxuICAgIHNlcmlhbGl6ZWROZXdUcmVlLmxhc3RJbmRleE9mKCc8LycpLFxuICApO1xuICByZXR1cm4gY3JlYXRlSHRtbEludGVybmFsKHNlcmlhbGl6ZWROZXdUcmVlKTtcbn1cblxuLyoqXG4gKiBTZXJpYWxpemVzIGEgTm9kZSBpbnRvIGl0J3MgSFRNTCByZXByZXNlbnRhdGlvbi5cbiAqXG4gKiBOb3RlOiB0aGlzIG1ldGhvZCB1c2VzIHN0cmljdCBYTUwgc2VyaWFsaXphdGlvbiB0byBtaXRpZ2F0ZSBtdXRhdGlvbiBpc3N1ZXNcbiAqIHdoZW4gdGhlIGh0bWwgaXMgdGhlbiByZS1wYXJzZWQgYnkgdGhlIGJyb3dzZXIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBub2RlVG9IdG1sKG5vZGU6IE5vZGUpOiBTYWZlSHRtbCB7XG4gIGNvbnN0IHRlbXBSb290ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICByZXR1cm4gbm9kZVRvSHRtbEludGVybmFsKG5vZGUsIHRlbXBSb290KTtcbn1cblxuLy8gQkVHSU4tSU5URVJOQUxcbi8qKlxuICogVHlwZSBmb3IgdGhlIGF0dHJpYnV0ZSB2YWx1ZSBpbiBTYWZlSHRtbCBidWlsZGVycy4gU2FmZVN0eWxlIGFuZCBTYWZlVXJsIGFyZVxuICogaW4gZm9yIGxlZ2FjeSByZWFzb25zLlxuICovXG5leHBvcnQgdHlwZSBBdHRyaWJ1dGVWYWx1ZSA9IHN0cmluZyB8IG51bWJlciB8IFNhZmVVcmwgfCBTYWZlU3R5bGU7XG5cbi8qKlxuICogU2hvcnRoYW5kIGZvciB1bmlvbiBvZiB0eXBlcyB0aGF0IGNhbiBzZW5zaWJseSBiZSBjb252ZXJ0ZWQgdG8gc3RyaW5nc1xuICogb3IgbWlnaHQgYWxyZWFkeSBiZSBTYWZlSHRtbC5cbiAqL1xudHlwZSBUZXh0T3JIdG1sID0gc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbiB8IFNhZmVIdG1sO1xuXG5jb25zdCBWQUxJRF9UQUdfT1JfQVRUUklCVVRFX05BTUVTID0gL15bYS16XVthLXpcXGQtXSokL2k7XG5cbi8qKlxuICogVGFncyB3aGljaCBhcmUgdW5zdXBwb3J0ZWQgdmlhIGNyZWF0ZUh0bWwoKS4gVGhleSBtaWdodCBiZVxuICogc3VwcG9ydGVkIHZpYSBhIHRhZy1zcGVjaWZpYyBjcmVhdGUgbWV0aG9kLiBUaGVzZSBhcmUgdGFncyB3aGljaCBtaWdodFxuICogcmVxdWlyZSBhIFRydXN0ZWRSZXNvdXJjZVVybCBpbiBvbmUgb2YgdGhlaXIgYXR0cmlidXRlcyBvciBhIHJlc3RyaWN0ZWRcbiAqIHR5cGUgZm9yIHRoZWlyIGNvbnRlbnQuXG4gKi9cbmNvbnN0IERJU0FMTE9XRURfVEFHX05BTUVTID0gW1xuICAnQVBQTEVUJyxcbiAgJ0JBU0UnLFxuICAnRU1CRUQnLFxuICAnSUZSQU1FJyxcbiAgJ0xJTksnLFxuICAnTUFUSCcsXG4gICdNRVRBJyxcbiAgJ09CSkVDVCcsXG4gICdTQ1JJUFQnLFxuICAnU1RZTEUnLFxuICAnU1ZHJyxcbiAgJ1RFTVBMQVRFJyxcbl07XG5cbi8qKiBMaXN0IG9mIHZvaWQgdGFncy4gKi9cbmV4cG9ydCBjb25zdCBWT0lEX1RBR19OQU1FUyA9IFtcbiAgJ0FSRUEnLFxuICAnQlInLFxuICAnQ09MJyxcbiAgJ0NPTU1BTkQnLFxuICAnSFInLFxuICAnSU1HJyxcbiAgJ0lOUFVUJyxcbiAgJ0tFWUdFTicsXG4gICdQQVJBTScsXG4gICdTT1VSQ0UnLFxuICAnVFJBQ0snLFxuICAnV0JSJyxcbl07XG5cbi8qKlxuICogQXR0cmlidXRlcyB0aGF0IGNhbiBjYXVzZSB0aGUgZXhlY3V0aW9uIG9mIGphdmFzY3JpcHQ6IFVSTHMuXG4gKi9cbmNvbnN0IFVSTF9BVFRSSUJVVEVTID0gWydhY3Rpb24nLCAnZm9ybWFjdGlvbicsICdocmVmJ107XG5cbi8qKlxuICogVmVyaWZpZXMgaWYgdGhlIHRhZyBuYW1lIGlzIHZhbGlkIGFuZCBpZiBpdCBkb2Vzbid0IGNoYW5nZSB0aGUgY29udGV4dC5cbiAqIEUuZy4gU1RST05HIGlzIGZpbmUgYnV0IFNDUklQVCB0aHJvd3MgYmVjYXVzZSBpdCBjaGFuZ2VzIGNvbnRleHQuIFNlZVxuICogY3JlYXRlSHRtbCBmb3IgYW4gZXhwbGFuYXRpb24gb2YgYWxsb3dlZCB0YWdzLlxuICogQHRocm93cyB7IUVycm9yfSBJZiBpbnZhbGlkIHRhZyBuYW1lIGlzIHByb3ZpZGVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdmVyaWZ5VGFnTmFtZSh0YWdOYW1lOiBzdHJpbmcpIHtcbiAgaWYgKCFWQUxJRF9UQUdfT1JfQVRUUklCVVRFX05BTUVTLnRlc3QodGFnTmFtZSkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoREVWX01PREUgPyBgSW52YWxpZCB0YWcgbmFtZSA8JHt0YWdOYW1lfT4uYCA6ICcnKTtcbiAgfVxuICBpZiAoRElTQUxMT1dFRF9UQUdfTkFNRVMuaW5kZXhPZih0YWdOYW1lLnRvVXBwZXJDYXNlKCkpICE9PSAtMSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIERFVl9NT0RFID8gYFRhZyBuYW1lIDwke3RhZ05hbWV9PiBpcyBub3QgYWxsb3dlZCBmb3IgY3JlYXRlSHRtbC5gIDogJycsXG4gICAgKTtcbiAgfVxufVxuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgdGFnIG5hbWUgaXMgYSB2b2lkIHRhZy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzVm9pZFRhZyh0YWdOYW1lOiBzdHJpbmcpIHtcbiAgcmV0dXJuIFZPSURfVEFHX05BTUVTLmluZGV4T2YodGFnTmFtZS50b1VwcGVyQ2FzZSgpKSAhPT0gLTE7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIFNhZmVIdG1sIGNvbnRlbnQgY29uc2lzdGluZyBvZiBhIHRhZyB3aXRoIG9wdGlvbmFsIGF0dHJpYnV0ZXMgYW5kXG4gKiBvcHRpb25hbCBjb250ZW50LlxuICogVGhpcyBpcyByb3VnaGx5IGVxdWl2YWxlbnQgdG8gQ2xvc3VyZSdzIGdvb2cuaHRtbC5TYWZlSHRtbC5jcmVhdGUgZnVuY3Rpb24sXG4gKiB3aXRoIGEgZmV3IGRyb3BwZWQgZmVhdHVyZXMsIGxpa2UgQ29uc3Qgc3RyaW5ncy4gSXQgaXMgZGlzY291cmFnZWQgZm9yIG5ld1xuICogdXNhZ2VzLiBQcmVmZXIgdXNpbmcgYSByZWNvbW1lbmRlZCB0ZW1wbGF0aW5nIHN5c3RlbSBsaWtlIExpdCBpbnN0ZWFkLlxuICpcbiAqIEV4YW1wbGUgdXNhZ2U6XG4gKlxuICogY3JlYXRlSHRtbCgnYnInKTtcbiAqIGNyZWF0ZUh0bWwoJ2RpdicsIHsnY2xhc3MnOiAnYSd9KTtcbiAqIGNyZWF0ZUh0bWwoJ3AnLCB7fSwgJ2EnKTtcbiAqIGNyZWF0ZUh0bWwoJ3AnLCB7fSwgY3JlYXRlSHRtbCgnYnInKSk7XG4gKlxuICogY3JlYXRlSHRtbCgnc3BhbicsIHtcbiAqICAgJ3N0eWxlJzogeydtYXJnaW4nOiAnMCd9XG4gKiB9KTtcbiAqXG4gKiBUbyBndWFyYW50ZWUgU2FmZUh0bWwncyB0eXBlIGNvbnRyYWN0IGlzIHVwaGVsZCB0aGVyZSBhcmUgcmVzdHJpY3Rpb25zIG9uXG4gKiBhdHRyaWJ1dGUgdmFsdWVzIGFuZCB0YWcgbmFtZXMuXG4gKlxuICogLSBBdHRyaWJ1dGVzIHdoaWNoIGNvbnRhaW4gc2NyaXB0IGNvZGUgKGUuZy4gb24qKSBhcmUgZGlzYWxsb3dlZC5cbiAqIC0gRm9yIGF0dHJpYnV0ZXMgd2hpY2ggYXJlIGludGVycHJldGVkIGFzIFVSTHMgKGUuZy4gc3JjLCBocmVmKSwgdGhlIFVSTFxuICogd2lsbCBiZSBzYW5pdGl6ZWQgd2l0aCBqYXZhc2NyaXB0OiBVUkxzIGJsb2NrZWQuXG4gKiAtIFRhZ3Mgd2hpY2ggYXJlIG5vdCBzdXBwb3J0ZWQgYnkgdGhpcyBmdW5jdGlvbiBhcmUgYXBwbGV0LCBiYXNlLCBlbWJlZCxcbiAqICAgaWZyYW1lLCBsaW5rLCBtYXRoLCBtZXRhLCBvYmplY3QsIHNjcmlwdCwgc3R5bGUsIHN2ZywgYW5kIHRlbXBsYXRlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlSHRtbChcbiAgdGFnTmFtZTogc3RyaW5nLFxuICBhdHRyaWJ1dGVzPzoge1thdHRyTmFtZTogc3RyaW5nXTogQXR0cmlidXRlVmFsdWUgfCB1bmRlZmluZWR9LFxuICBjb250ZW50PzogVGV4dE9ySHRtbCB8IFRleHRPckh0bWxbXSxcbik6IFNhZmVIdG1sIHtcbiAgdmVyaWZ5VGFnTmFtZSh0YWdOYW1lKTtcbiAgbGV0IHJlc3VsdCA9IGA8JHt0YWdOYW1lfWA7XG4gIGlmIChhdHRyaWJ1dGVzKSB7XG4gICAgcmVzdWx0ICs9IHN0cmluZ2lmeUF0dHJpYnV0ZXModGFnTmFtZSwgYXR0cmlidXRlcyk7XG4gIH1cbiAgaWYgKCFBcnJheS5pc0FycmF5KGNvbnRlbnQpKSB7XG4gICAgY29udGVudCA9IGNvbnRlbnQgPT09IHVuZGVmaW5lZCA/IFtdIDogW2NvbnRlbnRdO1xuICB9XG5cbiAgaWYgKGlzVm9pZFRhZyh0YWdOYW1lKSkge1xuICAgIGlmIChERVZfTU9ERSkge1xuICAgICAgaWYgKGNvbnRlbnQubGVuZ3RoID4gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFZvaWQgdGFnIDwke3RhZ05hbWV9PiBkb2VzIG5vdCBhbGxvdyBjb250ZW50LmApO1xuICAgICAgfVxuICAgIH1cbiAgICByZXN1bHQgKz0gJz4nO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IGh0bWwgPSBjb25jYXRIdG1scyhcbiAgICAgIGNvbnRlbnQubWFwKCh2YWx1ZSkgPT5cbiAgICAgICAgaXNIdG1sKHZhbHVlKSA/IHZhbHVlIDogaHRtbEVzY2FwZShTdHJpbmcodmFsdWUpKSxcbiAgICAgICksXG4gICAgKTtcbiAgICByZXN1bHQgKz0gJz4nICsgaHRtbC50b1N0cmluZygpICsgJzwvJyArIHRhZ05hbWUgKyAnPic7XG4gIH1cblxuICByZXR1cm4gY3JlYXRlSHRtbEludGVybmFsKHJlc3VsdCk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIFNhZmVIdG1sIHJlcHJlc2VudGluZyBhIHN0eWxlIHRhZy4gVGhlIHR5cGUgYXR0cmlidXRlIGlzIHNldFxuICogdG8gXCJ0ZXh0L2Nzc1wiLlxuICogQHBhcmFtIHN0eWxlU2hlZXQgQ29udGVudCB0byBwdXQgaW5zaWRlIHRoZSB0YWcuIEFycmF5IGVsZW1lbnRzIGFyZVxuICogICAgIGNvbmNhdGVuYXRlZC5cbiAqIEBwYXJhbSBhdHRyaWJ1dGVzIE1hcHBpbmcgZnJvbSBhdHRyaWJ1dGUgbmFtZXMgdG8gdGhlaXIgdmFsdWVzLiBPbmx5XG4gKiAgICAgYXR0cmlidXRlIG5hbWVzIGNvbnNpc3Rpbmcgb2YgW2EtekEtWjAtOS1dIGFyZSBhbGxvd2VkLiBWYWx1ZSBvZlxuICogICAgIHVuZGVmaW5lZCBjYXVzZXMgdGhlIGF0dHJpYnV0ZSB0byBiZSBvbWl0dGVkLlxuICogQHJldHVybiBUaGUgU2FmZUh0bWwgY29udGVudCB3aXRoIHRoZSB0YWcuXG4gKiBAdGhyb3dzIHshRXJyb3J9IElmIGludmFsaWQgYXR0cmlidXRlIG5hbWUgb3IgYXR0cmlidXRlIHZhbHVlIGlzIHByb3ZpZGVkIG9yXG4gKiAgICAgaWYgYXR0cmlidXRlcyBjb250YWlucyB0aGUgdHlwZSBhdHRyaWJ1dGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdHlsZVNoZWV0VG9IdG1sKFxuICBzdHlsZVNoZWV0OiBTYWZlU3R5bGVTaGVldCB8IFNhZmVTdHlsZVNoZWV0W10sXG4gIGF0dHJpYnV0ZXM/OiB7W2F0dHJOYW1lOiBzdHJpbmddOiBBdHRyaWJ1dGVWYWx1ZSB8IHVuZGVmaW5lZH0sXG4pOiBTYWZlSHRtbCB7XG4gIGNvbnN0IGNvbWJpbmVkQXR0cmlidXRlczoge1thdHRyTmFtZTogc3RyaW5nXTogQXR0cmlidXRlVmFsdWUgfCB1bmRlZmluZWR9ID1cbiAgICB7fTtcbiAgaWYgKGF0dHJpYnV0ZXMpIHtcbiAgICBjb25zdCBjdXN0b21BdHRyTmFtZXMgPSBPYmplY3Qua2V5cyhhdHRyaWJ1dGVzKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGN1c3RvbUF0dHJOYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgbmFtZSA9IGN1c3RvbUF0dHJOYW1lc1tpXTtcbiAgICAgIGlmIChuYW1lLnRvTG93ZXJDYXNlKCkgPT09ICd0eXBlJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgREVWX01PREVcbiAgICAgICAgICAgID8gYENhbm5vdCBvdmVycmlkZSB0aGUgJ3R5cGUnIGF0dHJpYnV0ZSB3aXRoIHZhbHVlICR7YXR0cmlidXRlc1tuYW1lXX0uYFxuICAgICAgICAgICAgOiAnJyxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGNvbWJpbmVkQXR0cmlidXRlc1tuYW1lXSA9IGF0dHJpYnV0ZXNbbmFtZV07XG4gICAgfVxuICB9XG4gIGNvbWJpbmVkQXR0cmlidXRlc1sndHlwZSddID0gJ3RleHQvY3NzJztcblxuICBjb25zdCBzdHJpbmdpZmllZEF0dHJpYnV0ZXMgPSBzdHJpbmdpZnlBdHRyaWJ1dGVzKFxuICAgICdzdHlsZScsXG4gICAgY29tYmluZWRBdHRyaWJ1dGVzLFxuICApO1xuICBpZiAoQXJyYXkuaXNBcnJheShzdHlsZVNoZWV0KSkge1xuICAgIHN0eWxlU2hlZXQgPSBjb25jYXRTdHlsZVNoZWV0cyhzdHlsZVNoZWV0KTtcbiAgfVxuICBjb25zdCBzdHlsZUNvbnRlbnQgPSB1bndyYXBTdHlsZVNoZWV0KHN0eWxlU2hlZXQpO1xuICByZXR1cm4gY3JlYXRlSHRtbEludGVybmFsKFxuICAgIGA8c3R5bGUgJHtzdHJpbmdpZmllZEF0dHJpYnV0ZXN9PiR7c3R5bGVDb250ZW50fTwvc3R5bGU+YCxcbiAgKTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgc3RyaW5nIHdpdGggYXR0cmlidXRlcyB0byBpbnNlcnQgYWZ0ZXIgdGFnTmFtZS5cbiAqIEB0aHJvd3MgeyFFcnJvcn0gSWYgYXR0cmlidXRlIHZhbHVlIGlzIHVuc2FmZSBmb3IgdGhlIGdpdmVuIHRhZyBhbmRcbiAqICAgICBhdHRyaWJ1dGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdHJpbmdpZnlBdHRyaWJ1dGVzKFxuICB0YWdOYW1lOiBzdHJpbmcsXG4gIGF0dHJpYnV0ZXM6IHtbYXR0ck5hbWU6IHN0cmluZ106IEF0dHJpYnV0ZVZhbHVlIHwgdW5kZWZpbmVkfSxcbik6IHN0cmluZyB7XG4gIGxldCByZXN1bHQgPSAnJztcbiAgY29uc3QgYXR0ck5hbWVzID0gT2JqZWN0LmtleXMoYXR0cmlidXRlcyk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYXR0ck5hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgbmFtZSA9IGF0dHJOYW1lc1tpXTtcbiAgICBjb25zdCB2YWx1ZSA9IGF0dHJpYnV0ZXNbbmFtZV07XG4gICAgaWYgKCFWQUxJRF9UQUdfT1JfQVRUUklCVVRFX05BTUVTLnRlc3QobmFtZSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihERVZfTU9ERSA/IGBJbnZhbGlkIGF0dHJpYnV0ZSBuYW1lIFwiJHtuYW1lfVwiLmAgOiAnJyk7XG4gICAgfVxuICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHZhbHVlID09PSBudWxsKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgcmVzdWx0ICs9ICcgJyArIGdldEF0dHJOYW1lQW5kVmFsdWUodGFnTmFtZSwgbmFtZSwgdmFsdWUpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIGdldEF0dHJOYW1lQW5kVmFsdWUoXG4gIHRhZ05hbWU6IHN0cmluZyxcbiAgbmFtZTogc3RyaW5nLFxuICB2YWx1ZTogQXR0cmlidXRlVmFsdWUsXG4pOiBzdHJpbmcge1xuICBpZiAoL15vbi9pLnRlc3QobmFtZSkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBERVZfTU9ERVxuICAgICAgICA/IGBBdHRyaWJ1dGUgXCIke25hbWV9IGlzIGZvcmJpZGRlbi4gSW5saW5lIGV2ZW50IGhhbmRsZXJzIGNhbiBsZWFkIHRvIFhTUy4gUGxlYXNlIHVzZSB0aGUgJ2FkZEV2ZW50TGlzdGVuZXInIEFQSSBpbnN0ZWFkLmBcbiAgICAgICAgOiAnJyxcbiAgICApO1xuICB9IGVsc2UgaWYgKFVSTF9BVFRSSUJVVEVTLmluZGV4T2YobmFtZS50b0xvd2VyQ2FzZSgpKSAhPT0gLTEpIHtcbiAgICBpZiAoaXNVcmwodmFsdWUpKSB7XG4gICAgICB2YWx1ZSA9IHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhbHVlID0gc2FuaXRpemVKYXZhU2NyaXB0VXJsKFN0cmluZyh2YWx1ZSkpIHx8ICdhYm91dDppbnZhbGlkI3pDbG9zdXJleic7XG4gICAgfVxuICB9XG4gIGlmIChERVZfTU9ERSkge1xuICAgIGlmIChcbiAgICAgICFpc1VybCh2YWx1ZSkgJiZcbiAgICAgICFpc0h0bWwodmFsdWUpICYmXG4gICAgICAhaXNTdHlsZSh2YWx1ZSkgJiZcbiAgICAgIHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycgJiZcbiAgICAgIHR5cGVvZiB2YWx1ZSAhPT0gJ251bWJlcidcbiAgICApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYFN0cmluZyBvciBudW1iZXIgdmFsdWUgZXhwZWN0ZWQsIGdvdCAke3R5cGVvZiB2YWx1ZX0gd2l0aCB2YWx1ZSAnJHt2YWx1ZX0nIGdpdmVuLmAsXG4gICAgICApO1xuICAgIH1cbiAgfVxuICByZXR1cm4gYCR7bmFtZX09XCIke2h0bWxFc2NhcGUoU3RyaW5nKHZhbHVlKSl9XCJgO1xufVxuLy8gRU5ELUlOVEVSTkFMXG4iXX0=
;return exports;});

//third_party/javascript/safevalues/builders/html_formatter.closure.js
goog.loadModule(function(exports) {'use strict';/**
 * @license
 * Copyright Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
/**
 * @fileoverview SafeHtml builder API to make it possible to use goog.getMsg
 * safely with HTML.
 * Generated from: third_party/javascript/safevalues/builders/html_formatter.ts
 * @suppress {checkTypes} added by tsickle
 * @suppress {extraRequire} added by tsickle
 * @suppress {missingRequire} added by tsickle
 * @suppress {uselessCode} added by tsickle
 * @suppress {suspiciousCode} added by tsickle
 * @suppress {missingReturn} added by tsickle
 * @suppress {unusedPrivateMembers} added by tsickle
 * @suppress {missingOverride} added by tsickle
 * @suppress {const} added by tsickle
 */
goog.module('google3.third_party.javascript.safevalues.builders.html_formatter');
var module = module || { id: 'third_party/javascript/safevalues/builders/html_formatter.closure.js' };
goog.require('google3.third_party.javascript.tslib.tslib');
const tsickle_dev_1 = goog.requireType("google3.third_party.javascript.safevalues.environment.dev");
const tsickle_html_impl_2 = goog.requireType("google3.third_party.javascript.safevalues.internals.html_impl");
const tsickle_html_builders_3 = goog.requireType("google3.third_party.javascript.safevalues.builders.html_builders");
const tsickle_url_impl_4 = goog.requireType("google3.third_party.javascript.safevalues.internals.url_impl");
const tsickle_style_impl_5 = goog.requireType("google3.third_party.javascript.safevalues.internals.style_impl");
const dev_1 = goog.require('google3.third_party.javascript.safevalues.environment.dev');
const html_impl_1 = goog.require('google3.third_party.javascript.safevalues.internals.html_impl');
const html_builders_1 = goog.require('google3.third_party.javascript.safevalues.builders.html_builders');
/**
 * @record
 */
function HtmlReplacement() { }
/* istanbul ignore if */
if (false) {
    /**
     * @type {string}
     * @public
     */
    HtmlReplacement.prototype.type;
    /**
     * @type {string}
     * @public
     */
    HtmlReplacement.prototype.html;
}
/**
 * @record
 */
function StartTagReplacement() { }
/* istanbul ignore if */
if (false) {
    /**
     * @type {string}
     * @public
     */
    StartTagReplacement.prototype.type;
    /**
     * @type {string}
     * @public
     */
    StartTagReplacement.prototype.tagName;
    /**
     * @type {string}
     * @public
     */
    StartTagReplacement.prototype.attributes;
}
/**
 * @record
 */
function EndTagReplacement() { }
/* istanbul ignore if */
if (false) {
    /**
     * @type {string}
     * @public
     */
    EndTagReplacement.prototype.type;
    /**
     * @type {string}
     * @public
     */
    EndTagReplacement.prototype.tagName;
}
/** @typedef {(!HtmlReplacement|!StartTagReplacement|!EndTagReplacement)} */
var Replacement;
/**
 * Marker used for replacements.
 * @type {string}
 */
const MARKER = '_safevalues_format_marker_:';
/**
 * Formatter producing SafeHtml from a plain text format and HTML fragments.
 * Example usage:
 * const formatter = new HtmlFormatter();
 * const safeHtml = formatter.format(
 *     formatter.startTag('b') +
 *     'User input:' +
 *     formatter.endTag('b') +
 *     ' ' +
 *     formatter.text(userInput));
 * The most common usage is with goog.getMsg:
 * const MSG_USER_INPUT = goog.getMsg(
 *     '{$startLink}Learn more{$endLink} about {$userInput}', {
 *       'startLink': formatter.startTag('a', {'href': url}),
 *       'endLink': formatter.endTag('a'),
 *       'userInput': formatter.text(userInput)
 *     });
 * const safeHtml = formatter.format(MSG_USER_INPUT);
 * The formatting string should be constant with all variables processed by
 * formatter.text().
 * @final
 */
class HtmlFormatter {
    constructor() {
        this.replacements = new Map();
    }
    /**
     * Formats a plain text string with markers holding HTML fragments to
     * SafeHtml.
     * @public
     * @param {string} format
     * @return {!tsickle_html_impl_2.SafeHtml}
     */
    format(format) {
        /** @type {!Array<string>} */
        const openedTags = [];
        /** @type {string} */
        const marker = (0, html_builders_1.htmlEscape)(MARKER).toString();
        /** @type {string} */
        const html = (0, html_builders_1.htmlEscape)(format)
            .toString()
            .replace(new RegExp(`\\{${marker}[\\w&#;]+\\}`, 'g'), (/**
         * @param {string} match
         * @return {string}
         */
        (match) => this.replaceFormattingString(openedTags, match)));
        if (openedTags.length !== 0) {
            if (dev_1.DEV_MODE) {
                throw new Error('Expected no unclosed tags, got <' + openedTags.join('>, <') + '>.');
            }
            else {
                throw new Error();
            }
        }
        return (0, html_impl_1.createHtmlInternal)(html);
    }
    /**
     * Replaces found formatting strings with saved tags.
     * @private
     * @param {!Array<string>} openedTags
     * @param {string} match
     * @return {string}
     */
    replaceFormattingString(openedTags, match) {
        /** @type {(undefined|!HtmlReplacement|!StartTagReplacement|!EndTagReplacement)} */
        const replacement = this.replacements.get(match);
        if (!replacement) {
            // Someone included a string looking like our internal marker in the
            // format.
            return match;
        }
        /** @type {string} */
        let result = '';
        switch (replacement.type) {
            case 'html':
                result = (/** @type {!HtmlReplacement} */ (replacement)).html;
                break;
            case 'startTag':
                result = `<${(/** @type {!StartTagReplacement} */ (replacement)).tagName}${(/** @type {!StartTagReplacement} */ (replacement)).attributes}>`;
                if (dev_1.DEV_MODE) {
                    if (!(0, html_builders_1.isVoidTag)((/** @type {!StartTagReplacement} */ (replacement)).tagName.toLowerCase())) {
                        openedTags.push((/** @type {!StartTagReplacement} */ (replacement)).tagName.toLowerCase());
                    }
                }
                break;
            case 'endTag':
                result = `</${(/** @type {!EndTagReplacement} */ (replacement)).tagName}>`;
                if (dev_1.DEV_MODE) {
                    /** @type {(undefined|string)} */
                    const lastTag = openedTags.pop();
                    if (lastTag !== (/** @type {!EndTagReplacement} */ (replacement)).tagName.toLowerCase()) {
                        throw new Error(`Expected </${lastTag}>, got </${(/** @type {!EndTagReplacement} */ (replacement)).tagName}>.`);
                    }
                }
                break;
            default:
                if (dev_1.DEV_MODE) {
                    checkExhaustive(replacement, 'type had an unknown value');
                }
        }
        return result;
    }
    /**
     * Saves a start tag and returns its marker.
     * @throws {!Error} If invalid tag name, attribute name, or attribute value is
     *     provided. This function accepts the same tags and attributes as
     *     safevalues.createHtml.
     * @public
     * @param {string} tagName
     * @param {(undefined|!Object<string,(undefined|string|number|!tsickle_url_impl_4.SafeUrl|!tsickle_style_impl_5.SafeStyle)>)=} attributes
     *     Mapping from attribute names to their values. Only attribute names
     *     consisting of [a-zA-Z0-9-] are allowed. Value of null or undefined
     * causes the attribute to be omitted.
     * @return {string}
     */
    startTag(tagName, attributes) {
        (0, html_builders_1.verifyTagName)(tagName);
        return this.storeReplacement({
            type: 'startTag',
            tagName,
            attributes: attributes !== undefined
                ? (0, html_builders_1.stringifyAttributes)(tagName, attributes)
                : '',
        });
    }
    /**
     * Saves an end tag and returns its marker.
     * @throws {!Error} If invalid tag name, attribute name, or attribute value is
     *     provided. This function accepts the same tags as {\@link
     *     safevalues.createHtml}.
     * @public
     * @param {string} tagName
     * @return {string}
     */
    endTag(tagName) {
        (0, html_builders_1.verifyTagName)(tagName);
        return this.storeReplacement({ type: 'endTag', tagName });
    }
    /**
     * Escapes a text, saves it and returns its marker.
     *
     * Wrapping any user input to .text() prevents the attacker with access to
     * the random number generator to duplicate tags used elsewhere in the format.
     * @public
     * @param {string} text
     * @return {string}
     */
    text(text) {
        return this.storeReplacement({
            type: 'html',
            html: (0, html_builders_1.htmlEscape)(text).toString(),
        });
    }
    /**
     * Saves SafeHtml and returns its marker.
     * @public
     * @param {!tsickle_html_impl_2.SafeHtml} safeHtml
     * @return {string}
     */
    safeHtml(safeHtml) {
        return this.storeReplacement({
            type: 'html',
            html: (0, html_impl_1.unwrapHtml)(safeHtml).toString(),
        });
    }
    /**
     * Stores a replacement and returns its marker.
     * @private
     * @param {(!HtmlReplacement|!StartTagReplacement|!EndTagReplacement)} replacement
     * @return {string}
     */
    storeReplacement(replacement) {
        /** @type {string} */
        const marker = `{${MARKER}${this.replacements.size}_${getRandomString()}}`;
        this.replacements.set((0, html_builders_1.htmlEscape)(marker).toString(), replacement);
        return marker;
    }
}
exports.HtmlFormatter = HtmlFormatter;
/* istanbul ignore if */
if (false) {
    /**
     * @const {!Map<string, (!HtmlReplacement|!StartTagReplacement|!EndTagReplacement)>}
     * @private
     */
    HtmlFormatter.prototype.replacements;
}
/**
 * @return {string}
 */
function getRandomString() {
    return Math.random().toString(36).slice(2);
}
/**
 * @param {?} value
 * @param {string=} msg
 * @return {?}
 */
function checkExhaustive(value, msg = `unexpected value ${value}!`) {
    throw new Error(msg);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaHRtbF9mb3JtYXR0ZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi90aGlyZF9wYXJ0eS9qYXZhc2NyaXB0L3NhZmV2YWx1ZXMvYnVpbGRlcnMvaHRtbF9mb3JtYXR0ZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBV0Esd0ZBQTRDO0FBQzVDLGtHQUFnRjtBQUVoRix5R0FNeUI7Ozs7QUFFekIsOEJBR0M7Ozs7Ozs7SUFGQywrQkFBYTs7Ozs7SUFDYiwrQkFBYTs7Ozs7QUFHZixrQ0FJQzs7Ozs7OztJQUhDLG1DQUFpQjs7Ozs7SUFDakIsc0NBQWdCOzs7OztJQUNoQix5Q0FBbUI7Ozs7O0FBR3JCLGdDQUdDOzs7Ozs7O0lBRkMsaUNBQWU7Ozs7O0lBQ2Ysb0NBQWdCOzs7QUFHbEIsZ0JBQTZFOzs7OztNQUd2RSxNQUFNLEdBQUcsNkJBQTZCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQXdCNUMsTUFBYSxhQUFhO0lBQTFCO1FBQ21CLGlCQUFZLEdBQUcsSUFBSSxHQUFHLEVBQXVCLENBQUM7SUF3SWpFLENBQUM7Ozs7Ozs7O0lBbElDLE1BQU0sQ0FBQyxNQUFjOztjQUNiLFVBQVUsR0FBYSxFQUFFOztjQUN6QixNQUFNLEdBQUcsSUFBQSwwQkFBVSxFQUFDLE1BQU0sQ0FBQyxDQUFDLFFBQVEsRUFBRTs7Y0FDdEMsSUFBSSxHQUFHLElBQUEsMEJBQVUsRUFBQyxNQUFNLENBQUM7YUFDNUIsUUFBUSxFQUFFO2FBQ1YsT0FBTyxDQUFDLElBQUksTUFBTSxDQUFDLE1BQU0sTUFBTSxjQUFjLEVBQUUsR0FBRyxDQUFDOzs7O1FBQUUsQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUM5RCxJQUFJLENBQUMsdUJBQXVCLENBQUMsVUFBVSxFQUFFLEtBQUssQ0FBQyxFQUNoRDtRQUNILElBQUksVUFBVSxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUUsQ0FBQztZQUM1QixJ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LElBQUksQ0FBQyxnQkFBZ0IsQ0FBQztZQUMzQixJQUFJLEVBQUUsTUFBTTtZQUNaLElBQUksRUFBRSxJQUFBLDBCQUFVLEVBQUMsSUFBSSxDQUFDLENBQUMsUUFBUSxFQUFFO1NBQ2xDLENBQUMsQ0FBQztJQUNMLENBQUM7Ozs7Ozs7SUFLRCxRQUFRLENBQUMsUUFBa0I7UUFDekIsT0FBTyxJQUFJLENBQUMsZ0JBQWdCLENBQUM7WUFDM0IsSUFBSSxFQUFFLE1BQU07WUFDWixJQUFJLEVBQUUsSUFBQSxzQkFBVSxFQUFDLFFBQVEsQ0FBQyxDQUFDLFFBQVEsRUFBRTtTQUN0QyxDQUFDLENBQUM7SUFDTCxDQUFDOzs7Ozs7O0lBS08sZ0JBQWdCLENBQUMsV0FBd0I7O2NBQ3pDLE1BQU0sR0FBRyxJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksSUFBSSxlQUFlLEVBQUUsR0FBRztRQUMxRSxJQUFJLENBQUMsWUFBWSxDQUFDLEdBQUcsQ0FBQyxJQUFBLDBCQUFVLEVBQUMsTUFBTSxDQUFDLENBQUMsUUFBUSxFQUFFLEVBQUUsV0FBVyxDQUFDLENBQUM7UUFDbEUsT0FBTyxNQUFNLENBQUM7SUFDaEIsQ0FBQztDQUNGO0FBeklELHNDQXlJQzs7Ozs7OztJQXhJQyxxQ0FBK0Q7Ozs7O0FBMElqRSxTQUFTLGVBQWU7SUFDdEIsT0FBTyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUM3QyxDQUFDOzs7Ozs7QUFFRCxTQUFTLGVBQWUsQ0FDdEIsS0FBWSxFQUNaLEdBQUcsR0FBRyxvQkFBb0IsS0FBSyxHQUFHO0lBRWxDLE1BQU0sSUFBSSxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDdkIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbi8qKlxuICogQGZpbGVvdmVydmlldyBTYWZlSHRtbCBidWlsZGVyIEFQSSB0byBtYWtlIGl0IHBvc3NpYmxlIHRvIHVzZSBnb29nLmdldE1zZ1xuICogc2FmZWx5IHdpdGggSFRNTC5cbiAqL1xuXG5pbXBvcnQge0RFVl9NT0RFfSBmcm9tICcuLi9lbnZpcm9ubWVudC9kZXYnO1xuaW1wb3J0IHtjcmVhdGVIdG1sSW50ZXJuYWwsIFNhZmVIdG1sLCB1bndyYXBIdG1sfSBmcm9tICcuLi9pbnRlcm5hbHMvaHRtbF9pbXBsJztcblxuaW1wb3J0IHtcbiAgQXR0cmlidXRlVmFsdWUsXG4gIGh0bWxFc2NhcGUsXG4gIGlzVm9pZFRhZyxcbiAgc3RyaW5naWZ5QXR0cmlidXRlcyxcbiAgdmVyaWZ5VGFnTmFtZSxcbn0gZnJvbSAnLi9odG1sX2J1aWxkZXJzJztcblxuaW50ZXJmYWNlIEh0bWxSZXBsYWNlbWVudCB7XG4gIHR5cGU6ICdodG1sJztcbiAgaHRtbDogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgU3RhcnRUYWdSZXBsYWNlbWVudCB7XG4gIHR5cGU6ICdzdGFydFRhZyc7XG4gIHRhZ05hbWU6IHN0cmluZztcbiAgYXR0cmlidXRlczogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgRW5kVGFnUmVwbGFjZW1lbnQge1xuICB0eXBlOiAnZW5kVGFnJztcbiAgdGFnTmFtZTogc3RyaW5nO1xufVxuXG50eXBlIFJlcGxhY2VtZW50ID0gSHRtbFJlcGxhY2VtZW50IHwgU3RhcnRUYWdSZXBsYWNlbWVudCB8IEVuZFRhZ1JlcGxhY2VtZW50O1xuXG4vKiogTWFya2VyIHVzZWQgZm9yIHJlcGxhY2VtZW50cy4gKi9cbmNvbnN0IE1BUktFUiA9ICdfc2FmZXZhbHVlc19mb3JtYXRfbWFya2VyXzonO1xuXG4vKipcbiAqIEZvcm1hdHRlciBwcm9kdWNpbmcgU2FmZUh0bWwgZnJvbSBhIHBsYWluIHRleHQgZm9ybWF0IGFuZCBIVE1MIGZyYWdtZW50cy5cbiAqIEV4YW1wbGUgdXNhZ2U6XG4gKiBjb25zdCBmb3JtYXR0ZXIgPSBuZXcgSHRtbEZvcm1hdHRlcigpO1xuICogY29uc3Qgc2FmZUh0bWwgPSBmb3JtYXR0ZXIuZm9ybWF0KFxuICogICAgIGZvcm1hdHRlci5zdGFydFRhZygnYicpICtcbiAqICAgICAnVXNlciBpbnB1dDonICtcbiAqICAgICBmb3JtYXR0ZXIuZW5kVGFnKCdiJykgK1xuICogICAgICcgJyArXG4gKiAgICAgZm9ybWF0dGVyLnRleHQodXNlcklucHV0KSk7XG4gKiBUaGUgbW9zdCBjb21tb24gdXNhZ2UgaXMgd2l0aCBnb29nLmdldE1zZzpcbiAqIGNvbnN0IE1TR19VU0VSX0lOUFVUID0gZ29vZy5nZXRNc2coXG4gKiAgICAgJ3skc3RhcnRMaW5rfUxlYXJuIG1vcmV7JGVuZExpbmt9IGFib3V0IHskdXNlcklucHV0fScsIHtcbiAqICAgICAgICdzdGFydExpbmsnOiBmb3JtYXR0ZXIuc3RhcnRUYWcoJ2EnLCB7J2hyZWYnOiB1cmx9KSxcbiAqICAgICAgICdlbmRMaW5rJzogZm9ybWF0dGVyLmVuZFRhZygnYScpLFxuICogICAgICAgJ3VzZXJJbnB1dCc6IGZvcm1hdHRlci50ZXh0KHVzZXJJbnB1dClcbiAqICAgICB9KTtcbiAqIGNvbnN0IHNhZmVIdG1sID0gZm9ybWF0dGVyLmZvcm1hdChNU0dfVVNFUl9JTlBVVCk7XG4gKiBUaGUgZm9ybWF0dGluZyBzdHJpbmcgc2hvdWxkIGJlIGNvbnN0YW50IHdpdGggYWxsIHZhcmlhYmxlcyBwcm9jZXNzZWQgYnlcbiAqIGZvcm1hdHRlci50ZXh0KCkuXG4gKiBAZmluYWxcbiAqL1xuZXhwb3J0IGNsYXNzIEh0bWxGb3JtYXR0ZXIge1xuICBwcml2YXRlIHJlYWRvbmx5IHJlcGxhY2VtZW50cyA9IG5ldyBNYXA8c3RyaW5nLCBSZXBsYWNlbWVudD4oKTtcblxuICAvKipcbiAgICogRm9ybWF0cyBhIHBsYWluIHRleHQgc3RyaW5nIHdpdGggbWFya2VycyBob2xkaW5nIEhUTUwgZnJhZ21lbnRzIHRvXG4gICAqIFNhZmVIdG1sLlxuICAgKi9cbiAgZm9ybWF0KGZvcm1hdDogc3RyaW5nKTogU2FmZUh0bWwge1xuICAgIGNvbnN0IG9wZW5lZFRhZ3M6IHN0cmluZ1tdID0gW107XG4gICAgY29uc3QgbWFya2VyID0gaHRtbEVzY2FwZShNQVJLRVIpLnRvU3RyaW5nKCk7XG4gICAgY29uc3QgaHRtbCA9IGh0bWxFc2NhcGUoZm9ybWF0KVxuICAgICAgLnRvU3RyaW5nKClcbiAgICAgIC5yZXBsYWNlKG5ldyBSZWdFeHAoYFxcXFx7JHttYXJrZXJ9W1xcXFx3JiM7XStcXFxcfWAsICdnJyksIChtYXRjaCkgPT5cbiAgICAgICAgdGhpcy5yZXBsYWNlRm9ybWF0dGluZ1N0cmluZyhvcGVuZWRUYWdzLCBtYXRjaCksXG4gICAgICApO1xuICAgIGlmIChvcGVuZWRUYWdzLmxlbmd0aCAhPT0gMCkge1xuICAgICAgaWYgKERFVl9NT0RFKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAnRXhwZWN0ZWQgbm8gdW5jbG9zZWQgdGFncywgZ290IDwnICsgb3BlbmVkVGFncy5qb2luKCc+LCA8JykgKyAnPi4nLFxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVIdG1sSW50ZXJuYWwoaHRtbCk7XG4gIH1cblxuICAvKipcbiAgICogUmVwbGFjZXMgZm91bmQgZm9ybWF0dGluZyBzdHJpbmdzIHdpdGggc2F2ZWQgdGFncy5cbiAgICovXG4gIHByaXZhdGUgcmVwbGFjZUZvcm1hdHRpbmdTdHJpbmcob3BlbmVkVGFnczogc3RyaW5nW10sIG1hdGNoOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGNvbnN0IHJlcGxhY2VtZW50ID0gdGhpcy5yZXBsYWNlbWVudHMuZ2V0KG1hdGNoKTtcbiAgICBpZiAoIXJlcGxhY2VtZW50KSB7XG4gICAgICAvLyBTb21lb25lIGluY2x1ZGVkIGEgc3RyaW5nIGxvb2tpbmcgbGlrZSBvdXIgaW50ZXJuYWwgbWFya2VyIGluIHRoZVxuICAgICAgLy8gZm9ybWF0LlxuICAgICAgcmV0dXJuIG1hdGNoO1xuICAgIH1cbiAgICBsZXQgcmVzdWx0ID0gJyc7XG4gICAgc3dpdGNoIChyZXBsYWNlbWVudC50eXBlKSB7XG4gICAgICBjYXNlICdodG1sJzpcbiAgICAgICAgcmVzdWx0ID0gcmVwbGFjZW1lbnQuaHRtbDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdzdGFydFRhZyc6XG4gICAgICAgIHJlc3VsdCA9IGA8JHtyZXBsYWNlbWVudC50YWdOYW1lfSR7cmVwbGFjZW1lbnQuYXR0cmlidXRlc30+YDtcbiAgICAgICAgaWYgKERFVl9NT0RFKSB7XG4gICAgICAgICAgaWYgKCFpc1ZvaWRUYWcocmVwbGFjZW1lbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpKSkge1xuICAgICAgICAgICAgb3BlbmVkVGFncy5wdXNoKHJlcGxhY2VtZW50LnRhZ05hbWUudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnZW5kVGFnJzpcbiAgICAgICAgcmVzdWx0ID0gYDwvJHtyZXBsYWNlbWVudC50YWdOYW1lfT5gO1xuICAgICAgICBpZiAoREVWX01PREUpIHtcbiAgICAgICAgICBjb25zdCBsYXN0VGFnID0gb3BlbmVkVGFncy5wb3AoKTtcbiAgICAgICAgICBpZiAobGFzdFRhZyAhPT0gcmVwbGFjZW1lbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgIGBFeHBlY3RlZCA8LyR7bGFzdFRhZ30+LCBnb3QgPC8ke3JlcGxhY2VtZW50LnRhZ05hbWV9Pi5gLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAoREVWX01PREUpIHtcbiAgICAgICAgICBjaGVja0V4aGF1c3RpdmUocmVwbGFjZW1lbnQsICd0eXBlIGhhZCBhbiB1bmtub3duIHZhbHVlJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTYXZlcyBhIHN0YXJ0IHRhZyBhbmQgcmV0dXJucyBpdHMgbWFya2VyLlxuICAgKiBAcGFyYW0gdGFnTmFtZVxuICAgKiBAcGFyYW0gYXR0cmlidXRlc1xuICAgKiAgICAgTWFwcGluZyBmcm9tIGF0dHJpYnV0ZSBuYW1lcyB0byB0aGVpciB2YWx1ZXMuIE9ubHkgYXR0cmlidXRlIG5hbWVzXG4gICAqICAgICBjb25zaXN0aW5nIG9mIFthLXpBLVowLTktXSBhcmUgYWxsb3dlZC4gVmFsdWUgb2YgbnVsbCBvciB1bmRlZmluZWRcbiAgICogY2F1c2VzIHRoZSBhdHRyaWJ1dGUgdG8gYmUgb21pdHRlZC5cbiAgICogQHRocm93cyB7IUVycm9yfSBJZiBpbnZhbGlkIHRhZyBuYW1lLCBhdHRyaWJ1dGUgbmFtZSwgb3IgYXR0cmlidXRlIHZhbHVlIGlzXG4gICAqICAgICBwcm92aWRlZC4gVGhpcyBmdW5jdGlvbiBhY2NlcHRzIHRoZSBzYW1lIHRhZ3MgYW5kIGF0dHJpYnV0ZXMgYXNcbiAgICogICAgIHNhZmV2YWx1ZXMuY3JlYXRlSHRtbC5cbiAgICovXG4gIHN0YXJ0VGFnKFxuICAgIHRhZ05hbWU6IHN0cmluZyxcbiAgICBhdHRyaWJ1dGVzPzoge1thdHRyTmFtZTogc3RyaW5nXTogQXR0cmlidXRlVmFsdWUgfCB1bmRlZmluZWR9LFxuICApOiBzdHJpbmcge1xuICAgIHZlcmlmeVRhZ05hbWUodGFnTmFtZSk7XG4gICAgcmV0dXJuIHRoaXMuc3RvcmVSZXBsYWNlbWVudCh7XG4gICAgICB0eXBlOiAnc3RhcnRUYWcnLFxuICAgICAgdGFnTmFtZSxcbiAgICAgIGF0dHJpYnV0ZXM6XG4gICAgICAgIGF0dHJpYnV0ZXMgIT09IHVuZGVmaW5lZFxuICAgICAgICAgID8gc3RyaW5naWZ5QXR0cmlidXRlcyh0YWdOYW1lLCBhdHRyaWJ1dGVzKVxuICAgICAgICAgIDogJycsXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogU2F2ZXMgYW4gZW5kIHRhZyBhbmQgcmV0dXJucyBpdHMgbWFya2VyLlxuICAgKiBAdGhyb3dzIHshRXJyb3J9IElmIGludmFsaWQgdGFnIG5hbWUsIGF0dHJpYnV0ZSBuYW1lLCBvciBhdHRyaWJ1dGUgdmFsdWUgaXNcbiAgICogICAgIHByb3ZpZGVkLiBUaGlzIGZ1bmN0aW9uIGFjY2VwdHMgdGhlIHNhbWUgdGFncyBhcyB7QGxpbmtcbiAgICogICAgIHNhZmV2YWx1ZXMuY3JlYXRlSHRtbH0uXG4gICAqL1xuICBlbmRUYWcodGFnTmFtZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICB2ZXJpZnlUYWdOYW1lKHRhZ05hbWUpO1xuICAgIHJldHVybiB0aGlzLnN0b3JlUmVwbGFjZW1lbnQoe3R5cGU6ICdlbmRUYWcnLCB0YWdOYW1lfSk7XG4gIH1cblxuICAvKipcbiAgICogRXNjYXBlcyBhIHRleHQsIHNhdmVzIGl0IGFuZCByZXR1cm5zIGl0cyBtYXJrZXIuXG4gICAqXG4gICAqIFdyYXBwaW5nIGFueSB1c2VyIGlucHV0IHRvIC50ZXh0KCkgcHJldmVudHMgdGhlIGF0dGFja2VyIHdpdGggYWNjZXNzIHRvXG4gICAqIHRoZSByYW5kb20gbnVtYmVyIGdlbmVyYXRvciB0byBkdXBsaWNhdGUgdGFncyB1c2VkIGVsc2V3aGVyZSBpbiB0aGUgZm9ybWF0LlxuICAgKi9cbiAgdGV4dCh0ZXh0OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLnN0b3JlUmVwbGFjZW1lbnQoe1xuICAgICAgdHlwZTogJ2h0bWwnLFxuICAgICAgaHRtbDogaHRtbEVzY2FwZSh0ZXh0KS50b1N0cmluZygpLFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFNhdmVzIFNhZmVIdG1sIGFuZCByZXR1cm5zIGl0cyBtYXJrZXIuXG4gICAqL1xuICBzYWZlSHRtbChzYWZlSHRtbDogU2FmZUh0bWwpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLnN0b3JlUmVwbGFjZW1lbnQoe1xuICAgICAgdHlwZTogJ2h0bWwnLFxuICAgICAgaHRtbDogdW53cmFwSHRtbChzYWZlSHRtbCkudG9TdHJpbmcoKSxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdG9yZXMgYSByZXBsYWNlbWVudCBhbmQgcmV0dXJucyBpdHMgbWFya2VyLlxuICAgKi9cbiAgcHJpdmF0ZSBzdG9yZVJlcGxhY2VtZW50KHJlcGxhY2VtZW50OiBSZXBsYWNlbWVudCk6IHN0cmluZyB7XG4gICAgY29uc3QgbWFya2VyID0gYHske01BUktFUn0ke3RoaXMucmVwbGFjZW1lbnRzLnNpemV9XyR7Z2V0UmFuZG9tU3RyaW5nKCl9fWA7XG4gICAgdGhpcy5yZXBsYWNlbWVudHMuc2V0KGh0bWxFc2NhcGUobWFya2VyKS50b1N0cmluZygpLCByZXBsYWNlbWVudCk7XG4gICAgcmV0dXJuIG1hcmtlcjtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRSYW5kb21TdHJpbmcoKTogc3RyaW5nIHtcbiAgcmV0dXJuIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKDIpO1xufVxuXG5mdW5jdGlvbiBjaGVja0V4aGF1c3RpdmUoXG4gIHZhbHVlOiBuZXZlcixcbiAgbXNnID0gYHVuZXhwZWN0ZWQgdmFsdWUgJHt2YWx1ZX0hYCxcbik6IG5ldmVyIHtcbiAgdGhyb3cgbmV3IEVycm9yKG1zZyk7XG59XG4iXX0=
;return exports;});

//third_party/javascript/safevalues/builders/html_sanitizer/css/allowlists.closure.js
goog.loadModule(function(exports) {'use strict';/**
 * @license
 * Copyright Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
/**
 * @fileoverview Allowlists for the CSS sanitizer.
 * Generated from: third_party/javascript/safevalues/builders/html_sanitizer/css/allowlists.ts
 * @suppress {checkTypes} added by tsickle
 * @suppress {extraRequire} added by tsickle
 * @suppress {missingRequire} added by tsickle
 * @suppress {uselessCode} added by tsickle
 * @suppress {suspiciousCode} added by tsickle
 * @suppress {missingReturn} added by tsickle
 * @suppress {unusedPrivateMembers} added by tsickle
 * @suppress {missingOverride} added by tsickle
 * @suppress {const} added by tsickle
 */
goog.module('google3.third_party.javascript.safevalues.builders.html_sanitizer.css.allowlists');
var module = module || { id: 'third_party/javascript/safevalues/builders/html_sanitizer/css/allowlists.closure.js' };
goog.require('google3.third_party.javascript.tslib.tslib');
/**
 * Allowlist of CSS properties.
 * @type {!Set<string>}
 */
exports.CSS_PROPERTY_ALLOWLIST = new Set([
    'accent-color',
    // 'additive-symbols', -> only valid in @counter-style, which we disallow
    'align-content',
    'align-items',
    'align-self',
    'alignment-baseline',
    'all',
    'appearance',
    // 'ascent-override', -> only valid in @font-face, which we disallow
    'aspect-ratio',
    'backdrop-filter',
    'backface-visibility',
    'background',
    'background-attachment',
    'background-blend-mode',
    'background-clip',
    'background-color',
    'background-image',
    'background-origin',
    'background-position',
    'background-position-x',
    'background-position-y',
    'background-repeat',
    'background-size',
    // 'base-palette', -> only valid in @font-palette-values, which we disallow
    // 'baseline-shift',
    'block-size',
    'border',
    'border-block',
    'border-block-color',
    'border-block-end',
    'border-block-end-color',
    'border-block-end-style',
    'border-block-end-width',
    'border-block-start',
    'border-block-start-color',
    'border-block-start-style',
    'border-block-start-width',
    'border-block-style',
    'border-block-width',
    'border-bottom',
    'border-bottom-color',
    'border-bottom-left-radius',
    'border-bottom-right-radius',
    'border-bottom-style',
    'border-bottom-width',
    'border-collapse',
    'border-color',
    'border-end-end-radius',
    'border-end-start-radius',
    'border-image',
    'border-image-outset',
    'border-image-repeat',
    'border-image-slice',
    'border-image-source',
    'border-image-width',
    'border-inline',
    'border-inline-color',
    'border-inline-end',
    'border-inline-end-color',
    'border-inline-end-style',
    'border-inline-end-width',
    'border-inline-start',
    'border-inline-start-color',
    'border-inline-start-style',
    'border-inline-start-width',
    'border-inline-style',
    'border-inline-width',
    'border-left',
    'border-left-color',
    'border-left-style',
    'border-left-width',
    'border-radius',
    'border-right',
    'border-right-color',
    'border-right-style',
    'border-right-width',
    'border-spacing',
    'border-start-end-radius',
    'border-start-start-radius',
    'border-style',
    'border-top',
    'border-top-color',
    'border-top-left-radius',
    'border-top-right-radius',
    'border-top-style',
    'border-top-width',
    'border-width',
    'bottom',
    'box-shadow',
    'box-sizing',
    // 'break-after', -> all break-* properties can affect printing.
    // 'break-before',
    // 'break-inside',
    'caption-side',
    'caret-color',
    'clear',
    'clip',
    'clip-path',
    'clip-rule',
    'color',
    'color-interpolation',
    'color-interpolation-filters',
    'color-scheme',
    'column-count',
    'column-fill',
    'column-gap',
    'column-rule',
    'column-rule-color',
    'column-rule-style',
    'column-rule-width',
    'column-span',
    'column-width',
    'columns',
    'contain',
    'contain-intrinsic-block-size',
    'contain-intrinsic-height',
    'contain-intrinsic-inline-size',
    'contain-intrinsic-size',
    'contain-intrinsic-width',
    // 'container', -> container-* are valid with @container, which we disallow
    // 'container-name',
    // 'container-type',
    'content',
    'content-visibility',
    'counter-increment',
    'counter-reset',
    'counter-set',
    // 'cursor', -> allows setting the cursor
    'cx',
    'cy',
    'd',
    // 'descent-override', -> only valid in @font-face, which we disallow
    'display',
    'dominant-baseline',
    'empty-cells',
    // 'fallback', -> only valid in at-rules
    'field-sizing',
    'fill',
    'fill-opacity',
    'fill-rule',
    'filter',
    'flex',
    'flex-basis',
    'flex-direction',
    'flex-flow',
    'flex-grow',
    'flex-shrink',
    'flex-wrap',
    'float',
    'flood-color',
    'flood-opacity',
    'font',
    // 'font-display', -> only valid in @font-face, which we disallow
    'font-family',
    'font-feature-settings',
    'font-kerning',
    'font-optical-sizing',
    'font-palette',
    'font-size',
    'font-size-adjust',
    'font-stretch',
    'font-style',
    'font-synthesis',
    'font-synthesis-small-caps',
    'font-synthesis-style',
    'font-synthesis-weight',
    'font-variant',
    'font-variant-alternates',
    'font-variant-caps',
    'font-variant-east-asian',
    'font-variant-emoji',
    'font-variant-ligatures',
    'font-variant-numeric',
    'font-variant-position',
    'font-variation-settings',
    'font-weight',
    'forced-color-adjust',
    'gap',
    'grid',
    'grid-area',
    'grid-auto-columns',
    'grid-auto-flow',
    'grid-auto-rows',
    'grid-column',
    'grid-column-end',
    'grid-column-gap',
    'grid-column-start',
    'grid-gap',
    'grid-row',
    'grid-row-end',
    'grid-row-gap',
    'grid-row-start',
    'grid-template',
    'grid-template-areas',
    'grid-template-columns',
    'grid-template-rows',
    'height',
    'hyphenate-character',
    'hyphenate-limit-chars',
    'hyphens',
    'image-orientation',
    'image-rendering',
    // 'inherits', -> only valid in @property, which we disallow
    // 'initial-letter', -> experimental
    // 'initial-value', -> experimental
    'inline-size',
    'inset',
    'inset-area',
    'inset-block',
    'inset-block-end',
    'inset-block-start',
    'inset-inline',
    'inset-inline-end',
    'inset-inline-start',
    'isolation',
    'justify-content',
    'justify-items',
    'justify-self',
    'left',
    'letter-spacing',
    'lighting-color',
    'line-break',
    'line-clamp',
    'line-gap-override',
    'line-height',
    'list-style',
    'list-style-image',
    'list-style-position',
    'list-style-type',
    'margin',
    'margin-block',
    'margin-block-end',
    'margin-block-start',
    'margin-bottom',
    'margin-inline',
    'margin-inline-end',
    'margin-inline-start',
    'margin-left',
    'margin-right',
    'margin-top',
    'marker',
    'marker-end',
    'marker-mid',
    'marker-start',
    'mask',
    'mask-clip',
    'mask-composite',
    'mask-image',
    'mask-mode',
    'mask-origin',
    'mask-position',
    'mask-repeat',
    'mask-size',
    'mask-type',
    // 'math-depth', -> only relevant for MathML elements
    // 'math-shift', -> only relevant for MathML elements
    // 'math-style', -> only relevant for MathML elements
    'max-block-size',
    'max-height',
    'max-inline-size',
    'max-width',
    'min-block-size',
    'min-height',
    'min-inline-size',
    'min-width',
    'mix-blend-mode',
    // 'navigation', -> experimental
    // 'negative', -> only valid in @counter-style, which we disallow
    'object-fit',
    'object-position',
    'object-view-box',
    'opacity',
    'order',
    'orphans',
    'outline',
    'outline-color',
    'outline-offset',
    'outline-style',
    'outline-width',
    'overflow',
    'overflow-anchor',
    'overflow-block',
    'overflow-clip-margin',
    'overflow-inline',
    'overflow-wrap',
    'overflow-x',
    'overflow-y',
    // 'overlay', -> experimental
    // 'override-colors', -> only valid in @font-palette-values, which we disallow
    // 'overscroll-behavior', -> can affect scrolling
    // 'overscroll-behavior-block', -> can affect scrolling
    // 'overscroll-behavior-inline', -> can affect scrolling
    // 'overscroll-behavior-x', -> can affect scrolling
    // 'overscroll-behavior-y', -> can affect scrolling
    // 'pad', -> only valid in @counter-style, which we disallow
    'padding',
    'padding-block',
    'padding-block-end',
    'padding-block-start',
    'padding-bottom',
    'padding-inline',
    'padding-inline-end',
    'padding-inline-start',
    'padding-left',
    'padding-right',
    'padding-top',
    // 'page', -> only valid with @page, which we disallow
    // 'page-break-after', -> too powerful, affects page breaks
    // 'page-break-before', -> too powerful, affects page breaks
    // 'page-break-inside', -> too powerful, affects page breaks
    // 'page-orientation', -> only valid in @page, which we disallow
    'paint-order',
    'perspective',
    'perspective-origin',
    'place-content',
    'place-items',
    'place-self',
    // 'pointer-events', -> too powerful, can disable pointer events
    // 'popover-hide-delay', -> we don't want to allow popovers
    // 'popover-show-delay', -> we don't want to allow popovers
    'position',
    // 'position-anchor', -> experimental
    // 'position-try', -> experimental
    // 'position-try-options', -> experimental
    // 'position-try-order', -> experimental
    // 'position-visibility', -> experimental
    // 'prefix', -> only valid in @counter-style, which we disallow
    'quotes',
    'r',
    // 'range', -> only valid in @counter-style, which we disallow
    // 'reading-order-items', -> experimental
    'resize',
    'right',
    'rotate',
    'row-gap',
    'ruby-align',
    'ruby-position',
    'rx',
    'ry',
    'scale',
    // all scroll properties are too powerful for a CSS sanitizer and disallowed
    // 'scroll-behavior',
    'shape-image-threshold',
    'shape-margin',
    'shape-outside',
    'shape-rendering',
    // 'size', -> only valid in @page, which we disallow
    // 'size-adjust', -> only valid in @font-face, which we disallow
    // 'src', -> only valid in @font-face, which we disallow
    'stop-color',
    'stop-opacity',
    'stroke',
    'stroke-dasharray',
    'stroke-dashoffset',
    'stroke-linecap',
    'stroke-linejoin',
    'stroke-miterlimit',
    'stroke-opacity',
    'stroke-width',
    // 'suffix', -> only valid in @counter-style, which we disallow
    // 'symbols', -> only valid in @counter-style, which we disallow
    // 'syntax', -> only valid in @property, which we disallow
    // 'system', -> only valid in @counter-style, which we disallow
    'tab-size',
    'table-layout',
    'text-align',
    'text-align-last',
    'text-anchor',
    'text-autospace',
    'text-box-edge',
    'text-box-trim',
    'text-combine-upright',
    'text-decoration',
    'text-decoration-color',
    'text-decoration-line',
    'text-decoration-skip-ink',
    'text-decoration-style',
    'text-decoration-thickness',
    'text-emphasis',
    'text-emphasis-color',
    'text-emphasis-position',
    'text-emphasis-style',
    'text-indent',
    'text-orientation',
    'text-overflow',
    'text-rendering',
    'text-shadow',
    'text-size-adjust',
    'text-spacing',
    'text-spacing-trim',
    'text-transform',
    'text-underline-offset',
    'text-underline-position',
    'text-wrap',
    // 'timeline-scope', -> experimental
    'top',
    // 'touch-action', -> affects behavior
    'transform',
    'transform-box',
    'transform-origin',
    'transform-style',
    'translate',
    'unicode-bidi',
    // 'unicode-range', -> only valid in @font-face, which we disallow
    // 'user-select', -> too powerful, can disable user selection
    'vector-effect',
    'vertical-align',
    // 'view-timeline', -> experimental
    // 'view-timeline-axis', -> experimental
    // 'view-timeline-inset', -> experimental
    // 'view-timeline-name', -> experimental
    // 'view-transition-class', -> view-transitions are too powerful for CSS sanitizer
    // 'view-transition-name',
    'visibility',
    'white-space',
    'white-space-collapse',
    'widows',
    'width',
    'will-change',
    'word-break',
    'word-spacing',
    'word-wrap',
    'writing-mode',
    'x',
    'y',
    'z-index',
    'zoom',
    // Animation properties
    // go/keep-sorted start
    'animation',
    'animation-composition',
    'animation-delay',
    'animation-direction',
    'animation-duration',
    'animation-fill-mode',
    'animation-iteration-count',
    'animation-name',
    'animation-play-state',
    'animation-range',
    'animation-range-end',
    'animation-range-start',
    'animation-timeline',
    'animation-timing-function',
    'offset',
    'offset-anchor',
    'offset-distance',
    'offset-path',
    'offset-position',
    'offset-rotate',
    // go/keep-sorted end
    // Transition properties
    // go/keep-sorted start
    'transition',
    'transition-behavior',
    'transition-delay',
    'transition-duration',
    'transition-property',
    'transition-timing-function',
    // go/keep-sorted end
]);
/**
 * Allowlist of CSS functions.
 * @type {!Set<string>}
 */
exports.CSS_FUNCTION_ALLOWLIST = new Set([
    // go/keep-sorted start
    'alpha',
    'cubic-bezier',
    'linear-gradient',
    'matrix',
    'perspective',
    'radial-gradient',
    'rect',
    'repeating-linear-gradient',
    'repeating-radial-gradient',
    'rgb',
    'rgba',
    'rotate',
    'rotate3d',
    'rotatex',
    'rotatey',
    'rotatez',
    'scale',
    'scale3d',
    'scalex',
    'scaley',
    'scalez',
    'skew',
    'skewx',
    'skewy',
    'steps',
    'translate',
    'translate3d',
    'translatex',
    'translatey',
    'translatez',
    'url',
    // go/keep-sorted end
]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWxsb3dsaXN0cy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL3RoaXJkX3BhcnR5L2phdmFzY3JpcHQvc2FmZXZhbHVlcy9idWlsZGVycy9odG1sX3Nhbml0aXplci9jc3MvYWxsb3dsaXN0cy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBYWEsUUFBQSxzQkFBc0IsR0FBRyxJQUFJLEdBQUcsQ0FBUztJQUNwRCxjQUFjO0lBQ2QseUVBQXlFO0lBQ3pFLGVBQWU7SUFDZixhQUFhO0lBQ2IsWUFBWTtJQUNaLG9CQUFvQjtJQUNwQixLQUFLO0lBQ0wsWUFBWTtJQUNaLG9FQUFvRTtJQUNwRSxjQUFjO0lBQ2QsaUJBQWlCO0lBQ2pCLHFCQUFxQjtJQUNyQixZQUFZO0lBQ1osdUJBQXVCO0lBQ3ZCLHVCQUF1QjtJQUN2QixpQkFBaUI7SUFDakIsa0JBQWtCO0lBQ2xCLGtCQUFrQjtJQUNsQixtQkFBbUI7SUFDbkIscUJBQXFCO0lBQ3JCLHVCQUF1QjtJQUN2Qix1QkFBdUI7SUFDdkIsbUJBQW1CO0lBQ25CLGlCQUFpQjtJQUNqQiwyRUFBMkU7SUFDM0Usb0JBQW9CO0lBQ3BCLFlBQVk7SUFDWixRQUFRO0lBQ1IsY0FBYztJQUNkLG9CQUFvQjtJQUNwQixrQkFBa0I7SUFDbEIsd0JBQXdCO0lBQ3hCLHdCQUF3QjtJQUN4Qix3QkFBd0I7SUFDeEIsb0JBQW9CO0lBQ3BCLDBCQUEwQjtJQUMxQiwwQkFBMEI7SUFDMUIsMEJBQTBCO0lBQzFCLG9CQUFvQjtJQUNwQixvQkFBb0I7SUFDcEIsZUFBZTtJQUNmLHFCQUFxQjtJQUNyQiwyQkFBMkI7SUFDM0IsNEJBQTRCO0lBQzVCLHFCQUFxQjtJQUNyQixxQkFBcUI7SUFDckIsaUJBQWlCO0lBQ2pCLGNBQWM7SUFDZCx1QkFBdUI7SUFDdkIseUJBQXlCO0lBQ3pCLGNBQWM7SUFDZCxxQkFBcUI7SUFDckIscUJBQXFC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O0lBQ2pCLHFCQUFxQjtJQUNyQix1QkFBdUI7SUFDdkIsb0JBQW9CO0lBQ3BCLDJCQUEyQjtJQUMzQixRQUFRO0lBQ1IsZUFBZTtJQUNmLGlCQUFpQjtJQUNqQixhQUFhO0lBQ2IsaUJBQWlCO0lBQ2pCLGVBQWU7SUFDZixxQkFBcUI7SUFFckIsd0JBQXdCO0lBQ3hCLHVCQUF1QjtJQUN2QixZQUFZO0lBQ1oscUJBQXFCO0lBQ3JCLGtCQUFrQjtJQUNsQixxQkFBcUI7SUFDckIscUJBQXFCO0lBQ3JCLDRCQUE0QjtJQUM1QixxQkFBcUI7Q0FDdEIsQ0FBQzs7Ozs7QUFLVyxRQUFBLHNCQUFzQixHQUFHLElBQUksR0FBRyxDQUFTO0lBQ3BELHVCQUF1QjtJQUN2QixPQUFPO0lBQ1AsY0FBYztJQUNkLGlCQUFpQjtJQUNqQixRQUFRO0lBQ1IsYUFBYTtJQUNiLGlCQUFpQjtJQUNqQixNQUFNO0lBQ04sMkJBQTJCO0lBQzNCLDJCQUEyQjtJQUMzQixLQUFLO0lBQ0wsTUFBTTtJQUNOLFFBQVE7SUFDUixVQUFVO0lBQ1YsU0FBUztJQUNULFNBQVM7SUFDVCxTQUFTO0lBQ1QsT0FBTztJQUNQLFNBQVM7SUFDVCxRQUFRO0lBQ1IsUUFBUTtJQUNSLFFBQVE7SUFDUixNQUFNO0lBQ04sT0FBTztJQUNQLE9BQU87SUFDUCxPQUFPO0lBQ1AsV0FBVztJQUNYLGFBQWE7SUFDYixZQUFZO0lBQ1osWUFBWTtJQUNaLFlBQVk7SUFDWixLQUFLO0lBQ0wscUJBQXFCO0NBQ3RCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgQWxsb3dsaXN0cyBmb3IgdGhlIENTUyBzYW5pdGl6ZXIuXG4gKi9cblxuLyoqXG4gKiBBbGxvd2xpc3Qgb2YgQ1NTIHByb3BlcnRpZXMuXG4gKi9cbmV4cG9ydCBjb25zdCBDU1NfUFJPUEVSVFlfQUxMT1dMSVNUID0gbmV3IFNldDxzdHJpbmc+KFtcbiAgJ2FjY2VudC1jb2xvcicsXG4gIC8vICdhZGRpdGl2ZS1zeW1ib2xzJywgLT4gb25seSB2YWxpZCBpbiBAY291bnRlci1zdHlsZSwgd2hpY2ggd2UgZGlzYWxsb3dcbiAgJ2FsaWduLWNvbnRlbnQnLFxuICAnYWxpZ24taXRlbXMnLFxuICAnYWxpZ24tc2VsZicsXG4gICdhbGlnbm1lbnQtYmFzZWxpbmUnLFxuICAnYWxsJyxcbiAgJ2FwcGVhcmFuY2UnLFxuICAvLyAnYXNjZW50LW92ZXJyaWRlJywgLT4gb25seSB2YWxpZCBpbiBAZm9udC1mYWNlLCB3aGljaCB3ZSBkaXNhbGxvd1xuICAnYXNwZWN0LXJhdGlvJyxcbiAgJ2JhY2tkcm9wLWZpbHRlcicsXG4gICdiYWNrZmFjZS12aXNpYmlsaXR5JyxcbiAgJ2JhY2tncm91bmQnLFxuICAnYmFja2dyb3VuZC1hdHRhY2htZW50JyxcbiAgJ2JhY2tncm91bmQtYmxlbmQtbW9kZScsXG4gICdiYWNrZ3JvdW5kLWNsaXAnLFxuICAnYmFja2dyb3VuZC1jb2xvcicsXG4gICdiYWNrZ3JvdW5kLWltYWdlJyxcbiAgJ2JhY2tncm91bmQtb3JpZ2luJyxcbiAgJ2JhY2tncm91bmQtcG9zaXRpb24nLFxuICAnYmFja2dyb3VuZC1wb3NpdGlvbi14JyxcbiAgJ2JhY2tncm91bmQtcG9zaXRpb24teScsXG4gICdiYWNrZ3JvdW5kLXJlcGVhdCcsXG4gICdiYWNrZ3JvdW5kLXNpemUnLFxuICAvLyAnYmFzZS1wYWxldHRlJywgLT4gb25seSB2YWxpZCBpbiBAZm9udC1wYWxldHRlLXZhbHVlcywgd2hpY2ggd2UgZGlzYWxsb3dcbiAgLy8gJ2Jhc2VsaW5lLXNoaWZ0JyxcbiAgJ2Jsb2NrLXNpemUnLFxuICAnYm9yZGVyJyxcbiAgJ2JvcmRlci1ibG9jaycsXG4gICdib3JkZXItYmxvY2stY29sb3InLFxuICAnYm9yZGVyLWJsb2NrLWVuZCcsXG4gICdib3JkZXItYmxvY2stZW5kLWNvbG9yJyxcbiAgJ2JvcmRlci1ibG9jay1lbmQtc3R5bGUnLFxuICAnYm9yZGVyLWJsb2NrLWVuZC13aWR0aCcsXG4gICdib3JkZXItYmxvY2stc3RhcnQnLFxuICAnYm9yZGVyLWJsb2NrLXN0YXJ0LWNvbG9yJyxcbiAgJ2JvcmRlci1ibG9jay1zdGFydC1zdHlsZScsXG4gICdib3JkZXItYmxvY2stc3RhcnQtd2lkdGgnLFxuICAnYm9yZGVyLWJsb2NrLXN0eWxlJyxcbiAgJ2JvcmRlci1ibG9jay13aWR0aCcsXG4gICdib3JkZXItYm90dG9tJyxcbiAgJ2JvcmRlci1ib3R0b20tY29sb3InLFxuICAnYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1cycsXG4gICdib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1cycsXG4gICdib3JkZXItYm90dG9tLXN0eWxlJyxcbiAgJ2JvcmRlci1ib3R0b20td2lkdGgnLFxuICAnYm9yZGVyLWNvbGxhcHNlJyxcbiAgJ2JvcmRlci1jb2xvcicsXG4gICdib3JkZXItZW5kLWVuZC1yYWRpdXMnLFxuICAnYm9yZGVyLWVuZC1zdGFydC1yYWRpdXMnLFxuICAnYm9yZGVyLWltYWdlJyxcbiAgJ2JvcmRlci1pbWFnZS1vdXRzZXQnLFxuICAnYm9yZGVyLWltYWdlLXJlcGVhdCcsXG4gICdib3JkZXItaW1hZ2Utc2xpY2UnLFxuICAnYm9yZGVyLWltYWdlLXNvdXJjZScsXG4gICdib3JkZXItaW1hZ2Utd2lkdGgnLFxuICAnYm9yZGVyLWlubGluZScsXG4gICdib3JkZXItaW5saW5lLWNvbG9yJyxcbiAgJ2JvcmRlci1pbmxpbmUtZW5kJyxcbiAgJ2JvcmRlci1pbmxpbmUtZW5kLWNvbG9yJyxcbiAgJ2JvcmRlci1pbmxpbmUtZW5kLXN0eWxlJyxcbiAgJ2JvcmRlci1pbmxpbmUtZW5kLXdpZHRoJyxcbiAgJ2JvcmRlci1pbmxpbmUtc3RhcnQnLFxuICAnYm9yZGVyLWlubGluZS1zdGFydC1jb2xvcicsXG4gICdib3JkZXItaW5saW5lLXN0YXJ0LXN0eWxlJyxcbiAgJ2JvcmRlci1pbmxpbmUtc3RhcnQtd2lkdGgnLFxuICAnYm9yZGVyLWlubGluZS1zdHlsZScsXG4gICdib3JkZXItaW5saW5lLXdpZHRoJyxcbiAgJ2JvcmRlci1sZWZ0JyxcbiAgJ2JvcmRlci1sZWZ0LWNvbG9yJyxcbiAgJ2JvcmRlci1sZWZ0LXN0eWxlJyxcbiAgJ2JvcmRlci1sZWZ0LXdpZHRoJyxcbiAgJ2JvcmRlci1yYWRpdXMnLFxuICAnYm9yZGVyLXJpZ2h0JyxcbiAgJ2JvcmRlci1yaWdodC1jb2xvcicsXG4gICdib3JkZXItcmlnaHQtc3R5bGUnLFxuICAnYm9yZGVyLXJpZ2h0LXdpZHRoJyxcbiAgJ2JvcmRlci1zcGFjaW5nJyxcbiAgJ2JvcmRlci1zdGFydC1lbmQtcmFkaXVzJyxcbiAgJ2JvcmRlci1zdGFydC1zdGFydC1yYWRpdXMnLFxuICAnYm9yZGVyLXN0eWxlJyxcbiAgJ2JvcmRlci10b3AnLFxuICAnYm9yZGVyLXRvcC1jb2xvcicsXG4gICdib3JkZXItdG9wLWxlZnQtcmFkaXVzJyxcbiAgJ2JvcmRlci10b3AtcmlnaHQtcmFkaXVzJyxcbiAgJ2JvcmRlci10b3Atc3R5bGUnLFxuICAnYm9yZGVyLXRvcC13aWR0aCcsXG4gICdib3JkZXItd2lkdGgnLFxuICAnYm90dG9tJyxcbiAgJ2JveC1zaGFkb3cnLFxuICAnYm94LXNpemluZycsXG4gIC8vICdicmVhay1hZnRlcicsIC0+IGFsbCBicmVhay0qIHByb3BlcnRpZXMgY2FuIGFmZmVjdCBwcmludGluZy5cbiAgLy8gJ2JyZWFrLWJlZm9yZScsXG4gIC8vICdicmVhay1pbnNpZGUnLFxuICAnY2FwdGlvbi1zaWRlJyxcbiAgJ2NhcmV0LWNvbG9yJyxcbiAgJ2NsZWFyJyxcbiAgJ2NsaXAnLFxuICAnY2xpcC1wYXRoJyxcbiAgJ2NsaXAtcnVsZScsXG4gICdjb2xvcicsXG4gICdjb2xvci1pbnRlcnBvbGF0aW9uJyxcbiAgJ2NvbG9yLWludGVycG9sYXRpb24tZmlsdGVycycsXG4gICdjb2xvci1zY2hlbWUnLFxuICAnY29sdW1uLWNvdW50JyxcbiAgJ2NvbHVtbi1maWxsJyxcbiAgJ2NvbHVtbi1nYXAnLFxuICAnY29sdW1uLXJ1bGUnLFxuICAnY29sdW1uLXJ1bGUtY29sb3InLFxuICAnY29sdW1uLXJ1bGUtc3R5bGUnLFxuICAnY29sdW1uLXJ1bGUtd2lkdGgnLFxuICAnY29sdW1uLXNwYW4nLFxuICAnY29sdW1uLXdpZHRoJyxcbiAgJ2NvbHVtbnMnLFxuICAnY29udGFpbicsXG4gICdjb250YWluLWludHJpbnNpYy1ibG9jay1zaXplJyxcbiAgJ2NvbnRhaW4taW50cmluc2ljLWhlaWdodCcsXG4gICdjb250YWluLWludHJpbnNpYy1pbmxpbmUtc2l6ZScsXG4gICdjb250YWluLWludHJpbnNpYy1zaXplJyxcbiAgJ2NvbnRhaW4taW50cmluc2ljLXdpZHRoJyxcbiAgLy8gJ2NvbnRhaW5lcicsIC0+IGNvbnRhaW5lci0qIGFyZSB2YWxpZCB3aXRoIEBjb250YWluZXIsIHdoaWNoIHdlIGRpc2FsbG93XG4gIC8vICdjb250YWluZXItbmFtZScsXG4gIC8vICdjb250YWluZXItdHlwZScsXG4gICdjb250ZW50JyxcbiAgJ2NvbnRlbnQtdmlzaWJpbGl0eScsXG4gICdjb3VudGVyLWluY3JlbWVudCcsXG4gICdjb3VudGVyLXJlc2V0JyxcbiAgJ2NvdW50ZXItc2V0JyxcbiAgLy8gJ2N1cnNvcicsIC0+IGFsbG93cyBzZXR0aW5nIHRoZSBjdXJzb3JcbiAgJ2N4JyxcbiAgJ2N5JyxcbiAgJ2QnLFxuICAvLyAnZGVzY2VudC1vdmVycmlkZScsIC0+IG9ubHkgdmFsaWQgaW4gQGZvbnQtZmFjZSwgd2hpY2ggd2UgZGlzYWxsb3dcbiAgJ2Rpc3BsYXknLFxuICAnZG9taW5hbnQtYmFzZWxpbmUnLFxuICAnZW1wdHktY2VsbHMnLFxuICAvLyAnZmFsbGJhY2snLCAtPiBvbmx5IHZhbGlkIGluIGF0LXJ1bGVzXG4gICdmaWVsZC1zaXppbmcnLFxuICAnZmlsbCcsXG4gICdmaWxsLW9wYWNpdHknLFxuICAnZmlsbC1ydWxlJyxcbiAgJ2ZpbHRlcicsXG4gICdmbGV4JyxcbiAgJ2ZsZXgtYmFzaXMnLFxuICAnZmxleC1kaXJlY3Rpb24nLFxuICAnZmxleC1mbG93JyxcbiAgJ2ZsZXgtZ3JvdycsXG4gICdmbGV4LXNocmluaycsXG4gICdmbGV4LXdyYXAnLFxuICAnZmxvYXQnLFxuICAnZmxvb2QtY29sb3InLFxuICAnZmxvb2Qtb3BhY2l0eScsXG4gICdmb250JyxcbiAgLy8gJ2ZvbnQtZGlzcGxheScsIC0+IG9ubHkgdmFsaWQgaW4gQGZvbnQtZmFjZSwgd2hpY2ggd2UgZGlzYWxsb3dcbiAgJ2ZvbnQtZmFtaWx5JyxcbiAgJ2ZvbnQtZmVhdHVyZS1zZXR0aW5ncycsXG4gICdmb250LWtlcm5pbmcnLFxuICAnZm9udC1vcHRpY2FsLXNpemluZycsXG4gICdmb250LXBhbGV0dGUnLFxuICAnZm9udC1zaXplJyxcbiAgJ2ZvbnQtc2l6ZS1hZGp1c3QnLFxuICAnZm9udC1zdHJldGNoJyxcbiAgJ2ZvbnQtc3R5bGUnLFxuICAnZm9udC1zeW50aGVzaXMnLFxuICAnZm9udC1zeW50aGVzaXMtc21hbGwtY2FwcycsXG4gICdmb250LXN5bnRoZXNpcy1zdHlsZScsXG4gICdmb250LXN5bnRoZXNpcy13ZWlnaHQnLFxuICAnZm9udC12YXJpYW50JyxcbiAgJ2ZvbnQtdmFyaWFudC1hbHRlcm5hdGVzJyxcbiAgJ2ZvbnQtdmFyaWFudC1jYXBzJyxcbiAgJ2ZvbnQtdmFyaWFudC1lYXN0LWFzaWFuJyxcbiAgJ2ZvbnQtdmFyaWFudC1lbW9qaScsXG4gICdmb250LXZhcmlhbnQtbGlnYXR1cmVzJyxcbiAgJ2ZvbnQtdmFyaWFudC1udW1lcmljJyxcbiAgJ2ZvbnQtdmFyaWFudC1wb3NpdGlvbicsXG4gICdmb250LXZhcmlhdGlvbi1zZXR0aW5ncycsXG4gICdmb250LXdlaWdodCcsXG4gICdmb3JjZWQtY29sb3ItYWRqdXN0JyxcbiAgJ2dhcCcsXG4gICdncmlkJyxcbiAgJ2dyaWQtYXJlYScsXG4gICdncmlkLWF1dG8tY29sdW1ucycsXG4gICdncmlkLWF1dG8tZmxvdycsXG4gICdncmlkLWF1dG8tcm93cycsXG4gICdncmlkLWNvbHVtbicsXG4gICdncmlkLWNvbHVtbi1lbmQnLFxuICAnZ3JpZC1jb2x1bW4tZ2FwJyxcbiAgJ2dyaWQtY29sdW1uLXN0YXJ0JyxcbiAgJ2dyaWQtZ2FwJyxcbiAgJ2dyaWQtcm93JyxcbiAgJ2dyaWQtcm93LWVuZCcsXG4gICdncmlkLXJvdy1nYXAnLFxuICAnZ3JpZC1yb3ctc3RhcnQnLFxuICAnZ3JpZC10ZW1wbGF0ZScsXG4gICdncmlkLXRlbXBsYXRlLWFyZWFzJyxcbiAgJ2dyaWQtdGVtcGxhdGUtY29sdW1ucycsXG4gICdncmlkLXRlbXBsYXRlLXJvd3MnLFxuICAnaGVpZ2h0JyxcbiAgJ2h5cGhlbmF0ZS1jaGFyYWN0ZXInLFxuICAnaHlwaGVuYXRlLWxpbWl0LWNoYXJzJyxcbiAgJ2h5cGhlbnMnLFxuICAnaW1hZ2Utb3JpZW50YXRpb24nLFxuICAnaW1hZ2UtcmVuZGVyaW5nJyxcbiAgLy8gJ2luaGVyaXRzJywgLT4gb25seSB2YWxpZCBpbiBAcHJvcGVydHksIHdoaWNoIHdlIGRpc2FsbG93XG4gIC8vICdpbml0aWFsLWxldHRlcicsIC0+IGV4cGVyaW1lbnRhbFxuICAvLyAnaW5pdGlhbC12YWx1ZScsIC0+IGV4cGVyaW1lbnRhbFxuICAnaW5saW5lLXNpemUnLFxuICAnaW5zZXQnLFxuICAnaW5zZXQtYXJlYScsXG4gICdpbnNldC1ibG9jaycsXG4gICdpbnNldC1ibG9jay1lbmQnLFxuICAnaW5zZXQtYmxvY2stc3RhcnQnLFxuICAnaW5zZXQtaW5saW5lJyxcbiAgJ2luc2V0LWlubGluZS1lbmQnLFxuICAnaW5zZXQtaW5saW5lLXN0YXJ0JyxcbiAgJ2lzb2xhdGlvbicsXG4gICdqdXN0aWZ5LWNvbnRlbnQnLFxuICAnanVzdGlmeS1pdGVtcycsXG4gICdqdXN0aWZ5LXNlbGYnLFxuICAnbGVmdCcsXG4gICdsZXR0ZXItc3BhY2luZycsXG4gICdsaWdodGluZy1jb2xvcicsXG4gICdsaW5lLWJyZWFrJyxcbiAgJ2xpbmUtY2xhbXAnLFxuICAnbGluZS1nYXAtb3ZlcnJpZGUnLFxuICAnbGluZS1oZWlnaHQnLFxuICAnbGlzdC1zdHlsZScsXG4gICdsaXN0LXN0eWxlLWltYWdlJyxcbiAgJ2xpc3Qtc3R5bGUtcG9zaXRpb24nLFxuICAnbGlzdC1zdHlsZS10eXBlJyxcbiAgJ21hcmdpbicsXG4gICdtYXJnaW4tYmxvY2snLFxuICAnbWFyZ2luLWJsb2NrLWVuZCcsXG4gICdtYXJnaW4tYmxvY2stc3RhcnQnLFxuICAnbWFyZ2luLWJvdHRvbScsXG4gICdtYXJnaW4taW5saW5lJyxcbiAgJ21hcmdpbi1pbmxpbmUtZW5kJyxcbiAgJ21hcmdpbi1pbmxpbmUtc3RhcnQnLFxuICAnbWFyZ2luLWxlZnQnLFxuICAnbWFyZ2luLXJpZ2h0JyxcbiAgJ21hcmdpbi10b3AnLFxuICAnbWFya2VyJyxcbiAgJ21hcmtlci1lbmQnLFxuICAnbWFya2VyLW1pZCcsXG4gICdtYXJrZXItc3RhcnQnLFxuICAnbWFzaycsXG4gICdtYXNrLWNsaXAnLFxuICAnbWFzay1jb21wb3NpdGUnLFxuICAnbWFzay1pbWFnZScsXG4gICdtYXNrLW1vZGUnLFxuICAnbWFzay1vcmlnaW4nLFxuICAnbWFzay1wb3NpdGlvbicsXG4gICdtYXNrLXJlcGVhdCcsXG4gICdtYXNrLXNpemUnLFxuICAnbWFzay10eXBlJyxcbiAgLy8gJ21hdGgtZGVwdGgnLCAtPiBvbmx5IHJlbGV2YW50IGZvciBNYXRoTUwgZWxlbWVudHNcbiAgLy8gJ21hdGgtc2hpZnQnLCAtPiBvbmx5IHJlbGV2YW50IGZvciBNYXRoTUwgZWxlbWVudHNcbiAgLy8gJ21hdGgtc3R5bGUnLCAtPiBvbmx5IHJlbGV2YW50IGZvciBNYXRoTUwgZWxlbWVudHNcbiAgJ21heC1ibG9jay1zaXplJyxcbiAgJ21heC1oZWlnaHQnLFxuICAnbWF4LWlubGluZS1zaXplJyxcbiAgJ21heC13aWR0aCcsXG4gICdtaW4tYmxvY2stc2l6ZScsXG4gICdtaW4taGVpZ2h0JyxcbiAgJ21pbi1pbmxpbmUtc2l6ZScsXG4gICdtaW4td2lkdGgnLFxuICAnbWl4LWJsZW5kLW1vZGUnLFxuICAvLyAnbmF2aWdhdGlvbicsIC0+IGV4cGVyaW1lbnRhbFxuICAvLyAnbmVnYXRpdmUnLCAtPiBvbmx5IHZhbGlkIGluIEBjb3VudGVyLXN0eWxlLCB3aGljaCB3ZSBkaXNhbGxvd1xuICAnb2JqZWN0LWZpdCcsXG4gICdvYmplY3QtcG9zaXRpb24nLFxuICAnb2JqZWN0LXZpZXctYm94JyxcbiAgJ29wYWNpdHknLFxuICAnb3JkZXInLFxuICAnb3JwaGFucycsXG4gICdvdXRsaW5lJyxcbiAgJ291dGxpbmUtY29sb3InLFxuICAnb3V0bGluZS1vZmZzZXQnLFxuICAnb3V0bGluZS1zdHlsZScsXG4gICdvdXRsaW5lLXdpZHRoJyxcbiAgJ292ZXJmbG93JyxcbiAgJ292ZXJmbG93LWFuY2hvcicsXG4gICdvdmVyZmxvdy1ibG9jaycsXG4gICdvdmVyZmxvdy1jbGlwLW1hcmdpbicsXG4gICdvdmVyZmxvdy1pbmxpbmUnLFxuICAnb3ZlcmZsb3ctd3JhcCcsXG4gICdvdmVyZmxvdy14JyxcbiAgJ292ZXJmbG93LXknLFxuICAvLyAnb3ZlcmxheScsIC0+IGV4cGVyaW1lbnRhbFxuICAvLyAnb3ZlcnJpZGUtY29sb3JzJywgLT4gb25seSB2YWxpZCBpbiBAZm9udC1wYWxldHRlLXZhbHVlcywgd2hpY2ggd2UgZGlzYWxsb3dcbiAgLy8gJ292ZXJzY3JvbGwtYmVoYXZpb3InLCAtPiBjYW4gYWZmZWN0IHNjcm9sbGluZ1xuICAvLyAnb3ZlcnNjcm9sbC1iZWhhdmlvci1ibG9jaycsIC0+IGNhbiBhZmZlY3Qgc2Nyb2xsaW5nXG4gIC8vICdvdmVyc2Nyb2xsLWJlaGF2aW9yLWlubGluZScsIC0+IGNhbiBhZmZlY3Qgc2Nyb2xsaW5nXG4gIC8vICdvdmVyc2Nyb2xsLWJlaGF2aW9yLXgnLCAtPiBjYW4gYWZmZWN0IHNjcm9sbGluZ1xuICAvLyAnb3ZlcnNjcm9sbC1iZWhhdmlvci15JywgLT4gY2FuIGFmZmVjdCBzY3JvbGxpbmdcbiAgLy8gJ3BhZCcsIC0+IG9ubHkgdmFsaWQgaW4gQGNvdW50ZXItc3R5bGUsIHdoaWNoIHdlIGRpc2FsbG93XG4gICdwYWRkaW5nJyxcbiAgJ3BhZGRpbmctYmxvY2snLFxuICAncGFkZGluZy1ibG9jay1lbmQnLFxuICAncGFkZGluZy1ibG9jay1zdGFydCcsXG4gICdwYWRkaW5nLWJvdHRvbScsXG4gICdwYWRkaW5nLWlubGluZScsXG4gICdwYWRkaW5nLWlubGluZS1lbmQnLFxuICAncGFkZGluZy1pbmxpbmUtc3RhcnQnLFxuICAncGFkZGluZy1sZWZ0JyxcbiAgJ3BhZGRpbmctcmlnaHQnLFxuICAncGFkZGluZy10b3AnLFxuICAvLyAncGFnZScsIC0+IG9ubHkgdmFsaWQgd2l0aCBAcGFnZSwgd2hpY2ggd2UgZGlzYWxsb3dcbiAgLy8gJ3BhZ2UtYnJlYWstYWZ0ZXInLCAtPiB0b28gcG93ZXJmdWwsIGFmZmVjdHMgcGFnZSBicmVha3NcbiAgLy8gJ3BhZ2UtYnJlYWstYmVmb3JlJywgLT4gdG9vIHBvd2VyZnVsLCBhZmZlY3RzIHBhZ2UgYnJlYWtzXG4gIC8vICdwYWdlLWJyZWFrLWluc2lkZScsIC0+IHRvbyBwb3dlcmZ1bCwgYWZmZWN0cyBwYWdlIGJyZWFrc1xuICAvLyAncGFnZS1vcmllbnRhdGlvbicsIC0+IG9ubHkgdmFsaWQgaW4gQHBhZ2UsIHdoaWNoIHdlIGRpc2FsbG93XG4gICdwYWludC1vcmRlcicsXG4gICdwZXJzcGVjdGl2ZScsXG4gICdwZXJzcGVjdGl2ZS1vcmlnaW4nLFxuICAncGxhY2UtY29udGVudCcsXG4gICdwbGFjZS1pdGVtcycsXG4gICdwbGFjZS1zZWxmJyxcbiAgLy8gJ3BvaW50ZXItZXZlbnRzJywgLT4gdG9vIHBvd2VyZnVsLCBjYW4gZGlzYWJsZSBwb2ludGVyIGV2ZW50c1xuICAvLyAncG9wb3Zlci1oaWRlLWRlbGF5JywgLT4gd2UgZG9uJ3Qgd2FudCB0byBhbGxvdyBwb3BvdmVyc1xuICAvLyAncG9wb3Zlci1zaG93LWRlbGF5JywgLT4gd2UgZG9uJ3Qgd2FudCB0byBhbGxvdyBwb3BvdmVyc1xuICAncG9zaXRpb24nLFxuICAvLyAncG9zaXRpb24tYW5jaG9yJywgLT4gZXhwZXJpbWVudGFsXG4gIC8vICdwb3NpdGlvbi10cnknLCAtPiBleHBlcmltZW50YWxcbiAgLy8gJ3Bvc2l0aW9uLXRyeS1vcHRpb25zJywgLT4gZXhwZXJpbWVudGFsXG4gIC8vICdwb3NpdGlvbi10cnktb3JkZXInLCAtPiBleHBlcmltZW50YWxcbiAgLy8gJ3Bvc2l0aW9uLXZpc2liaWxpdHknLCAtPiBleHBlcmltZW50YWxcbiAgLy8gJ3ByZWZpeCcsIC0+IG9ubHkgdmFsaWQgaW4gQGNvdW50ZXItc3R5bGUsIHdoaWNoIHdlIGRpc2FsbG93XG4gICdxdW90ZXMnLFxuICAncicsXG4gIC8vICdyYW5nZScsIC0+IG9ubHkgdmFsaWQgaW4gQGNvdW50ZXItc3R5bGUsIHdoaWNoIHdlIGRpc2FsbG93XG4gIC8vICdyZWFkaW5nLW9yZGVyLWl0ZW1zJywgLT4gZXhwZXJpbWVudGFsXG4gICdyZXNpemUnLFxuICAncmlnaHQnLFxuICAncm90YXRlJyxcbiAgJ3Jvdy1nYXAnLFxuICAncnVieS1hbGlnbicsXG4gICdydWJ5LXBvc2l0aW9uJyxcbiAgJ3J4JyxcbiAgJ3J5JyxcbiAgJ3NjYWxlJyxcbiAgLy8gYWxsIHNjcm9sbCBwcm9wZXJ0aWVzIGFyZSB0b28gcG93ZXJmdWwgZm9yIGEgQ1NTIHNhbml0aXplciBhbmQgZGlzYWxsb3dlZFxuICAvLyAnc2Nyb2xsLWJlaGF2aW9yJyxcbiAgJ3NoYXBlLWltYWdlLXRocmVzaG9sZCcsXG4gICdzaGFwZS1tYXJnaW4nLFxuICAnc2hhcGUtb3V0c2lkZScsXG4gICdzaGFwZS1yZW5kZXJpbmcnLFxuICAvLyAnc2l6ZScsIC0+IG9ubHkgdmFsaWQgaW4gQHBhZ2UsIHdoaWNoIHdlIGRpc2FsbG93XG4gIC8vICdzaXplLWFkanVzdCcsIC0+IG9ubHkgdmFsaWQgaW4gQGZvbnQtZmFjZSwgd2hpY2ggd2UgZGlzYWxsb3dcbiAgLy8gJ3NyYycsIC0+IG9ubHkgdmFsaWQgaW4gQGZvbnQtZmFjZSwgd2hpY2ggd2UgZGlzYWxsb3dcbiAgJ3N0b3AtY29sb3InLFxuICAnc3RvcC1vcGFjaXR5JyxcbiAgJ3N0cm9rZScsXG4gICdzdHJva2UtZGFzaGFycmF5JyxcbiAgJ3N0cm9rZS1kYXNob2Zmc2V0JyxcbiAgJ3N0cm9rZS1saW5lY2FwJyxcbiAgJ3N0cm9rZS1saW5lam9pbicsXG4gICdzdHJva2UtbWl0ZXJsaW1pdCcsXG4gICdzdHJva2Utb3BhY2l0eScsXG4gICdzdHJva2Utd2lkdGgnLFxuICAvLyAnc3VmZml4JywgLT4gb25seSB2YWxpZCBpbiBAY291bnRlci1zdHlsZSwgd2hpY2ggd2UgZGlzYWxsb3dcbiAgLy8gJ3N5bWJvbHMnLCAtPiBvbmx5IHZhbGlkIGluIEBjb3VudGVyLXN0eWxlLCB3aGljaCB3ZSBkaXNhbGxvd1xuICAvLyAnc3ludGF4JywgLT4gb25seSB2YWxpZCBpbiBAcHJvcGVydHksIHdoaWNoIHdlIGRpc2FsbG93XG4gIC8vICdzeXN0ZW0nLCAtPiBvbmx5IHZhbGlkIGluIEBjb3VudGVyLXN0eWxlLCB3aGljaCB3ZSBkaXNhbGxvd1xuICAndGFiLXNpemUnLFxuICAndGFibGUtbGF5b3V0JyxcbiAgJ3RleHQtYWxpZ24nLFxuICAndGV4dC1hbGlnbi1sYXN0JyxcbiAgJ3RleHQtYW5jaG9yJyxcbiAgJ3RleHQtYXV0b3NwYWNlJyxcbiAgJ3RleHQtYm94LWVkZ2UnLFxuICAndGV4dC1ib3gtdHJpbScsXG4gICd0ZXh0LWNvbWJpbmUtdXByaWdodCcsXG4gICd0ZXh0LWRlY29yYXRpb24nLFxuICAndGV4dC1kZWNvcmF0aW9uLWNvbG9yJyxcbiAgJ3RleHQtZGVjb3JhdGlvbi1saW5lJyxcbiAgJ3RleHQtZGVjb3JhdGlvbi1za2lwLWluaycsXG4gICd0ZXh0LWRlY29yYXRpb24tc3R5bGUnLFxuICAndGV4dC1kZWNvcmF0aW9uLXRoaWNrbmVzcycsXG4gICd0ZXh0LWVtcGhhc2lzJyxcbiAgJ3RleHQtZW1waGFzaXMtY29sb3InLFxuICAndGV4dC1lbXBoYXNpcy1wb3NpdGlvbicsXG4gICd0ZXh0LWVtcGhhc2lzLXN0eWxlJyxcbiAgJ3RleHQtaW5kZW50JyxcbiAgJ3RleHQtb3JpZW50YXRpb24nLFxuICAndGV4dC1vdmVyZmxvdycsXG4gICd0ZXh0LXJlbmRlcmluZycsXG4gICd0ZXh0LXNoYWRvdycsXG4gICd0ZXh0LXNpemUtYWRqdXN0JyxcbiAgJ3RleHQtc3BhY2luZycsXG4gICd0ZXh0LXNwYWNpbmctdHJpbScsXG4gICd0ZXh0LXRyYW5zZm9ybScsXG4gICd0ZXh0LXVuZGVybGluZS1vZmZzZXQnLFxuICAndGV4dC11bmRlcmxpbmUtcG9zaXRpb24nLFxuICAndGV4dC13cmFwJyxcbiAgLy8gJ3RpbWVsaW5lLXNjb3BlJywgLT4gZXhwZXJpbWVudGFsXG4gICd0b3AnLFxuICAvLyAndG91Y2gtYWN0aW9uJywgLT4gYWZmZWN0cyBiZWhhdmlvclxuICAndHJhbnNmb3JtJyxcbiAgJ3RyYW5zZm9ybS1ib3gnLFxuICAndHJhbnNmb3JtLW9yaWdpbicsXG4gICd0cmFuc2Zvcm0tc3R5bGUnLFxuICAndHJhbnNsYXRlJyxcbiAgJ3VuaWNvZGUtYmlkaScsXG4gIC8vICd1bmljb2RlLXJhbmdlJywgLT4gb25seSB2YWxpZCBpbiBAZm9udC1mYWNlLCB3aGljaCB3ZSBkaXNhbGxvd1xuICAvLyAndXNlci1zZWxlY3QnLCAtPiB0b28gcG93ZXJmdWwsIGNhbiBkaXNhYmxlIHVzZXIgc2VsZWN0aW9uXG4gICd2ZWN0b3ItZWZmZWN0JyxcbiAgJ3ZlcnRpY2FsLWFsaWduJyxcbiAgLy8gJ3ZpZXctdGltZWxpbmUnLCAtPiBleHBlcmltZW50YWxcbiAgLy8gJ3ZpZXctdGltZWxpbmUtYXhpcycsIC0+IGV4cGVyaW1lbnRhbFxuICAvLyAndmlldy10aW1lbGluZS1pbnNldCcsIC0+IGV4cGVyaW1lbnRhbFxuICAvLyAndmlldy10aW1lbGluZS1uYW1lJywgLT4gZXhwZXJpbWVudGFsXG4gIC8vICd2aWV3LXRyYW5zaXRpb24tY2xhc3MnLCAtPiB2aWV3LXRyYW5zaXRpb25zIGFyZSB0b28gcG93ZXJmdWwgZm9yIENTUyBzYW5pdGl6ZXJcbiAgLy8gJ3ZpZXctdHJhbnNpdGlvbi1uYW1lJyxcbiAgJ3Zpc2liaWxpdHknLFxuICAnd2hpdGUtc3BhY2UnLFxuICAnd2hpdGUtc3BhY2UtY29sbGFwc2UnLFxuICAnd2lkb3dzJyxcbiAgJ3dpZHRoJyxcbiAgJ3dpbGwtY2hhbmdlJyxcbiAgJ3dvcmQtYnJlYWsnLFxuICAnd29yZC1zcGFjaW5nJyxcbiAgJ3dvcmQtd3JhcCcsXG4gICd3cml0aW5nLW1vZGUnLFxuICAneCcsXG4gICd5JyxcbiAgJ3otaW5kZXgnLFxuICAnem9vbScsXG5cbiAgLy8gQW5pbWF0aW9uIHByb3BlcnRpZXNcbiAgLy8gZ28va2VlcC1zb3J0ZWQgc3RhcnRcbiAgJ2FuaW1hdGlvbicsXG4gICdhbmltYXRpb24tY29tcG9zaXRpb24nLFxuICAnYW5pbWF0aW9uLWRlbGF5JyxcbiAgJ2FuaW1hdGlvbi1kaXJlY3Rpb24nLFxuICAnYW5pbWF0aW9uLWR1cmF0aW9uJyxcbiAgJ2FuaW1hdGlvbi1maWxsLW1vZGUnLFxuICAnYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudCcsXG4gICdhbmltYXRpb24tbmFtZScsXG4gICdhbmltYXRpb24tcGxheS1zdGF0ZScsXG4gICdhbmltYXRpb24tcmFuZ2UnLFxuICAnYW5pbWF0aW9uLXJhbmdlLWVuZCcsXG4gICdhbmltYXRpb24tcmFuZ2Utc3RhcnQnLFxuICAnYW5pbWF0aW9uLXRpbWVsaW5lJyxcbiAgJ2FuaW1hdGlvbi10aW1pbmctZnVuY3Rpb24nLFxuICAnb2Zmc2V0JyxcbiAgJ29mZnNldC1hbmNob3InLFxuICAnb2Zmc2V0LWRpc3RhbmNlJyxcbiAgJ29mZnNldC1wYXRoJyxcbiAgJ29mZnNldC1wb3NpdGlvbicsXG4gICdvZmZzZXQtcm90YXRlJyxcbiAgLy8gZ28va2VlcC1zb3J0ZWQgZW5kXG5cbiAgLy8gVHJhbnNpdGlvbiBwcm9wZXJ0aWVzXG4gIC8vIGdvL2tlZXAtc29ydGVkIHN0YXJ0XG4gICd0cmFuc2l0aW9uJyxcbiAgJ3RyYW5zaXRpb24tYmVoYXZpb3InLFxuICAndHJhbnNpdGlvbi1kZWxheScsXG4gICd0cmFuc2l0aW9uLWR1cmF0aW9uJyxcbiAgJ3RyYW5zaXRpb24tcHJvcGVydHknLFxuICAndHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb24nLFxuICAvLyBnby9rZWVwLXNvcnRlZCBlbmRcbl0pO1xuXG4vKipcbiAqIEFsbG93bGlzdCBvZiBDU1MgZnVuY3Rpb25zLlxuICovXG5leHBvcnQgY29uc3QgQ1NTX0ZVTkNUSU9OX0FMTE9XTElTVCA9IG5ldyBTZXQ8c3RyaW5nPihbXG4gIC8vIGdvL2tlZXAtc29ydGVkIHN0YXJ0XG4gICdhbHBoYScsXG4gICdjdWJpYy1iZXppZXInLFxuICAnbGluZWFyLWdyYWRpZW50JyxcbiAgJ21hdHJpeCcsXG4gICdwZXJzcGVjdGl2ZScsXG4gICdyYWRpYWwtZ3JhZGllbnQnLFxuICAncmVjdCcsXG4gICdyZXBlYXRpbmctbGluZWFyLWdyYWRpZW50JyxcbiAgJ3JlcGVhdGluZy1yYWRpYWwtZ3JhZGllbnQnLFxuICAncmdiJyxcbiAgJ3JnYmEnLFxuICAncm90YXRlJyxcbiAgJ3JvdGF0ZTNkJyxcbiAgJ3JvdGF0ZXgnLFxuICAncm90YXRleScsXG4gICdyb3RhdGV6JyxcbiAgJ3NjYWxlJyxcbiAgJ3NjYWxlM2QnLFxuICAnc2NhbGV4JyxcbiAgJ3NjYWxleScsXG4gICdzY2FsZXonLFxuICAnc2tldycsXG4gICdza2V3eCcsXG4gICdza2V3eScsXG4gICdzdGVwcycsXG4gICd0cmFuc2xhdGUnLFxuICAndHJhbnNsYXRlM2QnLFxuICAndHJhbnNsYXRleCcsXG4gICd0cmFuc2xhdGV5JyxcbiAgJ3RyYW5zbGF0ZXonLFxuICAndXJsJyxcbiAgLy8gZ28va2VlcC1zb3J0ZWQgZW5kXG5dKTtcbiJdfQ==
;return exports;});

//third_party/javascript/safevalues/builders/html_sanitizer/css/tokens.closure.js
goog.loadModule(function(exports) {'use strict';/**
 * @license
 * Copyright Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
/**
 * @fileoverview List of tokens that can be produced by the CSS tokenizer.
 * Generated from: third_party/javascript/safevalues/builders/html_sanitizer/css/tokens.ts
 * @suppress {checkTypes} added by tsickle
 * @suppress {extraRequire} added by tsickle
 * @suppress {missingRequire} added by tsickle
 * @suppress {uselessCode} added by tsickle
 * @suppress {suspiciousCode} added by tsickle
 * @suppress {missingReturn} added by tsickle
 * @suppress {unusedPrivateMembers} added by tsickle
 * @suppress {missingOverride} added by tsickle
 * @suppress {const} added by tsickle
 */
goog.module('google3.third_party.javascript.safevalues.builders.html_sanitizer.css.tokens');
var module = module || { id: 'third_party/javascript/safevalues/builders/html_sanitizer/css/tokens.closure.js' };
goog.require('google3.third_party.javascript.tslib.tslib');
/** @enum {number} */
const CssTokenKind = {
    AT_KEYWORD: 0,
    CDC: 1,
    CDO: 2,
    CLOSE_CURLY: 3,
    CLOSE_PAREN: 4,
    CLOSE_SQUARE: 5,
    COLON: 6,
    COMMA: 7,
    DELIM: 8,
    DIMENSION: 9,
    EOF: 10,
    FUNCTION: 11,
    HASH: 12,
    IDENT: 13,
    NUMBER: 14,
    OPEN_CURLY: 15,
    OPEN_PAREN: 16,
    OPEN_SQUARE: 17,
    PERCENTAGE: 18,
    SEMICOLON: 19,
    STRING: 20,
    WHITESPACE: 21,
};
exports.CssTokenKind = CssTokenKind;
CssTokenKind[CssTokenKind.AT_KEYWORD] = 'AT_KEYWORD';
CssTokenKind[CssTokenKind.CDC] = 'CDC';
CssTokenKind[CssTokenKind.CDO] = 'CDO';
CssTokenKind[CssTokenKind.CLOSE_CURLY] = 'CLOSE_CURLY';
CssTokenKind[CssTokenKind.CLOSE_PAREN] = 'CLOSE_PAREN';
CssTokenKind[CssTokenKind.CLOSE_SQUARE] = 'CLOSE_SQUARE';
CssTokenKind[CssTokenKind.COLON] = 'COLON';
CssTokenKind[CssTokenKind.COMMA] = 'COMMA';
CssTokenKind[CssTokenKind.DELIM] = 'DELIM';
CssTokenKind[CssTokenKind.DIMENSION] = 'DIMENSION';
CssTokenKind[CssTokenKind.EOF] = 'EOF';
CssTokenKind[CssTokenKind.FUNCTION] = 'FUNCTION';
CssTokenKind[CssTokenKind.HASH] = 'HASH';
CssTokenKind[CssTokenKind.IDENT] = 'IDENT';
CssTokenKind[CssTokenKind.NUMBER] = 'NUMBER';
CssTokenKind[CssTokenKind.OPEN_CURLY] = 'OPEN_CURLY';
CssTokenKind[CssTokenKind.OPEN_PAREN] = 'OPEN_PAREN';
CssTokenKind[CssTokenKind.OPEN_SQUARE] = 'OPEN_SQUARE';
CssTokenKind[CssTokenKind.PERCENTAGE] = 'PERCENTAGE';
CssTokenKind[CssTokenKind.SEMICOLON] = 'SEMICOLON';
CssTokenKind[CssTokenKind.STRING] = 'STRING';
CssTokenKind[CssTokenKind.WHITESPACE] = 'WHITESPACE';
/**
 * At-keyword token.
 *
 * https://www.w3.org/TR/2021/CRD-css-syntax-3-20211224/#typedef-at-keyword-token
 * @record
 */
function AtKeywordToken() { }
exports.AtKeywordToken = AtKeywordToken;
/* istanbul ignore if */
if (false) {
    /**
     * @type {!CssTokenKind}
     * @public
     */
    AtKeywordToken.prototype.tokenKind;
    /**
     * @type {string}
     * @public
     */
    AtKeywordToken.prototype.name;
}
/**
 * CDC (Comment Delimiter Close) token. Represents `"-->"`.
 *
 * https://www.w3.org/TR/2021/CRD-css-syntax-3-20211224/#typedef-cdc-token
 * @record
 */
function CdcToken() { }
exports.CdcToken = CdcToken;
/* istanbul ignore if */
if (false) {
    /**
     * @type {!CssTokenKind}
     * @public
     */
    CdcToken.prototype.tokenKind;
}
/**
 * CDO (Comment Delimiter Open) token. Represents `"<!--"`.
 *
 * https://www.w3.org/TR/2021/CRD-css-syntax-3-20211224/#typedef-cdo-token
 * @record
 */
function CdoToken() { }
exports.CdoToken = CdoToken;
/* istanbul ignore if */
if (false) {
    /**
     * @type {!CssTokenKind}
     * @public
     */
    CdoToken.prototype.tokenKind;
}
/**
 * Close curly bracket token.
 *
 * https://www.w3.org/TR/2021/CRD-css-syntax-3-20211224/#tokendef-close-curly
 * @record
 */
function CloseCurlyToken() { }
exports.CloseCurlyToken = CloseCurlyToken;
/* istanbul ignore if */
if (false) {
    /**
     * @type {!CssTokenKind}
     * @public
     */
    CloseCurlyToken.prototype.tokenKind;
}
/**
 * Close parenthesis token.
 *
 * https://www.w3.org/TR/2021/CRD-css-syntax-3-20211224/#tokendef-close-paren
 * @record
 */
function CloseParenToken() { }
exports.CloseParenToken = CloseParenToken;
/* istanbul ignore if */
if (false) {
    /**
     * @type {!CssTokenKind}
     * @public
     */
    CloseParenToken.prototype.tokenKind;
}
/**
 * Close square bracket token.
 *
 * https://www.w3.org/TR/2021/CRD-css-syntax-3-20211224/#tokendef-close-square
 * @record
 */
function CloseSquareToken() { }
exports.CloseSquareToken = CloseSquareToken;
/* istanbul ignore if */
if (false) {
    /**
     * @type {!CssTokenKind}
     * @public
     */
    CloseSquareToken.prototype.tokenKind;
}
/**
 * Colon token.
 *
 * https://www.w3.org/TR/2021/CRD-css-syntax-3-20211224/#typedef-colon-token
 * @record
 */
function ColonToken() { }
exports.ColonToken = ColonToken;
/* istanbul ignore if */
if (false) {
    /**
     * @type {!CssTokenKind}
     * @public
     */
    ColonToken.prototype.tokenKind;
}
/**
 * Comma token.
 *
 * https://www.w3.org/TR/2021/CRD-css-syntax-3-20211224/#typedef-comma-token
 * @record
 */
function CommaToken() { }
exports.CommaToken = CommaToken;
/* istanbul ignore if */
if (false) {
    /**
     * @type {!CssTokenKind}
     * @public
     */
    CommaToken.prototype.tokenKind;
}
/**
 * Delim token.
 *
 * It has a value composed of a single code point.
 *
 * https://www.w3.org/TR/2021/CRD-css-syntax-3-20211224/#typedef-delim-token
 * @record
 */
function DelimToken() { }
exports.DelimToken = DelimToken;
/* istanbul ignore if */
if (false) {
    /**
     * @type {!CssTokenKind}
     * @public
     */
    DelimToken.prototype.tokenKind;
    /**
     * @type {string}
     * @public
     */
    DelimToken.prototype.codePoint;
}
/**
 * Dimension token. (for values such as "10px")
 *
 * The CSS spec requires to also store a flag whether the dimension is an
 * integer or not. We don't need this information for sanitization or
 * serialization, so we'll just ignore it. We also don't store the numeric
 * value of the dimension token; instead we'll just store the original string
 * representation and will always serialize it back.
 *
 * https://www.w3.org/TR/2021/CRD-css-syntax-3-20211224/#typedef-dimension
 * @record
 */
function DimensionToken() { }
exports.DimensionToken = DimensionToken;
/* istanbul ignore if */
if (false) {
    /**
     * @type {!CssTokenKind}
     * @public
     */
    DimensionToken.prototype.tokenKind;
    /**
     * @type {string}
     * @public
     */
    DimensionToken.prototype.repr;
    /**
     * @type {string}
     * @public
     */
    DimensionToken.prototype.dimension;
}
/**
 * EOF token. Always the last token produced by the tokenizer.
 *
 * https://www.w3.org/TR/2021/CRD-css-syntax-3-20211224/#typedef-eof-token
 * @record
 */
function EofToken() { }
exports.EofToken = EofToken;
/* istanbul ignore if */
if (false) {
    /**
     * @type {!CssTokenKind}
     * @public
     */
    EofToken.prototype.tokenKind;
}
/**
 * Function token.
 *
 * https://www.w3.org/TR/2021/CRD-css-syntax-3-20211224/#typedef-function-token
 * @record
 */
function FunctionToken() { }
exports.FunctionToken = FunctionToken;
/* istanbul ignore if */
if (false) {
    /**
     * @type {!CssTokenKind}
     * @public
     */
    FunctionToken.prototype.tokenKind;
    /**
     * @type {string}
     * @public
     */
    FunctionToken.prototype.lowercaseName;
}
/**
 * Hash token.
 *
 * Per spec, the hash token should also have a type flag with value either "id"
 * or "unrestricted". We don't need this information neither for sanitization
 * nor for serialization, so we'll just ignore it.
 *
 * https://www.w3.org/TR/2021/CRD-css-syntax-3-20211224/#typedef-hash-token
 * @record
 */
function HashToken() { }
exports.HashToken = HashToken;
/* istanbul ignore if */
if (false) {
    /**
     * @type {!CssTokenKind}
     * @public
     */
    HashToken.prototype.tokenKind;
    /**
     * @type {string}
     * @public
     */
    HashToken.prototype.value;
}
/**
 * Identifier token.
 *
 * https://www.w3.org/TR/2021/CRD-css-syntax-3-20211224/#typedef-ident-token
 * @record
 */
function IdentToken() { }
exports.IdentToken = IdentToken;
/* istanbul ignore if */
if (false) {
    /**
     * @type {!CssTokenKind}
     * @public
     */
    IdentToken.prototype.tokenKind;
    /**
     * @type {string}
     * @public
     */
    IdentToken.prototype.ident;
}
/**
 * Number token.
 *
 * The CSS spec requires to also store a flag whether the number is an integer
 * or not. We don't need this information for sanitization or serialization,
 * so we'll just ignore it. We also don't store the numeric value of the number
 * token; instead we'll just store the original string representation and will
 * always serialize it back.
 *
 * https://www.w3.org/TR/2021/CRD-css-syntax-3-20211224/#typedef-number-token
 * @record
 */
function NumberToken() { }
exports.NumberToken = NumberToken;
/* istanbul ignore if */
if (false) {
    /**
     * @type {!CssTokenKind}
     * @public
     */
    NumberToken.prototype.tokenKind;
    /**
     * @type {string}
     * @public
     */
    NumberToken.prototype.repr;
}
/**
 * Open curly bracket token.
 *
 * https://www.w3.org/TR/2021/CRD-css-syntax-3-20211224/#tokendef-open-curly
 * @record
 */
function OpenCurlyToken() { }
exports.OpenCurlyToken = OpenCurlyToken;
/* istanbul ignore if */
if (false) {
    /**
     * @type {!CssTokenKind}
     * @public
     */
    OpenCurlyToken.prototype.tokenKind;
}
/**
 * Open parenthesis token.
 *
 * https://www.w3.org/TR/2021/CRD-css-syntax-3-20211224/#tokendef-open-paren
 * @record
 */
function OpenParenToken() { }
exports.OpenParenToken = OpenParenToken;
/* istanbul ignore if */
if (false) {
    /**
     * @type {!CssTokenKind}
     * @public
     */
    OpenParenToken.prototype.tokenKind;
}
/**
 * Open square bracket token.
 *
 * https://www.w3.org/TR/2021/CRD-css-syntax-3-20211224/#tokendef-open-square
 * @record
 */
function OpenSquareToken() { }
exports.OpenSquareToken = OpenSquareToken;
/* istanbul ignore if */
if (false) {
    /**
     * @type {!CssTokenKind}
     * @public
     */
    OpenSquareToken.prototype.tokenKind;
}
/**
 * Percentage token. (for values such as "10%")
 *
 * The CSS spec requires to also store a flag whether the percentage is an
 * integer or not. We don't need this information for sanitization or
 * serialization, so we'll just ignore it. We also don't store the numeric
 * value of the percentage token; instead we'll just store the original string
 * representation and will always serialize it back.
 *
 * https://www.w3.org/TR/2021/CRD-css-syntax-3-20211224/#typedef-percentage
 * @record
 */
function PercentageToken() { }
exports.PercentageToken = PercentageToken;
/* istanbul ignore if */
if (false) {
    /**
     * @type {!CssTokenKind}
     * @public
     */
    PercentageToken.prototype.tokenKind;
    /**
     * @type {string}
     * @public
     */
    PercentageToken.prototype.repr;
}
/**
 * Semicolon token.
 *
 * https://www.w3.org/TR/2021/CRD-css-syntax-3-20211224/#typedef-semicolon-token
 * @record
 */
function SemicolonToken() { }
exports.SemicolonToken = SemicolonToken;
/* istanbul ignore if */
if (false) {
    /**
     * @type {!CssTokenKind}
     * @public
     */
    SemicolonToken.prototype.tokenKind;
}
/**
 * String token.
 *
 * The CSS spec also defines a bad-string token, which is not included here
 * because it serves no value for the purposes of the CSS sanitizer. Instead
 * we'll emit just an empty string.
 *
 * https://www.w3.org/TR/2021/CRD-css-syntax-3-20211224/#typedef-string-token
 * @record
 */
function StringToken() { }
exports.StringToken = StringToken;
/* istanbul ignore if */
if (false) {
    /**
     * @type {!CssTokenKind}
     * @public
     */
    StringToken.prototype.tokenKind;
    /**
     * @type {string}
     * @public
     */
    StringToken.prototype.value;
}
/**
 * Whitespace token.
 *
 * https://www.w3.org/TR/2021/CRD-css-syntax-3-20211224/#typedef-whitespace-token
 * @record
 */
function WhitespaceToken() { }
exports.WhitespaceToken = WhitespaceToken;
/* istanbul ignore if */
if (false) {
    /**
     * @type {!CssTokenKind}
     * @public
     */
    WhitespaceToken.prototype.tokenKind;
}
/**
 * A token produced by the CSS tokenizer.
 * @typedef {(!AtKeywordToken|!CdcToken|!CdoToken|!CloseCurlyToken|!CloseParenToken|!CloseSquareToken|!ColonToken|!CommaToken|!DelimToken|!DimensionToken|!EofToken|!FunctionToken|!HashToken|!IdentToken|!NumberToken|!OpenCurlyToken|!OpenParenToken|!OpenSquareToken|!PercentageToken|!SemicolonToken|!StringToken|!WhitespaceToken)}
 */
exports.CssToken;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidG9rZW5zLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vdGhpcmRfcGFydHkvamF2YXNjcmlwdC9zYWZldmFsdWVzL2J1aWxkZXJzL2h0bWxfc2FuaXRpemVyL2Nzcy90b2tlbnMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVVBLE1BQVksWUFBWTtJQUN0QixVQUFVLEdBQUE7SUFDVixHQUFHLEdBQUE7SUFDSCxHQUFHLEdBQUE7SUFDSCxXQUFXLEdBQUE7SUFDWCxXQUFXLEdBQUE7SUFDWCxZQUFZLEdBQUE7SUFDWixLQUFLLEdBQUE7SUFDTCxLQUFLLEdBQUE7SUFDTCxLQUFLLEdBQUE7SUFDTCxTQUFTLEdBQUE7SUFDVCxHQUFHLElBQUE7SUFDSCxRQUFRLElBQUE7SUFDUixJQUFJLElBQUE7SUFDSixLQUFLLElBQUE7SUFDTCxNQUFNLElBQUE7SUFDTixVQUFVLElBQUE7SUFDVixVQUFVLElBQUE7SUFDVixXQUFXLElBQUE7SUFDWCxVQUFVLElBQUE7SUFDVixTQUFTLElBQUE7SUFDVCxNQUFNLElBQUE7SUFDTixVQUFVLElBQUE7RUFDWDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBT0QsNkJBR0M7Ozs7Ozs7O0lBRkMsbUNBQW1DOzs7OztJQUNuQyw4QkFBYTs7Ozs7Ozs7QUFRZix1QkFFQzs7Ozs7Ozs7SUFEQyw2QkFBNEI7Ozs7Ozs7O0FBUTlCLHVCQUVDOzs7Ozs7OztJQURDLDZCQUE0Qjs7Ozs7Ozs7QUFROUIsOEJBRUM7Ozs7Ozs7O0lBREMsb0NBQW9DOzs7Ozs7OztBQVF0Qyw4QkFFQzs7Ozs7Ozs7SUFEQyxvQ0FBb0M7Ozs7Ozs7O0FBUXRDLCtCQUVDOzs7Ozs7OztJQURDLHFDQUFxQzs7Ozs7Ozs7QUFRdkMseUJBRUM7Ozs7Ozs7O0lBREMsK0JBQThCOzs7Ozs7OztBQVFoQyx5QkFFQzs7Ozs7Ozs7SUFEQywrQkFBOEI7Ozs7Ozs7Ozs7QUFVaEMseUJBR0M7Ozs7Ozs7O0lBRkMsK0JBQThCOzs7OztJQUM5QiwrQkFBa0I7Ozs7Ozs7Ozs7Ozs7O0FBY3BCLDZCQUlDOzs7Ozs7OztJQUhDLG1DQUFrQzs7Ozs7SUFDbEMsOEJBQWE7Ozs7O0lBQ2IsbUNBQWtCOzs7Ozs7OztBQVFwQix1QkFFQzs7Ozs7Ozs7SUFEQyw2QkFBNEI7Ozs7Ozs7O0FBUTlCLDRCQUdDOzs7Ozs7OztJQUZDLGtDQUFpQzs7Ozs7SUFDakMsc0NBQXNCOzs7Ozs7Ozs7Ozs7QUFZeEIsd0JBR0M7Ozs7Ozs7O0lBRkMsOEJBQTZCOzs7OztJQUM3QiwwQkFBYzs7Ozs7Ozs7QUFRaEIseUJBR0M7Ozs7Ozs7O0lBRkMsK0JBQThCOzs7OztJQUM5QiwyQkFBYzs7Ozs7Ozs7Ozs7Ozs7QUFjaEIsMEJBR0M7Ozs7Ozs7O0lBRkMsZ0NBQStCOzs7OztJQUMvQiwyQkFBYTs7Ozs7Ozs7QUFRZiw2QkFFQzs7Ozs7Ozs7SUFEQyxtQ0FBbUM7Ozs7Ozs7O0FBUXJDLDZCQUVDOzs7Ozs7OztJQURDLG1DQUFtQzs7Ozs7Ozs7QUFRckMsOEJBRUM7Ozs7Ozs7O0lBREMsb0NBQW9DOzs7Ozs7Ozs7Ozs7OztBQWN0Qyw4QkFHQzs7Ozs7Ozs7SUFGQyxvQ0FBbUM7Ozs7O0lBQ25DLCtCQUFhOzs7Ozs7OztBQVFmLDZCQUVDOzs7Ozs7OztJQURDLG1DQUFrQzs7Ozs7Ozs7Ozs7O0FBWXBDLDBCQUdDOzs7Ozs7OztJQUZDLGdDQUErQjs7Ozs7SUFDL0IsNEJBQWM7Ozs7Ozs7O0FBUWhCLDhCQUVDOzs7Ozs7OztJQURDLG9DQUFtQzs7Ozs7O0FBTXJDLGlCQXNCb0IiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgTGlzdCBvZiB0b2tlbnMgdGhhdCBjYW4gYmUgcHJvZHVjZWQgYnkgdGhlIENTUyB0b2tlbml6ZXIuXG4gKi9cblxuZXhwb3J0IGVudW0gQ3NzVG9rZW5LaW5kIHtcbiAgQVRfS0VZV09SRCxcbiAgQ0RDLFxuICBDRE8sXG4gIENMT1NFX0NVUkxZLFxuICBDTE9TRV9QQVJFTixcbiAgQ0xPU0VfU1FVQVJFLFxuICBDT0xPTixcbiAgQ09NTUEsXG4gIERFTElNLFxuICBESU1FTlNJT04sXG4gIEVPRixcbiAgRlVOQ1RJT04sXG4gIEhBU0gsXG4gIElERU5ULFxuICBOVU1CRVIsXG4gIE9QRU5fQ1VSTFksXG4gIE9QRU5fUEFSRU4sXG4gIE9QRU5fU1FVQVJFLFxuICBQRVJDRU5UQUdFLFxuICBTRU1JQ09MT04sXG4gIFNUUklORyxcbiAgV0hJVEVTUEFDRSxcbn1cblxuLyoqXG4gKiBBdC1rZXl3b3JkIHRva2VuLlxuICpcbiAqIGh0dHBzOi8vd3d3LnczLm9yZy9UUi8yMDIxL0NSRC1jc3Mtc3ludGF4LTMtMjAyMTEyMjQvI3R5cGVkZWYtYXQta2V5d29yZC10b2tlblxuICovXG5leHBvcnQgaW50ZXJmYWNlIEF0S2V5d29yZFRva2VuIHtcbiAgdG9rZW5LaW5kOiBDc3NUb2tlbktpbmQuQVRfS0VZV09SRDtcbiAgbmFtZTogc3RyaW5nO1xufVxuXG4vKipcbiAqIENEQyAoQ29tbWVudCBEZWxpbWl0ZXIgQ2xvc2UpIHRva2VuLiBSZXByZXNlbnRzIGBcIi0tPlwiYC5cbiAqXG4gKiBodHRwczovL3d3dy53My5vcmcvVFIvMjAyMS9DUkQtY3NzLXN5bnRheC0zLTIwMjExMjI0LyN0eXBlZGVmLWNkYy10b2tlblxuICovXG5leHBvcnQgaW50ZXJmYWNlIENkY1Rva2VuIHtcbiAgdG9rZW5LaW5kOiBDc3NUb2tlbktpbmQuQ0RDO1xufVxuXG4vKipcbiAqIENETyAoQ29tbWVudCBEZWxpbWl0ZXIgT3BlbikgdG9rZW4uIFJlcHJlc2VudHMgYFwiPCEtLVwiYC5cbiAqXG4gKiBodHRwczovL3d3dy53My5vcmcvVFIvMjAyMS9DUkQtY3NzLXN5bnRheC0zLTIwMjExMjI0LyN0eXBlZGVmLWNkby10b2tlblxuICovXG5leHBvcnQgaW50ZXJmYWNlIENkb1Rva2VuIHtcbiAgdG9rZW5LaW5kOiBDc3NUb2tlbktpbmQuQ0RPO1xufVxuXG4vKipcbiAqIENsb3NlIGN1cmx5IGJyYWNrZXQgdG9rZW4uXG4gKlxuICogaHR0cHM6Ly93d3cudzMub3JnL1RSLzIwMjEvQ1JELWNzcy1zeW50YXgtMy0yMDIxMTIyNC8jdG9rZW5kZWYtY2xvc2UtY3VybHlcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDbG9zZUN1cmx5VG9rZW4ge1xuICB0b2tlbktpbmQ6IENzc1Rva2VuS2luZC5DTE9TRV9DVVJMWTtcbn1cblxuLyoqXG4gKiBDbG9zZSBwYXJlbnRoZXNpcyB0b2tlbi5cbiAqXG4gKiBodHRwczovL3d3dy53My5vcmcvVFIvMjAyMS9DUkQtY3NzLXN5bnRheC0zLTIwMjExMjI0LyN0b2tlbmRlZi1jbG9zZS1wYXJlblxuICovXG5leHBvcnQgaW50ZXJmYWNlIENsb3NlUGFyZW5Ub2tlbiB7XG4gIHRva2VuS2luZDogQ3NzVG9rZW5LaW5kLkNMT1NFX1BBUkVOO1xufVxuXG4vKipcbiAqIENsb3NlIHNxdWFyZSBicmFja2V0IHRva2VuLlxuICpcbiAqIGh0dHBzOi8vd3d3LnczLm9yZy9UUi8yMDIxL0NSRC1jc3Mtc3ludGF4LTMtMjAyMTEyMjQvI3Rva2VuZGVmLWNsb3NlLXNxdWFyZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIENsb3NlU3F1YXJlVG9rZW4ge1xuICB0b2tlbktpbmQ6IENzc1Rva2VuS2luZC5DTE9TRV9TUVVBUkU7XG59XG5cbi8qKlxuICogQ29sb24gdG9rZW4uXG4gKlxuICogaHR0cHM6Ly93d3cudzMub3JnL1RSLzIwMjEvQ1JELWNzcy1zeW50YXgtMy0yMDIxMTIyNC8jdHlwZWRlZi1jb2xvbi10b2tlblxuICovXG5leHBvcnQgaW50ZXJmYWNlIENvbG9uVG9rZW4ge1xuICB0b2tlbktpbmQ6IENzc1Rva2VuS2luZC5DT0xPTjtcbn1cblxuLyoqXG4gKiBDb21tYSB0b2tlbi5cbiAqXG4gKiBodHRwczovL3d3dy53My5vcmcvVFIvMjAyMS9DUkQtY3NzLXN5bnRheC0zLTIwMjExMjI0LyN0eXBlZGVmLWNvbW1hLXRva2VuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ29tbWFUb2tlbiB7XG4gIHRva2VuS2luZDogQ3NzVG9rZW5LaW5kLkNPTU1BO1xufVxuXG4vKipcbiAqIERlbGltIHRva2VuLlxuICpcbiAqIEl0IGhhcyBhIHZhbHVlIGNvbXBvc2VkIG9mIGEgc2luZ2xlIGNvZGUgcG9pbnQuXG4gKlxuICogaHR0cHM6Ly93d3cudzMub3JnL1RSLzIwMjEvQ1JELWNzcy1zeW50YXgtMy0yMDIxMTIyNC8jdHlwZWRlZi1kZWxpbS10b2tlblxuICovXG5leHBvcnQgaW50ZXJmYWNlIERlbGltVG9rZW4ge1xuICB0b2tlbktpbmQ6IENzc1Rva2VuS2luZC5ERUxJTTtcbiAgY29kZVBvaW50OiBzdHJpbmc7XG59XG5cbi8qKlxuICogRGltZW5zaW9uIHRva2VuLiAoZm9yIHZhbHVlcyBzdWNoIGFzIFwiMTBweFwiKVxuICpcbiAqIFRoZSBDU1Mgc3BlYyByZXF1aXJlcyB0byBhbHNvIHN0b3JlIGEgZmxhZyB3aGV0aGVyIHRoZSBkaW1lbnNpb24gaXMgYW5cbiAqIGludGVnZXIgb3Igbm90LiBXZSBkb24ndCBuZWVkIHRoaXMgaW5mb3JtYXRpb24gZm9yIHNhbml0aXphdGlvbiBvclxuICogc2VyaWFsaXphdGlvbiwgc28gd2UnbGwganVzdCBpZ25vcmUgaXQuIFdlIGFsc28gZG9uJ3Qgc3RvcmUgdGhlIG51bWVyaWNcbiAqIHZhbHVlIG9mIHRoZSBkaW1lbnNpb24gdG9rZW47IGluc3RlYWQgd2UnbGwganVzdCBzdG9yZSB0aGUgb3JpZ2luYWwgc3RyaW5nXG4gKiByZXByZXNlbnRhdGlvbiBhbmQgd2lsbCBhbHdheXMgc2VyaWFsaXplIGl0IGJhY2suXG4gKlxuICogaHR0cHM6Ly93d3cudzMub3JnL1RSLzIwMjEvQ1JELWNzcy1zeW50YXgtMy0yMDIxMTIyNC8jdHlwZWRlZi1kaW1lbnNpb25cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBEaW1lbnNpb25Ub2tlbiB7XG4gIHRva2VuS2luZDogQ3NzVG9rZW5LaW5kLkRJTUVOU0lPTjtcbiAgcmVwcjogc3RyaW5nO1xuICBkaW1lbnNpb246IHN0cmluZztcbn1cblxuLyoqXG4gKiBFT0YgdG9rZW4uIEFsd2F5cyB0aGUgbGFzdCB0b2tlbiBwcm9kdWNlZCBieSB0aGUgdG9rZW5pemVyLlxuICpcbiAqIGh0dHBzOi8vd3d3LnczLm9yZy9UUi8yMDIxL0NSRC1jc3Mtc3ludGF4LTMtMjAyMTEyMjQvI3R5cGVkZWYtZW9mLXRva2VuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRW9mVG9rZW4ge1xuICB0b2tlbktpbmQ6IENzc1Rva2VuS2luZC5FT0Y7XG59XG5cbi8qKlxuICogRnVuY3Rpb24gdG9rZW4uXG4gKlxuICogaHR0cHM6Ly93d3cudzMub3JnL1RSLzIwMjEvQ1JELWNzcy1zeW50YXgtMy0yMDIxMTIyNC8jdHlwZWRlZi1mdW5jdGlvbi10b2tlblxuICovXG5leHBvcnQgaW50ZXJmYWNlIEZ1bmN0aW9uVG9rZW4ge1xuICB0b2tlbktpbmQ6IENzc1Rva2VuS2luZC5GVU5DVElPTjtcbiAgbG93ZXJjYXNlTmFtZTogc3RyaW5nO1xufVxuXG4vKipcbiAqIEhhc2ggdG9rZW4uXG4gKlxuICogUGVyIHNwZWMsIHRoZSBoYXNoIHRva2VuIHNob3VsZCBhbHNvIGhhdmUgYSB0eXBlIGZsYWcgd2l0aCB2YWx1ZSBlaXRoZXIgXCJpZFwiXG4gKiBvciBcInVucmVzdHJpY3RlZFwiLiBXZSBkb24ndCBuZWVkIHRoaXMgaW5mb3JtYXRpb24gbmVpdGhlciBmb3Igc2FuaXRpemF0aW9uXG4gKiBub3IgZm9yIHNlcmlhbGl6YXRpb24sIHNvIHdlJ2xsIGp1c3QgaWdub3JlIGl0LlxuICpcbiAqIGh0dHBzOi8vd3d3LnczLm9yZy9UUi8yMDIxL0NSRC1jc3Mtc3ludGF4LTMtMjAyMTEyMjQvI3R5cGVkZWYtaGFzaC10b2tlblxuICovXG5leHBvcnQgaW50ZXJmYWNlIEhhc2hUb2tlbiB7XG4gIHRva2VuS2luZDogQ3NzVG9rZW5LaW5kLkhBU0g7XG4gIHZhbHVlOiBzdHJpbmc7XG59XG5cbi8qKlxuICogSWRlbnRpZmllciB0b2tlbi5cbiAqXG4gKiBodHRwczovL3d3dy53My5vcmcvVFIvMjAyMS9DUkQtY3NzLXN5bnRheC0zLTIwMjExMjI0LyN0eXBlZGVmLWlkZW50LXRva2VuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSWRlbnRUb2tlbiB7XG4gIHRva2VuS2luZDogQ3NzVG9rZW5LaW5kLklERU5UO1xuICBpZGVudDogc3RyaW5nO1xufVxuXG4vKipcbiAqIE51bWJlciB0b2tlbi5cbiAqXG4gKiBUaGUgQ1NTIHNwZWMgcmVxdWlyZXMgdG8gYWxzbyBzdG9yZSBhIGZsYWcgd2hldGhlciB0aGUgbnVtYmVyIGlzIGFuIGludGVnZXJcbiAqIG9yIG5vdC4gV2UgZG9uJ3QgbmVlZCB0aGlzIGluZm9ybWF0aW9uIGZvciBzYW5pdGl6YXRpb24gb3Igc2VyaWFsaXphdGlvbixcbiAqIHNvIHdlJ2xsIGp1c3QgaWdub3JlIGl0LiBXZSBhbHNvIGRvbid0IHN0b3JlIHRoZSBudW1lcmljIHZhbHVlIG9mIHRoZSBudW1iZXJcbiAqIHRva2VuOyBpbnN0ZWFkIHdlJ2xsIGp1c3Qgc3RvcmUgdGhlIG9yaWdpbmFsIHN0cmluZyByZXByZXNlbnRhdGlvbiBhbmQgd2lsbFxuICogYWx3YXlzIHNlcmlhbGl6ZSBpdCBiYWNrLlxuICpcbiAqIGh0dHBzOi8vd3d3LnczLm9yZy9UUi8yMDIxL0NSRC1jc3Mtc3ludGF4LTMtMjAyMTEyMjQvI3R5cGVkZWYtbnVtYmVyLXRva2VuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTnVtYmVyVG9rZW4ge1xuICB0b2tlbktpbmQ6IENzc1Rva2VuS2luZC5OVU1CRVI7XG4gIHJlcHI6IHN0cmluZztcbn1cblxuLyoqXG4gKiBPcGVuIGN1cmx5IGJyYWNrZXQgdG9rZW4uXG4gKlxuICogaHR0cHM6Ly93d3cudzMub3JnL1RSLzIwMjEvQ1JELWNzcy1zeW50YXgtMy0yMDIxMTIyNC8jdG9rZW5kZWYtb3Blbi1jdXJseVxuICovXG5leHBvcnQgaW50ZXJmYWNlIE9wZW5DdXJseVRva2VuIHtcbiAgdG9rZW5LaW5kOiBDc3NUb2tlbktpbmQuT1BFTl9DVVJMWTtcbn1cblxuLyoqXG4gKiBPcGVuIHBhcmVudGhlc2lzIHRva2VuLlxuICpcbiAqIGh0dHBzOi8vd3d3LnczLm9yZy9UUi8yMDIxL0NSRC1jc3Mtc3ludGF4LTMtMjAyMTEyMjQvI3Rva2VuZGVmLW9wZW4tcGFyZW5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBPcGVuUGFyZW5Ub2tlbiB7XG4gIHRva2VuS2luZDogQ3NzVG9rZW5LaW5kLk9QRU5fUEFSRU47XG59XG5cbi8qKlxuICogT3BlbiBzcXVhcmUgYnJhY2tldCB0b2tlbi5cbiAqXG4gKiBodHRwczovL3d3dy53My5vcmcvVFIvMjAyMS9DUkQtY3NzLXN5bnRheC0zLTIwMjExMjI0LyN0b2tlbmRlZi1vcGVuLXNxdWFyZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIE9wZW5TcXVhcmVUb2tlbiB7XG4gIHRva2VuS2luZDogQ3NzVG9rZW5LaW5kLk9QRU5fU1FVQVJFO1xufVxuXG4vKipcbiAqIFBlcmNlbnRhZ2UgdG9rZW4uIChmb3IgdmFsdWVzIHN1Y2ggYXMgXCIxMCVcIilcbiAqXG4gKiBUaGUgQ1NTIHNwZWMgcmVxdWlyZXMgdG8gYWxzbyBzdG9yZSBhIGZsYWcgd2hldGhlciB0aGUgcGVyY2VudGFnZSBpcyBhblxuICogaW50ZWdlciBvciBub3QuIFdlIGRvbid0IG5lZWQgdGhpcyBpbmZvcm1hdGlvbiBmb3Igc2FuaXRpemF0aW9uIG9yXG4gKiBzZXJpYWxpemF0aW9uLCBzbyB3ZSdsbCBqdXN0IGlnbm9yZSBpdC4gV2UgYWxzbyBkb24ndCBzdG9yZSB0aGUgbnVtZXJpY1xuICogdmFsdWUgb2YgdGhlIHBlcmNlbnRhZ2UgdG9rZW47IGluc3RlYWQgd2UnbGwganVzdCBzdG9yZSB0aGUgb3JpZ2luYWwgc3RyaW5nXG4gKiByZXByZXNlbnRhdGlvbiBhbmQgd2lsbCBhbHdheXMgc2VyaWFsaXplIGl0IGJhY2suXG4gKlxuICogaHR0cHM6Ly93d3cudzMub3JnL1RSLzIwMjEvQ1JELWNzcy1zeW50YXgtMy0yMDIxMTIyNC8jdHlwZWRlZi1wZXJjZW50YWdlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUGVyY2VudGFnZVRva2VuIHtcbiAgdG9rZW5LaW5kOiBDc3NUb2tlbktpbmQuUEVSQ0VOVEFHRTtcbiAgcmVwcjogc3RyaW5nO1xufVxuXG4vKipcbiAqIFNlbWljb2xvbiB0b2tlbi5cbiAqXG4gKiBodHRwczovL3d3dy53My5vcmcvVFIvMjAyMS9DUkQtY3NzLXN5bnRheC0zLTIwMjExMjI0LyN0eXBlZGVmLXNlbWljb2xvbi10b2tlblxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNlbWljb2xvblRva2VuIHtcbiAgdG9rZW5LaW5kOiBDc3NUb2tlbktpbmQuU0VNSUNPTE9OO1xufVxuXG4vKipcbiAqIFN0cmluZyB0b2tlbi5cbiAqXG4gKiBUaGUgQ1NTIHNwZWMgYWxzbyBkZWZpbmVzIGEgYmFkLXN0cmluZyB0b2tlbiwgd2hpY2ggaXMgbm90IGluY2x1ZGVkIGhlcmVcbiAqIGJlY2F1c2UgaXQgc2VydmVzIG5vIHZhbHVlIGZvciB0aGUgcHVycG9zZXMgb2YgdGhlIENTUyBzYW5pdGl6ZXIuIEluc3RlYWRcbiAqIHdlJ2xsIGVtaXQganVzdCBhbiBlbXB0eSBzdHJpbmcuXG4gKlxuICogaHR0cHM6Ly93d3cudzMub3JnL1RSLzIwMjEvQ1JELWNzcy1zeW50YXgtMy0yMDIxMTIyNC8jdHlwZWRlZi1zdHJpbmctdG9rZW5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdHJpbmdUb2tlbiB7XG4gIHRva2VuS2luZDogQ3NzVG9rZW5LaW5kLlNUUklORztcbiAgdmFsdWU6IHN0cmluZztcbn1cblxuLyoqXG4gKiBXaGl0ZXNwYWNlIHRva2VuLlxuICpcbiAqIGh0dHBzOi8vd3d3LnczLm9yZy9UUi8yMDIxL0NSRC1jc3Mtc3ludGF4LTMtMjAyMTEyMjQvI3R5cGVkZWYtd2hpdGVzcGFjZS10b2tlblxuICovXG5leHBvcnQgaW50ZXJmYWNlIFdoaXRlc3BhY2VUb2tlbiB7XG4gIHRva2VuS2luZDogQ3NzVG9rZW5LaW5kLldISVRFU1BBQ0U7XG59XG5cbi8qKlxuICogQSB0b2tlbiBwcm9kdWNlZCBieSB0aGUgQ1NTIHRva2VuaXplci5cbiAqL1xuZXhwb3J0IHR5cGUgQ3NzVG9rZW4gPVxuICB8IEF0S2V5d29yZFRva2VuXG4gIHwgQ2RjVG9rZW5cbiAgfCBDZG9Ub2tlblxuICB8IENsb3NlQ3VybHlUb2tlblxuICB8IENsb3NlUGFyZW5Ub2tlblxuICB8IENsb3NlU3F1YXJlVG9rZW5cbiAgfCBDb2xvblRva2VuXG4gIHwgQ29tbWFUb2tlblxuICB8IERlbGltVG9rZW5cbiAgfCBEaW1lbnNpb25Ub2tlblxuICB8IEVvZlRva2VuXG4gIHwgRnVuY3Rpb25Ub2tlblxuICB8IEhhc2hUb2tlblxuICB8IElkZW50VG9rZW5cbiAgfCBOdW1iZXJUb2tlblxuICB8IE9wZW5DdXJseVRva2VuXG4gIHwgT3BlblBhcmVuVG9rZW5cbiAgfCBPcGVuU3F1YXJlVG9rZW5cbiAgfCBQZXJjZW50YWdlVG9rZW5cbiAgfCBTZW1pY29sb25Ub2tlblxuICB8IFN0cmluZ1Rva2VuXG4gIHwgV2hpdGVzcGFjZVRva2VuO1xuIl19
;return exports;});

//third_party/javascript/safevalues/builders/html_sanitizer/css/serializer.closure.js
goog.loadModule(function(exports) {'use strict';/**
 * @license
 * Copyright Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
/**
 * @fileoverview Exports methods for serializing CSS tokens.
 * Generated from: third_party/javascript/safevalues/builders/html_sanitizer/css/serializer.ts
 * @suppress {checkTypes} added by tsickle
 * @suppress {extraRequire} added by tsickle
 * @suppress {missingRequire} added by tsickle
 * @suppress {uselessCode} added by tsickle
 * @suppress {suspiciousCode} added by tsickle
 * @suppress {missingReturn} added by tsickle
 * @suppress {unusedPrivateMembers} added by tsickle
 * @suppress {missingOverride} added by tsickle
 * @suppress {const} added by tsickle
 */
goog.module('google3.third_party.javascript.safevalues.builders.html_sanitizer.css.serializer');
var module = module || { id: 'third_party/javascript/safevalues/builders/html_sanitizer/css/serializer.closure.js' };
goog.require('google3.third_party.javascript.tslib.tslib');
const tsickle_tokens_1 = goog.requireType("google3.third_party.javascript.safevalues.builders.html_sanitizer.css.tokens");
const tokens_1 = goog.require('google3.third_party.javascript.safevalues.builders.html_sanitizer.css.tokens');
/**
 * @param {string} c
 * @return {string}
 */
function escapeCodePoint(c) {
    return `\\${(/** @type {number} */ (c.codePointAt(0))).toString(16)} `;
}
/**
 * @param {string} str
 * @return {string}
 */
function escapeString(str) {
    // We don't escape some characters to increase readability.
    return ('"' +
        str.replace(/[^A-Za-z0-9_/. :,?=%;-]/g, (/**
         * @param {string} c
         * @return {string}
         */
        (c) => escapeCodePoint(c))) +
        '"');
}
/**
 * Escapes a CSS identifier.
 *
 * @param {string} ident The identifier to escape.
 * @return {string} The escaped identifier.
 */
function escapeIdent(ident) {
    // We don't generally escape digits or "-" in identifiers, however we do need
    // to do this for the first character to avoid ambiguity.
    //
    // For example, the string "123" would create a valid number token, but if
    // we want to have an ident-token, it needs to be escaped as a "\31 23".
    /** @type {string} */
    const firstChar = /^[^A-Za-z_]/.test(ident)
        ? escapeCodePoint(ident[0])
        : ident[0];
    return (firstChar +
        ident.slice(1).replace(/[^A-Za-z0-9_-]/g, (/**
         * @param {string} c
         * @return {string}
         */
        (c) => escapeCodePoint(c))));
}
exports.escapeIdent = escapeIdent;
/**
 * Serializes a CSS token to a string.
 *
 * @param {(!tsickle_tokens_1.AtKeywordToken|!tsickle_tokens_1.CdcToken|!tsickle_tokens_1.CdoToken|!tsickle_tokens_1.CloseCurlyToken|!tsickle_tokens_1.CloseParenToken|!tsickle_tokens_1.CloseSquareToken|!tsickle_tokens_1.ColonToken|!tsickle_tokens_1.CommaToken|!tsickle_tokens_1.DelimToken|!tsickle_tokens_1.DimensionToken|!tsickle_tokens_1.EofToken|!tsickle_tokens_1.FunctionToken|!tsickle_tokens_1.HashToken|!tsickle_tokens_1.IdentToken|!tsickle_tokens_1.NumberToken|!tsickle_tokens_1.OpenCurlyToken|!tsickle_tokens_1.OpenParenToken|!tsickle_tokens_1.OpenSquareToken|!tsickle_tokens_1.PercentageToken|!tsickle_tokens_1.SemicolonToken|!tsickle_tokens_1.StringToken|!tsickle_tokens_1.WhitespaceToken)} token The token to serialize.
 * @return {string} The serialized token.
 */
function serializeToken(token) {
    switch (token.tokenKind) {
        case tokens_1.CssTokenKind.AT_KEYWORD:
            return `@${escapeIdent((/** @type {!tsickle_tokens_1.AtKeywordToken} */ (token)).name)}`;
        case tokens_1.CssTokenKind.CDC:
            return '-->';
        case tokens_1.CssTokenKind.CDO:
            return '<!--';
        case tokens_1.CssTokenKind.CLOSE_CURLY:
            return '}';
        case tokens_1.CssTokenKind.CLOSE_PAREN:
            return ')';
        case tokens_1.CssTokenKind.CLOSE_SQUARE:
            return ']';
        case tokens_1.CssTokenKind.COLON:
            return ':';
        case tokens_1.CssTokenKind.COMMA:
            return ',';
        case tokens_1.CssTokenKind.DELIM:
            // A <delim-token> containing U+005C REVERSE SOLIDUS (\) must be
            // serialized as U+005C REVERSE SOLIDUS followed by a newline. (The
            // tokenizer only ever emits such a token followed by a <whitespace-token>
            // that starts with a newline.)
            // Source: https://www.w3.org/TR/2021/CRD-css-syntax-3-20211224/#serialization
            if ((/** @type {!tsickle_tokens_1.DelimToken} */ (token)).codePoint === '\\') {
                return '\\\n';
            }
            return (/** @type {!tsickle_tokens_1.DelimToken} */ (token)).codePoint;
        case tokens_1.CssTokenKind.DIMENSION:
            return (/** @type {!tsickle_tokens_1.DimensionToken} */ (token)).repr + escapeIdent((/** @type {!tsickle_tokens_1.DimensionToken} */ (token)).dimension);
        case tokens_1.CssTokenKind.EOF:
            return '';
        case tokens_1.CssTokenKind.FUNCTION:
            return escapeIdent((/** @type {!tsickle_tokens_1.FunctionToken} */ (token)).lowercaseName) + '(';
        case tokens_1.CssTokenKind.HASH:
            return '#' + escapeIdent((/** @type {!tsickle_tokens_1.HashToken} */ (token)).value);
        case tokens_1.CssTokenKind.IDENT:
            return escapeIdent((/** @type {!tsickle_tokens_1.IdentToken} */ (token)).ident);
        case tokens_1.CssTokenKind.NUMBER:
            return (/** @type {!tsickle_tokens_1.NumberToken} */ (token)).repr;
        case tokens_1.CssTokenKind.OPEN_CURLY:
            return '{';
        case tokens_1.CssTokenKind.OPEN_PAREN:
            return '(';
        case tokens_1.CssTokenKind.OPEN_SQUARE:
            return '[';
        case tokens_1.CssTokenKind.PERCENTAGE:
            return (/** @type {!tsickle_tokens_1.PercentageToken} */ (token)).repr + '%';
        case tokens_1.CssTokenKind.SEMICOLON:
            return ';';
        case tokens_1.CssTokenKind.STRING:
            return escapeString((/** @type {!tsickle_tokens_1.StringToken} */ (token)).value);
        case tokens_1.CssTokenKind.WHITESPACE:
            return ' ';
        default:
            checkExhaustive(token);
    }
}
exports.serializeToken = serializeToken;
/**
 * Serializes a list of CSS tokens to a string.
 *
 * @param {!Array<(!tsickle_tokens_1.AtKeywordToken|!tsickle_tokens_1.CdcToken|!tsickle_tokens_1.CdoToken|!tsickle_tokens_1.CloseCurlyToken|!tsickle_tokens_1.CloseParenToken|!tsickle_tokens_1.CloseSquareToken|!tsickle_tokens_1.ColonToken|!tsickle_tokens_1.CommaToken|!tsickle_tokens_1.DelimToken|!tsickle_tokens_1.DimensionToken|!tsickle_tokens_1.EofToken|!tsickle_tokens_1.FunctionToken|!tsickle_tokens_1.HashToken|!tsickle_tokens_1.IdentToken|!tsickle_tokens_1.NumberToken|!tsickle_tokens_1.OpenCurlyToken|!tsickle_tokens_1.OpenParenToken|!tsickle_tokens_1.OpenSquareToken|!tsickle_tokens_1.PercentageToken|!tsickle_tokens_1.SemicolonToken|!tsickle_tokens_1.StringToken|!tsickle_tokens_1.WhitespaceToken)>} tokens The tokens to serialize.
 * @return {string} The serialized tokens.
 */
function serializeTokens(tokens) {
    // TODO(securitymb): Per spec [1] we should add an empty comment between certain
    // kinds of tokens. However, given that we're willfully violating the spec
    // by emitting a whitespace token for comments, we *probably* don't need to
    // worry about this.
    //
    // We should probably test it more thouroughly though, and implement the
    // empty comments if needed.
    //
    // [1]: https://www.w3.org/TR/css-syntax-3/#serialization:~:text=For%20any%20consecutive,(%2Dtoken
    return tokens.map(serializeToken).join('');
}
exports.serializeTokens = serializeTokens;
/**
 * @param {?} value
 * @param {string=} msg
 * @return {?}
 */
function checkExhaustive(value, msg = `unexpected value ${value}!`) {
    throw new Error(msg);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VyaWFsaXplci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL3RoaXJkX3BhcnR5L2phdmFzY3JpcHQvc2FmZXZhbHVlcy9idWlsZGVycy9odG1sX3Nhbml0aXplci9jc3Mvc2VyaWFsaXplci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBVUEsOEdBQWdEOzs7OztBQUVoRCxTQUFTLGVBQWUsQ0FBQyxDQUFTO0lBQ2hDLE9BQU8sS0FBSyx3QkFBQSxDQUFDLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxFQUFDLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUM7QUFDaEQsQ0FBQzs7Ozs7QUFFRCxTQUFTLFlBQVksQ0FBQyxHQUFXO0lBQy9CLDJEQUEyRDtJQUMzRCxPQUFPLENBQ0wsR0FBRztRQUNILEdBQUcsQ0FBQyxPQUFPLENBQUMsMEJBQTBCOzs7O1FBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsRUFBQztRQUNsRSxHQUFHLENBQ0osQ0FBQztBQUNKLENBQUM7Ozs7Ozs7QUFRRCxTQUFnQixXQUFXLENBQUMsS0FBYTs7Ozs7OztVQU1qQyxTQUFTLEdBQUcsYUFBYSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUM7UUFDekMsQ0FBQyxDQUFDLGVBQWUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDM0IsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7SUFDWixPQUFPLENBQ0wsU0FBUztRQUNULEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLGlCQUFpQjs7OztRQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLEVBQUMsQ0FDckUsQ0FBQztBQUNKLENBQUM7QUFiRCxrQ0FhQzs7Ozs7OztBQVFELFNBQWdCLGNB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QUNGLGtHQUFrRztJQUNsRyxPQUFPLE1BQU0sQ0FBQyxHQUFHLENBQUMsY0FBYyxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0FBQzdDLENBQUM7QUFYRCwwQ0FXQzs7Ozs7O0FBRUQsU0FBUyxlQUFlLENBQ3RCLEtBQVksRUFDWixHQUFHLEdBQUcsb0JBQW9CLEtBQUssR0FBRztJQUVsQyxNQUFNLElBQUksS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ3ZCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgRXhwb3J0cyBtZXRob2RzIGZvciBzZXJpYWxpemluZyBDU1MgdG9rZW5zLlxuICovXG5cbmltcG9ydCB7Q3NzVG9rZW4sIENzc1Rva2VuS2luZH0gZnJvbSAnLi90b2tlbnMnO1xuXG5mdW5jdGlvbiBlc2NhcGVDb2RlUG9pbnQoYzogc3RyaW5nKTogc3RyaW5nIHtcbiAgcmV0dXJuIGBcXFxcJHtjLmNvZGVQb2ludEF0KDApIS50b1N0cmluZygxNil9IGA7XG59XG5cbmZ1bmN0aW9uIGVzY2FwZVN0cmluZyhzdHI6IHN0cmluZyk6IHN0cmluZyB7XG4gIC8vIFdlIGRvbid0IGVzY2FwZSBzb21lIGNoYXJhY3RlcnMgdG8gaW5jcmVhc2UgcmVhZGFiaWxpdHkuXG4gIHJldHVybiAoXG4gICAgJ1wiJyArXG4gICAgc3RyLnJlcGxhY2UoL1teQS1aYS16MC05Xy8uIDosPz0lOy1dL2csIChjKSA9PiBlc2NhcGVDb2RlUG9pbnQoYykpICtcbiAgICAnXCInXG4gICk7XG59XG5cbi8qKlxuICogRXNjYXBlcyBhIENTUyBpZGVudGlmaWVyLlxuICpcbiAqIEBwYXJhbSBpZGVudCBUaGUgaWRlbnRpZmllciB0byBlc2NhcGUuXG4gKiBAcmV0dXJuIFRoZSBlc2NhcGVkIGlkZW50aWZpZXIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlc2NhcGVJZGVudChpZGVudDogc3RyaW5nKTogc3RyaW5nIHtcbiAgLy8gV2UgZG9uJ3QgZ2VuZXJhbGx5IGVzY2FwZSBkaWdpdHMgb3IgXCItXCIgaW4gaWRlbnRpZmllcnMsIGhvd2V2ZXIgd2UgZG8gbmVlZFxuICAvLyB0byBkbyB0aGlzIGZvciB0aGUgZmlyc3QgY2hhcmFjdGVyIHRvIGF2b2lkIGFtYmlndWl0eS5cbiAgLy9cbiAgLy8gRm9yIGV4YW1wbGUsIHRoZSBzdHJpbmcgXCIxMjNcIiB3b3VsZCBjcmVhdGUgYSB2YWxpZCBudW1iZXIgdG9rZW4sIGJ1dCBpZlxuICAvLyB3ZSB3YW50IHRvIGhhdmUgYW4gaWRlbnQtdG9rZW4sIGl0IG5lZWRzIHRvIGJlIGVzY2FwZWQgYXMgYSBcIlxcMzEgMjNcIi5cbiAgY29uc3QgZmlyc3RDaGFyID0gL15bXkEtWmEtel9dLy50ZXN0KGlkZW50KVxuICAgID8gZXNjYXBlQ29kZVBvaW50KGlkZW50WzBdKVxuICAgIDogaWRlbnRbMF07XG4gIHJldHVybiAoXG4gICAgZmlyc3RDaGFyICtcbiAgICBpZGVudC5zbGljZSgxKS5yZXBsYWNlKC9bXkEtWmEtejAtOV8tXS9nLCAoYykgPT4gZXNjYXBlQ29kZVBvaW50KGMpKVxuICApO1xufVxuXG4vKipcbiAqIFNlcmlhbGl6ZXMgYSBDU1MgdG9rZW4gdG8gYSBzdHJpbmcuXG4gKlxuICogQHBhcmFtIHRva2VuIFRoZSB0b2tlbiB0byBzZXJpYWxpemUuXG4gKiBAcmV0dXJuIFRoZSBzZXJpYWxpemVkIHRva2VuLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2VyaWFsaXplVG9rZW4odG9rZW46IENzc1Rva2VuKTogc3RyaW5nIHtcbiAgc3dpdGNoICh0b2tlbi50b2tlbktpbmQpIHtcbiAgICBjYXNlIENzc1Rva2VuS2luZC5BVF9LRVlXT1JEOlxuICAgICAgcmV0dXJuIGBAJHtlc2NhcGVJZGVudCh0b2tlbi5uYW1lKX1gO1xuICAgIGNhc2UgQ3NzVG9rZW5LaW5kLkNEQzpcbiAgICAgIHJldHVybiAnLS0+JztcbiAgICBjYXNlIENzc1Rva2VuS2luZC5DRE86XG4gICAgICByZXR1cm4gJzwhLS0nO1xuICAgIGNhc2UgQ3NzVG9rZW5LaW5kLkNMT1NFX0NVUkxZOlxuICAgICAgcmV0dXJuICd9JztcbiAgICBjYXNlIENzc1Rva2VuS2luZC5DTE9TRV9QQVJFTjpcbiAgICAgIHJldHVybiAnKSc7XG4gICAgY2FzZSBDc3NUb2tlbktpbmQuQ0xPU0VfU1FVQVJFOlxuICAgICAgcmV0dXJuICddJztcbiAgICBjYXNlIENzc1Rva2VuS2luZC5DT0xPTjpcbiAgICAgIHJldHVybiAnOic7XG4gICAgY2FzZSBDc3NUb2tlbktpbmQuQ09NTUE6XG4gICAgICByZXR1cm4gJywnO1xuICAgIGNhc2UgQ3NzVG9rZW5LaW5kLkRFTElNOlxuICAgICAgLy8gQSA8ZGVsaW0tdG9rZW4+IGNvbnRhaW5pbmcgVSswMDVDIFJFVkVSU0UgU09MSURVUyAoXFwpIG11c3QgYmVcbiAgICAgIC8vIHNlcmlhbGl6ZWQgYXMgVSswMDVDIFJFVkVSU0UgU09MSURVUyBmb2xsb3dlZCBieSBhIG5ld2xpbmUuIChUaGVcbiAgICAgIC8vIHRva2VuaXplciBvbmx5IGV2ZXIgZW1pdHMgc3VjaCBhIHRva2VuIGZvbGxvd2VkIGJ5IGEgPHdoaXRlc3BhY2UtdG9rZW4+XG4gICAgICAvLyB0aGF0IHN0YXJ0cyB3aXRoIGEgbmV3bGluZS4pXG4gICAgICAvLyBTb3VyY2U6IGh0dHBzOi8vd3d3LnczLm9yZy9UUi8yMDIxL0NSRC1jc3Mtc3ludGF4LTMtMjAyMTEyMjQvI3NlcmlhbGl6YXRpb25cbiAgICAgIGlmICh0b2tlbi5jb2RlUG9pbnQgPT09ICdcXFxcJykge1xuICAgICAgICByZXR1cm4gJ1xcXFxcXG4nO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRva2VuLmNvZGVQb2ludDtcbiAgICBjYXNlIENzc1Rva2VuS2luZC5ESU1FTlNJT046XG4gICAgICByZXR1cm4gdG9rZW4ucmVwciArIGVzY2FwZUlkZW50KHRva2VuLmRpbWVuc2lvbik7XG4gICAgY2FzZSBDc3NUb2tlbktpbmQuRU9GOlxuICAgICAgcmV0dXJuICcnO1xuICAgIGNhc2UgQ3NzVG9rZW5LaW5kLkZVTkNUSU9OOlxuICAgICAgcmV0dXJuIGVzY2FwZUlkZW50KHRva2VuLmxvd2VyY2FzZU5hbWUpICsgJygnO1xuICAgIGNhc2UgQ3NzVG9rZW5LaW5kLkhBU0g6XG4gICAgICByZXR1cm4gJyMnICsgZXNjYXBlSWRlbnQodG9rZW4udmFsdWUpO1xuICAgIGNhc2UgQ3NzVG9rZW5LaW5kLklERU5UOlxuICAgICAgcmV0dXJuIGVzY2FwZUlkZW50KHRva2VuLmlkZW50KTtcbiAgICBjYXNlIENzc1Rva2VuS2luZC5OVU1CRVI6XG4gICAgICByZXR1cm4gdG9rZW4ucmVwcjtcbiAgICBjYXNlIENzc1Rva2VuS2luZC5PUEVOX0NVUkxZOlxuICAgICAgcmV0dXJuICd7JztcbiAgICBjYXNlIENzc1Rva2VuS2luZC5PUEVOX1BBUkVOOlxuICAgICAgcmV0dXJuICcoJztcbiAgICBjYXNlIENzc1Rva2VuS2luZC5PUEVOX1NRVUFSRTpcbiAgICAgIHJldHVybiAnWyc7XG4gICAgY2FzZSBDc3NUb2tlbktpbmQuUEVSQ0VOVEFHRTpcbiAgICAgIHJldHVybiB0b2tlbi5yZXByICsgJyUnO1xuICAgIGNhc2UgQ3NzVG9rZW5LaW5kLlNFTUlDT0xPTjpcbiAgICAgIHJldHVybiAnOyc7XG4gICAgY2FzZSBDc3NUb2tlbktpbmQuU1RSSU5HOlxuICAgICAgcmV0dXJuIGVzY2FwZVN0cmluZyh0b2tlbi52YWx1ZSk7XG4gICAgY2FzZSBDc3NUb2tlbktpbmQuV0hJVEVTUEFDRTpcbiAgICAgIHJldHVybiAnICc7XG4gICAgZGVmYXVsdDpcbiAgICAgIGNoZWNrRXhoYXVzdGl2ZSh0b2tlbik7XG4gIH1cbn1cblxuLyoqXG4gKiBTZXJpYWxpemVzIGEgbGlzdCBvZiBDU1MgdG9rZW5zIHRvIGEgc3RyaW5nLlxuICpcbiAqIEBwYXJhbSB0b2tlbnMgVGhlIHRva2VucyB0byBzZXJpYWxpemUuXG4gKiBAcmV0dXJuIFRoZSBzZXJpYWxpemVkIHRva2Vucy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNlcmlhbGl6ZVRva2Vucyh0b2tlbnM6IENzc1Rva2VuW10pOiBzdHJpbmcge1xuICAvLyBUT0RPKHNlY3VyaXR5bWIpOiBQZXIgc3BlYyBbMV0gd2Ugc2hvdWxkIGFkZCBhbiBlbXB0eSBjb21tZW50IGJldHdlZW4gY2VydGFpblxuICAvLyBraW5kcyBvZiB0b2tlbnMuIEhvd2V2ZXIsIGdpdmVuIHRoYXQgd2UncmUgd2lsbGZ1bGx5IHZpb2xhdGluZyB0aGUgc3BlY1xuICAvLyBieSBlbWl0dGluZyBhIHdoaXRlc3BhY2UgdG9rZW4gZm9yIGNvbW1lbnRzLCB3ZSAqcHJvYmFibHkqIGRvbid0IG5lZWQgdG9cbiAgLy8gd29ycnkgYWJvdXQgdGhpcy5cbiAgLy9cbiAgLy8gV2Ugc2hvdWxkIHByb2JhYmx5IHRlc3QgaXQgbW9yZSB0aG91cm91Z2hseSB0aG91Z2gsIGFuZCBpbXBsZW1lbnQgdGhlXG4gIC8vIGVtcHR5IGNvbW1lbnRzIGlmIG5lZWRlZC5cbiAgLy9cbiAgLy8gWzFdOiBodHRwczovL3d3dy53My5vcmcvVFIvY3NzLXN5bnRheC0zLyNzZXJpYWxpemF0aW9uOn46dGV4dD1Gb3IlMjBhbnklMjBjb25zZWN1dGl2ZSwoJTJEdG9rZW5cbiAgcmV0dXJuIHRva2Vucy5tYXAoc2VyaWFsaXplVG9rZW4pLmpvaW4oJycpO1xufVxuXG5mdW5jdGlvbiBjaGVja0V4aGF1c3RpdmUoXG4gIHZhbHVlOiBuZXZlcixcbiAgbXNnID0gYHVuZXhwZWN0ZWQgdmFsdWUgJHt2YWx1ZX0hYCxcbik6IG5ldmVyIHtcbiAgdGhyb3cgbmV3IEVycm9yKG1zZyk7XG59XG4iXX0=
;return exports;});

//third_party/javascript/safevalues/builders/html_sanitizer/css/tokenizer.closure.js
goog.loadModule(function(exports) {'use strict';/**
 * @license
 * Copyright Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
/**
 * @fileoverview CSS tokenizer implementing
 * https://www.w3.org/TR/2021/CRD-css-syntax-3-20211224/#tokenization.
 *
 * While the tokenizer attempts to be as close to the spec as possible, there
 * are are certain willful violations, which are described in the comments.
 * Generated from: third_party/javascript/safevalues/builders/html_sanitizer/css/tokenizer.ts
 * @suppress {checkTypes} added by tsickle
 * @suppress {extraRequire} added by tsickle
 * @suppress {missingRequire} added by tsickle
 * @suppress {uselessCode} added by tsickle
 * @suppress {suspiciousCode} added by tsickle
 * @suppress {missingReturn} added by tsickle
 * @suppress {unusedPrivateMembers} added by tsickle
 * @suppress {missingOverride} added by tsickle
 * @suppress {const} added by tsickle
 */
goog.module('google3.third_party.javascript.safevalues.builders.html_sanitizer.css.tokenizer');
var module = module || { id: 'third_party/javascript/safevalues/builders/html_sanitizer/css/tokenizer.closure.js' };
goog.require('google3.third_party.javascript.tslib.tslib');
const tsickle_tokens_1 = goog.requireType("google3.third_party.javascript.safevalues.builders.html_sanitizer.css.tokens");
const tokens_1 = goog.require('google3.third_party.javascript.safevalues.builders.html_sanitizer.css.tokens');
/** @type {!RegExp} */
const HEX_DIGIT_REGEX = /^[0-9a-fA-F]$/;
/**
 * We use undefined as a marker of the end of string for the CSS. To make
 * the intent more clear, instead of using `undefined` directly, we use `EOF`.
 * @type {undefined}
 */
const EOF = undefined;
class Tokenizer {
    /**
     * @public
     * @param {string} css
     */
    constructor(css) {
        /**
         * The position in the CSS string of the first code point that hasn't been
         * consumed.
         */
        this.pos = 0;
        this.css = this.preprocess(css);
    }
    /**
     * @public
     * @return {!Array<(!tsickle_tokens_1.AtKeywordToken|!tsickle_tokens_1.CdcToken|!tsickle_tokens_1.CdoToken|!tsickle_tokens_1.CloseCurlyToken|!tsickle_tokens_1.CloseParenToken|!tsickle_tokens_1.CloseSquareToken|!tsickle_tokens_1.ColonToken|!tsickle_tokens_1.CommaToken|!tsickle_tokens_1.DelimToken|!tsickle_tokens_1.DimensionToken|!tsickle_tokens_1.EofToken|!tsickle_tokens_1.FunctionToken|!tsickle_tokens_1.HashToken|!tsickle_tokens_1.IdentToken|!tsickle_tokens_1.NumberToken|!tsickle_tokens_1.OpenCurlyToken|!tsickle_tokens_1.OpenParenToken|!tsickle_tokens_1.OpenSquareToken|!tsickle_tokens_1.PercentageToken|!tsickle_tokens_1.SemicolonToken|!tsickle_tokens_1.StringToken|!tsickle_tokens_1.WhitespaceToken)>}
     */
    tokenize() {
        /** @type {!Array<(!tsickle_tokens_1.AtKeywordToken|!tsickle_tokens_1.CdcToken|!tsickle_tokens_1.CdoToken|!tsickle_tokens_1.CloseCurlyToken|!tsickle_tokens_1.CloseParenToken|!tsickle_tokens_1.CloseSquareToken|!tsickle_tokens_1.ColonToken|!tsickle_tokens_1.CommaToken|!tsickle_tokens_1.DelimToken|!tsickle_tokens_1.DimensionToken|!tsickle_tokens_1.EofToken|!tsickle_tokens_1.FunctionToken|!tsickle_tokens_1.HashToken|!tsickle_tokens_1.IdentToken|!tsickle_tokens_1.NumberToken|!tsickle_tokens_1.OpenCurlyToken|!tsickle_tokens_1.OpenParenToken|!tsickle_tokens_1.OpenSquareToken|!tsickle_tokens_1.PercentageToken|!tsickle_tokens_1.SemicolonToken|!tsickle_tokens_1.StringToken|!tsickle_tokens_1.WhitespaceToken)>} */
        const tokens = [];
        /** @type {(undefined|!tsickle_tokens_1.AtKeywordToken|!tsickle_tokens_1.CdcToken|!tsickle_tokens_1.CdoToken|!tsickle_tokens_1.CloseCurlyToken|!tsickle_tokens_1.CloseParenToken|!tsickle_tokens_1.CloseSquareToken|!tsickle_tokens_1.ColonToken|!tsickle_tokens_1.CommaToken|!tsickle_tokens_1.DelimToken|!tsickle_tokens_1.DimensionToken|!tsickle_tokens_1.EofToken|!tsickle_tokens_1.FunctionToken|!tsickle_tokens_1.HashToken|!tsickle_tokens_1.IdentToken|!tsickle_tokens_1.NumberToken|!tsickle_tokens_1.OpenCurlyToken|!tsickle_tokens_1.OpenParenToken|!tsickle_tokens_1.OpenSquareToken|!tsickle_tokens_1.PercentageToken|!tsickle_tokens_1.SemicolonToken|!tsickle_tokens_1.StringToken|!tsickle_tokens_1.WhitespaceToken)} */
        let lastToken = EOF;
        while (true) {
            /** @type {(!tsickle_tokens_1.AtKeywordToken|!tsickle_tokens_1.CdcToken|!tsickle_tokens_1.CdoToken|!tsickle_tokens_1.CloseCurlyToken|!tsickle_tokens_1.CloseParenToken|!tsickle_tokens_1.CloseSquareToken|!tsickle_tokens_1.ColonToken|!tsickle_tokens_1.CommaToken|!tsickle_tokens_1.DelimToken|!tsickle_tokens_1.DimensionToken|!tsickle_tokens_1.EofToken|!tsickle_tokens_1.FunctionToken|!tsickle_tokens_1.HashToken|!tsickle_tokens_1.IdentToken|!tsickle_tokens_1.NumberToken|!tsickle_tokens_1.OpenCurlyToken|!tsickle_tokens_1.OpenParenToken|!tsickle_tokens_1.OpenSquareToken|!tsickle_tokens_1.PercentageToken|!tsickle_tokens_1.SemicolonToken|!tsickle_tokens_1.StringToken|!tsickle_tokens_1.WhitespaceToken|!Array<(!tsickle_tokens_1.AtKeywordToken|!tsickle_tokens_1.CdcToken|!tsickle_tokens_1.CdoToken|!tsickle_tokens_1.CloseCurlyToken|!tsickle_tokens_1.CloseParenToken|!tsickle_tokens_1.CloseSquareToken|!tsickle_tokens_1.ColonToken|!tsickle_tokens_1.CommaToken|!tsickle_tokens_1.DelimToken|!tsickle_tokens_1.DimensionToken|!tsickle_tokens_1.EofToken|!tsickle_tokens_1.FunctionToken|!tsickle_tokens_1.HashToken|!tsickle_tokens_1.IdentToken|!tsickle_tokens_1.NumberToken|!tsickle_tokens_1.OpenCurlyToken|!tsickle_tokens_1.OpenParenToken|!tsickle_tokens_1.OpenSquareToken|!tsickle_tokens_1.PercentageToken|!tsickle_tokens_1.SemicolonToken|!tsickle_tokens_1.StringToken|!tsickle_tokens_1.WhitespaceToken)>)} */
            const token = this.consumeToken();
            if (Array.isArray(token)) {
                // Array is only returned by consumeUrlToken so there's no need
                // to check for whitespaces.
                tokens.push(...token);
                continue;
            }
            /** @type {boolean} */
            const twoConsecutiveWhitespace = (/** @type {(!tsickle_tokens_1.AtKeywordToken|!tsickle_tokens_1.CdcToken|!tsickle_tokens_1.CdoToken|!tsickle_tokens_1.CloseCurlyToken|!tsickle_tokens_1.CloseParenToken|!tsickle_tokens_1.CloseSquareToken|!tsickle_tokens_1.ColonToken|!tsickle_tokens_1.CommaToken|!tsickle_tokens_1.DelimToken|!tsickle_tokens_1.DimensionToken|!tsickle_tokens_1.EofToken|!tsickle_tokens_1.FunctionToken|!tsickle_tokens_1.HashToken|!tsickle_tokens_1.IdentToken|!tsickle_tokens_1.NumberToken|!tsickle_tokens_1.OpenCurlyToken|!tsickle_tokens_1.OpenParenToken|!tsickle_tokens_1.OpenSquareToken|!tsickle_tokens_1.PercentageToken|!tsickle_tokens_1.SemicolonToken|!tsickle_tokens_1.StringToken|!tsickle_tokens_1.WhitespaceToken)} */ (token)).tokenKind === tokens_1.CssTokenKind.WHITESPACE &&
                lastToken?.tokenKind === tokens_1.CssTokenKind.WHITESPACE;
            if (twoConsecutiveWhitespace) {
                // Willful violation of the spec. There's no use in producing multiple,
                // consecutive whitespace tokens, and merging them into a single token
                // makes parsing easier.
                continue;
            }
            tokens.push(token);
            if ((/** @type {(!tsickle_tokens_1.AtKeywordToken|!tsickle_tokens_1.CdcToken|!tsickle_tokens_1.CdoToken|!tsickle_tokens_1.CloseCurlyToken|!tsickle_tokens_1.CloseParenToken|!tsickle_tokens_1.CloseSquareToken|!tsickle_tokens_1.ColonToken|!tsickle_tokens_1.CommaToken|!tsickle_tokens_1.DelimToken|!tsickle_tokens_1.DimensionToken|!tsickle_tokens_1.EofToken|!tsickle_tokens_1.FunctionToken|!tsickle_tokens_1.HashToken|!tsickle_tokens_1.IdentToken|!tsickle_tokens_1.NumberToken|!tsickle_tokens_1.OpenCurlyToken|!tsickle_tokens_1.OpenParenToken|!tsickle_tokens_1.OpenSquareToken|!tsickle_tokens_1.PercentageToken|!tsickle_tokens_1.SemicolonToken|!tsickle_tokens_1.StringToken|!tsickle_tokens_1.WhitespaceToken)} */ (token)).tokenKind === tokens_1.CssTokenKind.EOF) {
                return tokens;
            }
            lastToken = token;
        }
    }
    /**
     * The first code point in the input stream that has not yet been consumed.
     *
     * https://www.w3.org/TR/2021/CRD-css-syntax-3-20211224/#next-input-code-point
     * @private
     * @return {(undefined|string)}
     */
    nextInputCodePoint() {
        return this.css[this.pos];
    }
    /**
     * @private
     * @return {!Array<?>}
     */
    nextTwoInputCodePoints() {
        return [this.css[this.pos], this.css[this.pos + 1]];
    }
    /**
     * @private
     * @return {!Array<?>}
     */
    nextThreeInputCodePoints() {
        return [this.css[this.pos], this.css[this.pos + 1], this.css[this.pos + 2]];
    }
    /**
     * @private
     * @return {(undefined|string)}
     */
    currentInputCodePoint() {
        return this.css[this.pos - 1];
    }
    /**
     * @private
     * @param {number} n
     * @return {string}
     */
    nextNInputCodePoints(n) {
        return this.css.slice(this.pos, this.pos + n);
    }
    /**
     * @private
     * @return {void}
     */
    consumeTheNextInputCodePoint() {
        this.pos++;
    }
    /**
     * @private
     * @param {number} n
     * @return {void}
     */
    consumeNInputCodePoints(n) {
        this.pos += n;
    }
    /**
     * https://www.w3.org/TR/2021/CRD-css-syntax-3-20211224/#reconsume-the-current-input-code-point
     * @private
     * @return {void}
     */
    reconsumeTheCurrentInputCodePoint() {
        this.pos--;
    }
    /**
     * https://www.w3.org/TR/2021/CRD-css-syntax-3-20211224/#input-preprocessing
     * @private
     * @param {string} css
     * @return {string}
     */
    preprocess(css) {
        return css.replace(/[\x0d\x0c]|\x0d\x0a/g, '\n').replace(/\x00/g, '\ufffd');
    }
    /**
     * https://www.w3.org/TR/2021/CRD-css-syntax-3-20211224/#consume-token
     * @private
     * @return {(!tsickle_tokens_1.AtKeywordToken|!tsickle_tokens_1.CdcToken|!tsickle_tokens_1.CdoToken|!tsickle_tokens_1.CloseCurlyToken|!tsickle_tokens_1.CloseParenToken|!tsickle_tokens_1.CloseSquareToken|!tsickle_tokens_1.ColonToken|!tsickle_tokens_1.CommaToken|!tsickle_tokens_1.DelimToken|!tsickle_tokens_1.DimensionToken|!tsickle_tokens_1.EofToken|!tsickle_tokens_1.FunctionToken|!tsickle_tokens_1.HashToken|!tsickle_tokens_1.IdentToken|!tsickle_tokens_1.NumberToken|!tsickle_tokens_1.OpenCurlyToken|!tsickle_tokens_1.OpenParenToken|!tsickle_tokens_1.OpenSquareToken|!tsickle_tokens_1.PercentageToken|!tsickle_tokens_1.SemicolonToken|!tsickle_tokens_1.StringToken|!tsickle_tokens_1.WhitespaceToken|!Array<(!tsickle_tokens_1.AtKeywordToken|!tsickle_tokens_1.CdcToken|!tsickle_tokens_1.CdoToken|!tsickle_tokens_1.CloseCurlyToken|!tsickle_tokens_1.CloseParenToken|!tsickle_tokens_1.CloseSquareToken|!tsickle_tokens_1.ColonToken|!tsickle_tokens_1.CommaToken|!tsickle_tokens_1.DelimToken|!tsickle_tokens_1.DimensionToken|!tsickle_tokens_1.EofToken|!tsickle_tokens_1.FunctionToken|!tsickle_tokens_1.HashToken|!tsickle_tokens_1.IdentToken|!tsickle_tokens_1.NumberToken|!tsickle_tokens_1.OpenCurlyToken|!tsickle_tokens_1.OpenParenToken|!tsickle_tokens_1.OpenSquareToken|!tsickle_tokens_1.PercentageToken|!tsickle_tokens_1.SemicolonToken|!tsickle_tokens_1.StringToken|!tsickle_tokens_1.WhitespaceToken)>)}
     */
    consumeToken() {
        /** @type {boolean} */
        const consumedComment = this.consumeComments();
        if (consumedComment) {
            // A willful violation of the spec. Per spec no tokens are produced for
            // comments. However, this leads to a risk where two tokens separated by
            // a comment are merged into a single token on serialization. To avoid
            // this, we produce a whitespace token.
            //
            // For example, consider the following input: :ho/**/st { }
            // This will issue two ident tokens: for ":ho" and "st". On serialization,
            // the two tokens will be merged into a single token: ":host", which we
            // consider dangerous.
            //
            // When we add the whitespace then ":ho/**/st" will be serialized as
            // ":ho st", which is safe.
            return { tokenKind: tokens_1.CssTokenKind.WHITESPACE };
        }
        /** @type {(undefined|string)} */
        const codePoint = this.nextInputCodePoint();
        this.consumeTheNextInputCodePoint();
        if (codePoint === EOF) {
            return { tokenKind: tokens_1.CssTokenKind.EOF };
        }
        else if (this.isWhitespace(codePoint)) {
            this.consumeAsMuchWhitespaceAsPossible();
            return { tokenKind: tokens_1.CssTokenKind.WHITESPACE };
        }
        else if (codePoint === "'" || codePoint === '"') {
            return this.consumeString(codePoint);
        }
        else if (codePoint === '#') {
            if (this.isIdentCodePoint(this.nextInputCodePoint()) ||
                this.twoCodePointsAreValidEscape(...this.nextTwoInputCodePoints())) {
                // In spec there's also a step to check if the next three code points
                // would start an ident sequence. However, the only reason to do so
                // is to set the type flag to "id". We don't store this flag, so we
                // don't need to check this.
                return {
                    tokenKind: tokens_1.CssTokenKind.HASH,
                    value: this.consumeIdentSequence(),
                };
            }
            else {
                return { tokenKind: tokens_1.CssTokenKind.DELIM, codePoint: '#' };
            }
        }
        else if (codePoint === '(') {
            return { tokenKind: tokens_1.CssTokenKind.OPEN_PAREN };
        }
        else if (codePoint === ')') {
            return { tokenKind: tokens_1.CssTokenKind.CLOSE_PAREN };
        }
        else if (codePoint === '+') {
            if (this.streamStartsWithANumber()) {
                this.reconsumeTheCurrentInputCodePoint();
                return this.consumeNumericToken();
            }
            else {
                return { tokenKind: tokens_1.CssTokenKind.DELIM, codePoint: '+' };
            }
        }
        else if (codePoint === ',') {
            return { tokenKind: tokens_1.CssTokenKind.COMMA };
        }
        else if (codePoint === '-') {
            if (this.streamStartsWithANumber()) {
                this.reconsumeTheCurrentInputCodePoint();
                return this.consumeNumericToken();
            }
            else if (this.nextNInputCodePoints(2) === '->') {
                this.consumeNInputCodePoints(2);
                return { tokenKind: tokens_1.CssTokenKind.CDC };
            }
            else if (this.streamStartsWithAnIdentSequence()) {
                this.reconsumeTheCurrentInputCodePoint();
                return this.consumeIdentLikeToken();
            }
            else {
                return { tokenKind: tokens_1.CssTokenKind.DELIM, codePoint: '-' };
            }
        }
        else if (codePoint === '.') {
            if (this.streamStartsWithANumber()) {
                this.reconsumeTheCurrentInputCodePoint();
                return this.consumeNumericToken();
            }
            else {
                return { tokenKind: tokens_1.CssTokenKind.DELIM, codePoint: '.' };
            }
        }
        else if (codePoint === ':') {
            return { tokenKind: tokens_1.CssTokenKind.COLON };
        }
        else if (codePoint === ';') {
            return { tokenKind: tokens_1.CssTokenKind.SEMICOLON };
        }
        else if (codePoint === '<') {
            if (this.nextNInputCodePoints(3) === '!--') {
                this.consumeNInputCodePoints(3);
                return { tokenKind: tokens_1.CssTokenKind.CDO };
            }
            else {
                return { tokenKind: tokens_1.CssTokenKind.DELIM, codePoint: '<' };
            }
        }
        else if (codePoint === '@') {
            if (this.threeCodePointsWouldStartAnIdentSequence(...this.nextThreeInputCodePoints())) {
                /** @type {string} */
                const ident = this.consumeIdentSequence();
                return { tokenKind: tokens_1.CssTokenKind.AT_KEYWORD, name: ident };
            }
            else {
                return { tokenKind: tokens_1.CssTokenKind.DELIM, codePoint: '@' };
            }
        }
        else if (codePoint === '\\') {
            if (this.streamStartsWithValidEscape()) {
                this.reconsumeTheCurrentInputCodePoint();
                return this.consumeIdentLikeToken();
            }
            else {
                return { tokenKind: tokens_1.CssTokenKind.DELIM, codePoint: '\\' };
            }
        }
        else if (codePoint === '[') {
            return { tokenKind: tokens_1.CssTokenKind.OPEN_SQUARE };
        }
        else if (codePoint === ']') {
            return { tokenKind: tokens_1.CssTokenKind.CLOSE_SQUARE };
        }
        else if (codePoint === '{') {
            return { tokenKind: tokens_1.CssTokenKind.OPEN_CURLY };
        }
        else if (codePoint === '}') {
            return { tokenKind: tokens_1.CssTokenKind.CLOSE_CURLY };
        }
        else if (this.isDigit(codePoint)) {
            this.reconsumeTheCurrentInputCodePoint();
            return this.consumeNumericToken();
        }
        else if (this.isIdentStartCodePoint(codePoint)) {
            this.reconsumeTheCurrentInputCodePoint();
            return this.consumeIdentLikeToken();
        }
        else {
            return { tokenKind: tokens_1.CssTokenKind.DELIM, codePoint };
        }
    }
    /**
     * https://www.w3.org/TR/2021/CRD-css-syntax-3-20211224/#consume-comments
     * @private
     * @return {boolean}
     */
    consumeComments() {
        /** @type {boolean} */
        let anyComments = false;
        while (this.nextNInputCodePoints(2) === '/*') {
            anyComments = true;
            this.consumeNInputCodePoints(2);
            /** @type {number} */
            const endIndex = this.css.indexOf('*/', this.pos);
            if (endIndex === -1) {
                // If there's no end comment, we assume the rest of the input is a
                // comment.
                this.pos = this.css.length;
                return anyComments;
            }
            this.pos = endIndex + 2;
        }
        return anyComments;
    }
    /**
     * https://www.w3.org/TR/2021/CRD-css-syntax-3-20211224/#consume-string-token
     *
     * @private
     * @param {string} quote The quote character that starts the string.
     * @return {!tsickle_tokens_1.StringToken}
     */
    consumeString(quote) {
        /** @type {!tsickle_tokens_1.StringToken} */
        const stringToken = {
            tokenKind: tokens_1.CssTokenKind.STRING,
            value: '',
        };
        while (true) {
            /** @type {(undefined|string)} */
            const codePoint = this.nextInputCodePoint();
            this.consumeTheNextInputCodePoint();
            if (codePoint === EOF || codePoint === quote) {
                return stringToken;
            }
            else if (this.isNewline(codePoint)) {
                // Per spec, here a bad-string token should be returned. However,
                // because this token isn't really useful for sanitization, we just
                // return an empty string token.
                this.reconsumeTheCurrentInputCodePoint();
                stringToken.value = '';
                return stringToken;
            }
            else if (codePoint === '\\') {
                if (this.nextInputCodePoint() === EOF) {
                    // > If the next input code point is EOF, do nothing.
                    continue;
                }
                else if (this.isNewline(this.nextInputCodePoint())) {
                    this.consumeTheNextInputCodePoint();
                }
                else {
                    /** @type {string} */
                    const escapedCodePoint = this.consumeEscapedCodePoint();
                    stringToken.value += escapedCodePoint;
                }
            }
            else {
                stringToken.value += codePoint;
            }
        }
    }
    /**
     * https://www.w3.org/TR/2021/CRD-css-syntax-3-20211224/#consume-an-escaped-code-point
     * @private
     * @return {string}
     */
    consumeEscapedCodePoint() {
        /** @type {(undefined|string)} */
        const codePoint = this.nextInputCodePoint();
        this.consumeTheNextInputCodePoint();
        if (codePoint === EOF) {
            return '\ufffd';
        }
        else if (this.isHexDigit(codePoint)) {
            /** @type {string} */
            let hexDigits = codePoint;
            // > Consume as many hex digits as possible but no more than 5.
            //
            // The spec assumes here that the first hex digit has already been
            // consumed. So in fact, the maximum number of hex digits that can be
            // consumed is 6.
            while (this.isHexDigit(this.nextInputCodePoint()) &&
                hexDigits.length < 6) {
                hexDigits += this.nextInputCodePoint();
                this.consumeTheNextInputCodePoint();
            }
            // Whitespace directly following an escape sequence is ignored.
            if (this.isWhitespace(this.nextInputCodePoint())) {
                this.consumeTheNextInputCodePoint();
            }
            // Needed to parse hexadecimal.
            // tslint:disable-next-line:ban
            /** @type {number} */
            const num = parseInt(hexDigits, 16);
            return String.fromCodePoint(num);
        }
        else {
            return codePoint;
        }
    }
    /**
     * @private
     * @return {void}
     */
    consumeAsMuchWhitespaceAsPossible() {
        while (this.isWhitespace(this.nextInputCodePoint())) {
            this.consumeTheNextInputCodePoint();
        }
    }
    /**
     * https://www.w3.org/TR/2021/CRD-css-syntax-3-20211224/#consume-an-ident-sequence
     * @private
     * @return {string}
     */
    consumeIdentSequence() {
        /** @type {string} */
        let result = '';
        while (true) {
            /** @type {(undefined|string)} */
            const codePoint = this.nextInputCodePoint();
            this.consumeTheNextInputCodePoint();
            /** @type {(undefined|string)} */
            const codePoint2 = this.nextInputCodePoint();
            if (this.isIdentCodePoint(codePoint)) {
                result += codePoint;
            }
            else if (this.twoCodePointsAreValidEscape(codePoint, codePoint2)) {
                result += this.consumeEscapedCodePoint();
            }
            else {
                this.reconsumeTheCurrentInputCodePoint();
                return result;
            }
        }
    }
    /**
     * https://www.w3.org/TR/2021/CRD-css-syntax-3-20211224/#consume-an-ident-like-token
     * @private
     * @return {(!tsickle_tokens_1.AtKeywordToken|!tsickle_tokens_1.CdcToken|!tsickle_tokens_1.CdoToken|!tsickle_tokens_1.CloseCurlyToken|!tsickle_tokens_1.CloseParenToken|!tsickle_tokens_1.CloseSquareToken|!tsickle_tokens_1.ColonToken|!tsickle_tokens_1.CommaToken|!tsickle_tokens_1.DelimToken|!tsickle_tokens_1.DimensionToken|!tsickle_tokens_1.EofToken|!tsickle_tokens_1.FunctionToken|!tsickle_tokens_1.HashToken|!tsickle_tokens_1.IdentToken|!tsickle_tokens_1.NumberToken|!tsickle_tokens_1.OpenCurlyToken|!tsickle_tokens_1.OpenParenToken|!tsickle_tokens_1.OpenSquareToken|!tsickle_tokens_1.PercentageToken|!tsickle_tokens_1.SemicolonToken|!tsickle_tokens_1.StringToken|!tsickle_tokens_1.WhitespaceToken|!Array<(!tsickle_tokens_1.AtKeywordToken|!tsickle_tokens_1.CdcToken|!tsickle_tokens_1.CdoToken|!tsickle_tokens_1.CloseCurlyToken|!tsickle_tokens_1.CloseParenToken|!tsickle_tokens_1.CloseSquareToken|!tsickle_tokens_1.ColonToken|!tsickle_tokens_1.CommaToken|!tsickle_tokens_1.DelimToken|!tsickle_tokens_1.DimensionToken|!tsickle_tokens_1.EofToken|!tsickle_tokens_1.FunctionToken|!tsickle_tokens_1.HashToken|!tsickle_tokens_1.IdentToken|!tsickle_tokens_1.NumberToken|!tsickle_tokens_1.OpenCurlyToken|!tsickle_tokens_1.OpenParenToken|!tsickle_tokens_1.OpenSquareToken|!tsickle_tokens_1.PercentageToken|!tsickle_tokens_1.SemicolonToken|!tsickle_tokens_1.StringToken|!tsickle_tokens_1.WhitespaceToken)>)}
     */
    consumeIdentLikeToken() {
        /** @type {string} */
        const ident = this.consumeIdentSequence();
        if (/^url$/i.test(ident) && this.nextInputCodePoint() === '(') {
            // TODO(securitymb): This algorithm may look a little weird but we're
            // following the spec here exactly. We will see later on if this can be
            // optimized.
            this.consumeTheNextInputCodePoint();
            while (this.nextTwoInputsPointsAreWhitespace()) {
                this.consumeTheNextInputCodePoint();
            }
            /** @type {!Array<?>} */
            const nextTwo = this.nextTwoInputCodePoints();
            if ((this.isWhitespace(nextTwo[0]) &&
                (nextTwo[1] === '"' || nextTwo[1] === "'")) ||
                nextTwo[0] === '"' ||
                nextTwo[0] === "'") {
                // Function names are case-insensitive in CSS so instead of returning
                // "url" in its original casing, we just lowercase it.
                return { tokenKind: tokens_1.CssTokenKind.FUNCTION, lowercaseName: 'url' };
            }
            else {
                return this.consumeUrlToken();
            }
        }
        else if (this.nextInputCodePoint() === '(') {
            this.consumeTheNextInputCodePoint();
            // We lowercase the function name because function names are
            // case-insensitive in CSS.
            return {
                tokenKind: tokens_1.CssTokenKind.FUNCTION,
                lowercaseName: ident.toLowerCase(),
            };
        }
        return { tokenKind: tokens_1.CssTokenKind.IDENT, ident };
    }
    /**
     * https://www.w3.org/TR/2021/CRD-css-syntax-3-20211224/#consume-a-url-token
     *
     * This method has a significant willful violation of the spec. Per spec,
     * URLs in CSS (such as "url(...)") can return two types of tokens, depending
     * on whether the argument is a quoted string or not.
     *
     * So `url(https://example.com)` returns a URL token, while
     * `url('https://example.com')` returns a function token, followed by a string
     * token, followed by a close paren token.
     *
     * Having two types of tokens for URL functions make the sanitization logic
     * more complicated and there's no real benefit to it.
     *
     * So this function will always return a function token, followed by a string
     * token, followed by a close paren token to be consistent.
     *
     * The spec also uses a bad-url token but we instead return an empty string
     * token.
     *
     * @private
     * @return {!Array<(!tsickle_tokens_1.AtKeywordToken|!tsickle_tokens_1.CdcToken|!tsickle_tokens_1.CdoToken|!tsickle_tokens_1.CloseCurlyToken|!tsickle_tokens_1.CloseParenToken|!tsickle_tokens_1.CloseSquareToken|!tsickle_tokens_1.ColonToken|!tsickle_tokens_1.CommaToken|!tsickle_tokens_1.DelimToken|!tsickle_tokens_1.DimensionToken|!tsickle_tokens_1.EofToken|!tsickle_tokens_1.FunctionToken|!tsickle_tokens_1.HashToken|!tsickle_tokens_1.IdentToken|!tsickle_tokens_1.NumberToken|!tsickle_tokens_1.OpenCurlyToken|!tsickle_tokens_1.OpenParenToken|!tsickle_tokens_1.OpenSquareToken|!tsickle_tokens_1.PercentageToken|!tsickle_tokens_1.SemicolonToken|!tsickle_tokens_1.StringToken|!tsickle_tokens_1.WhitespaceToken)>}
     */
    consumeUrlToken() {
        /** @type {string} */
        let url = '';
        this.consumeAsMuchWhitespaceAsPossible();
        while (true) {
            /** @type {(undefined|string)} */
            const codePoint = this.nextInputCodePoint();
            this.consumeTheNextInputCodePoint();
            if (codePoint === ')' || codePoint === EOF) {
                return this.createFunctionUrlToken(url);
            }
            else if (this.isWhitespace(codePoint)) {
                this.consumeAsMuchWhitespaceAsPossible();
                if (this.nextInputCodePoint() === ')' ||
                    this.nextInputCodePoint() === EOF) {
                    this.consumeTheNextInputCodePoint();
                    return this.createFunctionUrlToken(url);
                }
                else {
                    this.consumeRemnantsOfBadUrl();
                    return this.createFunctionUrlToken('');
                }
            }
            else if (codePoint === '"' ||
                codePoint === "'" ||
                codePoint === '(' ||
                this.isNonPrintableCodePoint(codePoint)) {
                this.consumeRemnantsOfBadUrl();
                return this.createFunctionUrlToken('');
            }
            else if (codePoint === '\\') {
                if (this.streamStartsWithValidEscape()) {
                    url += this.consumeEscapedCodePoint();
                }
                else {
                    this.consumeRemnantsOfBadUrl();
                    return this.createFunctionUrlToken('');
                }
            }
            else {
                url += codePoint;
            }
        }
    }
    /**
     * Helper function to make `consumeUrlToken` a little more readable.
     * @private
     * @param {string} url
     * @return {!Array<(!tsickle_tokens_1.AtKeywordToken|!tsickle_tokens_1.CdcToken|!tsickle_tokens_1.CdoToken|!tsickle_tokens_1.CloseCurlyToken|!tsickle_tokens_1.CloseParenToken|!tsickle_tokens_1.CloseSquareToken|!tsickle_tokens_1.ColonToken|!tsickle_tokens_1.CommaToken|!tsickle_tokens_1.DelimToken|!tsickle_tokens_1.DimensionToken|!tsickle_tokens_1.EofToken|!tsickle_tokens_1.FunctionToken|!tsickle_tokens_1.HashToken|!tsickle_tokens_1.IdentToken|!tsickle_tokens_1.NumberToken|!tsickle_tokens_1.OpenCurlyToken|!tsickle_tokens_1.OpenParenToken|!tsickle_tokens_1.OpenSquareToken|!tsickle_tokens_1.PercentageToken|!tsickle_tokens_1.SemicolonToken|!tsickle_tokens_1.StringToken|!tsickle_tokens_1.WhitespaceToken)>}
     */
    createFunctionUrlToken(url) {
        return [
            { tokenKind: tokens_1.CssTokenKind.FUNCTION, lowercaseName: 'url' },
            { tokenKind: tokens_1.CssTokenKind.STRING, value: url },
            { tokenKind: tokens_1.CssTokenKind.CLOSE_PAREN },
        ];
    }
    /**
     * https://www.w3.org/TR/2021/CRD-css-syntax-3-20211224/#consume-the-remnants-of-a-bad-url
     * @private
     * @return {void}
     */
    consumeRemnantsOfBadUrl() {
        while (true) {
            /** @type {(undefined|string)} */
            const codePoint = this.nextInputCodePoint();
            this.consumeTheNextInputCodePoint();
            if (codePoint === EOF || codePoint === ')') {
                return;
            }
            else if (this.streamStartsWithValidEscape()) {
                this.consumeEscapedCodePoint();
            }
        }
    }
    /**
     * The function returns the original representation of the number; we don't
     * try to parse the number, as required by the spec.
     *
     * We also don't return the information whether a number is integer or not
     * since it's irrelevant for sanitization.
     *
     * https://www.w3.org/TR/2021/CRD-css-syntax-3-20211224/#consume-number
     * @private
     * @return {string}
     */
    consumeNumber() {
        /** @type {string} */
        let repr = '';
        {
            /** @type {(undefined|string)} */
            const next = this.nextInputCodePoint();
            if (next === '+' || next === '-') {
                this.consumeTheNextInputCodePoint();
                repr += next;
            }
        }
        repr += this.consumeDigits();
        {
            /** @type {(undefined|string)} */
            const next = this.nextInputCodePoint();
            /** @type {string} */
            const next2 = this.css[this.pos + 1];
            if (next === '.' && this.isDigit(next2)) {
                this.consumeTheNextInputCodePoint();
                repr += '.' + this.consumeDigits();
            }
        }
        {
            /** @type {(undefined|string)} */
            const next = this.nextInputCodePoint();
            /** @type {string} */
            const next2 = this.css[this.pos + 1];
            /** @type {string} */
            const next3 = this.css[this.pos + 2];
            if (next === 'e' || next === 'E') {
                if ((next2 === '+' || next2 === '-') && this.isDigit(next3)) {
                    this.consumeNInputCodePoints(2);
                    repr += next + next2 + this.consumeDigits();
                }
                else if (this.isDigit(next2)) {
                    this.consumeTheNextInputCodePoint();
                    repr += next + this.consumeDigits();
                }
            }
        }
        return repr;
    }
    /**
     * @private
     * @return {string}
     */
    consumeDigits() {
        /** @type {string} */
        let repr = '';
        while (this.isDigit(this.nextInputCodePoint())) {
            repr += this.nextInputCodePoint();
            this.consumeTheNextInputCodePoint();
        }
        return repr;
    }
    /**
     * https://www.w3.org/TR/2021/CRD-css-syntax-3-20211224/#consume-numeric-token
     * @private
     * @return {(!tsickle_tokens_1.DimensionToken|!tsickle_tokens_1.NumberToken|!tsickle_tokens_1.PercentageToken)}
     */
    consumeNumericToken() {
        /** @type {string} */
        const repr = this.consumeNumber();
        if (this.threeCodePointsWouldStartAnIdentSequence(...this.nextThreeInputCodePoints())) {
            return {
                tokenKind: tokens_1.CssTokenKind.DIMENSION,
                repr,
                dimension: this.consumeIdentSequence(),
            };
        }
        if (this.nextInputCodePoint() === '%') {
            this.consumeTheNextInputCodePoint();
            return { tokenKind: tokens_1.CssTokenKind.PERCENTAGE, repr };
        }
        return { tokenKind: tokens_1.CssTokenKind.NUMBER, repr };
    }
    /**
     * @private
     * @return {boolean}
     */
    nextTwoInputsPointsAreWhitespace() {
        return this.nextTwoInputCodePoints().every((/**
         * @param {(undefined|string)} c
         * @return {boolean}
         */
        (c) => this.isWhitespace(c)));
    }
    /**
     * https://www.w3.org/TR/2021/CRD-css-syntax-3-20211224/#check-if-two-code-points-are-a-valid-escape
     * @private
     * @param {(undefined|string)=} codePoint1
     * @param {(undefined|string)=} codePoint2
     * @return {boolean}
     */
    twoCodePointsAreValidEscape(codePoint1, codePoint2) {
        return codePoint1 === '\\' && codePoint2 !== '\n';
    }
    /**
     * @private
     * @return {boolean}
     */
    streamStartsWithValidEscape() {
        return this.twoCodePointsAreValidEscape(this.currentInputCodePoint(), this.nextInputCodePoint());
    }
    /**
     * https://www.w3.org/TR/2021/CRD-css-syntax-3-20211224/#check-if-three-code-points-would-start-a-number
     * @private
     * @param {(undefined|string)=} codePoint1
     * @param {(undefined|string)=} codePoint2
     * @param {(undefined|string)=} codePoint3
     * @return {boolean}
     */
    threeCodePointsWouldStartANumber(codePoint1, codePoint2, codePoint3) {
        if (codePoint1 === '+' || codePoint1 === '-') {
            return (this.isDigit(codePoint2) ||
                (codePoint2 === '.' && this.isDigit(codePoint3)));
        }
        else if (codePoint1 === '.') {
            return this.isDigit(codePoint2);
        }
        else {
            return this.isDigit(codePoint1);
        }
    }
    /**
     * @private
     * @return {boolean}
     */
    streamStartsWithANumber() {
        return this.threeCodePointsWouldStartANumber(this.currentInputCodePoint(), ...this.nextTwoInputCodePoints());
    }
    /**
     * https://www.w3.org/TR/2021/CRD-css-syntax-3-20211224/#would-start-an-identifier
     * @private
     * @param {(undefined|string)=} codePoint1
     * @param {(undefined|string)=} codePoint2
     * @param {(undefined|string)=} codePoint3
     * @return {boolean}
     */
    threeCodePointsWouldStartAnIdentSequence(codePoint1, codePoint2, codePoint3) {
        if (codePoint1 === '-') {
            if (this.isIdentStartCodePoint(codePoint2) || codePoint2 === '-') {
                return true;
            }
            else if (this.twoCodePointsAreValidEscape(codePoint2, codePoint3)) {
                return true;
            }
            else {
                return false;
            }
        }
        else if (this.isIdentStartCodePoint(codePoint1)) {
            return true;
        }
        else if (codePoint1 === '\\') {
            return this.twoCodePointsAreValidEscape(codePoint1, codePoint2);
        }
        else {
            return false;
        }
    }
    /**
     * @private
     * @return {boolean}
     */
    streamStartsWithAnIdentSequence() {
        return this.threeCodePointsWouldStartAnIdentSequence(this.currentInputCodePoint(), ...this.nextTwoInputCodePoints());
    }
    /**
     * @private
     * @param {(undefined|string)} codePoint
     * @return {boolean}
     */
    isDigit(codePoint) {
        return codePoint !== EOF && codePoint >= '0' && codePoint <= '9';
    }
    /**
     * @private
     * @param {(undefined|string)} codePoint
     * @return {boolean}
     */
    isHexDigit(codePoint) {
        return codePoint !== EOF && HEX_DIGIT_REGEX.test(codePoint);
    }
    /**
     * https://www.w3.org/TR/2021/CRD-css-syntax-3-20211224/#newline
     * @private
     * @param {(undefined|string)} codePoint
     * @return {boolean}
     */
    isNewline(codePoint) {
        return codePoint === '\u000a';
    }
    /**
     * https://www.w3.org/TR/2021/CRD-css-syntax-3-20211224/#whitespace
     * @private
     * @param {(undefined|string)} codePoint
     * @return {boolean}
     */
    isWhitespace(codePoint) {
        return (codePoint === ' ' || codePoint === '\u0009' || this.isNewline(codePoint));
    }
    /**
     * True for letters, digits, underscores, hyphens, and non-ASCII code points.
     *
     * https://www.w3.org/TR/2021/CRD-css-syntax-3-20211224/#ident-code-point
     * @private
     * @param {(undefined|string)} codePoint
     * @return {boolean}
     */
    isIdentCodePoint(codePoint) {
        if (codePoint === undefined) {
            return false;
        }
        return /^([A-Za-z0-9_-]|[^\u0000-\u007f])$/.test(codePoint);
    }
    /**
     * https://www.w3.org/TR/2021/CRD-css-syntax-3-20211224/#ident-start-code-point
     * @private
     * @param {(undefined|string)} codePoint
     * @return {boolean}
     */
    isIdentStartCodePoint(codePoint) {
        if (codePoint === undefined) {
            return false;
        }
        return /^([A-Za-z_]|[^\u0000-\u007f])$/.test(codePoint);
    }
    /**
     * https://www.w3.org/TR/2021/CRD-css-syntax-3-20211224/#non-printable-code-point
     * @private
     * @param {(undefined|string)} codePoint
     * @return {boolean}
     */
    isNonPrintableCodePoint(codePoint) {
        if (codePoint === undefined) {
            return false;
        }
        return /[\x00-\x08\x0b\x0e-\x1f\x7f]/.test(codePoint);
    }
}
/* istanbul ignore if */
if (false) {
    /**
     * The position in the CSS string of the first code point that hasn't been
     * consumed.
     * @type {number}
     * @private
     */
    Tokenizer.prototype.pos;
    /**
     * The CSS string to tokenize.
     * @const {string}
     * @private
     */
    Tokenizer.prototype.css;
}
/**
 * Tokenizes the given CSS string.
 *
 * @param {string} css The CSS string to tokenize.
 * @return {!Array<(!tsickle_tokens_1.AtKeywordToken|!tsickle_tokens_1.CdcToken|!tsickle_tokens_1.CdoToken|!tsickle_tokens_1.CloseCurlyToken|!tsickle_tokens_1.CloseParenToken|!tsickle_tokens_1.CloseSquareToken|!tsickle_tokens_1.ColonToken|!tsickle_tokens_1.CommaToken|!tsickle_tokens_1.DelimToken|!tsickle_tokens_1.DimensionToken|!tsickle_tokens_1.EofToken|!tsickle_tokens_1.FunctionToken|!tsickle_tokens_1.HashToken|!tsickle_tokens_1.IdentToken|!tsickle_tokens_1.NumberToken|!tsickle_tokens_1.OpenCurlyToken|!tsickle_tokens_1.OpenParenToken|!tsickle_tokens_1.OpenSquareToken|!tsickle_tokens_1.PercentageToken|!tsickle_tokens_1.SemicolonToken|!tsickle_tokens_1.StringToken|!tsickle_tokens_1.WhitespaceToken)>} The list of tokens.
 */
function tokenizeCss(css) {
    return new Tokenizer(css).tokenize();
}
exports.tokenizeCss = tokenizeCss;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidG9rZW5pemVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vdGhpcmRfcGFydHkvamF2YXNjcmlwdC9zYWZldmFsdWVzL2J1aWxkZXJzL2h0bWxfc2FuaXRpemVyL2Nzcy90b2tlbml6ZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFjQSw4R0FPa0I7O01BRVosZUFBZSxHQUFHLGVBQWU7Ozs7OztNQU1qQyxHQUFHLEdBQUcsU0FBUztBQUdyQixNQUFNLFNBQVM7Ozs7O0lBVWIsWUFBWSxHQUFXOzs7OztRQUxmLFFBQUcsR0FBRyxDQUFDLENBQUM7UUFNZCxJQUFJLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDbEMsQ0FBQzs7Ozs7SUFFRCxRQUFROztjQUNBLE1BQU0sR0FBZSxFQUFFOztZQUN6QixTQUFTLEdBQW1CLEdBQUc7UUFDbkMsT0FBTyxJQUFJLEVBQUUsQ0FBQzs7a0JBQ04sS0FBSyxHQUFHLElBQUksQ0FBQyxZQUFZLEVBQUU7WUFDakMsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUM7OztnQkFHekIsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLEtBQUssQ0FBQyxDQUFDO2dCQUN0QixTQUFTO1lBQ1gsQ0FBQzs7a0JBQ0ssd0JBQXdCLEdBQzVCLGtzQkFBQSxLQUFLLEVBQUEsQ0FBQyxTQUFTLEtBQUsscUJBQVksQ0FBQyxVQUFVO2dCQUMzQyxTQUFTLEVBQUUsU0FBUyxLQUFLLHFCQUFZLENBQUMsVUFBVTtZQUNsRCxJQUFJLHdCQUF3QixFQUFFLENBQUM7Z0JBQzdCLHVFQUF1RTtnQkFDdkUsc0VBQXNFO2dCQUN0RSx3QkFBd0I7Z0JBQ3hCLFNBQVM7WUFDWCxDQUFDO1lBQ0QsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUNu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SUFBSSxTQUFTLEtBQUssU0FBUyxFQUFFLENBQUM7WUFDNUIsT0FBTyxLQUFLLENBQUM7UUFDZixDQUFDO1FBQ0QsT0FBTyw4QkFBOEIsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDeEQsQ0FBQztDQUNGOzs7Ozs7Ozs7SUFqb0JDLHdCQUFnQjs7Ozs7O0lBR2hCLHdCQUE2Qjs7Ozs7Ozs7QUFzb0IvQixTQUFnQixXQUFXLENBQUMsR0FBVztJQUNyQyxPQUFPLElBQUksU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDLFFBQVEsRUFBRSxDQUFDO0FBQ3ZDLENBQUM7QUFGRCxrQ0FFQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbi8qKlxuICogQGZpbGVvdmVydmlldyBDU1MgdG9rZW5pemVyIGltcGxlbWVudGluZ1xuICogaHR0cHM6Ly93d3cudzMub3JnL1RSLzIwMjEvQ1JELWNzcy1zeW50YXgtMy0yMDIxMTIyNC8jdG9rZW5pemF0aW9uLlxuICpcbiAqIFdoaWxlIHRoZSB0b2tlbml6ZXIgYXR0ZW1wdHMgdG8gYmUgYXMgY2xvc2UgdG8gdGhlIHNwZWMgYXMgcG9zc2libGUsIHRoZXJlXG4gKiBhcmUgYXJlIGNlcnRhaW4gd2lsbGZ1bCB2aW9sYXRpb25zLCB3aGljaCBhcmUgZGVzY3JpYmVkIGluIHRoZSBjb21tZW50cy5cbiAqL1xuXG5pbXBvcnQge1xuICBDc3NUb2tlbixcbiAgQ3NzVG9rZW5LaW5kLFxuICBEaW1lbnNpb25Ub2tlbixcbiAgTnVtYmVyVG9rZW4sXG4gIFBlcmNlbnRhZ2VUb2tlbixcbiAgU3RyaW5nVG9rZW4sXG59IGZyb20gJy4vdG9rZW5zJztcblxuY29uc3QgSEVYX0RJR0lUX1JFR0VYID0gL15bMC05YS1mQS1GXSQvO1xuXG4vKipcbiAqIFdlIHVzZSB1bmRlZmluZWQgYXMgYSBtYXJrZXIgb2YgdGhlIGVuZCBvZiBzdHJpbmcgZm9yIHRoZSBDU1MuIFRvIG1ha2VcbiAqIHRoZSBpbnRlbnQgbW9yZSBjbGVhciwgaW5zdGVhZCBvZiB1c2luZyBgdW5kZWZpbmVkYCBkaXJlY3RseSwgd2UgdXNlIGBFT0ZgLlxuICovXG5jb25zdCBFT0YgPSB1bmRlZmluZWQ7XG50eXBlIEVPRiA9IHR5cGVvZiBFT0Y7XG5cbmNsYXNzIFRva2VuaXplciB7XG4gIC8qKlxuICAgKiBUaGUgcG9zaXRpb24gaW4gdGhlIENTUyBzdHJpbmcgb2YgdGhlIGZpcnN0IGNvZGUgcG9pbnQgdGhhdCBoYXNuJ3QgYmVlblxuICAgKiBjb25zdW1lZC5cbiAgICovXG4gIHByaXZhdGUgcG9zID0gMDtcblxuICAvKiogVGhlIENTUyBzdHJpbmcgdG8gdG9rZW5pemUuICovXG4gIHByaXZhdGUgcmVhZG9ubHkgY3NzOiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3IoY3NzOiBzdHJpbmcpIHtcbiAgICB0aGlzLmNzcyA9IHRoaXMucHJlcHJvY2Vzcyhjc3MpO1xuICB9XG5cbiAgdG9rZW5pemUoKTogQ3NzVG9rZW5bXSB7XG4gICAgY29uc3QgdG9rZW5zOiBDc3NUb2tlbltdID0gW107XG4gICAgbGV0IGxhc3RUb2tlbjogQ3NzVG9rZW4gfCBFT0YgPSBFT0Y7XG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGNvbnN0IHRva2VuID0gdGhpcy5jb25zdW1lVG9rZW4oKTtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHRva2VuKSkge1xuICAgICAgICAvLyBBcnJheSBpcyBvbmx5IHJldHVybmVkIGJ5IGNvbnN1bWVVcmxUb2tlbiBzbyB0aGVyZSdzIG5vIG5lZWRcbiAgICAgICAgLy8gdG8gY2hlY2sgZm9yIHdoaXRlc3BhY2VzLlxuICAgICAgICB0b2tlbnMucHVzaCguLi50b2tlbik7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgY29uc3QgdHdvQ29uc2VjdXRpdmVXaGl0ZXNwYWNlID1cbiAgICAgICAgdG9rZW4udG9rZW5LaW5kID09PSBDc3NUb2tlbktpbmQuV0hJVEVTUEFDRSAmJlxuICAgICAgICBsYXN0VG9rZW4/LnRva2VuS2luZCA9PT0gQ3NzVG9rZW5LaW5kLldISVRFU1BBQ0U7XG4gICAgICBpZiAodHdvQ29uc2VjdXRpdmVXaGl0ZXNwYWNlKSB7XG4gICAgICAgIC8vIFdpbGxmdWwgdmlvbGF0aW9uIG9mIHRoZSBzcGVjLiBUaGVyZSdzIG5vIHVzZSBpbiBwcm9kdWNpbmcgbXVsdGlwbGUsXG4gICAgICAgIC8vIGNvbnNlY3V0aXZlIHdoaXRlc3BhY2UgdG9rZW5zLCBhbmQgbWVyZ2luZyB0aGVtIGludG8gYSBzaW5nbGUgdG9rZW5cbiAgICAgICAgLy8gbWFrZXMgcGFyc2luZyBlYXNpZXIuXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgaWYgKHRva2VuLnRva2VuS2luZCA9PT0gQ3NzVG9rZW5LaW5kLkVPRikge1xuICAgICAgICByZXR1cm4gdG9rZW5zO1xuICAgICAgfVxuICAgICAgbGFzdFRva2VuID0gdG9rZW47XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBmaXJzdCBjb2RlIHBvaW50IGluIHRoZSBpbnB1dCBzdHJlYW0gdGhhdCBoYXMgbm90IHlldCBiZWVuIGNvbnN1bWVkLlxuICAgKlxuICAgKiBodHRwczovL3d3dy53My5vcmcvVFIvMjAyMS9DUkQtY3NzLXN5bnRheC0zLTIwMjExMjI0LyNuZXh0LWlucHV0LWNvZGUtcG9pbnRcbiAgICovXG4gIHByaXZhdGUgbmV4dElucHV0Q29kZVBvaW50KCk6IHN0cmluZyB8IEVPRiB7XG4gICAgcmV0dXJuIHRoaXMuY3NzW3RoaXMucG9zXTtcbiAgfVxuXG4gIHByaXZhdGUgbmV4dFR3b0lucHV0Q29kZVBvaW50cygpOiBbc3RyaW5nIHwgRU9GLCBzdHJpbmcgfCBFT0ZdIHtcbiAgICByZXR1cm4gW3RoaXMuY3NzW3RoaXMucG9zXSwgdGhpcy5jc3NbdGhpcy5wb3MgKyAxXV07XG4gIH1cblxuICBwcml2YXRlIG5leHRUaHJlZUlucHV0Q29kZVBvaW50cygpOiBbXG4gICAgc3RyaW5nIHwgRU9GLFxuICAgIHN0cmluZyB8IEVPRixcbiAgICBzdHJpbmcgfCBFT0YsXG4gIF0ge1xuICAgIHJldHVybiBbdGhpcy5jc3NbdGhpcy5wb3NdLCB0aGlzLmNzc1t0aGlzLnBvcyArIDFdLCB0aGlzLmNzc1t0aGlzLnBvcyArIDJdXTtcbiAgfVxuXG4gIHByaXZhdGUgY3VycmVudElucHV0Q29kZVBvaW50KCk6IHN0cmluZyB8IEVPRiB7XG4gICAgcmV0dXJuIHRoaXMuY3NzW3RoaXMucG9zIC0gMV07XG4gIH1cblxuICBwcml2YXRlIG5leHROSW5wdXRDb2RlUG9pbnRzKG46IG51bWJlcik6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuY3NzLnNsaWNlKHRoaXMucG9zLCB0aGlzLnBvcyArIG4pO1xuICB9XG5cbiAgcHJpdmF0ZSBjb25zdW1lVGhlTmV4dElucHV0Q29kZVBvaW50KCkge1xuICAgIHRoaXMucG9zKys7XG4gIH1cblxuICBwcml2YXRlIGNvbnN1bWVOSW5wdXRDb2RlUG9pbnRzKG46IG51bWJlcikge1xuICAgIHRoaXMucG9zICs9IG47XG4gIH1cblxuICAvKiogaHR0cHM6Ly93d3cudzMub3JnL1RSLzIwMjEvQ1JELWNzcy1zeW50YXgtMy0yMDIxMTIyNC8jcmVjb25zdW1lLXRoZS1jdXJyZW50LWlucHV0LWNvZGUtcG9pbnQgKi9cbiAgcHJpdmF0ZSByZWNvbnN1bWVUaGVDdXJyZW50SW5wdXRDb2RlUG9pbnQoKSB7XG4gICAgdGhpcy5wb3MtLTtcbiAgfVxuXG4gIC8qKiBodHRwczovL3d3dy53My5vcmcvVFIvMjAyMS9DUkQtY3NzLXN5bnRheC0zLTIwMjExMjI0LyNpbnB1dC1wcmVwcm9jZXNzaW5nICovXG4gIHByaXZhdGUgcHJlcHJvY2Vzcyhjc3M6IHN0cmluZykge1xuICAgIHJldHVybiBjc3MucmVwbGFjZSgvW1xceDBkXFx4MGNdfFxceDBkXFx4MGEvZywgJ1xcbicpLnJlcGxhY2UoL1xceDAwL2csICdcXHVmZmZkJyk7XG4gIH1cblxuICAvKiogaHR0cHM6Ly93d3cudzMub3JnL1RSLzIwMjEvQ1JELWNzcy1zeW50YXgtMy0yMDIxMTIyNC8jY29uc3VtZS10b2tlbiAqL1xuICBwcml2YXRlIGNvbnN1bWVUb2tlbigpOiBDc3NUb2tlbiB8IENzc1Rva2VuW10ge1xuICAgIGNvbnN0IGNvbnN1bWVkQ29tbWVudCA9IHRoaXMuY29uc3VtZUNvbW1lbnRzKCk7XG4gICAgaWYgKGNvbnN1bWVkQ29tbWVudCkge1xuICAgICAgLy8gQSB3aWxsZnVsIHZpb2xhdGlvbiBvZiB0aGUgc3BlYy4gUGVyIHNwZWMgbm8gdG9rZW5zIGFyZSBwcm9kdWNlZCBmb3JcbiAgICAgIC8vIGNvbW1lbnRzLiBIb3dldmVyLCB0aGlzIGxlYWRzIHRvIGEgcmlzayB3aGVyZSB0d28gdG9rZW5zIHNlcGFyYXRlZCBieVxuICAgICAgLy8gYSBjb21tZW50IGFyZSBtZXJnZWQgaW50byBhIHNpbmdsZSB0b2tlbiBvbiBzZXJpYWxpemF0aW9uLiBUbyBhdm9pZFxuICAgICAgLy8gdGhpcywgd2UgcHJvZHVjZSBhIHdoaXRlc3BhY2UgdG9rZW4uXG4gICAgICAvL1xuICAgICAgLy8gRm9yIGV4YW1wbGUsIGNvbnNpZGVyIHRoZSBmb2xsb3dpbmcgaW5wdXQ6IDpoby8qKi9zdCB7IH1cbiAgICAgIC8vIFRoaXMgd2lsbCBpc3N1ZSB0d28gaWRlbnQgdG9rZW5zOiBmb3IgXCI6aG9cIiBhbmQgXCJzdFwiLiBPbiBzZXJpYWxpemF0aW9uLFxuICAgICAgLy8gdGhlIHR3byB0b2tlbnMgd2lsbCBiZSBtZXJnZWQgaW50byBhIHNpbmdsZSB0b2tlbjogXCI6aG9zdFwiLCB3aGljaCB3ZVxuICAgICAgLy8gY29uc2lkZXIgZGFuZ2Vyb3VzLlxuICAgICAgLy9cbiAgICAgIC8vIFdoZW4gd2UgYWRkIHRoZSB3aGl0ZXNwYWNlIHRoZW4gXCI6aG8vKiovc3RcIiB3aWxsIGJlIHNlcmlhbGl6ZWQgYXNcbiAgICAgIC8vIFwiOmhvIHN0XCIsIHdoaWNoIGlzIHNhZmUuXG4gICAgICByZXR1cm4ge3Rva2VuS2luZDogQ3NzVG9rZW5LaW5kLldISVRFU1BBQ0V9O1xuICAgIH1cbiAgICBjb25zdCBjb2RlUG9pbnQgPSB0aGlzLm5leHRJbnB1dENvZGVQb2ludCgpO1xuICAgIHRoaXMuY29uc3VtZVRoZU5leHRJbnB1dENvZGVQb2ludCgpO1xuICAgIGlmIChjb2RlUG9pbnQgPT09IEVPRikge1xuICAgICAgcmV0dXJuIHt0b2tlbktpbmQ6IENzc1Rva2VuS2luZC5FT0Z9O1xuICAgIH0gZWxzZSBpZiAodGhpcy5pc1doaXRlc3BhY2UoY29kZVBvaW50KSkge1xuICAgICAgdGhpcy5jb25zdW1lQXNNdWNoV2hpdGVzcGFjZUFzUG9zc2libGUoKTtcbiAgICAgIHJldHVybiB7dG9rZW5LaW5kOiBDc3NUb2tlbktpbmQuV0hJVEVTUEFDRX07XG4gICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPT09IFwiJ1wiIHx8IGNvZGVQb2ludCA9PT0gJ1wiJykge1xuICAgICAgcmV0dXJuIHRoaXMuY29uc3VtZVN0cmluZyhjb2RlUG9pbnQpO1xuICAgIH0gZWxzZSBpZiAoY29kZVBvaW50ID09PSAnIycpIHtcbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy5pc0lkZW50Q29kZVBvaW50KHRoaXMubmV4dElucHV0Q29kZVBvaW50KCkpIHx8XG4gICAgICAgIHRoaXMudHdvQ29kZVBvaW50c0FyZVZhbGlkRXNjYXBlKC4uLnRoaXMubmV4dFR3b0lucHV0Q29kZVBvaW50cygpKVxuICAgICAgKSB7XG4gICAgICAgIC8vIEluIHNwZWMgdGhlcmUncyBhbHNvIGEgc3RlcCB0byBjaGVjayBpZiB0aGUgbmV4dCB0aHJlZSBjb2RlIHBvaW50c1xuICAgICAgICAvLyB3b3VsZCBzdGFydCBhbiBpZGVudCBzZXF1ZW5jZS4gSG93ZXZlciwgdGhlIG9ubHkgcmVhc29uIHRvIGRvIHNvXG4gICAgICAgIC8vIGlzIHRvIHNldCB0aGUgdHlwZSBmbGFnIHRvIFwiaWRcIi4gV2UgZG9uJ3Qgc3RvcmUgdGhpcyBmbGFnLCBzbyB3ZVxuICAgICAgICAvLyBkb24ndCBuZWVkIHRvIGNoZWNrIHRoaXMuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdG9rZW5LaW5kOiBDc3NUb2tlbktpbmQuSEFTSCxcbiAgICAgICAgICB2YWx1ZTogdGhpcy5jb25zdW1lSWRlbnRTZXF1ZW5jZSgpLFxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHt0b2tlbktpbmQ6IENzc1Rva2VuS2luZC5ERUxJTSwgY29kZVBvaW50OiAnIyd9O1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoY29kZVBvaW50ID09PSAnKCcpIHtcbiAgICAgIHJldHVybiB7dG9rZW5LaW5kOiBDc3NUb2tlbktpbmQuT1BFTl9QQVJFTn07XG4gICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPT09ICcpJykge1xuICAgICAgcmV0dXJuIHt0b2tlbktpbmQ6IENzc1Rva2VuS2luZC5DTE9TRV9QQVJFTn07XG4gICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPT09ICcrJykge1xuICAgICAgaWYgKHRoaXMuc3RyZWFtU3RhcnRzV2l0aEFOdW1iZXIoKSkge1xuICAgICAgICB0aGlzLnJlY29uc3VtZVRoZUN1cnJlbnRJbnB1dENvZGVQb2ludCgpO1xuICAgICAgICByZXR1cm4gdGhpcy5jb25zdW1lTnVtZXJpY1Rva2VuKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4ge3Rva2VuS2luZDogQ3NzVG9rZW5LaW5kLkRFTElNLCBjb2RlUG9pbnQ6ICcrJ307XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPT09ICcsJykge1xuICAgICAgcmV0dXJuIHt0b2tlbktpbmQ6IENzc1Rva2VuS2luZC5DT01NQX07XG4gICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPT09ICctJykge1xuICAgICAgaWYgKHRoaXMuc3RyZWFtU3RhcnRzV2l0aEFOdW1iZXIoKSkge1xuICAgICAgICB0aGlzLnJlY29uc3VtZVRoZUN1cnJlbnRJbnB1dENvZGVQb2ludCgpO1xuICAgICAgICByZXR1cm4gdGhpcy5jb25zdW1lTnVtZXJpY1Rva2VuKCk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMubmV4dE5JbnB1dENvZGVQb2ludHMoMikgPT09ICctPicpIHtcbiAgICAgICAgdGhpcy5jb25zdW1lTklucHV0Q29kZVBvaW50cygyKTtcbiAgICAgICAgcmV0dXJuIHt0b2tlbktpbmQ6IENzc1Rva2VuS2luZC5DREN9O1xuICAgICAgfSBlbHNlIGlmICh0aGlzLnN0cmVhbVN0YXJ0c1dpdGhBbklkZW50U2VxdWVuY2UoKSkge1xuICAgICAgICB0aGlzLnJlY29uc3VtZVRoZUN1cnJlbnRJbnB1dENvZGVQb2ludCgpO1xuICAgICAgICByZXR1cm4gdGhpcy5jb25zdW1lSWRlbnRMaWtlVG9rZW4oKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB7dG9rZW5LaW5kOiBDc3NUb2tlbktpbmQuREVMSU0sIGNvZGVQb2ludDogJy0nfTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA9PT0gJy4nKSB7XG4gICAgICBpZiAodGhpcy5zdHJlYW1TdGFydHNXaXRoQU51bWJlcigpKSB7XG4gICAgICAgIHRoaXMucmVjb25zdW1lVGhlQ3VycmVudElucHV0Q29kZVBvaW50KCk7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnN1bWVOdW1lcmljVG9rZW4oKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB7dG9rZW5LaW5kOiBDc3NUb2tlbktpbmQuREVMSU0sIGNvZGVQb2ludDogJy4nfTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA9PT0gJzonKSB7XG4gICAgICByZXR1cm4ge3Rva2VuS2luZDogQ3NzVG9rZW5LaW5kLkNPTE9OfTtcbiAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA9PT0gJzsnKSB7XG4gICAgICByZXR1cm4ge3Rva2VuS2luZDogQ3NzVG9rZW5LaW5kLlNFTUlDT0xPTn07XG4gICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPT09ICc8Jykge1xuICAgICAgaWYgKHRoaXMubmV4dE5JbnB1dENvZGVQb2ludHMoMykgPT09ICchLS0nKSB7XG4gICAgICAgIHRoaXMuY29uc3VtZU5JbnB1dENvZGVQb2ludHMoMyk7XG4gICAgICAgIHJldHVybiB7dG9rZW5LaW5kOiBDc3NUb2tlbktpbmQuQ0RPfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB7dG9rZW5LaW5kOiBDc3NUb2tlbktpbmQuREVMSU0sIGNvZGVQb2ludDogJzwnfTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA9PT0gJ0AnKSB7XG4gICAgICBpZiAoXG4gICAgICAgIHRoaXMudGhyZWVDb2RlUG9pbnRzV291bGRTdGFydEFuSWRlbnRTZXF1ZW5jZShcbiAgICAgICAgICAuLi50aGlzLm5leHRUaHJlZUlucHV0Q29kZVBvaW50cygpLFxuICAgICAgICApXG4gICAgICApIHtcbiAgICAgICAgY29uc3QgaWRlbnQgPSB0aGlzLmNvbnN1bWVJZGVudFNlcXVlbmNlKCk7XG4gICAgICAgIHJldHVybiB7dG9rZW5LaW5kOiBDc3NUb2tlbktpbmQuQVRfS0VZV09SRCwgbmFtZTogaWRlbnR9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHt0b2tlbktpbmQ6IENzc1Rva2VuS2luZC5ERUxJTSwgY29kZVBvaW50OiAnQCd9O1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoY29kZVBvaW50ID09PSAnXFxcXCcpIHtcbiAgICAgIGlmICh0aGlzLnN0cmVhbVN0YXJ0c1dpdGhWYWxpZEVzY2FwZSgpKSB7XG4gICAgICAgIHRoaXMucmVjb25zdW1lVGhlQ3VycmVudElucHV0Q29kZVBvaW50KCk7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnN1bWVJZGVudExpa2VUb2tlbigpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHt0b2tlbktpbmQ6IENzc1Rva2VuS2luZC5ERUxJTSwgY29kZVBvaW50OiAnXFxcXCd9O1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoY29kZVBvaW50ID09PSAnWycpIHtcbiAgICAgIHJldHVybiB7dG9rZW5LaW5kOiBDc3NUb2tlbktpbmQuT1BFTl9TUVVBUkV9O1xuICAgIH0gZWxzZSBpZiAoY29kZVBvaW50ID09PSAnXScpIHtcbiAgICAgIHJldHVybiB7dG9rZW5LaW5kOiBDc3NUb2tlbktpbmQuQ0xPU0VfU1FVQVJFfTtcbiAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA9PT0gJ3snKSB7XG4gICAgICByZXR1cm4ge3Rva2VuS2luZDogQ3NzVG9rZW5LaW5kLk9QRU5fQ1VSTFl9O1xuICAgIH0gZWxzZSBpZiAoY29kZVBvaW50ID09PSAnfScpIHtcbiAgICAgIHJldHVybiB7dG9rZW5LaW5kOiBDc3NUb2tlbktpbmQuQ0xPU0VfQ1VSTFl9O1xuICAgIH0gZWxzZSBpZiAodGhpcy5pc0RpZ2l0KGNvZGVQb2ludCkpIHtcbiAgICAgIHRoaXMucmVjb25zdW1lVGhlQ3VycmVudElucHV0Q29kZVBvaW50KCk7XG4gICAgICByZXR1cm4gdGhpcy5jb25zdW1lTnVtZXJpY1Rva2VuKCk7XG4gICAgfSBlbHNlIGlmICh0aGlzLmlzSWRlbnRTdGFydENvZGVQb2ludChjb2RlUG9pbnQpKSB7XG4gICAgICB0aGlzLnJlY29uc3VtZVRoZUN1cnJlbnRJbnB1dENvZGVQb2ludCgpO1xuICAgICAgcmV0dXJuIHRoaXMuY29uc3VtZUlkZW50TGlrZVRva2VuKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB7dG9rZW5LaW5kOiBDc3NUb2tlbktpbmQuREVMSU0sIGNvZGVQb2ludH07XG4gICAgfVxuICB9XG5cbiAgLyoqIGh0dHBzOi8vd3d3LnczLm9yZy9UUi8yMDIxL0NSRC1jc3Mtc3ludGF4LTMtMjAyMTEyMjQvI2NvbnN1bWUtY29tbWVudHMgKi9cbiAgcHJpdmF0ZSBjb25zdW1lQ29tbWVudHMoKTogYm9vbGVhbiB7XG4gICAgbGV0IGFueUNvbW1lbnRzID0gZmFsc2U7XG4gICAgd2hpbGUgKHRoaXMubmV4dE5JbnB1dENvZGVQb2ludHMoMikgPT09ICcvKicpIHtcbiAgICAgIGFueUNvbW1lbnRzID0gdHJ1ZTtcbiAgICAgIHRoaXMuY29uc3VtZU5JbnB1dENvZGVQb2ludHMoMik7XG4gICAgICBjb25zdCBlbmRJbmRleCA9IHRoaXMuY3NzLmluZGV4T2YoJyovJywgdGhpcy5wb3MpO1xuICAgICAgaWYgKGVuZEluZGV4ID09PSAtMSkge1xuICAgICAgICAvLyBJZiB0aGVyZSdzIG5vIGVuZCBjb21tZW50LCB3ZSBhc3N1bWUgdGhlIHJlc3Qgb2YgdGhlIGlucHV0IGlzIGFcbiAgICAgICAgLy8gY29tbWVudC5cbiAgICAgICAgdGhpcy5wb3MgPSB0aGlzLmNzcy5sZW5ndGg7XG4gICAgICAgIHJldHVybiBhbnlDb21tZW50cztcbiAgICAgIH1cbiAgICAgIHRoaXMucG9zID0gZW5kSW5kZXggKyAyO1xuICAgIH1cbiAgICByZXR1cm4gYW55Q29tbWVudHM7XG4gIH1cblxuICAvKipcbiAgICogaHR0cHM6Ly93d3cudzMub3JnL1RSLzIwMjEvQ1JELWNzcy1zeW50YXgtMy0yMDIxMTIyNC8jY29uc3VtZS1zdHJpbmctdG9rZW5cbiAgICpcbiAgICogQHBhcmFtIHF1b3RlIFRoZSBxdW90ZSBjaGFyYWN0ZXIgdGhhdCBzdGFydHMgdGhlIHN0cmluZy5cbiAgICovXG4gIHByaXZhdGUgY29uc3VtZVN0cmluZyhxdW90ZTogc3RyaW5nKTogU3RyaW5nVG9rZW4ge1xuICAgIGNvbnN0IHN0cmluZ1Rva2VuOiBTdHJpbmdUb2tlbiA9IHtcbiAgICAgIHRva2VuS2luZDogQ3NzVG9rZW5LaW5kLlNUUklORyxcbiAgICAgIHZhbHVlOiAnJyxcbiAgICB9O1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBjb25zdCBjb2RlUG9pbnQgPSB0aGlzLm5leHRJbnB1dENvZGVQb2ludCgpO1xuICAgICAgdGhpcy5jb25zdW1lVGhlTmV4dElucHV0Q29kZVBvaW50KCk7XG4gICAgICBpZiAoY29kZVBvaW50ID09PSBFT0YgfHwgY29kZVBvaW50ID09PSBxdW90ZSkge1xuICAgICAgICByZXR1cm4gc3RyaW5nVG9rZW47XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuaXNOZXdsaW5lKGNvZGVQb2ludCkpIHtcbiAgICAgICAgLy8gUGVyIHNwZWMsIGhlcmUgYSBiYWQtc3RyaW5nIHRva2VuIHNob3VsZCBiZSByZXR1cm5lZC4gSG93ZXZlcixcbiAgICAgICAgLy8gYmVjYXVzZSB0aGlzIHRva2VuIGlzbid0IHJlYWxseSB1c2VmdWwgZm9yIHNhbml0aXphdGlvbiwgd2UganVzdFxuICAgICAgICAvLyByZXR1cm4gYW4gZW1wdHkgc3RyaW5nIHRva2VuLlxuICAgICAgICB0aGlzLnJlY29uc3VtZVRoZUN1cnJlbnRJbnB1dENvZGVQb2ludCgpO1xuICAgICAgICBzdHJpbmdUb2tlbi52YWx1ZSA9ICcnO1xuICAgICAgICByZXR1cm4gc3RyaW5nVG9rZW47XG4gICAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA9PT0gJ1xcXFwnKSB7XG4gICAgICAgIGlmICh0aGlzLm5leHRJbnB1dENvZGVQb2ludCgpID09PSBFT0YpIHtcbiAgICAgICAgICAvLyA+IElmIHRoZSBuZXh0IGlucHV0IGNvZGUgcG9pbnQgaXMgRU9GLCBkbyBub3RoaW5nLlxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaXNOZXdsaW5lKHRoaXMubmV4dElucHV0Q29kZVBvaW50KCkpKSB7XG4gICAgICAgICAgdGhpcy5jb25zdW1lVGhlTmV4dElucHV0Q29kZVBvaW50KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgZXNjYXBlZENvZGVQb2ludCA9IHRoaXMuY29uc3VtZUVzY2FwZWRDb2RlUG9pbnQoKTtcbiAgICAgICAgICBzdHJpbmdUb2tlbi52YWx1ZSArPSBlc2NhcGVkQ29kZVBvaW50O1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdHJpbmdUb2tlbi52YWx1ZSArPSBjb2RlUG9pbnQ7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqIGh0dHBzOi8vd3d3LnczLm9yZy9UUi8yMDIxL0NSRC1jc3Mtc3ludGF4LTMtMjAyMTEyMjQvI2NvbnN1bWUtYW4tZXNjYXBlZC1jb2RlLXBvaW50ICovXG4gIHByaXZhdGUgY29uc3VtZUVzY2FwZWRDb2RlUG9pbnQoKTogc3RyaW5nIHtcbiAgICBjb25zdCBjb2RlUG9pbnQgPSB0aGlzLm5leHRJbnB1dENvZGVQb2ludCgpO1xuICAgIHRoaXMuY29uc3VtZVRoZU5leHRJbnB1dENvZGVQb2ludCgpO1xuICAgIGlmIChjb2RlUG9pbnQgPT09IEVPRikge1xuICAgICAgcmV0dXJuICdcXHVmZmZkJztcbiAgICB9IGVsc2UgaWYgKHRoaXMuaXNIZXhEaWdpdChjb2RlUG9pbnQpKSB7XG4gICAgICBsZXQgaGV4RGlnaXRzID0gY29kZVBvaW50O1xuICAgICAgLy8gPiBDb25zdW1lIGFzIG1hbnkgaGV4IGRpZ2l0cyBhcyBwb3NzaWJsZSBidXQgbm8gbW9yZSB0aGFuIDUuXG4gICAgICAvL1xuICAgICAgLy8gVGhlIHNwZWMgYXNzdW1lcyBoZXJlIHRoYXQgdGhlIGZpcnN0IGhleCBkaWdpdCBoYXMgYWxyZWFkeSBiZWVuXG4gICAgICAvLyBjb25zdW1lZC4gU28gaW4gZmFjdCwgdGhlIG1heGltdW0gbnVtYmVyIG9mIGhleCBkaWdpdHMgdGhhdCBjYW4gYmVcbiAgICAgIC8vIGNvbnN1bWVkIGlzIDYuXG4gICAgICB3aGlsZSAoXG4gICAgICAgIHRoaXMuaXNIZXhEaWdpdCh0aGlzLm5leHRJbnB1dENvZGVQb2ludCgpKSAmJlxuICAgICAgICBoZXhEaWdpdHMubGVuZ3RoIDwgNlxuICAgICAgKSB7XG4gICAgICAgIGhleERpZ2l0cyArPSB0aGlzLm5leHRJbnB1dENvZGVQb2ludCgpO1xuICAgICAgICB0aGlzLmNvbnN1bWVUaGVOZXh0SW5wdXRDb2RlUG9pbnQoKTtcbiAgICAgIH1cbiAgICAgIC8vIFdoaXRlc3BhY2UgZGlyZWN0bHkgZm9sbG93aW5nIGFuIGVzY2FwZSBzZXF1ZW5jZSBpcyBpZ25vcmVkLlxuICAgICAgaWYgKHRoaXMuaXNXaGl0ZXNwYWNlKHRoaXMubmV4dElucHV0Q29kZVBvaW50KCkpKSB7XG4gICAgICAgIHRoaXMuY29uc3VtZVRoZU5leHRJbnB1dENvZGVQb2ludCgpO1xuICAgICAgfVxuICAgICAgLy8gTmVlZGVkIHRvIHBhcnNlIGhleGFkZWNpbWFsLlxuICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOmJhblxuICAgICAgY29uc3QgbnVtID0gcGFyc2VJbnQoaGV4RGlnaXRzLCAxNik7XG4gICAgICByZXR1cm4gU3RyaW5nLmZyb21Db2RlUG9pbnQobnVtKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGNvZGVQb2ludDtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGNvbnN1bWVBc011Y2hXaGl0ZXNwYWNlQXNQb3NzaWJsZSgpIHtcbiAgICB3aGlsZSAodGhpcy5pc1doaXRlc3BhY2UodGhpcy5uZXh0SW5wdXRDb2RlUG9pbnQoKSkpIHtcbiAgICAgIHRoaXMuY29uc3VtZVRoZU5leHRJbnB1dENvZGVQb2ludCgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKiBodHRwczovL3d3dy53My5vcmcvVFIvMjAyMS9DUkQtY3NzLXN5bnRheC0zLTIwMjExMjI0LyNjb25zdW1lLWFuLWlkZW50LXNlcXVlbmNlICovXG4gIHByaXZhdGUgY29uc3VtZUlkZW50U2VxdWVuY2UoKTogc3RyaW5nIHtcbiAgICBsZXQgcmVzdWx0ID0gJyc7XG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGNvbnN0IGNvZGVQb2ludCA9IHRoaXMubmV4dElucHV0Q29kZVBvaW50KCk7XG4gICAgICB0aGlzLmNvbnN1bWVUaGVOZXh0SW5wdXRDb2RlUG9pbnQoKTtcbiAgICAgIGNvbnN0IGNvZGVQb2ludDIgPSB0aGlzLm5leHRJbnB1dENvZGVQb2ludCgpO1xuICAgICAgaWYgKHRoaXMuaXNJZGVudENvZGVQb2ludChjb2RlUG9pbnQpKSB7XG4gICAgICAgIHJlc3VsdCArPSBjb2RlUG9pbnQ7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMudHdvQ29kZVBvaW50c0FyZVZhbGlkRXNjYXBlKGNvZGVQb2ludCwgY29kZVBvaW50MikpIHtcbiAgICAgICAgcmVzdWx0ICs9IHRoaXMuY29uc3VtZUVzY2FwZWRDb2RlUG9pbnQoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucmVjb25zdW1lVGhlQ3VycmVudElucHV0Q29kZVBvaW50KCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqIGh0dHBzOi8vd3d3LnczLm9yZy9UUi8yMDIxL0NSRC1jc3Mtc3ludGF4LTMtMjAyMTEyMjQvI2NvbnN1bWUtYW4taWRlbnQtbGlrZS10b2tlbiAqL1xuICBwcml2YXRlIGNvbnN1bWVJZGVudExpa2VUb2tlbigpOiBDc3NUb2tlbiB8IENzc1Rva2VuW10ge1xuICAgIGNvbnN0IGlkZW50ID0gdGhpcy5jb25zdW1lSWRlbnRTZXF1ZW5jZSgpO1xuICAgIGlmICgvXnVybCQvaS50ZXN0KGlkZW50KSAmJiB0aGlzLm5leHRJbnB1dENvZGVQb2ludCgpID09PSAnKCcpIHtcbiAgICAgIC8vIFRPRE8oc2VjdXJpdHltYik6IFRoaXMgYWxnb3JpdGhtIG1heSBsb29rIGEgbGl0dGxlIHdlaXJkIGJ1dCB3ZSdyZVxuICAgICAgLy8gZm9sbG93aW5nIHRoZSBzcGVjIGhlcmUgZXhhY3RseS4gV2Ugd2lsbCBzZWUgbGF0ZXIgb24gaWYgdGhpcyBjYW4gYmVcbiAgICAgIC8vIG9wdGltaXplZC5cbiAgICAgIHRoaXMuY29uc3VtZVRoZU5leHRJbnB1dENvZGVQb2ludCgpO1xuICAgICAgd2hpbGUgKHRoaXMubmV4dFR3b0lucHV0c1BvaW50c0FyZVdoaXRlc3BhY2UoKSkge1xuICAgICAgICB0aGlzLmNvbnN1bWVUaGVOZXh0SW5wdXRDb2RlUG9pbnQoKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG5leHRUd28gPSB0aGlzLm5leHRUd29JbnB1dENvZGVQb2ludHMoKTtcbiAgICAgIGlmIChcbiAgICAgICAgKHRoaXMuaXNXaGl0ZXNwYWNlKG5leHRUd29bMF0pICYmXG4gICAgICAgICAgKG5leHRUd29bMV0gPT09ICdcIicgfHwgbmV4dFR3b1sxXSA9PT0gXCInXCIpKSB8fFxuICAgICAgICBuZXh0VHdvWzBdID09PSAnXCInIHx8XG4gICAgICAgIG5leHRUd29bMF0gPT09IFwiJ1wiXG4gICAgICApIHtcbiAgICAgICAgLy8gRnVuY3Rpb24gbmFtZXMgYXJlIGNhc2UtaW5zZW5zaXRpdmUgaW4gQ1NTIHNvIGluc3RlYWQgb2YgcmV0dXJuaW5nXG4gICAgICAgIC8vIFwidXJsXCIgaW4gaXRzIG9yaWdpbmFsIGNhc2luZywgd2UganVzdCBsb3dlcmNhc2UgaXQuXG4gICAgICAgIHJldHVybiB7dG9rZW5LaW5kOiBDc3NUb2tlbktpbmQuRlVOQ1RJT04sIGxvd2VyY2FzZU5hbWU6ICd1cmwnfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnN1bWVVcmxUb2tlbigpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodGhpcy5uZXh0SW5wdXRDb2RlUG9pbnQoKSA9PT0gJygnKSB7XG4gICAgICB0aGlzLmNvbnN1bWVUaGVOZXh0SW5wdXRDb2RlUG9pbnQoKTtcbiAgICAgIC8vIFdlIGxvd2VyY2FzZSB0aGUgZnVuY3Rpb24gbmFtZSBiZWNhdXNlIGZ1bmN0aW9uIG5hbWVzIGFyZVxuICAgICAgLy8gY2FzZS1pbnNlbnNpdGl2ZSBpbiBDU1MuXG4gICAgICByZXR1cm4ge1xuICAgICAgICB0b2tlbktpbmQ6IENzc1Rva2VuS2luZC5GVU5DVElPTixcbiAgICAgICAgbG93ZXJjYXNlTmFtZTogaWRlbnQudG9Mb3dlckNhc2UoKSxcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7dG9rZW5LaW5kOiBDc3NUb2tlbktpbmQuSURFTlQsIGlkZW50fTtcbiAgfVxuXG4gIC8qKlxuICAgKiBodHRwczovL3d3dy53My5vcmcvVFIvMjAyMS9DUkQtY3NzLXN5bnRheC0zLTIwMjExMjI0LyNjb25zdW1lLWEtdXJsLXRva2VuXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIGhhcyBhIHNpZ25pZmljYW50IHdpbGxmdWwgdmlvbGF0aW9uIG9mIHRoZSBzcGVjLiBQZXIgc3BlYyxcbiAgICogVVJMcyBpbiBDU1MgKHN1Y2ggYXMgXCJ1cmwoLi4uKVwiKSBjYW4gcmV0dXJuIHR3byB0eXBlcyBvZiB0b2tlbnMsIGRlcGVuZGluZ1xuICAgKiBvbiB3aGV0aGVyIHRoZSBhcmd1bWVudCBpcyBhIHF1b3RlZCBzdHJpbmcgb3Igbm90LlxuICAgKlxuICAgKiBTbyBgdXJsKGh0dHBzOi8vZXhhbXBsZS5jb20pYCByZXR1cm5zIGEgVVJMIHRva2VuLCB3aGlsZVxuICAgKiBgdXJsKCdodHRwczovL2V4YW1wbGUuY29tJylgIHJldHVybnMgYSBmdW5jdGlvbiB0b2tlbiwgZm9sbG93ZWQgYnkgYSBzdHJpbmdcbiAgICogdG9rZW4sIGZvbGxvd2VkIGJ5IGEgY2xvc2UgcGFyZW4gdG9rZW4uXG4gICAqXG4gICAqIEhhdmluZyB0d28gdHlwZXMgb2YgdG9rZW5zIGZvciBVUkwgZnVuY3Rpb25zIG1ha2UgdGhlIHNhbml0aXphdGlvbiBsb2dpY1xuICAgKiBtb3JlIGNvbXBsaWNhdGVkIGFuZCB0aGVyZSdzIG5vIHJlYWwgYmVuZWZpdCB0byBpdC5cbiAgICpcbiAgICogU28gdGhpcyBmdW5jdGlvbiB3aWxsIGFsd2F5cyByZXR1cm4gYSBmdW5jdGlvbiB0b2tlbiwgZm9sbG93ZWQgYnkgYSBzdHJpbmdcbiAgICogdG9rZW4sIGZvbGxvd2VkIGJ5IGEgY2xvc2UgcGFyZW4gdG9rZW4gdG8gYmUgY29uc2lzdGVudC5cbiAgICpcbiAgICogVGhlIHNwZWMgYWxzbyB1c2VzIGEgYmFkLXVybCB0b2tlbiBidXQgd2UgaW5zdGVhZCByZXR1cm4gYW4gZW1wdHkgc3RyaW5nXG4gICAqIHRva2VuLlxuICAgKlxuICAgKi9cbiAgcHJpdmF0ZSBjb25zdW1lVXJsVG9rZW4oKTogQ3NzVG9rZW5bXSB7XG4gICAgbGV0IHVybCA9ICcnO1xuICAgIHRoaXMuY29uc3VtZUFzTXVjaFdoaXRlc3BhY2VBc1Bvc3NpYmxlKCk7XG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGNvbnN0IGNvZGVQb2ludCA9IHRoaXMubmV4dElucHV0Q29kZVBvaW50KCk7XG4gICAgICB0aGlzLmNvbnN1bWVUaGVOZXh0SW5wdXRDb2RlUG9pbnQoKTtcbiAgICAgIGlmIChjb2RlUG9pbnQgPT09ICcpJyB8fCBjb2RlUG9pbnQgPT09IEVPRikge1xuICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVGdW5jdGlvblVybFRva2VuKHVybCk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuaXNXaGl0ZXNwYWNlKGNvZGVQb2ludCkpIHtcbiAgICAgICAgdGhpcy5jb25zdW1lQXNNdWNoV2hpdGVzcGFjZUFzUG9zc2libGUoKTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHRoaXMubmV4dElucHV0Q29kZVBvaW50KCkgPT09ICcpJyB8fFxuICAgICAgICAgIHRoaXMubmV4dElucHV0Q29kZVBvaW50KCkgPT09IEVPRlxuICAgICAgICApIHtcbiAgICAgICAgICB0aGlzLmNvbnN1bWVUaGVOZXh0SW5wdXRDb2RlUG9pbnQoKTtcbiAgICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVGdW5jdGlvblVybFRva2VuKHVybCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5jb25zdW1lUmVtbmFudHNPZkJhZFVybCgpO1xuICAgICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZUZ1bmN0aW9uVXJsVG9rZW4oJycpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKFxuICAgICAgICBjb2RlUG9pbnQgPT09ICdcIicgfHxcbiAgICAgICAgY29kZVBvaW50ID09PSBcIidcIiB8fFxuICAgICAgICBjb2RlUG9pbnQgPT09ICcoJyB8fFxuICAgICAgICB0aGlzLmlzTm9uUHJpbnRhYmxlQ29kZVBvaW50KGNvZGVQb2ludClcbiAgICAgICkge1xuICAgICAgICB0aGlzLmNvbnN1bWVSZW1uYW50c09mQmFkVXJsKCk7XG4gICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZUZ1bmN0aW9uVXJsVG9rZW4oJycpO1xuICAgICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPT09ICdcXFxcJykge1xuICAgICAgICBpZiAodGhpcy5zdHJlYW1TdGFydHNXaXRoVmFsaWRFc2NhcGUoKSkge1xuICAgICAgICAgIHVybCArPSB0aGlzLmNvbnN1bWVFc2NhcGVkQ29kZVBvaW50KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5jb25zdW1lUmVtbmFudHNPZkJhZFVybCgpO1xuICAgICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZUZ1bmN0aW9uVXJsVG9rZW4oJycpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB1cmwgKz0gY29kZVBvaW50O1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKiBIZWxwZXIgZnVuY3Rpb24gdG8gbWFrZSBgY29uc3VtZVVybFRva2VuYCBhIGxpdHRsZSBtb3JlIHJlYWRhYmxlLiAqL1xuICBwcml2YXRlIGNyZWF0ZUZ1bmN0aW9uVXJsVG9rZW4odXJsOiBzdHJpbmcpOiBDc3NUb2tlbltdIHtcbiAgICByZXR1cm4gW1xuICAgICAge3Rva2VuS2luZDogQ3NzVG9rZW5LaW5kLkZVTkNUSU9OLCBsb3dlcmNhc2VOYW1lOiAndXJsJ30sXG4gICAgICB7dG9rZW5LaW5kOiBDc3NUb2tlbktpbmQuU1RSSU5HLCB2YWx1ZTogdXJsfSxcbiAgICAgIHt0b2tlbktpbmQ6IENzc1Rva2VuS2luZC5DTE9TRV9QQVJFTn0sXG4gICAgXTtcbiAgfVxuXG4gIC8qKiBodHRwczovL3d3dy53My5vcmcvVFIvMjAyMS9DUkQtY3NzLXN5bnRheC0zLTIwMjExMjI0LyNjb25zdW1lLXRoZS1yZW1uYW50cy1vZi1hLWJhZC11cmwgKi9cbiAgcHJpdmF0ZSBjb25zdW1lUmVtbmFudHNPZkJhZFVybCgpIHtcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgY29uc3QgY29kZVBvaW50ID0gdGhpcy5uZXh0SW5wdXRDb2RlUG9pbnQoKTtcbiAgICAgIHRoaXMuY29uc3VtZVRoZU5leHRJbnB1dENvZGVQb2ludCgpO1xuICAgICAgaWYgKGNvZGVQb2ludCA9PT0gRU9GIHx8IGNvZGVQb2ludCA9PT0gJyknKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5zdHJlYW1TdGFydHNXaXRoVmFsaWRFc2NhcGUoKSkge1xuICAgICAgICB0aGlzLmNvbnN1bWVFc2NhcGVkQ29kZVBvaW50KCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBmdW5jdGlvbiByZXR1cm5zIHRoZSBvcmlnaW5hbCByZXByZXNlbnRhdGlvbiBvZiB0aGUgbnVtYmVyOyB3ZSBkb24ndFxuICAgKiB0cnkgdG8gcGFyc2UgdGhlIG51bWJlciwgYXMgcmVxdWlyZWQgYnkgdGhlIHNwZWMuXG4gICAqXG4gICAqIFdlIGFsc28gZG9uJ3QgcmV0dXJuIHRoZSBpbmZvcm1hdGlvbiB3aGV0aGVyIGEgbnVtYmVyIGlzIGludGVnZXIgb3Igbm90XG4gICAqIHNpbmNlIGl0J3MgaXJyZWxldmFudCBmb3Igc2FuaXRpemF0aW9uLlxuICAgKlxuICAgKiBodHRwczovL3d3dy53My5vcmcvVFIvMjAyMS9DUkQtY3NzLXN5bnRheC0zLTIwMjExMjI0LyNjb25zdW1lLW51bWJlclxuICAgKi9cbiAgcHJpdmF0ZSBjb25zdW1lTnVtYmVyKCk6IHN0cmluZyB7XG4gICAgbGV0IHJlcHIgPSAnJztcbiAgICB7XG4gICAgICBjb25zdCBuZXh0ID0gdGhpcy5uZXh0SW5wdXRDb2RlUG9pbnQoKTtcbiAgICAgIGlmIChuZXh0ID09PSAnKycgfHwgbmV4dCA9PT0gJy0nKSB7XG4gICAgICAgIHRoaXMuY29uc3VtZVRoZU5leHRJbnB1dENvZGVQb2ludCgpO1xuICAgICAgICByZXByICs9IG5leHQ7XG4gICAgICB9XG4gICAgfVxuICAgIHJlcHIgKz0gdGhpcy5jb25zdW1lRGlnaXRzKCk7XG4gICAge1xuICAgICAgY29uc3QgbmV4dCA9IHRoaXMubmV4dElucHV0Q29kZVBvaW50KCk7XG4gICAgICBjb25zdCBuZXh0MiA9IHRoaXMuY3NzW3RoaXMucG9zICsgMV07XG4gICAgICBpZiAobmV4dCA9PT0gJy4nICYmIHRoaXMuaXNEaWdpdChuZXh0MikpIHtcbiAgICAgICAgdGhpcy5jb25zdW1lVGhlTmV4dElucHV0Q29kZVBvaW50KCk7XG4gICAgICAgIHJlcHIgKz0gJy4nICsgdGhpcy5jb25zdW1lRGlnaXRzKCk7XG4gICAgICB9XG4gICAgfVxuICAgIHtcbiAgICAgIGNvbnN0IG5leHQgPSB0aGlzLm5leHRJbnB1dENvZGVQb2ludCgpO1xuICAgICAgY29uc3QgbmV4dDIgPSB0aGlzLmNzc1t0aGlzLnBvcyArIDFdO1xuICAgICAgY29uc3QgbmV4dDMgPSB0aGlzLmNzc1t0aGlzLnBvcyArIDJdO1xuICAgICAgaWYgKG5leHQgPT09ICdlJyB8fCBuZXh0ID09PSAnRScpIHtcbiAgICAgICAgaWYgKChuZXh0MiA9PT0gJysnIHx8IG5leHQyID09PSAnLScpICYmIHRoaXMuaXNEaWdpdChuZXh0MykpIHtcbiAgICAgICAgICB0aGlzLmNvbnN1bWVOSW5wdXRDb2RlUG9pbnRzKDIpO1xuICAgICAgICAgIHJlcHIgKz0gbmV4dCArIG5leHQyICsgdGhpcy5jb25zdW1lRGlnaXRzKCk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5pc0RpZ2l0KG5leHQyKSkge1xuICAgICAgICAgIHRoaXMuY29uc3VtZVRoZU5leHRJbnB1dENvZGVQb2ludCgpO1xuICAgICAgICAgIHJlcHIgKz0gbmV4dCArIHRoaXMuY29uc3VtZURpZ2l0cygpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXByO1xuICB9XG5cbiAgcHJpdmF0ZSBjb25zdW1lRGlnaXRzKCk6IHN0cmluZyB7XG4gICAgbGV0IHJlcHIgPSAnJztcbiAgICB3aGlsZSAodGhpcy5pc0RpZ2l0KHRoaXMubmV4dElucHV0Q29kZVBvaW50KCkpKSB7XG4gICAgICByZXByICs9IHRoaXMubmV4dElucHV0Q29kZVBvaW50KCk7XG4gICAgICB0aGlzLmNvbnN1bWVUaGVOZXh0SW5wdXRDb2RlUG9pbnQoKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcHI7XG4gIH1cblxuICAvKiogaHR0cHM6Ly93d3cudzMub3JnL1RSLzIwMjEvQ1JELWNzcy1zeW50YXgtMy0yMDIxMTIyNC8jY29uc3VtZS1udW1lcmljLXRva2VuICovXG4gIHByaXZhdGUgY29uc3VtZU51bWVyaWNUb2tlbigpOlxuICAgIHwgTnVtYmVyVG9rZW5cbiAgICB8IERpbWVuc2lvblRva2VuXG4gICAgfCBQZXJjZW50YWdlVG9rZW4ge1xuICAgIGNvbnN0IHJlcHIgPSB0aGlzLmNvbnN1bWVOdW1iZXIoKTtcbiAgICBpZiAoXG4gICAgICB0aGlzLnRocmVlQ29kZVBvaW50c1dvdWxkU3RhcnRBbklkZW50U2VxdWVuY2UoXG4gICAgICAgIC4uLnRoaXMubmV4dFRocmVlSW5wdXRDb2RlUG9pbnRzKCksXG4gICAgICApXG4gICAgKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0b2tlbktpbmQ6IENzc1Rva2VuS2luZC5ESU1FTlNJT04sXG4gICAgICAgIHJlcHIsXG4gICAgICAgIGRpbWVuc2lvbjogdGhpcy5jb25zdW1lSWRlbnRTZXF1ZW5jZSgpLFxuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKHRoaXMubmV4dElucHV0Q29kZVBvaW50KCkgPT09ICclJykge1xuICAgICAgdGhpcy5jb25zdW1lVGhlTmV4dElucHV0Q29kZVBvaW50KCk7XG4gICAgICByZXR1cm4ge3Rva2VuS2luZDogQ3NzVG9rZW5LaW5kLlBFUkNFTlRBR0UsIHJlcHJ9O1xuICAgIH1cbiAgICByZXR1cm4ge3Rva2VuS2luZDogQ3NzVG9rZW5LaW5kLk5VTUJFUiwgcmVwcn07XG4gIH1cblxuICBwcml2YXRlIG5leHRUd29JbnB1dHNQb2ludHNBcmVXaGl0ZXNwYWNlKCkge1xuICAgIHJldHVybiB0aGlzLm5leHRUd29JbnB1dENvZGVQb2ludHMoKS5ldmVyeSgoYykgPT4gdGhpcy5pc1doaXRlc3BhY2UoYykpO1xuICB9XG5cbiAgLyoqIGh0dHBzOi8vd3d3LnczLm9yZy9UUi8yMDIxL0NSRC1jc3Mtc3ludGF4LTMtMjAyMTEyMjQvI2NoZWNrLWlmLXR3by1jb2RlLXBvaW50cy1hcmUtYS12YWxpZC1lc2NhcGUgKi9cbiAgcHJpdmF0ZSB0d29Db2RlUG9pbnRzQXJlVmFsaWRFc2NhcGUoXG4gICAgY29kZVBvaW50MT86IHN0cmluZyxcbiAgICBjb2RlUG9pbnQyPzogc3RyaW5nLFxuICApIHtcbiAgICByZXR1cm4gY29kZVBvaW50MSA9PT0gJ1xcXFwnICYmIGNvZGVQb2ludDIgIT09ICdcXG4nO1xuICB9XG5cbiAgcHJpdmF0ZSBzdHJlYW1TdGFydHNXaXRoVmFsaWRFc2NhcGUoKSB7XG4gICAgcmV0dXJuIHRoaXMudHdvQ29kZVBvaW50c0FyZVZhbGlkRXNjYXBlKFxuICAgICAgdGhpcy5jdXJyZW50SW5wdXRDb2RlUG9pbnQoKSxcbiAgICAgIHRoaXMubmV4dElucHV0Q29kZVBvaW50KCksXG4gICAgKTtcbiAgfVxuXG4gIC8qKiBodHRwczovL3d3dy53My5vcmcvVFIvMjAyMS9DUkQtY3NzLXN5bnRheC0zLTIwMjExMjI0LyNjaGVjay1pZi10aHJlZS1jb2RlLXBvaW50cy13b3VsZC1zdGFydC1hLW51bWJlciAqL1xuICBwcml2YXRlIHRocmVlQ29kZVBvaW50c1dvdWxkU3RhcnRBTnVtYmVyKFxuICAgIGNvZGVQb2ludDE/OiBzdHJpbmcsXG4gICAgY29kZVBvaW50Mj86IHN0cmluZyxcbiAgICBjb2RlUG9pbnQzPzogc3RyaW5nLFxuICApIHtcbiAgICBpZiAoY29kZVBvaW50MSA9PT0gJysnIHx8IGNvZGVQb2ludDEgPT09ICctJykge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgdGhpcy5pc0RpZ2l0KGNvZGVQb2ludDIpIHx8XG4gICAgICAgIChjb2RlUG9pbnQyID09PSAnLicgJiYgdGhpcy5pc0RpZ2l0KGNvZGVQb2ludDMpKVxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKGNvZGVQb2ludDEgPT09ICcuJykge1xuICAgICAgcmV0dXJuIHRoaXMuaXNEaWdpdChjb2RlUG9pbnQyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuaXNEaWdpdChjb2RlUG9pbnQxKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHN0cmVhbVN0YXJ0c1dpdGhBTnVtYmVyKCkge1xuICAgIHJldHVybiB0aGlzLnRocmVlQ29kZVBvaW50c1dvdWxkU3RhcnRBTnVtYmVyKFxuICAgICAgdGhpcy5jdXJyZW50SW5wdXRDb2RlUG9pbnQoKSxcbiAgICAgIC4uLnRoaXMubmV4dFR3b0lucHV0Q29kZVBvaW50cygpLFxuICAgICk7XG4gIH1cblxuICAvKiogaHR0cHM6Ly93d3cudzMub3JnL1RSLzIwMjEvQ1JELWNzcy1zeW50YXgtMy0yMDIxMTIyNC8jd291bGQtc3RhcnQtYW4taWRlbnRpZmllciAqL1xuICBwcml2YXRlIHRocmVlQ29kZVBvaW50c1dvdWxkU3RhcnRBbklkZW50U2VxdWVuY2UoXG4gICAgY29kZVBvaW50MT86IHN0cmluZyxcbiAgICBjb2RlUG9pbnQyPzogc3RyaW5nLFxuICAgIGNvZGVQb2ludDM/OiBzdHJpbmcsXG4gICkge1xuICAgIGlmIChjb2RlUG9pbnQxID09PSAnLScpIHtcbiAgICAgIGlmICh0aGlzLmlzSWRlbnRTdGFydENvZGVQb2ludChjb2RlUG9pbnQyKSB8fCBjb2RlUG9pbnQyID09PSAnLScpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMudHdvQ29kZVBvaW50c0FyZVZhbGlkRXNjYXBlKGNvZGVQb2ludDIsIGNvZGVQb2ludDMpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodGhpcy5pc0lkZW50U3RhcnRDb2RlUG9pbnQoY29kZVBvaW50MSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSBpZiAoY29kZVBvaW50MSA9PT0gJ1xcXFwnKSB7XG4gICAgICByZXR1cm4gdGhpcy50d29Db2RlUG9pbnRzQXJlVmFsaWRFc2NhcGUoY29kZVBvaW50MSwgY29kZVBvaW50Mik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHN0cmVhbVN0YXJ0c1dpdGhBbklkZW50U2VxdWVuY2UoKSB7XG4gICAgcmV0dXJuIHRoaXMudGhyZWVDb2RlUG9pbnRzV291bGRTdGFydEFuSWRlbnRTZXF1ZW5jZShcbiAgICAgIHRoaXMuY3VycmVudElucHV0Q29kZVBvaW50KCksXG4gICAgICAuLi50aGlzLm5leHRUd29JbnB1dENvZGVQb2ludHMoKSxcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBpc0RpZ2l0KGNvZGVQb2ludDogc3RyaW5nIHwgRU9GKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGNvZGVQb2ludCAhPT0gRU9GICYmIGNvZGVQb2ludCA+PSAnMCcgJiYgY29kZVBvaW50IDw9ICc5JztcbiAgfVxuXG4gIHByaXZhdGUgaXNIZXhEaWdpdChjb2RlUG9pbnQ6IHN0cmluZyB8IEVPRik6IGJvb2xlYW4ge1xuICAgIHJldHVybiBjb2RlUG9pbnQgIT09IEVPRiAmJiBIRVhfRElHSVRfUkVHRVgudGVzdChjb2RlUG9pbnQpO1xuICB9XG5cbiAgLyoqIGh0dHBzOi8vd3d3LnczLm9yZy9UUi8yMDIxL0NSRC1jc3Mtc3ludGF4LTMtMjAyMTEyMjQvI25ld2xpbmUgKi9cbiAgcHJpdmF0ZSBpc05ld2xpbmUoY29kZVBvaW50OiBzdHJpbmcgfCBFT0YpOiBib29sZWFuIHtcbiAgICByZXR1cm4gY29kZVBvaW50ID09PSAnXFx1MDAwYSc7XG4gIH1cblxuICAvKiogaHR0cHM6Ly93d3cudzMub3JnL1RSLzIwMjEvQ1JELWNzcy1zeW50YXgtMy0yMDIxMTIyNC8jd2hpdGVzcGFjZSAqL1xuICBwcml2YXRlIGlzV2hpdGVzcGFjZShjb2RlUG9pbnQ6IHN0cmluZyB8IEVPRik6IGJvb2xlYW4ge1xuICAgIHJldHVybiAoXG4gICAgICBjb2RlUG9pbnQgPT09ICcgJyB8fCBjb2RlUG9pbnQgPT09ICdcXHUwMDA5JyB8fCB0aGlzLmlzTmV3bGluZShjb2RlUG9pbnQpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUcnVlIGZvciBsZXR0ZXJzLCBkaWdpdHMsIHVuZGVyc2NvcmVzLCBoeXBoZW5zLCBhbmQgbm9uLUFTQ0lJIGNvZGUgcG9pbnRzLlxuICAgKlxuICAgKiBodHRwczovL3d3dy53My5vcmcvVFIvMjAyMS9DUkQtY3NzLXN5bnRheC0zLTIwMjExMjI0LyNpZGVudC1jb2RlLXBvaW50XG4gICAqL1xuICBwcml2YXRlIGlzSWRlbnRDb2RlUG9pbnQoY29kZVBvaW50OiBzdHJpbmcgfCB1bmRlZmluZWQpOiBib29sZWFuIHtcbiAgICBpZiAoY29kZVBvaW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIC9eKFtBLVphLXowLTlfLV18W15cXHUwMDAwLVxcdTAwN2ZdKSQvLnRlc3QoY29kZVBvaW50KTtcbiAgfVxuXG4gIC8qKiBodHRwczovL3d3dy53My5vcmcvVFIvMjAyMS9DUkQtY3NzLXN5bnRheC0zLTIwMjExMjI0LyNpZGVudC1zdGFydC1jb2RlLXBvaW50ICovXG4gIHByaXZhdGUgaXNJZGVudFN0YXJ0Q29kZVBvaW50KFxuICAgIGNvZGVQb2ludDogc3RyaW5nIHwgdW5kZWZpbmVkLFxuICApOiBjb2RlUG9pbnQgaXMgc3RyaW5nIHtcbiAgICBpZiAoY29kZVBvaW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIC9eKFtBLVphLXpfXXxbXlxcdTAwMDAtXFx1MDA3Zl0pJC8udGVzdChjb2RlUG9pbnQpO1xuICB9XG5cbiAgLyoqIGh0dHBzOi8vd3d3LnczLm9yZy9UUi8yMDIxL0NSRC1jc3Mtc3ludGF4LTMtMjAyMTEyMjQvI25vbi1wcmludGFibGUtY29kZS1wb2ludCAqL1xuICBwcml2YXRlIGlzTm9uUHJpbnRhYmxlQ29kZVBvaW50KGNvZGVQb2ludDogc3RyaW5nIHwgdW5kZWZpbmVkKSB7XG4gICAgaWYgKGNvZGVQb2ludCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiAvW1xceDAwLVxceDA4XFx4MGJcXHgwZS1cXHgxZlxceDdmXS8udGVzdChjb2RlUG9pbnQpO1xuICB9XG59XG5cbi8qKlxuICogVG9rZW5pemVzIHRoZSBnaXZlbiBDU1Mgc3RyaW5nLlxuICpcbiAqIEBwYXJhbSBjc3MgVGhlIENTUyBzdHJpbmcgdG8gdG9rZW5pemUuXG4gKiBAcmV0dXJuIFRoZSBsaXN0IG9mIHRva2Vucy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRva2VuaXplQ3NzKGNzczogc3RyaW5nKTogQ3NzVG9rZW5bXSB7XG4gIHJldHVybiBuZXcgVG9rZW5pemVyKGNzcykudG9rZW5pemUoKTtcbn1cbiJdfQ==
;return exports;});

//third_party/javascript/safevalues/builders/html_sanitizer/resource_url_policy.closure.js
goog.loadModule(function(exports) {'use strict';/**
 * @license
 * Copyright Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
/**
 * @fileoverview Exports the ResourceUrlPolicy type and its associated
 * interfaces.
 * Generated from: third_party/javascript/safevalues/builders/html_sanitizer/resource_url_policy.ts
 * @suppress {checkTypes} added by tsickle
 * @suppress {extraRequire} added by tsickle
 * @suppress {missingRequire} added by tsickle
 * @suppress {uselessCode} added by tsickle
 * @suppress {suspiciousCode} added by tsickle
 * @suppress {missingReturn} added by tsickle
 * @suppress {unusedPrivateMembers} added by tsickle
 * @suppress {missingOverride} added by tsickle
 * @suppress {const} added by tsickle
 */
goog.module('google3.third_party.javascript.safevalues.builders.html_sanitizer.resource_url_policy');
var module = module || { id: 'third_party/javascript/safevalues/builders/html_sanitizer/resource_url_policy.closure.js' };
goog.require('google3.third_party.javascript.tslib.tslib');
/**
 * A policy that can be used to check whether a given URL is allowed to be
 * loaded as an external resource.
 * @typedef {function(!URL, (!StyleElementOrAttributeResourceUrlPolicyHints|!HtmlAttributeResourceUrlPolicyHints)): (null|!URL)}
 */
exports.ResourceUrlPolicy;
/**
 * The type of the hints that can be passed to a ResourceUrlPolicy.
 * @enum {number}
 */
const ResourceUrlPolicyHintsType = {
    STYLE_ELEMENT: 0,
    STYLE_ATTRIBUTE: 1,
    HTML_ATTRIBUTE: 2,
};
exports.ResourceUrlPolicyHintsType = ResourceUrlPolicyHintsType;
ResourceUrlPolicyHintsType[ResourceUrlPolicyHintsType.STYLE_ELEMENT] = 'STYLE_ELEMENT';
ResourceUrlPolicyHintsType[ResourceUrlPolicyHintsType.STYLE_ATTRIBUTE] = 'STYLE_ATTRIBUTE';
ResourceUrlPolicyHintsType[ResourceUrlPolicyHintsType.HTML_ATTRIBUTE] = 'HTML_ATTRIBUTE';
/**
 * @record
 */
function StyleElementOrAttributeResourceUrlPolicyHints() { }
/* istanbul ignore if */
if (false) {
    /**
     * The external resource is being loaded by a stylesheet from a <style> tag or
     * a style attribute.
     * @const {!ResourceUrlPolicyHintsType}
     * @public
     */
    StyleElementOrAttributeResourceUrlPolicyHints.prototype.type;
    /**
     * The CSS property that attempts to load the resource.
     * @const {string}
     * @public
     */
    StyleElementOrAttributeResourceUrlPolicyHints.prototype.propertyName;
}
/**
 * @record
 */
function HtmlAttributeResourceUrlPolicyHints() { }
/* istanbul ignore if */
if (false) {
    /**
     * The external resource is being loaded by an HTML attribute.
     * @const {!ResourceUrlPolicyHintsType}
     * @public
     */
    HtmlAttributeResourceUrlPolicyHints.prototype.type;
    /**
     * The HTML attribute that attempts to load the resource.
     * @const {string}
     * @public
     */
    HtmlAttributeResourceUrlPolicyHints.prototype.attributeName;
    /**
     * The HTML element that contains the attribute.
     * @const {string}
     * @public
     */
    HtmlAttributeResourceUrlPolicyHints.prototype.elementName;
}
/**
 * Hints that can be passed to a ResourceUrlPolicy to make the check more
 * informed.
 * @typedef {(!StyleElementOrAttributeResourceUrlPolicyHints|!HtmlAttributeResourceUrlPolicyHints)}
 */
exports.ResourceUrlPolicyHints;
/**
 * Parses a URL. If the URL is invalid, returns URL instance with
 * `about:invalid`.
 * @param {string} value
 * @return {!URL}
 */
function parseUrl(value) {
    try {
        return new URL(value, window.document.baseURI);
    }
    catch (e) {
        return new URL('about:invalid');
    }
}
exports.parseUrl = parseUrl;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVzb3VyY2VfdXJsX3BvbGljeS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL3RoaXJkX3BhcnR5L2phdmFzY3JpcHQvc2FmZXZhbHVlcy9idWlsZGVycy9odG1sX3Nhbml0aXplci9yZXNvdXJjZV91cmxfcG9saWN5LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQWVBLDBCQUdnQjs7Ozs7QUFLaEIsTUFBWSwwQkFBMEI7SUFDcEMsYUFBYSxHQUFBO0lBQ2IsZUFBZSxHQUFBO0lBQ2YsY0FBYyxHQUFBO0VBQ2Y7Ozs7Ozs7O0FBRUQsNERBWUM7Ozs7Ozs7OztJQVBDLDZEQUUrQzs7Ozs7O0lBSS9DLHFFQUE4Qjs7Ozs7QUFHaEMsa0RBYUM7Ozs7Ozs7O0lBVEMsbURBQXlEOzs7Ozs7SUFJekQsNERBQStCOzs7Ozs7SUFJL0IsMERBQTZCOzs7Ozs7O0FBTy9CLCtCQUV3Qzs7Ozs7OztBQU14QyxTQUFnQixRQUFRLENBQUMsS0FBYTtJQUNwQyxJQUFJLENBQUM7UUFDSCxPQUFPLElBQUksR0FBRyxDQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ2pELENBQUM7SUFBQyxPQUFPLENBQUMsRUFBRSxDQUFDO1FBQ1gsT0FBTyxJQUFJLEdBQUcsQ0FBQyxlQUFlLENBQUMsQ0FBQztJQUNsQyxDQUFDO0FBQ0gsQ0FBQztBQU5ELDRCQU1DIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IEV4cG9ydHMgdGhlIFJlc291cmNlVXJsUG9saWN5IHR5cGUgYW5kIGl0cyBhc3NvY2lhdGVkXG4gKiBpbnRlcmZhY2VzLlxuICovXG5cbi8qKlxuICogQSBwb2xpY3kgdGhhdCBjYW4gYmUgdXNlZCB0byBjaGVjayB3aGV0aGVyIGEgZ2l2ZW4gVVJMIGlzIGFsbG93ZWQgdG8gYmVcbiAqIGxvYWRlZCBhcyBhbiBleHRlcm5hbCByZXNvdXJjZS5cbiAqL1xuZXhwb3J0IHR5cGUgUmVzb3VyY2VVcmxQb2xpY3kgPSAoXG4gIHVybDogVVJMLFxuICBoaW50czogUmVzb3VyY2VVcmxQb2xpY3lIaW50cyxcbikgPT4gVVJMIHwgbnVsbDtcblxuLyoqXG4gKiBUaGUgdHlwZSBvZiB0aGUgaGludHMgdGhhdCBjYW4gYmUgcGFzc2VkIHRvIGEgUmVzb3VyY2VVcmxQb2xpY3kuXG4gKi9cbmV4cG9ydCBlbnVtIFJlc291cmNlVXJsUG9saWN5SGludHNUeXBlIHtcbiAgU1RZTEVfRUxFTUVOVCxcbiAgU1RZTEVfQVRUUklCVVRFLFxuICBIVE1MX0FUVFJJQlVURSxcbn1cblxuaW50ZXJmYWNlIFN0eWxlRWxlbWVudE9yQXR0cmlidXRlUmVzb3VyY2VVcmxQb2xpY3lIaW50cyB7XG4gIC8qKlxuICAgKiBUaGUgZXh0ZXJuYWwgcmVzb3VyY2UgaXMgYmVpbmcgbG9hZGVkIGJ5IGEgc3R5bGVzaGVldCBmcm9tIGEgPHN0eWxlPiB0YWcgb3JcbiAgICogYSBzdHlsZSBhdHRyaWJ1dGUuXG4gICAqL1xuICByZWFkb25seSB0eXBlOlxuICAgIHwgUmVzb3VyY2VVcmxQb2xpY3lIaW50c1R5cGUuU1RZTEVfRUxFTUVOVFxuICAgIHwgUmVzb3VyY2VVcmxQb2xpY3lIaW50c1R5cGUuU1RZTEVfQVRUUklCVVRFO1xuICAvKipcbiAgICogVGhlIENTUyBwcm9wZXJ0eSB0aGF0IGF0dGVtcHRzIHRvIGxvYWQgdGhlIHJlc291cmNlLlxuICAgKi9cbiAgcmVhZG9ubHkgcHJvcGVydHlOYW1lOiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBIdG1sQXR0cmlidXRlUmVzb3VyY2VVcmxQb2xpY3lIaW50cyB7XG4gIC8qKlxuICAgKiBUaGUgZXh0ZXJuYWwgcmVzb3VyY2UgaXMgYmVpbmcgbG9hZGVkIGJ5IGFuIEhUTUwgYXR0cmlidXRlLlxuICAgKi9cbiAgcmVhZG9ubHkgdHlwZTogUmVzb3VyY2VVcmxQb2xpY3lIaW50c1R5cGUuSFRNTF9BVFRSSUJVVEU7XG4gIC8qKlxuICAgKiBUaGUgSFRNTCBhdHRyaWJ1dGUgdGhhdCBhdHRlbXB0cyB0byBsb2FkIHRoZSByZXNvdXJjZS5cbiAgICovXG4gIHJlYWRvbmx5IGF0dHJpYnV0ZU5hbWU6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSBIVE1MIGVsZW1lbnQgdGhhdCBjb250YWlucyB0aGUgYXR0cmlidXRlLlxuICAgKi9cbiAgcmVhZG9ubHkgZWxlbWVudE5hbWU6IHN0cmluZztcbn1cblxuLyoqXG4gKiBIaW50cyB0aGF0IGNhbiBiZSBwYXNzZWQgdG8gYSBSZXNvdXJjZVVybFBvbGljeSB0byBtYWtlIHRoZSBjaGVjayBtb3JlXG4gKiBpbmZvcm1lZC5cbiAqL1xuZXhwb3J0IHR5cGUgUmVzb3VyY2VVcmxQb2xpY3lIaW50cyA9XG4gIHwgU3R5bGVFbGVtZW50T3JBdHRyaWJ1dGVSZXNvdXJjZVVybFBvbGljeUhpbnRzXG4gIHwgSHRtbEF0dHJpYnV0ZVJlc291cmNlVXJsUG9saWN5SGludHM7XG5cbi8qKlxuICogUGFyc2VzIGEgVVJMLiBJZiB0aGUgVVJMIGlzIGludmFsaWQsIHJldHVybnMgVVJMIGluc3RhbmNlIHdpdGhcbiAqIGBhYm91dDppbnZhbGlkYC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlVXJsKHZhbHVlOiBzdHJpbmcpOiBVUkwge1xuICB0cnkge1xuICAgIHJldHVybiBuZXcgVVJMKHZhbHVlLCB3aW5kb3cuZG9jdW1lbnQuYmFzZVVSSSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gbmV3IFVSTCgnYWJvdXQ6aW52YWxpZCcpO1xuICB9XG59XG4iXX0=
;return exports;});

//third_party/javascript/safevalues/dom/elements/style.closure.js
goog.loadModule(function(exports) {'use strict';/**
 * @license
 * Copyright Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
/**
 * @fileoverview added by tsickle
 * Generated from: third_party/javascript/safevalues/dom/elements/style.ts
 * @suppress {checkTypes} added by tsickle
 * @suppress {extraRequire} added by tsickle
 * @suppress {missingRequire} added by tsickle
 * @suppress {uselessCode} added by tsickle
 * @suppress {suspiciousCode} added by tsickle
 * @suppress {missingReturn} added by tsickle
 * @suppress {unusedPrivateMembers} added by tsickle
 * @suppress {missingOverride} added by tsickle
 * @suppress {const} added by tsickle
 */
goog.module('google3.third_party.javascript.safevalues.dom.elements.style');
var module = module || { id: 'third_party/javascript/safevalues/dom/elements/style.closure.js' };
goog.require('google3.third_party.javascript.tslib.tslib');
const tsickle_style_sheet_impl_1 = goog.requireType("google3.third_party.javascript.safevalues.internals.style_sheet_impl");
const style_sheet_impl_1 = goog.require('google3.third_party.javascript.safevalues.internals.style_sheet_impl');
/**
 * Safe setters for `HTMLStyleElement`s.
 * @param {!HTMLStyleElement} elem
 * @param {!tsickle_style_sheet_impl_1.SafeStyleSheet} safeStyleSheet
 * @return {void}
 */
function setTextContent(elem, safeStyleSheet) {
    elem.textContent = (0, style_sheet_impl_1.unwrapStyleSheet)(safeStyleSheet);
}
exports.setTextContent = setTextContent;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3R5bGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi90aGlyZF9wYXJ0eS9qYXZhc2NyaXB0L3NhZmV2YWx1ZXMvZG9tL2VsZW1lbnRzL3N0eWxlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFNQSxnSEFHMEM7Ozs7Ozs7QUFHMUMsU0FBZ0IsY0FBYyxDQUM1QixJQUFzQixFQUN0QixjQUE4QjtJQUU5QixJQUFJLENBQUMsV0FBVyxHQUFHLElBQUEsbUNBQWdCLEVBQUMsY0FBYyxDQUFDLENBQUM7QUFDdEQsQ0FBQztBQUxELHdDQUtDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuaW1wb3J0IHtcbiAgU2FmZVN0eWxlU2hlZXQsXG4gIHVud3JhcFN0eWxlU2hlZXQsXG59IGZyb20gJy4uLy4uL2ludGVybmFscy9zdHlsZV9zaGVldF9pbXBsJztcblxuLyoqIFNhZmUgc2V0dGVycyBmb3IgYEhUTUxTdHlsZUVsZW1lbnRgcy4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRUZXh0Q29udGVudChcbiAgZWxlbTogSFRNTFN0eWxlRWxlbWVudCxcbiAgc2FmZVN0eWxlU2hlZXQ6IFNhZmVTdHlsZVNoZWV0LFxuKSB7XG4gIGVsZW0udGV4dENvbnRlbnQgPSB1bndyYXBTdHlsZVNoZWV0KHNhZmVTdHlsZVNoZWV0KTtcbn1cbiJdfQ==
;return exports;});

//third_party/javascript/safevalues/builders/html_sanitizer/css/sanitizer.closure.js
goog.loadModule(function(exports) {'use strict';/**
 * @license
 * Copyright Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
/**
 * @fileoverview Defines the CSS sanitizer.
 *
 * Note that the CSS sanitizer is performing custom serialization of the CSS
 * string, instead of using `cssText`. The reason for that is twofold:
 *
 * 1. Serialization is not super precisely defined in the CSS spec so we have no
 *    guarantees that it will be stable across browsers and versions.
 * 2. At the moment of writing the sanitizer, a bug in serialization was found
 *    in Chromium. Controlling the serialization ourselves is a way to avoid
 *    that bug and possibly other ones.
 * Generated from: third_party/javascript/safevalues/builders/html_sanitizer/css/sanitizer.ts
 * @suppress {checkTypes} added by tsickle
 * @suppress {extraRequire} added by tsickle
 * @suppress {missingRequire} added by tsickle
 * @suppress {uselessCode} added by tsickle
 * @suppress {suspiciousCode} added by tsickle
 * @suppress {missingReturn} added by tsickle
 * @suppress {unusedPrivateMembers} added by tsickle
 * @suppress {missingOverride} added by tsickle
 * @suppress {const} added by tsickle
 */
goog.module('google3.third_party.javascript.safevalues.builders.html_sanitizer.css.sanitizer');
var module = module || { id: 'third_party/javascript/safevalues/builders/html_sanitizer/css/sanitizer.closure.js' };
goog.require('google3.third_party.javascript.tslib.tslib');
const tsickle_style_1 = goog.requireType("google3.third_party.javascript.safevalues.dom.elements.style");
const tsickle_style_sheet_impl_2 = goog.requireType("google3.third_party.javascript.safevalues.internals.style_sheet_impl");
const tsickle_resource_url_policy_3 = goog.requireType("google3.third_party.javascript.safevalues.builders.html_sanitizer.resource_url_policy");
const tsickle_serializer_4 = goog.requireType("google3.third_party.javascript.safevalues.builders.html_sanitizer.css.serializer");
const tsickle_tokenizer_5 = goog.requireType("google3.third_party.javascript.safevalues.builders.html_sanitizer.css.tokenizer");
const tsickle_tokens_6 = goog.requireType("google3.third_party.javascript.safevalues.builders.html_sanitizer.css.tokens");
const style_1 = goog.require('google3.third_party.javascript.safevalues.dom.elements.style');
const style_sheet_impl_1 = goog.require('google3.third_party.javascript.safevalues.internals.style_sheet_impl');
const resource_url_policy_1 = goog.require('google3.third_party.javascript.safevalues.builders.html_sanitizer.resource_url_policy');
const serializer_1 = goog.require('google3.third_party.javascript.safevalues.builders.html_sanitizer.css.serializer');
const tokenizer_1 = goog.require('google3.third_party.javascript.safevalues.builders.html_sanitizer.css.tokenizer');
const tokens_1 = goog.require('google3.third_party.javascript.safevalues.builders.html_sanitizer.css.tokens');
/**
 * A function that can be used to discard a property.
 *
 * \@param name The name of the property.
 * \@return Whether the property should be discarded.
 * @typedef {function(string): boolean}
 */
exports.PropertyDiscarder;
class CssSanitizer {
    /**
     * @public
     * @param {!ReadonlySet<string>} propertyAllowlist
     * @param {!ReadonlySet<string>} functionAllowlist
     * @param {(undefined|function(!URL, (!StyleElementOrAttributeResourceUrlPolicyHints|!HtmlAttributeResourceUrlPolicyHints)): (null|!URL))} resourceUrlPolicy
     * @param {boolean} allowKeyframes
     * @param {!Array<function(string): boolean>} propertyDiscarders
     */
    constructor(propertyAllowlist, functionAllowlist, resourceUrlPolicy, allowKeyframes, propertyDiscarders) {
        this.propertyAllowlist = propertyAllowlist;
        this.functionAllowlist = functionAllowlist;
        this.resourceUrlPolicy = resourceUrlPolicy;
        this.allowKeyframes = allowKeyframes;
        this.propertyDiscarders = propertyDiscarders;
        this.inertDocument = document.implementation.createHTMLDocument();
    }
    /**
     * @private
     * @param {string} cssText
     * @return {!CSSStyleSheet}
     */
    getStyleSheet(cssText) {
        /** @type {!HTMLStyleElement} */
        const style = this.inertDocument.createElement('style');
        /** @type {!tsickle_style_sheet_impl_2.SafeStyleSheet} */
        const safeStyle = (0, style_sheet_impl_1.createStyleSheetInternal)(cssText);
        (0, style_1.setTextContent)(style, safeStyle);
        this.inertDocument.head.appendChild(style);
        /** @type {!CSSStyleSheet} */
        const sheet = (/** @type {!CSSStyleSheet} */ (style.sheet));
        // guaranteed to be non-null
        style.remove();
        return sheet;
    }
    /**
     * @private
     * @param {string} cssText
     * @return {!CSSStyleDeclaration}
     */
    getStyleDeclaration(cssText) {
        /** @type {!HTMLDivElement} */
        const div = this.inertDocument.createElement('div');
        div.style.cssText = cssText;
        this.inertDocument.body.appendChild(div);
        /** @type {!CSSStyleDeclaration} */
        const style = div.style;
        div.remove();
        return style;
    }
    /**
     * @private
     * @param {(!tsickle_tokens_6.AtKeywordToken|!tsickle_tokens_6.CdcToken|!tsickle_tokens_6.CdoToken|!tsickle_tokens_6.CloseCurlyToken|!tsickle_tokens_6.CloseParenToken|!tsickle_tokens_6.CloseSquareToken|!tsickle_tokens_6.ColonToken|!tsickle_tokens_6.CommaToken|!tsickle_tokens_6.DelimToken|!tsickle_tokens_6.DimensionToken|!tsickle_tokens_6.EofToken|!tsickle_tokens_6.FunctionToken|!tsickle_tokens_6.HashToken|!tsickle_tokens_6.IdentToken|!tsickle_tokens_6.NumberToken|!tsickle_tokens_6.OpenCurlyToken|!tsickle_tokens_6.OpenParenToken|!tsickle_tokens_6.OpenSquareToken|!tsickle_tokens_6.PercentageToken|!tsickle_tokens_6.SemicolonToken|!tsickle_tokens_6.StringToken|!tsickle_tokens_6.WhitespaceToken)} token
     * @param {(!tsickle_tokens_6.AtKeywordToken|!tsickle_tokens_6.CdcToken|!tsickle_tokens_6.CdoToken|!tsickle_tokens_6.CloseCurlyToken|!tsickle_tokens_6.CloseParenToken|!tsickle_tokens_6.CloseSquareToken|!tsickle_tokens_6.ColonToken|!tsickle_tokens_6.CommaToken|!tsickle_tokens_6.DelimToken|!tsickle_tokens_6.DimensionToken|!tsickle_tokens_6.EofToken|!tsickle_tokens_6.FunctionToken|!tsickle_tokens_6.HashToken|!tsickle_tokens_6.IdentToken|!tsickle_tokens_6.NumberToken|!tsickle_tokens_6.OpenCurlyToken|!tsickle_tokens_6.OpenParenToken|!tsickle_tokens_6.OpenSquareToken|!tsickle_tokens_6.PercentageToken|!tsickle_tokens_6.SemicolonToken|!tsickle_tokens_6.StringToken|!tsickle_tokens_6.WhitespaceToken)} nextToken
     * @return {boolean}
     */
    hasShadowDomEscapingTokens(token, nextToken) {
        // Thanks to using shadow DOM, the only real worry in selectors are
        // pseudo-classes and pseudo-elements that can be used to target elements
        // outside of the shadow DOM. There are three of them:
        //
        // 1. `:host`
        // 2. `:host()`
        // 3. `:host-context()`
        //
        // We'll disallow all of them.
        if (token.tokenKind !== tokens_1.CssTokenKind.COLON) {
            return false;
        }
        if (nextToken.tokenKind === tokens_1.CssTokenKind.IDENT &&
            (/** @type {!tsickle_tokens_6.IdentToken} */ (nextToken)).ident.toLowerCase() === 'host') {
            return true;
        }
        if (nextToken.tokenKind === tokens_1.CssTokenKind.FUNCTION &&
            ((/** @type {!tsickle_tokens_6.FunctionToken} */ (nextToken)).lowercaseName === 'host' ||
                (/** @type {!tsickle_tokens_6.FunctionToken} */ (nextToken)).lowercaseName === 'host-context')) {
            return true;
        }
        return false;
    }
    /**
     * @private
     * @param {string} selector
     * @return {(null|string)}
     */
    sanitizeSelector(selector) {
        // If we find any tokens we deem insecure in a selector, we'll then treat
        // the whole selector as insecure. In this case, we'll return null;
        // otherwise we'll return the re-serialized tokens.
        /** @type {!Array<(!tsickle_tokens_6.AtKeywordToken|!tsickle_tokens_6.CdcToken|!tsickle_tokens_6.CdoToken|!tsickle_tokens_6.CloseCurlyToken|!tsickle_tokens_6.CloseParenToken|!tsickle_tokens_6.CloseSquareToken|!tsickle_tokens_6.ColonToken|!tsickle_tokens_6.CommaToken|!tsickle_tokens_6.DelimToken|!tsickle_tokens_6.DimensionToken|!tsickle_tokens_6.EofToken|!tsickle_tokens_6.FunctionToken|!tsickle_tokens_6.HashToken|!tsickle_tokens_6.IdentToken|!tsickle_tokens_6.NumberToken|!tsickle_tokens_6.OpenCurlyToken|!tsickle_tokens_6.OpenParenToken|!tsickle_tokens_6.OpenSquareToken|!tsickle_tokens_6.PercentageToken|!tsickle_tokens_6.SemicolonToken|!tsickle_tokens_6.StringToken|!tsickle_tokens_6.WhitespaceToken)>} */
        const tokens = (0, tokenizer_1.tokenizeCss)(selector);
        for (let i = 0; i < tokens.length - 1; i++) {
            /** @type {(!tsickle_tokens_6.AtKeywordToken|!tsickle_tokens_6.CdcToken|!tsickle_tokens_6.CdoToken|!tsickle_tokens_6.CloseCurlyToken|!tsickle_tokens_6.CloseParenToken|!tsickle_tokens_6.CloseSquareToken|!tsickle_tokens_6.ColonToken|!tsickle_tokens_6.CommaToken|!tsickle_tokens_6.DelimToken|!tsickle_tokens_6.DimensionToken|!tsickle_tokens_6.EofToken|!tsickle_tokens_6.FunctionToken|!tsickle_tokens_6.HashToken|!tsickle_tokens_6.IdentToken|!tsickle_tokens_6.NumberToken|!tsickle_tokens_6.OpenCurlyToken|!tsickle_tokens_6.OpenParenToken|!tsickle_tokens_6.OpenSquareToken|!tsickle_tokens_6.PercentageToken|!tsickle_tokens_6.SemicolonToken|!tsickle_tokens_6.StringToken|!tsickle_tokens_6.WhitespaceToken)} */
            const token = tokens[i];
            /** @type {(!tsickle_tokens_6.AtKeywordToken|!tsickle_tokens_6.CdcToken|!tsickle_tokens_6.CdoToken|!tsickle_tokens_6.CloseCurlyToken|!tsickle_tokens_6.CloseParenToken|!tsickle_tokens_6.CloseSquareToken|!tsickle_tokens_6.ColonToken|!tsickle_tokens_6.CommaToken|!tsickle_tokens_6.DelimToken|!tsickle_tokens_6.DimensionToken|!tsickle_tokens_6.EofToken|!tsickle_tokens_6.FunctionToken|!tsickle_tokens_6.HashToken|!tsickle_tokens_6.IdentToken|!tsickle_tokens_6.NumberToken|!tsickle_tokens_6.OpenCurlyToken|!tsickle_tokens_6.OpenParenToken|!tsickle_tokens_6.OpenSquareToken|!tsickle_tokens_6.PercentageToken|!tsickle_tokens_6.SemicolonToken|!tsickle_tokens_6.StringToken|!tsickle_tokens_6.WhitespaceToken)} */
            const nextToken = tokens[i + 1];
            if (this.hasShadowDomEscapingTokens(token, nextToken)) {
                return null;
            }
        }
        return (0, serializer_1.serializeTokens)(tokens);
    }
    /**
     * @private
     * @param {string} propertyName
     * @param {string} value
     * @param {boolean} calledFromStyleElement
     * @return {(null|string)}
     */
    sanitizeValue(propertyName, value, calledFromStyleElement) {
        // Values can contain functions, such as url() or rgba(). We maintain
        // an allowlist of functions and we make sure that only those are allowed.
        // Furthermore, a special logic is needed to handle url() functions.
        /** @type {!Array<(!tsickle_tokens_6.AtKeywordToken|!tsickle_tokens_6.CdcToken|!tsickle_tokens_6.CdoToken|!tsickle_tokens_6.CloseCurlyToken|!tsickle_tokens_6.CloseParenToken|!tsickle_tokens_6.CloseSquareToken|!tsickle_tokens_6.ColonToken|!tsickle_tokens_6.CommaToken|!tsickle_tokens_6.DelimToken|!tsickle_tokens_6.DimensionToken|!tsickle_tokens_6.EofToken|!tsickle_tokens_6.FunctionToken|!tsickle_tokens_6.HashToken|!tsickle_tokens_6.IdentToken|!tsickle_tokens_6.NumberToken|!tsickle_tokens_6.OpenCurlyToken|!tsickle_tokens_6.OpenParenToken|!tsickle_tokens_6.OpenSquareToken|!tsickle_tokens_6.PercentageToken|!tsickle_tokens_6.SemicolonToken|!tsickle_tokens_6.StringToken|!tsickle_tokens_6.WhitespaceToken)>} */
        const tokens = (0, tokenizer_1.tokenizeCss)(value);
        for (let i = 0; i < tokens.length; i++) {
            /** @type {(!tsickle_tokens_6.AtKeywordToken|!tsickle_tokens_6.CdcToken|!tsickle_tokens_6.CdoToken|!tsickle_tokens_6.CloseCurlyToken|!tsickle_tokens_6.CloseParenToken|!tsickle_tokens_6.CloseSquareToken|!tsickle_tokens_6.ColonToken|!tsickle_tokens_6.CommaToken|!tsickle_tokens_6.DelimToken|!tsickle_tokens_6.DimensionToken|!tsickle_tokens_6.EofToken|!tsickle_tokens_6.FunctionToken|!tsickle_tokens_6.HashToken|!tsickle_tokens_6.IdentToken|!tsickle_tokens_6.NumberToken|!tsickle_tokens_6.OpenCurlyToken|!tsickle_tokens_6.OpenParenToken|!tsickle_tokens_6.OpenSquareToken|!tsickle_tokens_6.PercentageToken|!tsickle_tokens_6.SemicolonToken|!tsickle_tokens_6.StringToken|!tsickle_tokens_6.WhitespaceToken)} */
            const token = tokens[i];
            if (token.tokenKind !== tokens_1.CssTokenKind.FUNCTION) {
                continue;
            }
            // The whole value is disregarded if it contains a disallowed function.
            if (!this.functionAllowlist.has((/** @type {!tsickle_tokens_6.FunctionToken} */ (token)).lowercaseName)) {
                return null;
            }
            if ((/** @type {!tsickle_tokens_6.FunctionToken} */ (token)).lowercaseName === 'url') {
                /** @type {(undefined|!tsickle_tokens_6.AtKeywordToken|!tsickle_tokens_6.CdcToken|!tsickle_tokens_6.CdoToken|!tsickle_tokens_6.CloseCurlyToken|!tsickle_tokens_6.CloseParenToken|!tsickle_tokens_6.CloseSquareToken|!tsickle_tokens_6.ColonToken|!tsickle_tokens_6.CommaToken|!tsickle_tokens_6.DelimToken|!tsickle_tokens_6.DimensionToken|!tsickle_tokens_6.EofToken|!tsickle_tokens_6.FunctionToken|!tsickle_tokens_6.HashToken|!tsickle_tokens_6.IdentToken|!tsickle_tokens_6.NumberToken|!tsickle_tokens_6.OpenCurlyToken|!tsickle_tokens_6.OpenParenToken|!tsickle_tokens_6.OpenSquareToken|!tsickle_tokens_6.PercentageToken|!tsickle_tokens_6.SemicolonToken|!tsickle_tokens_6.StringToken|!tsickle_tokens_6.WhitespaceToken)} */
                const nextToken = (/** @type {(undefined|!tsickle_tokens_6.AtKeywordToken|!tsickle_tokens_6.CdcToken|!tsickle_tokens_6.CdoToken|!tsickle_tokens_6.CloseCurlyToken|!tsickle_tokens_6.CloseParenToken|!tsickle_tokens_6.CloseSquareToken|!tsickle_tokens_6.ColonToken|!tsickle_tokens_6.CommaToken|!tsickle_tokens_6.DelimToken|!tsickle_tokens_6.DimensionToken|!tsickle_tokens_6.EofToken|!tsickle_tokens_6.FunctionToken|!tsickle_tokens_6.HashToken|!tsickle_tokens_6.IdentToken|!tsickle_tokens_6.NumberToken|!tsickle_tokens_6.OpenCurlyToken|!tsickle_tokens_6.OpenParenToken|!tsickle_tokens_6.OpenSquareToken|!tsickle_tokens_6.PercentageToken|!tsickle_tokens_6.SemicolonToken|!tsickle_tokens_6.StringToken|!tsickle_tokens_6.WhitespaceToken)} */ (tokens[i + 1]));
                if (nextToken?.tokenKind !== tokens_1.CssTokenKind.STRING) {
                    // Browsers always serialize the first argument of url() as a string.
                    // If this doesn't happen, something weird is going on and we'll
                    // reject the whole value for good measure.
                    return null;
                }
                /** @type {string} */
                const url = (/** @type {!tsickle_tokens_6.StringToken} */ (nextToken)).value;
                /** @type {(null|!URL)} */
                let parsedUrl = (0, resource_url_policy_1.parseUrl)(url);
                if (this.resourceUrlPolicy) {
                    parsedUrl = this.resourceUrlPolicy(parsedUrl, {
                        type: calledFromStyleElement
                            ? resource_url_policy_1.ResourceUrlPolicyHintsType.STYLE_ELEMENT
                            : resource_url_policy_1.ResourceUrlPolicyHintsType.STYLE_ATTRIBUTE,
                        propertyName,
                    });
                }
                if (!parsedUrl) {
                    return null;
                }
                tokens[i + 1] = {
                    tokenKind: tokens_1.CssTokenKind.STRING,
                    value: parsedUrl.toString(),
                };
                // Skip the string token.
                i++;
            }
        }
        return (0, serializer_1.serializeTokens)(tokens);
    }
    /**
     * @private
     * @param {!CSSKeyframeRule} rule
     * @return {(null|string)}
     */
    sanitizeKeyframeRule(rule) {
        /** @type {string} */
        const sanitizedProperties = this.sanitizeStyleDeclaration(rule.style, true);
        // It should be safe to just re-use `rule.keyText` here because it can only
        // contain comma-separated percentages.
        //
        // https://drafts.csswg.org/css-animations/#dom-csskeyframerule-keytext
        return `${rule.keyText} { ${sanitizedProperties} }`;
    }
    /**
     * @private
     * @param {!CSSKeyframesRule} keyframesRule
     * @return {(null|string)}
     */
    sanitizeKeyframesRule(keyframesRule) {
        if (!this.allowKeyframes) {
            return null;
        }
        /** @type {!Array<string>} */
        const keyframeRules = [];
        for (const rule of keyframesRule.cssRules) {
            if (!(rule instanceof CSSKeyframeRule)) {
                // The only allowed child rules of CSSKeyframesRule are CSSKeyframeRule.
                continue;
            }
            /** @type {(null|string)} */
            const sanitizedRule = this.sanitizeKeyframeRule(rule);
            if (sanitizedRule) {
                keyframeRules.push(sanitizedRule);
            }
        }
        return `@keyframes ${(0, serializer_1.escapeIdent)(keyframesRule.name)} { ${keyframeRules.join(' ')} }`;
    }
    /**
     * @private
     * @param {string} name
     * @return {boolean}
     */
    isPropertyNameAllowed(name) {
        if (!this.propertyAllowlist.has(name)) {
            return false;
        }
        for (const discarder of this.propertyDiscarders) {
            if (discarder(name)) {
                return false;
            }
        }
        return true;
    }
    /**
     * @private
     * @param {string} name
     * @param {string} value
     * @param {boolean} isImportant
     * @param {boolean} calledFromStyleElement
     * @return {(null|string)}
     */
    sanitizeProperty(name, value, isImportant, calledFromStyleElement) {
        if (!this.isPropertyNameAllowed(name)) {
            return null;
        }
        /** @type {(null|string)} */
        const sanitizedValue = this.sanitizeValue(name, value, calledFromStyleElement);
        if (!sanitizedValue) {
            return null;
        }
        return `${(0, serializer_1.escapeIdent)(name)}: ${sanitizedValue}${isImportant ? ' !important' : ''}`;
    }
    /**
     * @private
     * @param {!CSSStyleDeclaration} style
     * @param {boolean} calledFromStyleElement
     * @return {string}
     */
    sanitizeStyleDeclaration(style, calledFromStyleElement) {
        // We sort the property names to ensure a stable serialization. This also
        // makes the output easier to test.
        /** @type {!Array<string>} */
        const sortedPropertyNames = [...style].sort();
        /** @type {string} */
        let sanitizedProperties = '';
        for (const name of sortedPropertyNames) {
            /** @type {string} */
            const value = style.getPropertyValue(name);
            /** @type {boolean} */
            const isImportant = style.getPropertyPriority(name) === 'important';
            /** @type {(null|string)} */
            const sanitizedProperty = this.sanitizeProperty(name, value, isImportant, calledFromStyleElement);
            if (sanitizedProperty) {
                sanitizedProperties += sanitizedProperty + ';';
            }
        }
        return sanitizedProperties;
    }
    /**
     * @private
     * @param {!CSSStyleRule} rule
     * @return {(null|string)}
     */
    sanitizeStyleRule(rule) {
        /** @type {(null|string)} */
        const selector = this.sanitizeSelector(rule.selectorText);
        if (!selector) {
            return null;
        }
        /** @type {string} */
        const sanitizedProperties = this.sanitizeStyleDeclaration(rule.style, true);
        return `${selector} { ${sanitizedProperties} }`;
    }
    /**
     * @public
     * @param {string} cssText
     * @return {string}
     */
    sanitizeStyleElement(cssText) {
        /** @type {!CSSStyleSheet} */
        const styleSheet = this.getStyleSheet(cssText);
        /** @type {!CSSRuleList} */
        const rules = styleSheet.cssRules;
        /** @type {!Array<string>} */
        const output = [];
        for (const rule of rules) {
            if (rule instanceof CSSStyleRule) {
                /** @type {(null|string)} */
                const sanitizedRule = this.sanitizeStyleRule(rule);
                if (sanitizedRule) {
                    output.push(sanitizedRule);
                }
            }
            else if (rule instanceof CSSKeyframesRule) {
                /** @type {(null|string)} */
                const sanitizedRule = this.sanitizeKeyframesRule(rule);
                if (sanitizedRule) {
                    output.push(sanitizedRule);
                }
            }
        }
        return output.join('\n');
    }
    /**
     * @public
     * @param {string} cssText
     * @return {string}
     */
    sanitizeStyleAttribute(cssText) {
        /** @type {!CSSStyleDeclaration} */
        const styleDeclaration = this.getStyleDeclaration(cssText);
        return this.sanitizeStyleDeclaration(styleDeclaration, false);
    }
}
/* istanbul ignore if */
if (false) {
    /**
     * @const {!Document}
     * @private
     */
    CssSanitizer.prototype.inertDocument;
    /**
     * @const {!ReadonlySet<string>}
     * @private
     */
    CssSanitizer.prototype.propertyAllowlist;
    /**
     * @const {!ReadonlySet<string>}
     * @private
     */
    CssSanitizer.prototype.functionAllowlist;
    /**
     * @const {(undefined|function(!URL, (!StyleElementOrAttributeResourceUrlPolicyHints|!HtmlAttributeResourceUrlPolicyHints)): (null|!URL))}
     * @private
     */
    CssSanitizer.prototype.resourceUrlPolicy;
    /**
     * @const {boolean}
     * @private
     */
    CssSanitizer.prototype.allowKeyframes;
    /**
     * @const {!Array<function(string): boolean>}
     * @private
     */
    CssSanitizer.prototype.propertyDiscarders;
}
/**
 * Sanitizes a CSS string in a `<style>` tag.
 *
 * @param {string} cssText The CSS string to sanitize.
 * @param {!ReadonlySet<string>} propertyAllowlist
 * @param {!ReadonlySet<string>} functionAllowlist
 * @param {(undefined|function(!URL, (!StyleElementOrAttributeResourceUrlPolicyHints|!HtmlAttributeResourceUrlPolicyHints)): (null|!URL))} resourceUrlPolicy
 * @param {boolean} allowKeyframes
 * @param {!Array<function(string): boolean>} propertyDiscarders
 * @return {string} The sanitized CSS string.
 */
function sanitizeStyleElement(cssText, propertyAllowlist, functionAllowlist, resourceUrlPolicy, allowKeyframes, propertyDiscarders) {
    return new CssSanitizer(propertyAllowlist, functionAllowlist, resourceUrlPolicy, allowKeyframes, propertyDiscarders).sanitizeStyleElement(cssText);
}
exports.sanitizeStyleElement = sanitizeStyleElement;
/**
 * Sanitizes a CSS string in a `style` attribute.
 *
 * @param {string} cssText The CSS string to sanitize.
 * @param {!ReadonlySet<string>} propertyAllowlist
 * @param {!ReadonlySet<string>} functionAllowlist
 * @param {(undefined|function(!URL, (!StyleElementOrAttributeResourceUrlPolicyHints|!HtmlAttributeResourceUrlPolicyHints)): (null|!URL))} resourceUrlPolicy
 * @param {!Array<function(string): boolean>} propertyDiscarders
 * @return {string} The sanitized CSS string.
 */
function sanitizeStyleAttribute(cssText, propertyAllowlist, functionAllowlist, resourceUrlPolicy, propertyDiscarders) {
    return new CssSanitizer(propertyAllowlist, functionAllowlist, resourceUrlPolicy, false, // allowKeyframes is not relevant for the style attribute
    propertyDiscarders).sanitizeStyleAttribute(cssText);
}
exports.sanitizeStyleAttribute = sanitizeStyleAttribute;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2FuaXRpemVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vdGhpcmRfcGFydHkvamF2YXNjcmlwdC9zYWZldmFsdWVzL2J1aWxkZXJzL2h0bWxfc2FuaXRpemVyL2Nzcy9zYW5pdGl6ZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBbUJBLDZGQUEyRDtBQUMzRCxnSEFBNkU7QUFDN0Usb0lBSWdDO0FBQ2hDLHNIQUEwRDtBQUMxRCxvSEFBd0M7QUFDeEMsOEdBQWdEOzs7Ozs7OztBQVFoRCwwQkFBMEQ7QUFFMUQsTUFBTSxZQUFZOzs7Ozs7Ozs7SUFHaEIsWUFDbUIsaUJBQXNDLEVBQ3RDLGlCQUFzQyxFQUN0QyxpQkFBZ0QsRUFDaEQsY0FBdUIsRUFDdkIsa0JBQXVDO1FBSnZDLHNCQUFpQixHQUFqQixpQkFBaUIsQ0FBcUI7UUFDdEMsc0JBQWlCLEdBQWpCLGlCQUFpQixDQUFxQjtRQUN0QyxzQkFBaUIsR0FBakIsaUJBQWlCLENBQStCO1FBQ2hELG1CQUFjLEdBQWQsY0FBYyxDQUFTO1FBQ3ZCLHVCQUFrQixHQUFsQixrQkFBa0IsQ0FBcUI7UUFFeEQsSUFBSSxDQUFDLGFBQWEsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLGtCQUFrQixFQUFFLENBQUM7SUFDcEUsQ0FBQzs7Ozs7O0lBRU8sYUFBYSxDQUFDLE9BQWU7O2NBQzdCLEtBQUssR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUM7O2NBQ2pELFNBQVMsR0FBRyxJQUFBLDJDQUF3QixFQUFDLE9BQU8sQ0FBQztRQUNuRCxJQUFBLHNCQUFjLEVBQUMsS0FBSyxFQUFFLFNBQVMsQ0FBQyxDQUFDO1FBQ2pDLElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQzs7Y0FDckMsS0FBSyxHQUFHLGdD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QUFDOzs7Ozs7SUFFRCxzQkFBc0IsQ0FBQyxPQUFlOztjQUM5QixnQkFBZ0IsR0FBRyxJQUFJLENBQUMsbUJBQW1CLENBQUMsT0FBTyxDQUFDO1FBQzFELE9BQU8sSUFBSSxDQUFDLHdCQUF3QixDQUFDLGdCQUFnQixFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQ2hFLENBQUM7Q0FDRjs7Ozs7OztJQTVQQyxxQ0FBeUM7Ozs7O0lBR3ZDLHlDQUF1RDs7Ozs7SUFDdkQseUNBQXVEOzs7OztJQUN2RCx5Q0FBaUU7Ozs7O0lBQ2pFLHNDQUF3Qzs7Ozs7SUFDeEMsMENBQXdEOzs7Ozs7Ozs7Ozs7O0FBNlA1RCxTQUFnQixvQkFBb0IsQ0FDbEMsT0FBZSxFQUNmLGlCQUFzQyxFQUN0QyxpQkFBc0MsRUFDdEMsaUJBQWdELEVBQ2hELGNBQXVCLEVBQ3ZCLGtCQUF1QztJQUV2QyxPQUFPLElBQUksWUFBWSxDQUNyQixpQkFBaUIsRUFDakIsaUJBQWlCLEVBQ2pCLGlCQUFpQixFQUNqQixjQUFjLEVBQ2Qsa0JBQWtCLENBQ25CLENBQUMsb0JBQW9CLENBQUMsT0FBTyxDQUFDLENBQUM7QUFDbEMsQ0FBQztBQWZELG9EQWVDOzs7Ozs7Ozs7OztBQVFELFNBQWdCLHNCQUFzQixDQUNwQyxPQUFlLEVBQ2YsaUJBQXNDLEVBQ3RDLGlCQUFzQyxFQUN0QyxpQkFBZ0QsRUFDaEQsa0JBQXVDO0lBRXZDLE9BQU8sSUFBSSxZQUFZLENBQ3JCLGlCQUFpQixFQUNqQixpQkFBaUIsRUFDakIsaUJBQWlCLEVBQ2pCLEtBQUssRUFBRSx5REFBeUQ7SUFDaEUsa0JBQWtCLENBQ25CLENBQUMsc0JBQXNCLENBQUMsT0FBTyxDQUFDLENBQUM7QUFDcEMsQ0FBQztBQWRELHdEQWNDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IERlZmluZXMgdGhlIENTUyBzYW5pdGl6ZXIuXG4gKlxuICogTm90ZSB0aGF0IHRoZSBDU1Mgc2FuaXRpemVyIGlzIHBlcmZvcm1pbmcgY3VzdG9tIHNlcmlhbGl6YXRpb24gb2YgdGhlIENTU1xuICogc3RyaW5nLCBpbnN0ZWFkIG9mIHVzaW5nIGBjc3NUZXh0YC4gVGhlIHJlYXNvbiBmb3IgdGhhdCBpcyB0d29mb2xkOlxuICpcbiAqIDEuIFNlcmlhbGl6YXRpb24gaXMgbm90IHN1cGVyIHByZWNpc2VseSBkZWZpbmVkIGluIHRoZSBDU1Mgc3BlYyBzbyB3ZSBoYXZlIG5vXG4gKiAgICBndWFyYW50ZWVzIHRoYXQgaXQgd2lsbCBiZSBzdGFibGUgYWNyb3NzIGJyb3dzZXJzIGFuZCB2ZXJzaW9ucy5cbiAqIDIuIEF0IHRoZSBtb21lbnQgb2Ygd3JpdGluZyB0aGUgc2FuaXRpemVyLCBhIGJ1ZyBpbiBzZXJpYWxpemF0aW9uIHdhcyBmb3VuZFxuICogICAgaW4gQ2hyb21pdW0uIENvbnRyb2xsaW5nIHRoZSBzZXJpYWxpemF0aW9uIG91cnNlbHZlcyBpcyBhIHdheSB0byBhdm9pZFxuICogICAgdGhhdCBidWcgYW5kIHBvc3NpYmx5IG90aGVyIG9uZXMuXG4gKi9cblxuaW1wb3J0IHtzZXRUZXh0Q29udGVudH0gZnJvbSAnLi4vLi4vLi4vZG9tL2VsZW1lbnRzL3N0eWxlJztcbmltcG9ydCB7Y3JlYXRlU3R5bGVTaGVldEludGVybmFsfSBmcm9tICcuLi8uLi8uLi9pbnRlcm5hbHMvc3R5bGVfc2hlZXRfaW1wbCc7XG5pbXBvcnQge1xuICBSZXNvdXJjZVVybFBvbGljeSxcbiAgUmVzb3VyY2VVcmxQb2xpY3lIaW50c1R5cGUsXG4gIHBhcnNlVXJsLFxufSBmcm9tICcuLi9yZXNvdXJjZV91cmxfcG9saWN5JztcbmltcG9ydCB7ZXNjYXBlSWRlbnQsIHNlcmlhbGl6ZVRva2Vuc30gZnJvbSAnLi9zZXJpYWxpemVyJztcbmltcG9ydCB7dG9rZW5pemVDc3N9IGZyb20gJy4vdG9rZW5pemVyJztcbmltcG9ydCB7Q3NzVG9rZW4sIENzc1Rva2VuS2luZH0gZnJvbSAnLi90b2tlbnMnO1xuXG4vKipcbiAqIEEgZnVuY3Rpb24gdGhhdCBjYW4gYmUgdXNlZCB0byBkaXNjYXJkIGEgcHJvcGVydHkuXG4gKlxuICogQHBhcmFtIG5hbWUgVGhlIG5hbWUgb2YgdGhlIHByb3BlcnR5LlxuICogQHJldHVybiBXaGV0aGVyIHRoZSBwcm9wZXJ0eSBzaG91bGQgYmUgZGlzY2FyZGVkLlxuICovXG5leHBvcnQgdHlwZSBQcm9wZXJ0eURpc2NhcmRlciA9IChuYW1lOiBzdHJpbmcpID0+IGJvb2xlYW47XG5cbmNsYXNzIENzc1Nhbml0aXplciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgaW5lcnREb2N1bWVudDogRG9jdW1lbnQ7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSByZWFkb25seSBwcm9wZXJ0eUFsbG93bGlzdDogUmVhZG9ubHlTZXQ8c3RyaW5nPixcbiAgICBwcml2YXRlIHJlYWRvbmx5IGZ1bmN0aW9uQWxsb3dsaXN0OiBSZWFkb25seVNldDxzdHJpbmc+LFxuICAgIHByaXZhdGUgcmVhZG9ubHkgcmVzb3VyY2VVcmxQb2xpY3k6IFJlc291cmNlVXJsUG9saWN5IHwgdW5kZWZpbmVkLFxuICAgIHByaXZhdGUgcmVhZG9ubHkgYWxsb3dLZXlmcmFtZXM6IGJvb2xlYW4sXG4gICAgcHJpdmF0ZSByZWFkb25seSBwcm9wZXJ0eURpc2NhcmRlcnM6IFByb3BlcnR5RGlzY2FyZGVyW10sXG4gICkge1xuICAgIHRoaXMuaW5lcnREb2N1bWVudCA9IGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCgpO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRTdHlsZVNoZWV0KGNzc1RleHQ6IHN0cmluZyk6IENTU1N0eWxlU2hlZXQge1xuICAgIGNvbnN0IHN0eWxlID0gdGhpcy5pbmVydERvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgY29uc3Qgc2FmZVN0eWxlID0gY3JlYXRlU3R5bGVTaGVldEludGVybmFsKGNzc1RleHQpO1xuICAgIHNldFRleHRDb250ZW50KHN0eWxlLCBzYWZlU3R5bGUpO1xuICAgIHRoaXMuaW5lcnREb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgICBjb25zdCBzaGVldCA9IHN0eWxlLnNoZWV0ITsgLy8gZ3VhcmFudGVlZCB0byBiZSBub24tbnVsbFxuICAgIHN0eWxlLnJlbW92ZSgpO1xuICAgIHJldHVybiBzaGVldDtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0U3R5bGVEZWNsYXJhdGlvbihjc3NUZXh0OiBzdHJpbmcpOiBDU1NTdHlsZURlY2xhcmF0aW9uIHtcbiAgICBjb25zdCBkaXYgPSB0aGlzLmluZXJ0RG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZGl2LnN0eWxlLmNzc1RleHQgPSBjc3NUZXh0O1xuICAgIHRoaXMuaW5lcnREb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRpdik7XG4gICAgY29uc3Qgc3R5bGUgPSBkaXYuc3R5bGU7XG4gICAgZGl2LnJlbW92ZSgpO1xuICAgIHJldHVybiBzdHlsZTtcbiAgfVxuXG4gIHByaXZhdGUgaGFzU2hhZG93RG9tRXNjYXBpbmdUb2tlbnMoXG4gICAgdG9rZW46IENzc1Rva2VuLFxuICAgIG5leHRUb2tlbjogQ3NzVG9rZW4sXG4gICk6IGJvb2xlYW4ge1xuICAgIC8vIFRoYW5rcyB0byB1c2luZyBzaGFkb3cgRE9NLCB0aGUgb25seSByZWFsIHdvcnJ5IGluIHNlbGVjdG9ycyBhcmVcbiAgICAvLyBwc2V1ZG8tY2xhc3NlcyBhbmQgcHNldWRvLWVsZW1lbnRzIHRoYXQgY2FuIGJlIHVzZWQgdG8gdGFyZ2V0IGVsZW1lbnRzXG4gICAgLy8gb3V0c2lkZSBvZiB0aGUgc2hhZG93IERPTS4gVGhlcmUgYXJlIHRocmVlIG9mIHRoZW06XG4gICAgLy9cbiAgICAvLyAxLiBgOmhvc3RgXG4gICAgLy8gMi4gYDpob3N0KClgXG4gICAgLy8gMy4gYDpob3N0LWNvbnRleHQoKWBcbiAgICAvL1xuICAgIC8vIFdlJ2xsIGRpc2FsbG93IGFsbCBvZiB0aGVtLlxuXG4gICAgaWYgKHRva2VuLnRva2VuS2luZCAhPT0gQ3NzVG9rZW5LaW5kLkNPTE9OKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChcbiAgICAgIG5leHRUb2tlbi50b2tlbktpbmQgPT09IENzc1Rva2VuS2luZC5JREVOVCAmJlxuICAgICAgbmV4dFRva2VuLmlkZW50LnRvTG93ZXJDYXNlKCkgPT09ICdob3N0J1xuICAgICkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChcbiAgICAgIG5leHRUb2tlbi50b2tlbktpbmQgPT09IENzc1Rva2VuS2luZC5GVU5DVElPTiAmJlxuICAgICAgKG5leHRUb2tlbi5sb3dlcmNhc2VOYW1lID09PSAnaG9zdCcgfHxcbiAgICAgICAgbmV4dFRva2VuLmxvd2VyY2FzZU5hbWUgPT09ICdob3N0LWNvbnRleHQnKVxuICAgICkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHByaXZhdGUgc2FuaXRpemVTZWxlY3RvcihzZWxlY3Rvcjogc3RyaW5nKTogc3RyaW5nIHwgbnVsbCB7XG4gICAgLy8gSWYgd2UgZmluZCBhbnkgdG9rZW5zIHdlIGRlZW0gaW5zZWN1cmUgaW4gYSBzZWxlY3Rvciwgd2UnbGwgdGhlbiB0cmVhdFxuICAgIC8vIHRoZSB3aG9sZSBzZWxlY3RvciBhcyBpbnNlY3VyZS4gSW4gdGhpcyBjYXNlLCB3ZSdsbCByZXR1cm4gbnVsbDtcbiAgICAvLyBvdGhlcndpc2Ugd2UnbGwgcmV0dXJuIHRoZSByZS1zZXJpYWxpemVkIHRva2Vucy5cbiAgICBjb25zdCB0b2tlbnMgPSB0b2tlbml6ZUNzcyhzZWxlY3Rvcik7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b2tlbnMubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICBjb25zdCB0b2tlbiA9IHRva2Vuc1tpXTtcbiAgICAgIGNvbnN0IG5leHRUb2tlbiA9IHRva2Vuc1tpICsgMV07XG4gICAgICBpZiAodGhpcy5oYXNTaGFkb3dEb21Fc2NhcGluZ1Rva2Vucyh0b2tlbiwgbmV4dFRva2VuKSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNlcmlhbGl6ZVRva2Vucyh0b2tlbnMpO1xuICB9XG5cbiAgcHJpdmF0ZSBzYW5pdGl6ZVZhbHVlKFxuICAgIHByb3BlcnR5TmFtZTogc3RyaW5nLFxuICAgIHZhbHVlOiBzdHJpbmcsXG4gICAgY2FsbGVkRnJvbVN0eWxlRWxlbWVudDogYm9vbGVhbixcbiAgKTogc3RyaW5nIHwgbnVsbCB7XG4gICAgLy8gVmFsdWVzIGNhbiBjb250YWluIGZ1bmN0aW9ucywgc3VjaCBhcyB1cmwoKSBvciByZ2JhKCkuIFdlIG1haW50YWluXG4gICAgLy8gYW4gYWxsb3dsaXN0IG9mIGZ1bmN0aW9ucyBhbmQgd2UgbWFrZSBzdXJlIHRoYXQgb25seSB0aG9zZSBhcmUgYWxsb3dlZC5cbiAgICAvLyBGdXJ0aGVybW9yZSwgYSBzcGVjaWFsIGxvZ2ljIGlzIG5lZWRlZCB0byBoYW5kbGUgdXJsKCkgZnVuY3Rpb25zLlxuICAgIGNvbnN0IHRva2VucyA9IHRva2VuaXplQ3NzKHZhbHVlKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRva2Vucy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgdG9rZW4gPSB0b2tlbnNbaV07XG4gICAgICBpZiAodG9rZW4udG9rZW5LaW5kICE9PSBDc3NUb2tlbktpbmQuRlVOQ1RJT04pIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICAvLyBUaGUgd2hvbGUgdmFsdWUgaXMgZGlzcmVnYXJkZWQgaWYgaXQgY29udGFpbnMgYSBkaXNhbGxvd2VkIGZ1bmN0aW9uLlxuICAgICAgaWYgKCF0aGlzLmZ1bmN0aW9uQWxsb3dsaXN0Lmhhcyh0b2tlbi5sb3dlcmNhc2VOYW1lKSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIGlmICh0b2tlbi5sb3dlcmNhc2VOYW1lID09PSAndXJsJykge1xuICAgICAgICBjb25zdCBuZXh0VG9rZW4gPSB0b2tlbnNbaSArIDFdIGFzIENzc1Rva2VuIHwgdW5kZWZpbmVkO1xuICAgICAgICBpZiAobmV4dFRva2VuPy50b2tlbktpbmQgIT09IENzc1Rva2VuS2luZC5TVFJJTkcpIHtcbiAgICAgICAgICAvLyBCcm93c2VycyBhbHdheXMgc2VyaWFsaXplIHRoZSBmaXJzdCBhcmd1bWVudCBvZiB1cmwoKSBhcyBhIHN0cmluZy5cbiAgICAgICAgICAvLyBJZiB0aGlzIGRvZXNuJ3QgaGFwcGVuLCBzb21ldGhpbmcgd2VpcmQgaXMgZ29pbmcgb24gYW5kIHdlJ2xsXG4gICAgICAgICAgLy8gcmVqZWN0IHRoZSB3aG9sZSB2YWx1ZSBmb3IgZ29vZCBtZWFzdXJlLlxuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHVybCA9IG5leHRUb2tlbi52YWx1ZTtcbiAgICAgICAgbGV0IHBhcnNlZFVybDogVVJMIHwgbnVsbCA9IHBhcnNlVXJsKHVybCk7XG4gICAgICAgIGlmICh0aGlzLnJlc291cmNlVXJsUG9saWN5KSB7XG4gICAgICAgICAgcGFyc2VkVXJsID0gdGhpcy5yZXNvdXJjZVVybFBvbGljeShwYXJzZWRVcmwsIHtcbiAgICAgICAgICAgIHR5cGU6IGNhbGxlZEZyb21TdHlsZUVsZW1lbnRcbiAgICAgICAgICAgICAgPyBSZXNvdXJjZVVybFBvbGljeUhpbnRzVHlwZS5TVFlMRV9FTEVNRU5UXG4gICAgICAgICAgICAgIDogUmVzb3VyY2VVcmxQb2xpY3lIaW50c1R5cGUuU1RZTEVfQVRUUklCVVRFLFxuICAgICAgICAgICAgcHJvcGVydHlOYW1lLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICghcGFyc2VkVXJsKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdG9rZW5zW2kgKyAxXSA9IHtcbiAgICAgICAgICB0b2tlbktpbmQ6IENzc1Rva2VuS2luZC5TVFJJTkcsXG4gICAgICAgICAgdmFsdWU6IHBhcnNlZFVybC50b1N0cmluZygpLFxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIFNraXAgdGhlIHN0cmluZyB0b2tlbi5cbiAgICAgICAgaSsrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc2VyaWFsaXplVG9rZW5zKHRva2Vucyk7XG4gIH1cblxuICBwcml2YXRlIHNhbml0aXplS2V5ZnJhbWVSdWxlKHJ1bGU6IENTU0tleWZyYW1lUnVsZSk6IHN0cmluZyB8IG51bGwge1xuICAgIGNvbnN0IHNhbml0aXplZFByb3BlcnRpZXMgPSB0aGlzLnNhbml0aXplU3R5bGVEZWNsYXJhdGlvbihydWxlLnN0eWxlLCB0cnVlKTtcbiAgICAvLyBJdCBzaG91bGQgYmUgc2FmZSB0byBqdXN0IHJlLXVzZSBgcnVsZS5rZXlUZXh0YCBoZXJlIGJlY2F1c2UgaXQgY2FuIG9ubHlcbiAgICAvLyBjb250YWluIGNvbW1hLXNlcGFyYXRlZCBwZXJjZW50YWdlcy5cbiAgICAvL1xuICAgIC8vIGh0dHBzOi8vZHJhZnRzLmNzc3dnLm9yZy9jc3MtYW5pbWF0aW9ucy8jZG9tLWNzc2tleWZyYW1lcnVsZS1rZXl0ZXh0XG4gICAgcmV0dXJuIGAke3J1bGUua2V5VGV4dH0geyAke3Nhbml0aXplZFByb3BlcnRpZXN9IH1gO1xuICB9XG5cbiAgcHJpdmF0ZSBzYW5pdGl6ZUtleWZyYW1lc1J1bGUoXG4gICAga2V5ZnJhbWVzUnVsZTogQ1NTS2V5ZnJhbWVzUnVsZSxcbiAgKTogc3RyaW5nIHwgbnVsbCB7XG4gICAgaWYgKCF0aGlzLmFsbG93S2V5ZnJhbWVzKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3Qga2V5ZnJhbWVSdWxlczogc3RyaW5nW10gPSBbXTtcbiAgICBmb3IgKGNvbnN0IHJ1bGUgb2Yga2V5ZnJhbWVzUnVsZS5jc3NSdWxlcykge1xuICAgICAgaWYgKCEocnVsZSBpbnN0YW5jZW9mIENTU0tleWZyYW1lUnVsZSkpIHtcbiAgICAgICAgLy8gVGhlIG9ubHkgYWxsb3dlZCBjaGlsZCBydWxlcyBvZiBDU1NLZXlmcmFtZXNSdWxlIGFyZSBDU1NLZXlmcmFtZVJ1bGUuXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgY29uc3Qgc2FuaXRpemVkUnVsZSA9IHRoaXMuc2FuaXRpemVLZXlmcmFtZVJ1bGUocnVsZSk7XG4gICAgICBpZiAoc2FuaXRpemVkUnVsZSkge1xuICAgICAgICBrZXlmcmFtZVJ1bGVzLnB1c2goc2FuaXRpemVkUnVsZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGBAa2V5ZnJhbWVzICR7ZXNjYXBlSWRlbnQoa2V5ZnJhbWVzUnVsZS5uYW1lKX0geyAke2tleWZyYW1lUnVsZXMuam9pbignICcpfSB9YDtcbiAgfVxuXG4gIHByaXZhdGUgaXNQcm9wZXJ0eU5hbWVBbGxvd2VkKG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIGlmICghdGhpcy5wcm9wZXJ0eUFsbG93bGlzdC5oYXMobmFtZSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBkaXNjYXJkZXIgb2YgdGhpcy5wcm9wZXJ0eURpc2NhcmRlcnMpIHtcbiAgICAgIGlmIChkaXNjYXJkZXIobmFtZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHByaXZhdGUgc2FuaXRpemVQcm9wZXJ0eShcbiAgICBuYW1lOiBzdHJpbmcsXG4gICAgdmFsdWU6IHN0cmluZyxcbiAgICBpc0ltcG9ydGFudDogYm9vbGVhbixcbiAgICBjYWxsZWRGcm9tU3R5bGVFbGVtZW50OiBib29sZWFuLFxuICApOiBzdHJpbmcgfCBudWxsIHtcbiAgICBpZiAoIXRoaXMuaXNQcm9wZXJ0eU5hbWVBbGxvd2VkKG5hbWUpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3Qgc2FuaXRpemVkVmFsdWUgPSB0aGlzLnNhbml0aXplVmFsdWUoXG4gICAgICBuYW1lLFxuICAgICAgdmFsdWUsXG4gICAgICBjYWxsZWRGcm9tU3R5bGVFbGVtZW50LFxuICAgICk7XG4gICAgaWYgKCFzYW5pdGl6ZWRWYWx1ZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBgJHtlc2NhcGVJZGVudChuYW1lKX06ICR7c2FuaXRpemVkVmFsdWV9JHtcbiAgICAgIGlzSW1wb3J0YW50ID8gJyAhaW1wb3J0YW50JyA6ICcnXG4gICAgfWA7XG4gIH1cblxuICBwcml2YXRlIHNhbml0aXplU3R5bGVEZWNsYXJhdGlvbihcbiAgICBzdHlsZTogQ1NTU3R5bGVEZWNsYXJhdGlvbixcbiAgICBjYWxsZWRGcm9tU3R5bGVFbGVtZW50OiBib29sZWFuLFxuICApOiBzdHJpbmcge1xuICAgIC8vIFdlIHNvcnQgdGhlIHByb3BlcnR5IG5hbWVzIHRvIGVuc3VyZSBhIHN0YWJsZSBzZXJpYWxpemF0aW9uLiBUaGlzIGFsc29cbiAgICAvLyBtYWtlcyB0aGUgb3V0cHV0IGVhc2llciB0byB0ZXN0LlxuICAgIGNvbnN0IHNvcnRlZFByb3BlcnR5TmFtZXMgPSBbLi4uc3R5bGVdLnNvcnQoKTtcbiAgICBsZXQgc2FuaXRpemVkUHJvcGVydGllcyA9ICcnO1xuICAgIGZvciAoY29uc3QgbmFtZSBvZiBzb3J0ZWRQcm9wZXJ0eU5hbWVzKSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IHN0eWxlLmdldFByb3BlcnR5VmFsdWUobmFtZSk7XG4gICAgICBjb25zdCBpc0ltcG9ydGFudCA9IHN0eWxlLmdldFByb3BlcnR5UHJpb3JpdHkobmFtZSkgPT09ICdpbXBvcnRhbnQnO1xuICAgICAgY29uc3Qgc2FuaXRpemVkUHJvcGVydHkgPSB0aGlzLnNhbml0aXplUHJvcGVydHkoXG4gICAgICAgIG5hbWUsXG4gICAgICAgIHZhbHVlLFxuICAgICAgICBpc0ltcG9ydGFudCxcbiAgICAgICAgY2FsbGVkRnJvbVN0eWxlRWxlbWVudCxcbiAgICAgICk7XG4gICAgICBpZiAoc2FuaXRpemVkUHJvcGVydHkpIHtcbiAgICAgICAgc2FuaXRpemVkUHJvcGVydGllcyArPSBzYW5pdGl6ZWRQcm9wZXJ0eSArICc7JztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNhbml0aXplZFByb3BlcnRpZXM7XG4gIH1cblxuICBwcml2YXRlIHNhbml0aXplU3R5bGVSdWxlKHJ1bGU6IENTU1N0eWxlUnVsZSk6IHN0cmluZyB8IG51bGwge1xuICAgIGNvbnN0IHNlbGVjdG9yID0gdGhpcy5zYW5pdGl6ZVNlbGVjdG9yKHJ1bGUuc2VsZWN0b3JUZXh0KTtcbiAgICBpZiAoIXNlbGVjdG9yKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3Qgc2FuaXRpemVkUHJvcGVydGllcyA9IHRoaXMuc2FuaXRpemVTdHlsZURlY2xhcmF0aW9uKHJ1bGUuc3R5bGUsIHRydWUpO1xuICAgIHJldHVybiBgJHtzZWxlY3Rvcn0geyAke3Nhbml0aXplZFByb3BlcnRpZXN9IH1gO1xuICB9XG5cbiAgc2FuaXRpemVTdHlsZUVsZW1lbnQoY3NzVGV4dDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBjb25zdCBzdHlsZVNoZWV0ID0gdGhpcy5nZXRTdHlsZVNoZWV0KGNzc1RleHQpO1xuICAgIGNvbnN0IHJ1bGVzID0gc3R5bGVTaGVldC5jc3NSdWxlcztcbiAgICBjb25zdCBvdXRwdXQ6IHN0cmluZ1tdID0gW107XG4gICAgZm9yIChjb25zdCBydWxlIG9mIHJ1bGVzKSB7XG4gICAgICBpZiAocnVsZSBpbnN0YW5jZW9mIENTU1N0eWxlUnVsZSkge1xuICAgICAgICBjb25zdCBzYW5pdGl6ZWRSdWxlID0gdGhpcy5zYW5pdGl6ZVN0eWxlUnVsZShydWxlKTtcbiAgICAgICAgaWYgKHNhbml0aXplZFJ1bGUpIHtcbiAgICAgICAgICBvdXRwdXQucHVzaChzYW5pdGl6ZWRSdWxlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChydWxlIGluc3RhbmNlb2YgQ1NTS2V5ZnJhbWVzUnVsZSkge1xuICAgICAgICBjb25zdCBzYW5pdGl6ZWRSdWxlID0gdGhpcy5zYW5pdGl6ZUtleWZyYW1lc1J1bGUocnVsZSk7XG4gICAgICAgIGlmIChzYW5pdGl6ZWRSdWxlKSB7XG4gICAgICAgICAgb3V0cHV0LnB1c2goc2FuaXRpemVkUnVsZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gb3V0cHV0LmpvaW4oJ1xcbicpO1xuICB9XG5cbiAgc2FuaXRpemVTdHlsZUF0dHJpYnV0ZShjc3NUZXh0OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGNvbnN0IHN0eWxlRGVjbGFyYXRpb24gPSB0aGlzLmdldFN0eWxlRGVjbGFyYXRpb24oY3NzVGV4dCk7XG4gICAgcmV0dXJuIHRoaXMuc2FuaXRpemVTdHlsZURlY2xhcmF0aW9uKHN0eWxlRGVjbGFyYXRpb24sIGZhbHNlKTtcbiAgfVxufVxuXG4vKipcbiAqIFNhbml0aXplcyBhIENTUyBzdHJpbmcgaW4gYSBgPHN0eWxlPmAgdGFnLlxuICpcbiAqIEBwYXJhbSBjc3NUZXh0IFRoZSBDU1Mgc3RyaW5nIHRvIHNhbml0aXplLlxuICogQHJldHVybiBUaGUgc2FuaXRpemVkIENTUyBzdHJpbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzYW5pdGl6ZVN0eWxlRWxlbWVudChcbiAgY3NzVGV4dDogc3RyaW5nLFxuICBwcm9wZXJ0eUFsbG93bGlzdDogUmVhZG9ubHlTZXQ8c3RyaW5nPixcbiAgZnVuY3Rpb25BbGxvd2xpc3Q6IFJlYWRvbmx5U2V0PHN0cmluZz4sXG4gIHJlc291cmNlVXJsUG9saWN5OiBSZXNvdXJjZVVybFBvbGljeSB8IHVuZGVmaW5lZCxcbiAgYWxsb3dLZXlmcmFtZXM6IGJvb2xlYW4sXG4gIHByb3BlcnR5RGlzY2FyZGVyczogUHJvcGVydHlEaXNjYXJkZXJbXSxcbik6IHN0cmluZyB7XG4gIHJldHVybiBuZXcgQ3NzU2FuaXRpemVyKFxuICAgIHByb3BlcnR5QWxsb3dsaXN0LFxuICAgIGZ1bmN0aW9uQWxsb3dsaXN0LFxuICAgIHJlc291cmNlVXJsUG9saWN5LFxuICAgIGFsbG93S2V5ZnJhbWVzLFxuICAgIHByb3BlcnR5RGlzY2FyZGVycyxcbiAgKS5zYW5pdGl6ZVN0eWxlRWxlbWVudChjc3NUZXh0KTtcbn1cblxuLyoqXG4gKiBTYW5pdGl6ZXMgYSBDU1Mgc3RyaW5nIGluIGEgYHN0eWxlYCBhdHRyaWJ1dGUuXG4gKlxuICogQHBhcmFtIGNzc1RleHQgVGhlIENTUyBzdHJpbmcgdG8gc2FuaXRpemUuXG4gKiBAcmV0dXJuIFRoZSBzYW5pdGl6ZWQgQ1NTIHN0cmluZy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNhbml0aXplU3R5bGVBdHRyaWJ1dGUoXG4gIGNzc1RleHQ6IHN0cmluZyxcbiAgcHJvcGVydHlBbGxvd2xpc3Q6IFJlYWRvbmx5U2V0PHN0cmluZz4sXG4gIGZ1bmN0aW9uQWxsb3dsaXN0OiBSZWFkb25seVNldDxzdHJpbmc+LFxuICByZXNvdXJjZVVybFBvbGljeTogUmVzb3VyY2VVcmxQb2xpY3kgfCB1bmRlZmluZWQsXG4gIHByb3BlcnR5RGlzY2FyZGVyczogUHJvcGVydHlEaXNjYXJkZXJbXSxcbik6IHN0cmluZyB7XG4gIHJldHVybiBuZXcgQ3NzU2FuaXRpemVyKFxuICAgIHByb3BlcnR5QWxsb3dsaXN0LFxuICAgIGZ1bmN0aW9uQWxsb3dsaXN0LFxuICAgIHJlc291cmNlVXJsUG9saWN5LFxuICAgIGZhbHNlLCAvLyBhbGxvd0tleWZyYW1lcyBpcyBub3QgcmVsZXZhbnQgZm9yIHRoZSBzdHlsZSBhdHRyaWJ1dGVcbiAgICBwcm9wZXJ0eURpc2NhcmRlcnMsXG4gICkuc2FuaXRpemVTdHlsZUF0dHJpYnV0ZShjc3NUZXh0KTtcbn1cbiJdfQ==
;return exports;});

//third_party/javascript/safevalues/builders/html_sanitizer/css/css_isolation.closure.js
goog.loadModule(function(exports) {'use strict';/**
 * @license
 * Copyright Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
/**
 * @fileoverview Exports a stylesheet that isolates the sanitized content from
 * the rest of the page.
 *
 * One of the design goals of the CSS sanitizer is to ensure that the sanitized
 * content cannot affect the rest of the page. For example, the sanitized
 * content should not be able to cover other elements on the page, or to show up
 * outside of the sanitized container.
 *
 * This file exports a stylesheet that makes this design goal a reality. Check
 * out css_isolation_test.ts to see specific examples of what this stylesheet
 * attempts to prevent.
 * Generated from: third_party/javascript/safevalues/builders/html_sanitizer/css/css_isolation.ts
 * @suppress {checkTypes} added by tsickle
 * @suppress {extraRequire} added by tsickle
 * @suppress {missingRequire} added by tsickle
 * @suppress {uselessCode} added by tsickle
 * @suppress {suspiciousCode} added by tsickle
 * @suppress {missingReturn} added by tsickle
 * @suppress {unusedPrivateMembers} added by tsickle
 * @suppress {missingOverride} added by tsickle
 * @suppress {const} added by tsickle
 */
goog.module('google3.third_party.javascript.safevalues.builders.html_sanitizer.css.css_isolation');
var module = module || { id: 'third_party/javascript/safevalues/builders/html_sanitizer/css/css_isolation.closure.js' };
goog.require('google3.third_party.javascript.tslib.tslib');
/**
 * A set of CSS properties that isolate the sanitized content from the rest of
 * the page.
 * @type {string}
 */
exports.CSS_ISOLATION_PROPERTIES = 'display:inline-block;clip-path:inset(0);overflow:hidden;vertical-align:top';
/**
 * A stylesheet that isolates the sanitized content from the rest of the page.
 * @type {string}
 */
exports.CSS_ISOLATION_STYLESHEET = `:host{${exports.CSS_ISOLATION_PROPERTIES}}`;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY3NzX2lzb2xhdGlvbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL3RoaXJkX3BhcnR5L2phdmFzY3JpcHQvc2FmZXZhbHVlcy9idWlsZGVycy9odG1sX3Nhbml0aXplci9jc3MvY3NzX2lzb2xhdGlvbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUF3QmEsUUFBQSx3QkFBd0IsR0FDbkMsNEVBQTRFOzs7OztBQUtqRSxRQUFBLHdCQUF3QixHQUFHLFNBQVMsZ0NBQXdCLEdBQUciLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgRXhwb3J0cyBhIHN0eWxlc2hlZXQgdGhhdCBpc29sYXRlcyB0aGUgc2FuaXRpemVkIGNvbnRlbnQgZnJvbVxuICogdGhlIHJlc3Qgb2YgdGhlIHBhZ2UuXG4gKlxuICogT25lIG9mIHRoZSBkZXNpZ24gZ29hbHMgb2YgdGhlIENTUyBzYW5pdGl6ZXIgaXMgdG8gZW5zdXJlIHRoYXQgdGhlIHNhbml0aXplZFxuICogY29udGVudCBjYW5ub3QgYWZmZWN0IHRoZSByZXN0IG9mIHRoZSBwYWdlLiBGb3IgZXhhbXBsZSwgdGhlIHNhbml0aXplZFxuICogY29udGVudCBzaG91bGQgbm90IGJlIGFibGUgdG8gY292ZXIgb3RoZXIgZWxlbWVudHMgb24gdGhlIHBhZ2UsIG9yIHRvIHNob3cgdXBcbiAqIG91dHNpZGUgb2YgdGhlIHNhbml0aXplZCBjb250YWluZXIuXG4gKlxuICogVGhpcyBmaWxlIGV4cG9ydHMgYSBzdHlsZXNoZWV0IHRoYXQgbWFrZXMgdGhpcyBkZXNpZ24gZ29hbCBhIHJlYWxpdHkuIENoZWNrXG4gKiBvdXQgY3NzX2lzb2xhdGlvbl90ZXN0LnRzIHRvIHNlZSBzcGVjaWZpYyBleGFtcGxlcyBvZiB3aGF0IHRoaXMgc3R5bGVzaGVldFxuICogYXR0ZW1wdHMgdG8gcHJldmVudC5cbiAqL1xuXG4vKipcbiAqIEEgc2V0IG9mIENTUyBwcm9wZXJ0aWVzIHRoYXQgaXNvbGF0ZSB0aGUgc2FuaXRpemVkIGNvbnRlbnQgZnJvbSB0aGUgcmVzdCBvZlxuICogdGhlIHBhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBDU1NfSVNPTEFUSU9OX1BST1BFUlRJRVMgPVxuICAnZGlzcGxheTppbmxpbmUtYmxvY2s7Y2xpcC1wYXRoOmluc2V0KDApO292ZXJmbG93OmhpZGRlbjt2ZXJ0aWNhbC1hbGlnbjp0b3AnO1xuXG4vKipcbiAqIEEgc3R5bGVzaGVldCB0aGF0IGlzb2xhdGVzIHRoZSBzYW5pdGl6ZWQgY29udGVudCBmcm9tIHRoZSByZXN0IG9mIHRoZSBwYWdlLlxuICovXG5leHBvcnQgY29uc3QgQ1NTX0lTT0xBVElPTl9TVFlMRVNIRUVUID0gYDpob3N0eyR7Q1NTX0lTT0xBVElPTl9QUk9QRVJUSUVTfX1gO1xuIl19
;return exports;});

//third_party/javascript/safevalues/dom/globals/range.closure.js
goog.loadModule(function(exports) {'use strict';/**
 * @license
 * Copyright Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
/**
 * @fileoverview added by tsickle
 * Generated from: third_party/javascript/safevalues/dom/globals/range.ts
 * @suppress {checkTypes} added by tsickle
 * @suppress {extraRequire} added by tsickle
 * @suppress {missingRequire} added by tsickle
 * @suppress {uselessCode} added by tsickle
 * @suppress {suspiciousCode} added by tsickle
 * @suppress {missingReturn} added by tsickle
 * @suppress {unusedPrivateMembers} added by tsickle
 * @suppress {missingOverride} added by tsickle
 * @suppress {const} added by tsickle
 */
goog.module('google3.third_party.javascript.safevalues.dom.globals.range');
var module = module || { id: 'third_party/javascript/safevalues/dom/globals/range.closure.js' };
goog.require('google3.third_party.javascript.tslib.tslib');
const tsickle_html_impl_1 = goog.requireType("google3.third_party.javascript.safevalues.internals.html_impl");
const html_impl_1 = goog.require('google3.third_party.javascript.safevalues.internals.html_impl');
/**
 * Safely creates a contextualFragment.
 * @param {!Range} range
 * @param {!tsickle_html_impl_1.SafeHtml} html
 * @return {!DocumentFragment}
 */
function createContextualFragment(range, html) {
    return range.createContextualFragment((/** @type {string} */ ((0, html_impl_1.unwrapHtml)(html))));
}
exports.createContextualFragment = createContextualFragment;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmFuZ2UuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi90aGlyZF9wYXJ0eS9qYXZhc2NyaXB0L3NhZmV2YWx1ZXMvZG9tL2dsb2JhbHMvcmFuZ2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU1BLGtHQUErRDs7Ozs7OztBQUcvRCxTQUFnQix3QkFBd0IsQ0FDdEMsS0FBWSxFQUNaLElBQWM7SUFFZCxPQUFPLEtBQUssQ0FBQyx3QkFBd0IsQ0FBQyx3QkFBQSxJQUFBLHNCQUFVLEVBQUMsSUFBSSxDQUFDLEVBQVUsQ0FBQyxDQUFDO0FBQ3BFLENBQUM7QUFMRCw0REFLQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbmltcG9ydCB7U2FmZUh0bWwsIHVud3JhcEh0bWx9IGZyb20gJy4uLy4uL2ludGVybmFscy9odG1sX2ltcGwnO1xuXG4vKiogU2FmZWx5IGNyZWF0ZXMgYSBjb250ZXh0dWFsRnJhZ21lbnQuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ29udGV4dHVhbEZyYWdtZW50KFxuICByYW5nZTogUmFuZ2UsXG4gIGh0bWw6IFNhZmVIdG1sLFxuKTogRG9jdW1lbnRGcmFnbWVudCB7XG4gIHJldHVybiByYW5nZS5jcmVhdGVDb250ZXh0dWFsRnJhZ21lbnQodW53cmFwSHRtbChodG1sKSBhcyBzdHJpbmcpO1xufVxuIl19
;return exports;});

//third_party/javascript/safevalues/builders/html_sanitizer/inert_fragment.closure.js
goog.loadModule(function(exports) {'use strict';/**
 * @license
 * Copyright Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
/**
 * @fileoverview added by tsickle
 * Generated from: third_party/javascript/safevalues/builders/html_sanitizer/inert_fragment.ts
 * @suppress {checkTypes} added by tsickle
 * @suppress {extraRequire} added by tsickle
 * @suppress {missingRequire} added by tsickle
 * @suppress {uselessCode} added by tsickle
 * @suppress {suspiciousCode} added by tsickle
 * @suppress {missingReturn} added by tsickle
 * @suppress {unusedPrivateMembers} added by tsickle
 * @suppress {missingOverride} added by tsickle
 * @suppress {const} added by tsickle
 */
goog.module('google3.third_party.javascript.safevalues.builders.html_sanitizer.inert_fragment');
var module = module || { id: 'third_party/javascript/safevalues/builders/html_sanitizer/inert_fragment.closure.js' };
goog.require('google3.third_party.javascript.tslib.tslib');
const tsickle_range_1 = goog.requireType("google3.third_party.javascript.safevalues.dom.globals.range");
const tsickle_dev_2 = goog.requireType("google3.third_party.javascript.safevalues.environment.dev");
const tsickle_html_impl_3 = goog.requireType("google3.third_party.javascript.safevalues.internals.html_impl");
const range_1 = goog.require('google3.third_party.javascript.safevalues.dom.globals.range');
const dev_1 = goog.require('google3.third_party.javascript.safevalues.environment.dev');
const html_impl_1 = goog.require('google3.third_party.javascript.safevalues.internals.html_impl');
/**
 * Returns a fragment that contains the parsed HTML for `dirtyHtml` without
 * executing any of the potential payload.
 * @param {string} dirtyHtml
 * @param {!Document} inertDocument
 * @return {!DocumentFragment}
 */
function createInertFragment(dirtyHtml, inertDocument) {
    if (dev_1.DEV_MODE) {
        // We are checking if the function was accidentally called with non-inert
        // document. One observable difference between live and inert documents
        // is that live document has a `defaultView` equal to `window`, while
        // inert document has a `defaultView` equal to `null`.
        if (inertDocument.defaultView) {
            throw new Error('createInertFragment called with non-inert document');
        }
    }
    /** @type {!Range} */
    const range = inertDocument.createRange();
    range.selectNode(inertDocument.body);
    // This call is only used to create an inert tree for the sanitizer to
    // further process and is never returned directly to the caller. We can't use
    // a reviewed conversion in order to avoid an import loop.
    /** @type {!tsickle_html_impl_3.SafeHtml} */
    const temporarySafeHtml = (0, html_impl_1.createHtmlInternal)(dirtyHtml);
    return (0, range_1.createContextualFragment)(range, temporarySafeHtml);
}
exports.createInertFragment = createInertFragment;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5lcnRfZnJhZ21lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi90aGlyZF9wYXJ0eS9qYXZhc2NyaXB0L3NhZmV2YWx1ZXMvYnVpbGRlcnMvaHRtbF9zYW5pdGl6ZXIvaW5lcnRfZnJhZ21lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBTUEsNEZBQWlFO0FBQ2pFLHdGQUErQztBQUMvQyxrR0FBNkQ7Ozs7Ozs7O0FBTTdELFNBQWdCLG1CQUFtQixDQUNqQyxTQUFpQixFQUNqQixhQUF1QjtJQUV2QixJQUFJLGNBQVEsRUFBRSxDQUFDO1FBQ2IseUVBQXlFO1FBQ3pFLHVFQUF1RTtRQUN2RSxxRUFBcUU7UUFDckUsc0RBQXNEO1FBQ3RELElBQUksYUFBYSxDQUFDLFdBQVcsRUFBRSxDQUFDO1lBQzlCLE1BQU0sSUFBSSxLQUFLLENBQUMsb0RBQW9ELENBQUMsQ0FBQztRQUN4RSxDQUFDO0lBQ0gsQ0FBQzs7VUFDSyxLQUFLLEdBQUcsYUFBYSxDQUFDLFdBQVcsRUFBRTtJQUN6QyxLQUFLLENBQUMsVUFBVSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsQ0FBQzs7Ozs7VUFLL0IsaUJBQWlCLEdBQUcsSUFBQSw4QkFBa0IsRUFBQyxTQUFTLENBQUM7SUFDdkQsT0FBTyxJQUFBLGdDQUF3QixFQUFDLEtBQUssRUFBRSxpQkFBaUIsQ0FBQyxDQUFDO0FBQzVELENBQUM7QUFyQkQsa0RBcUJDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuaW1wb3J0IHtjcmVhdGVDb250ZXh0dWFsRnJhZ21lbnR9IGZyb20gJy4uLy4uL2RvbS9nbG9iYWxzL3JhbmdlJztcbmltcG9ydCB7REVWX01PREV9IGZyb20gJy4uLy4uL2Vudmlyb25tZW50L2Rldic7XG5pbXBvcnQge2NyZWF0ZUh0bWxJbnRlcm5hbH0gZnJvbSAnLi4vLi4vaW50ZXJuYWxzL2h0bWxfaW1wbCc7XG5cbi8qKlxuICogUmV0dXJucyBhIGZyYWdtZW50IHRoYXQgY29udGFpbnMgdGhlIHBhcnNlZCBIVE1MIGZvciBgZGlydHlIdG1sYCB3aXRob3V0XG4gKiBleGVjdXRpbmcgYW55IG9mIHRoZSBwb3RlbnRpYWwgcGF5bG9hZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUluZXJ0RnJhZ21lbnQoXG4gIGRpcnR5SHRtbDogc3RyaW5nLFxuICBpbmVydERvY3VtZW50OiBEb2N1bWVudCxcbik6IERvY3VtZW50RnJhZ21lbnQge1xuICBpZiAoREVWX01PREUpIHtcbiAgICAvLyBXZSBhcmUgY2hlY2tpbmcgaWYgdGhlIGZ1bmN0aW9uIHdhcyBhY2NpZGVudGFsbHkgY2FsbGVkIHdpdGggbm9uLWluZXJ0XG4gICAgLy8gZG9jdW1lbnQuIE9uZSBvYnNlcnZhYmxlIGRpZmZlcmVuY2UgYmV0d2VlbiBsaXZlIGFuZCBpbmVydCBkb2N1bWVudHNcbiAgICAvLyBpcyB0aGF0IGxpdmUgZG9jdW1lbnQgaGFzIGEgYGRlZmF1bHRWaWV3YCBlcXVhbCB0byBgd2luZG93YCwgd2hpbGVcbiAgICAvLyBpbmVydCBkb2N1bWVudCBoYXMgYSBgZGVmYXVsdFZpZXdgIGVxdWFsIHRvIGBudWxsYC5cbiAgICBpZiAoaW5lcnREb2N1bWVudC5kZWZhdWx0Vmlldykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdjcmVhdGVJbmVydEZyYWdtZW50IGNhbGxlZCB3aXRoIG5vbi1pbmVydCBkb2N1bWVudCcpO1xuICAgIH1cbiAgfVxuICBjb25zdCByYW5nZSA9IGluZXJ0RG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcbiAgcmFuZ2Uuc2VsZWN0Tm9kZShpbmVydERvY3VtZW50LmJvZHkpO1xuXG4gIC8vIFRoaXMgY2FsbCBpcyBvbmx5IHVzZWQgdG8gY3JlYXRlIGFuIGluZXJ0IHRyZWUgZm9yIHRoZSBzYW5pdGl6ZXIgdG9cbiAgLy8gZnVydGhlciBwcm9jZXNzIGFuZCBpcyBuZXZlciByZXR1cm5lZCBkaXJlY3RseSB0byB0aGUgY2FsbGVyLiBXZSBjYW4ndCB1c2VcbiAgLy8gYSByZXZpZXdlZCBjb252ZXJzaW9uIGluIG9yZGVyIHRvIGF2b2lkIGFuIGltcG9ydCBsb29wLlxuICBjb25zdCB0ZW1wb3JhcnlTYWZlSHRtbCA9IGNyZWF0ZUh0bWxJbnRlcm5hbChkaXJ0eUh0bWwpO1xuICByZXR1cm4gY3JlYXRlQ29udGV4dHVhbEZyYWdtZW50KHJhbmdlLCB0ZW1wb3JhcnlTYWZlSHRtbCk7XG59XG4iXX0=
;return exports;});

//third_party/javascript/safevalues/builders/html_sanitizer/no_clobber.closure.js
goog.loadModule(function(exports) {'use strict';/**
 * @license
 * Copyright Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
/**
 * Library that provides safe getters for different node properties and
 * checks for clobbering.
 */
/**
 * @fileoverview added by tsickle
 * Generated from: third_party/javascript/safevalues/builders/html_sanitizer/no_clobber.ts
 * @suppress {checkTypes} added by tsickle
 * @suppress {extraRequire} added by tsickle
 * @suppress {missingRequire} added by tsickle
 * @suppress {uselessCode} added by tsickle
 * @suppress {suspiciousCode} added by tsickle
 * @suppress {missingReturn} added by tsickle
 * @suppress {unusedPrivateMembers} added by tsickle
 * @suppress {missingOverride} added by tsickle
 * @suppress {const} added by tsickle
 */
goog.module('google3.third_party.javascript.safevalues.builders.html_sanitizer.no_clobber');
var module = module || { id: 'third_party/javascript/safevalues/builders/html_sanitizer/no_clobber.closure.js' };
goog.require('google3.third_party.javascript.tslib.tslib');
/**
 * Gets a reasonable nodeName, even for clobbered nodes.
 * @param {!Node} node
 * @return {string}
 */
function getNodeName(node) {
    /** @type {string} */
    const nodeName = node.nodeName;
    // If the property is clobbered, assume it is an `HTMLFormElement`.
    return typeof nodeName === 'string' ? nodeName : 'FORM';
}
exports.getNodeName = getNodeName;
/**
 * Returns true if the object passed is a Text node.
 * @param {!Node} node
 * @return {boolean}
 */
function isText(node) {
    // The property cannot get clobbered on Text nodes.
    return node.nodeType === 3; // Node.TEXT_NODE
}
exports.isText = isText;
/**
 * Returns true if the object passed is an Element node.
 * @param {!Node} node
 * @return {boolean}
 */
function isElement(node) {
    /** @type {number} */
    const nodeType = node.nodeType;
    // If the property is clobbered, we can assume it is an `HTMLFormElement`, and
    // thus an `Element`.
    return nodeType === 1 /* Node.ELEMENT_NODE */ || typeof nodeType !== 'number';
}
exports.isElement = isElement;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9fY2xvYmJlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL3RoaXJkX3BhcnR5L2phdmFzY3JpcHQvc2FmZXZhbHVlcy9idWlsZGVycy9odG1sX3Nhbml0aXplci9ub19jbG9iYmVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVlBLFNBQWdCLFdBQVcsQ0FBQyxJQUFVOztVQUM5QixRQUFRLEdBQUcsSUFBSSxDQUFDLFFBQVE7SUFDOUIsbUVBQW1FO0lBQ25FLE9BQU8sT0FBTyxRQUFRLEtBQUssUUFBUSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQztBQUMxRCxDQUFDO0FBSkQsa0NBSUM7Ozs7OztBQUdELFNBQWdCLE1BQU0sQ0FBQyxJQUFVO0lBQy9CLG1EQUFtRDtJQUNuRCxPQUFPLElBQUksQ0FBQyxRQUFRLEtBQUssQ0FBQyxDQUFDLENBQUMsaUJBQWlCO0FBQy9DLENBQUM7QUFIRCx3QkFHQzs7Ozs7O0FBR0QsU0FBZ0IsU0FBUyxDQUFDLElBQVU7O1VBQzVCLFFBQVEsR0FBRyxJQUFJLENBQUMsUUFBUTtJQUM5Qiw4RUFBOEU7SUFDOUUscUJBQXFCO0lBQ3JCLE9BQU8sUUFBUSxLQUFLLENBQUMsQ0FBQyx1QkFBdUIsSUFBSSxPQUFPLFFBQVEsS0FBSyxRQUFRLENBQUM7QUFDaEYsQ0FBQztBQUxELDhCQUtDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuLyoqXG4gKiBMaWJyYXJ5IHRoYXQgcHJvdmlkZXMgc2FmZSBnZXR0ZXJzIGZvciBkaWZmZXJlbnQgbm9kZSBwcm9wZXJ0aWVzIGFuZFxuICogY2hlY2tzIGZvciBjbG9iYmVyaW5nLlxuICovXG5cbi8qKiBHZXRzIGEgcmVhc29uYWJsZSBub2RlTmFtZSwgZXZlbiBmb3IgY2xvYmJlcmVkIG5vZGVzLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldE5vZGVOYW1lKG5vZGU6IE5vZGUpOiBzdHJpbmcge1xuICBjb25zdCBub2RlTmFtZSA9IG5vZGUubm9kZU5hbWU7XG4gIC8vIElmIHRoZSBwcm9wZXJ0eSBpcyBjbG9iYmVyZWQsIGFzc3VtZSBpdCBpcyBhbiBgSFRNTEZvcm1FbGVtZW50YC5cbiAgcmV0dXJuIHR5cGVvZiBub2RlTmFtZSA9PT0gJ3N0cmluZycgPyBub2RlTmFtZSA6ICdGT1JNJztcbn1cblxuLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGUgb2JqZWN0IHBhc3NlZCBpcyBhIFRleHQgbm9kZS4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1RleHQobm9kZTogTm9kZSk6IG5vZGUgaXMgVGV4dCB7XG4gIC8vIFRoZSBwcm9wZXJ0eSBjYW5ub3QgZ2V0IGNsb2JiZXJlZCBvbiBUZXh0IG5vZGVzLlxuICByZXR1cm4gbm9kZS5ub2RlVHlwZSA9PT0gMzsgLy8gTm9kZS5URVhUX05PREVcbn1cblxuLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGUgb2JqZWN0IHBhc3NlZCBpcyBhbiBFbGVtZW50IG5vZGUuICovXG5leHBvcnQgZnVuY3Rpb24gaXNFbGVtZW50KG5vZGU6IE5vZGUpOiBub2RlIGlzIEVsZW1lbnQge1xuICBjb25zdCBub2RlVHlwZSA9IG5vZGUubm9kZVR5cGU7XG4gIC8vIElmIHRoZSBwcm9wZXJ0eSBpcyBjbG9iYmVyZWQsIHdlIGNhbiBhc3N1bWUgaXQgaXMgYW4gYEhUTUxGb3JtRWxlbWVudGAsIGFuZFxuICAvLyB0aHVzIGFuIGBFbGVtZW50YC5cbiAgcmV0dXJuIG5vZGVUeXBlID09PSAxIC8qIE5vZGUuRUxFTUVOVF9OT0RFICovIHx8IHR5cGVvZiBub2RlVHlwZSAhPT0gJ251bWJlcic7XG59XG4iXX0=
;return exports;});

//third_party/javascript/safevalues/builders/html_sanitizer/sanitizer_table/sanitizer_table.closure.js
goog.loadModule(function(exports) {'use strict';/**
 * @license
 * Copyright Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
/**
 * @fileoverview added by tsickle
 * Generated from: third_party/javascript/safevalues/builders/html_sanitizer/sanitizer_table/sanitizer_table.ts
 * @suppress {checkTypes} added by tsickle
 * @suppress {extraRequire} added by tsickle
 * @suppress {missingRequire} added by tsickle
 * @suppress {uselessCode} added by tsickle
 * @suppress {suspiciousCode} added by tsickle
 * @suppress {missingReturn} added by tsickle
 * @suppress {unusedPrivateMembers} added by tsickle
 * @suppress {missingOverride} added by tsickle
 * @suppress {const} added by tsickle
 */
goog.module('google3.third_party.javascript.safevalues.builders.html_sanitizer.sanitizer_table.sanitizer_table');
var module = module || { id: 'third_party/javascript/safevalues/builders/html_sanitizer/sanitizer_table/sanitizer_table.closure.js' };
goog.require('google3.third_party.javascript.tslib.tslib');
/**
 * Class for holding element and attribute policies used for sanitization.
 */
class SanitizerTable {
    /**
     * @public
     * @param {!ReadonlySet<string>} allowedElements
     * @param {!ReadonlyMap<string, !ReadonlyMap<string, !AttributePolicy>>} elementPolicies
     * @param {!ReadonlySet<string>} allowedGlobalAttributes
     * @param {!ReadonlyMap<string, !AttributePolicy>} globalAttributePolicies
     * @param {(undefined|!ReadonlySet<string>)=} globallyAllowedAttributePrefixes
     */
    constructor(allowedElements, elementPolicies, allowedGlobalAttributes, globalAttributePolicies, globallyAllowedAttributePrefixes) {
        this.allowedElements = allowedElements;
        this.elementPolicies = elementPolicies;
        this.allowedGlobalAttributes = allowedGlobalAttributes;
        this.globalAttributePolicies = globalAttributePolicies;
        this.globallyAllowedAttributePrefixes = globallyAllowedAttributePrefixes;
    }
    /**
     * @public
     * @param {string} elementName
     * @return {boolean}
     */
    isAllowedElement(elementName) {
        // Note: `HTMLFormElement`s are always dropped, supporting them is very
        // costly because of the DOM clobberring they can cause. The additional code
        // size required to properly work around DOM clobberring issues is large and
        // shouldn't be put on every user of the sanitizer. Thoroughly review
        // b/210975025 and the CLs linked there before you start allowing form
        // elements.
        return (elementName !== 'FORM' &&
            (this.allowedElements.has(elementName) ||
                this.elementPolicies.has(elementName)));
    }
    /**
     * @public
     * @param {string} attributeName
     * @param {string} elementName
     * @return {!AttributePolicy}
     */
    getAttributePolicy(attributeName, elementName) {
        /** @type {(undefined|!ReadonlyMap<string, !AttributePolicy>)} */
        const elementPolicy = this.elementPolicies.get(elementName);
        if (elementPolicy?.has(attributeName)) {
            return (/** @type {!AttributePolicy} */ (elementPolicy.get(attributeName)));
        }
        if (this.allowedGlobalAttributes.has(attributeName)) {
            return { policyAction: AttributePolicyAction.KEEP };
        }
        /** @type {(undefined|!AttributePolicy)} */
        const globalPolicy = this.globalAttributePolicies.get(attributeName);
        if (globalPolicy) {
            return globalPolicy;
        }
        if (this.globallyAllowedAttributePrefixes &&
            [...this.globallyAllowedAttributePrefixes].some((/**
             * @param {string} prefix
             * @return {boolean}
             */
            (prefix) => attributeName.indexOf(prefix) === 0))) {
            return { policyAction: AttributePolicyAction.KEEP };
        }
        return { policyAction: AttributePolicyAction.DROP };
    }
}
exports.SanitizerTable = SanitizerTable;
/* istanbul ignore if */
if (false) {
    /**
     * @const {!ReadonlySet<string>}
     * @public
     */
    SanitizerTable.prototype.allowedElements;
    /**
     * @const {!ReadonlyMap<string, !ReadonlyMap<string, !AttributePolicy>>}
     * @public
     */
    SanitizerTable.prototype.elementPolicies;
    /**
     * @const {!ReadonlySet<string>}
     * @public
     */
    SanitizerTable.prototype.allowedGlobalAttributes;
    /**
     * @const {!ReadonlyMap<string, !AttributePolicy>}
     * @public
     */
    SanitizerTable.prototype.globalAttributePolicies;
    /**
     * @const {(undefined|!ReadonlySet<string>)}
     * @public
     */
    SanitizerTable.prototype.globallyAllowedAttributePrefixes;
}
/**
 * Holds information on how to sanitize the attributes of a particular element.
 * An element with an ElementPolicy specified is implicitly kept in the output.
 * @typedef {!ReadonlyMap<string, !AttributePolicy>}
 */
exports.ElementPolicy;
/**
 * Values derived from
 * https://godoc.corp.google.com/pkg/google3/third_party/safehtml/sanitizer/policy#AttributePolicy
 * @enum {number}
 */
const AttributePolicyAction = {
    DROP: 0,
    KEEP: 1,
    KEEP_AND_SANITIZE_URL: 2,
    KEEP_AND_NORMALIZE: 3,
    // This action is currently equivalent to KEEP as there is no style sanitizer.
    KEEP_AND_SANITIZE_STYLE: 4,
    KEEP_AND_USE_RESOURCE_URL_POLICY: 5,
    KEEP_AND_USE_RESOURCE_URL_POLICY_FOR_SRCSET: 6,
};
exports.AttributePolicyAction = AttributePolicyAction;
AttributePolicyAction[AttributePolicyAction.DROP] = 'DROP';
AttributePolicyAction[AttributePolicyAction.KEEP] = 'KEEP';
AttributePolicyAction[AttributePolicyAction.KEEP_AND_SANITIZE_URL] = 'KEEP_AND_SANITIZE_URL';
AttributePolicyAction[AttributePolicyAction.KEEP_AND_NORMALIZE] = 'KEEP_AND_NORMALIZE';
AttributePolicyAction[AttributePolicyAction.KEEP_AND_SANITIZE_STYLE] = 'KEEP_AND_SANITIZE_STYLE';
AttributePolicyAction[AttributePolicyAction.KEEP_AND_USE_RESOURCE_URL_POLICY] = 'KEEP_AND_USE_RESOURCE_URL_POLICY';
AttributePolicyAction[AttributePolicyAction.KEEP_AND_USE_RESOURCE_URL_POLICY_FOR_SRCSET] = 'KEEP_AND_USE_RESOURCE_URL_POLICY_FOR_SRCSET';
/**
 * Holds information on how to sanitize the values of a particular attribute.
 * @record
 */
function AttributePolicy() { }
exports.AttributePolicy = AttributePolicy;
/* istanbul ignore if */
if (false) {
    /**
     * @const {!AttributePolicyAction}
     * @public
     */
    AttributePolicy.prototype.policyAction;
    /**
     * @const {(undefined|!ReadonlyMap<string, !Set<string>>)}
     * @public
     */
    AttributePolicy.prototype.conditions;
}
// From the spec:
// https://html.spec.whatwg.org/multipage/custom-elements.html#prod-potentialcustomelementname:~:text=name%20must%20not%20be%20any%20of%20the%20following%3A
/** @type {!Set<string>} */
const FORBIDDEN_CUSTOM_ELEMENT_NAMES = new Set([
    'ANNOTATION-XML',
    'COLOR-PROFILE',
    'FONT-FACE',
    'FONT-FACE-SRC',
    'FONT-FACE-URI',
    'FONT-FACE-FORMAT',
    'FONT-FACE-NAME',
    'MISSING-GLYPH',
]);
/**
 * Helper for checking if an element tag is a custom element.
 * @param {string} tag
 * @return {boolean}
 */
function isCustomElement(tag) {
    return (!FORBIDDEN_CUSTOM_ELEMENT_NAMES.has(tag.toUpperCase()) &&
        /^[a-z][-_.a-z0-9]*-[-_.a-z0-9]*$/i.test(tag));
}
exports.isCustomElement = isCustomElement;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2FuaXRpemVyX3RhYmxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vdGhpcmRfcGFydHkvamF2YXNjcmlwdC9zYWZldmFsdWVzL2J1aWxkZXJzL2h0bWxfc2FuaXRpemVyL3Nhbml0aXplcl90YWJsZS9zYW5pdGl6ZXJfdGFibGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBT0EsTUFBYSxjQUFjOzs7Ozs7Ozs7SUFDekIsWUFDVyxlQUFvQyxFQUNwQyxlQUFtRCxFQUNuRCx1QkFBNEMsRUFDNUMsdUJBQTZELEVBQzdELGdDQUFzRDtRQUp0RCxvQkFBZSxHQUFmLGVBQWUsQ0FBcUI7UUFDcEMsb0JBQWUsR0FBZixlQUFlLENBQW9DO1FBQ25ELDRCQUF1QixHQUF2Qix1QkFBdUIsQ0FBcUI7UUFDNUMsNEJBQXVCLEdBQXZCLHVCQUF1QixDQUFzQztRQUM3RCxxQ0FBZ0MsR0FBaEMsZ0NBQWdDLENBQXNCO0lBQzlELENBQUM7Ozs7OztJQUVKLGdCQUFnQixDQUFDLFdBQW1CO1FBQ2xDLHVFQUF1RTtRQUN2RSw0RUFBNEU7UUFDNUUsNEVBQTRFO1FBQzVFLHFFQUFxRTtRQUNyRSxzRUFBc0U7UUFDdEUsWUFBWTtRQUNaLE9BQU8sQ0FDTCxXQUFXLEtBQUssTUFBTTtZQUN0QixDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQztnQkFDcEMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FDekMsQ0FBQztJQUNKLENBQUM7Ozs7Ozs7SUFFRCxrQkFBa0IsQ0FDaEIsYUFBcUIsRUFDckIsV0FBbUI7O2NBRWIsYUFBYSxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQztRQUMzRCxJQUFJLGFBQWEsRUFBRSxHQUFHLENBQUMsYUFBYSxDQUFDLEVBQUUsQ0FBQztZQUN0QyxPQUFPLGtDQUFBLGFBQWEsQ0FBQyxHQUFHLENBQUMsYUFBYSxDQUFDLEVBQUMsQ0FBQztRQUMzQyxDQUFDO1FBRUQsSUFBSSxJQUFJLENBQUMsdUJBQXVCLENBQUMsR0FBRyxDQUFDLGFBQWEsQ0FBQyxFQUFFLENBQUM7WUFDcEQsT0FBTyxFQUFDLFlBQVksRUFBRSxxQkFBcUIsQ0FBQyxJQUFJLEVBQUMsQ0FBQztRQUNwRCxDQUFDOztjQUVLLFlBQVksR0FBRyxJQUFJLENBQUMsdUJBQXVCLENBQUMsR0FBRyxDQUFDLGFBQWEsQ0FBQztRQUNwRSxJQUFJLFlBQVksRUFBRSxDQUFDO1lBQ2pCLE9BQU8sWUFBWSxDQUFDO1FBQ3RCLENBQUM7UUFDRCxJQUNFLElBQUksQ0FBQyxnQ0FBZ0M7WUFDckMsQ0FBQyxHQUFHLElBQUksQ0FBQyxnQ0FBZ0MsQ0FBQyxDQUFDLElBQUk7Ozs7WUFDN0MsQ0FBQyxNQUFNLEVBQUUsRUFBRSxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxFQUNoRCxFQUNELENBQUM7WUFDRCxPQUFPLEVBQUMsWUFBWSxFQUFFLHFCQUFxQixDQUFDLElBQUksRUFBQyxDQUFDO1FBQ3BELENBQUM7UUFDRCxPQUFPLEVBQUMsWUFBWSxFQUFFLHFCQUFxQixDQUFDLElBQUksRUFBQyxDQUFDO0lBQ3BELENBQUM7Q0FDRjtBQWxERCx3Q0FrREM7Ozs7Ozs7SUFoREcseUNBQTZDOzs7OztJQUM3Qyx5Q0FBNEQ7Ozs7O0lBQzVELGlEQUFxRDs7Ozs7SUFDckQsaURBQXNFOzs7OztJQUN0RSwwREFBK0Q7Ozs7Ozs7QUFrRG5FLHNCQUFpRTs7Ozs7O0FBTWpFLE1BQVkscUJBQXFCO0lBQy9CLElBQUksR0FBQTtJQUNKLElBQUksR0FBQTtJQUNKLHFCQUFxQixHQUFBO0lBQ3JCLGtCQUFrQixHQUFBOztJQUVsQix1QkFBdUIsR0FBQTtJQUN2QixnQ0FBZ0MsR0FBQTtJQUNoQywyQ0FBMkMsR0FBQTtFQUM1Qzs7Ozs7Ozs7Ozs7OztBQUtELDhCQUtDOzs7Ozs7OztJQUpDLHVDQUE2Qzs7Ozs7SUFHN0MscUNBQXVEOzs7OztNQUtuRCw4QkFBOEIsR0FBRyxJQUFJLEdBQUcsQ0FBUztJQUNyRCxnQkFBZ0I7SUFDaEIsZUFBZTtJQUNmLFdBQVc7SUFDWCxlQUFlO0lBQ2YsZUFBZTtJQUNmLGtCQUFrQjtJQUNsQixnQkFBZ0I7SUFDaEIsZUFBZTtDQUNoQixDQUFDOzs7Ozs7QUFLRixTQUFnQixlQUFlLENBQUMsR0FBVztJQUN6QyxPQUFPLENBQ0wsQ0FBQyw4QkFBOEIsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQ3RELG1DQUFtQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FDOUMsQ0FBQztBQUNKLENBQUM7QUFMRCwwQ0FLQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbi8qKiBDbGFzcyBmb3IgaG9sZGluZyBlbGVtZW50IGFuZCBhdHRyaWJ1dGUgcG9saWNpZXMgdXNlZCBmb3Igc2FuaXRpemF0aW9uLiAqL1xuZXhwb3J0IGNsYXNzIFNhbml0aXplclRhYmxlIHtcbiAgY29uc3RydWN0b3IoXG4gICAgcmVhZG9ubHkgYWxsb3dlZEVsZW1lbnRzOiBSZWFkb25seVNldDxzdHJpbmc+LFxuICAgIHJlYWRvbmx5IGVsZW1lbnRQb2xpY2llczogUmVhZG9ubHlNYXA8c3RyaW5nLCBFbGVtZW50UG9saWN5PixcbiAgICByZWFkb25seSBhbGxvd2VkR2xvYmFsQXR0cmlidXRlczogUmVhZG9ubHlTZXQ8c3RyaW5nPixcbiAgICByZWFkb25seSBnbG9iYWxBdHRyaWJ1dGVQb2xpY2llczogUmVhZG9ubHlNYXA8c3RyaW5nLCBBdHRyaWJ1dGVQb2xpY3k+LFxuICAgIHJlYWRvbmx5IGdsb2JhbGx5QWxsb3dlZEF0dHJpYnV0ZVByZWZpeGVzPzogUmVhZG9ubHlTZXQ8c3RyaW5nPixcbiAgKSB7fVxuXG4gIGlzQWxsb3dlZEVsZW1lbnQoZWxlbWVudE5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIC8vIE5vdGU6IGBIVE1MRm9ybUVsZW1lbnRgcyBhcmUgYWx3YXlzIGRyb3BwZWQsIHN1cHBvcnRpbmcgdGhlbSBpcyB2ZXJ5XG4gICAgLy8gY29zdGx5IGJlY2F1c2Ugb2YgdGhlIERPTSBjbG9iYmVycmluZyB0aGV5IGNhbiBjYXVzZS4gVGhlIGFkZGl0aW9uYWwgY29kZVxuICAgIC8vIHNpemUgcmVxdWlyZWQgdG8gcHJvcGVybHkgd29yayBhcm91bmQgRE9NIGNsb2JiZXJyaW5nIGlzc3VlcyBpcyBsYXJnZSBhbmRcbiAgICAvLyBzaG91bGRuJ3QgYmUgcHV0IG9uIGV2ZXJ5IHVzZXIgb2YgdGhlIHNhbml0aXplci4gVGhvcm91Z2hseSByZXZpZXdcbiAgICAvLyBiLzIxMDk3NTAyNSBhbmQgdGhlIENMcyBsaW5rZWQgdGhlcmUgYmVmb3JlIHlvdSBzdGFydCBhbGxvd2luZyBmb3JtXG4gICAgLy8gZWxlbWVudHMuXG4gICAgcmV0dXJuIChcbiAgICAgIGVsZW1lbnROYW1lICE9PSAnRk9STScgJiZcbiAgICAgICh0aGlzLmFsbG93ZWRFbGVtZW50cy5oYXMoZWxlbWVudE5hbWUpIHx8XG4gICAgICAgIHRoaXMuZWxlbWVudFBvbGljaWVzLmhhcyhlbGVtZW50TmFtZSkpXG4gICAgKTtcbiAgfVxuXG4gIGdldEF0dHJpYnV0ZVBvbGljeShcbiAgICBhdHRyaWJ1dGVOYW1lOiBzdHJpbmcsXG4gICAgZWxlbWVudE5hbWU6IHN0cmluZyxcbiAgKTogQXR0cmlidXRlUG9saWN5IHtcbiAgICBjb25zdCBlbGVtZW50UG9saWN5ID0gdGhpcy5lbGVtZW50UG9saWNpZXMuZ2V0KGVsZW1lbnROYW1lKTtcbiAgICBpZiAoZWxlbWVudFBvbGljeT8uaGFzKGF0dHJpYnV0ZU5hbWUpKSB7XG4gICAgICByZXR1cm4gZWxlbWVudFBvbGljeS5nZXQoYXR0cmlidXRlTmFtZSkhO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmFsbG93ZWRHbG9iYWxBdHRyaWJ1dGVzLmhhcyhhdHRyaWJ1dGVOYW1lKSkge1xuICAgICAgcmV0dXJuIHtwb2xpY3lBY3Rpb246IEF0dHJpYnV0ZVBvbGljeUFjdGlvbi5LRUVQfTtcbiAgICB9XG5cbiAgICBjb25zdCBnbG9iYWxQb2xpY3kgPSB0aGlzLmdsb2JhbEF0dHJpYnV0ZVBvbGljaWVzLmdldChhdHRyaWJ1dGVOYW1lKTtcbiAgICBpZiAoZ2xvYmFsUG9saWN5KSB7XG4gICAgICByZXR1cm4gZ2xvYmFsUG9saWN5O1xuICAgIH1cbiAgICBpZiAoXG4gICAgICB0aGlzLmdsb2JhbGx5QWxsb3dlZEF0dHJpYnV0ZVByZWZpeGVzICYmXG4gICAgICBbLi4udGhpcy5nbG9iYWxseUFsbG93ZWRBdHRyaWJ1dGVQcmVmaXhlc10uc29tZShcbiAgICAgICAgKHByZWZpeCkgPT4gYXR0cmlidXRlTmFtZS5pbmRleE9mKHByZWZpeCkgPT09IDAsXG4gICAgICApXG4gICAgKSB7XG4gICAgICByZXR1cm4ge3BvbGljeUFjdGlvbjogQXR0cmlidXRlUG9saWN5QWN0aW9uLktFRVB9O1xuICAgIH1cbiAgICByZXR1cm4ge3BvbGljeUFjdGlvbjogQXR0cmlidXRlUG9saWN5QWN0aW9uLkRST1B9O1xuICB9XG59XG5cbi8qKlxuICogSG9sZHMgaW5mb3JtYXRpb24gb24gaG93IHRvIHNhbml0aXplIHRoZSBhdHRyaWJ1dGVzIG9mIGEgcGFydGljdWxhciBlbGVtZW50LlxuICogQW4gZWxlbWVudCB3aXRoIGFuIEVsZW1lbnRQb2xpY3kgc3BlY2lmaWVkIGlzIGltcGxpY2l0bHkga2VwdCBpbiB0aGUgb3V0cHV0LlxuICovXG5leHBvcnQgdHlwZSBFbGVtZW50UG9saWN5ID0gUmVhZG9ubHlNYXA8c3RyaW5nLCBBdHRyaWJ1dGVQb2xpY3k+O1xuXG4vKipcbiAqIFZhbHVlcyBkZXJpdmVkIGZyb21cbiAqIGh0dHBzOi8vZ29kb2MuY29ycC5nb29nbGUuY29tL3BrZy9nb29nbGUzL3RoaXJkX3BhcnR5L3NhZmVodG1sL3Nhbml0aXplci9wb2xpY3kjQXR0cmlidXRlUG9saWN5XG4gKi9cbmV4cG9ydCBlbnVtIEF0dHJpYnV0ZVBvbGljeUFjdGlvbiB7XG4gIERST1AsXG4gIEtFRVAsXG4gIEtFRVBfQU5EX1NBTklUSVpFX1VSTCxcbiAgS0VFUF9BTkRfTk9STUFMSVpFLFxuICAvLyBUaGlzIGFjdGlvbiBpcyBjdXJyZW50bHkgZXF1aXZhbGVudCB0byBLRUVQIGFzIHRoZXJlIGlzIG5vIHN0eWxlIHNhbml0aXplci5cbiAgS0VFUF9BTkRfU0FOSVRJWkVfU1RZTEUsXG4gIEtFRVBfQU5EX1VTRV9SRVNPVVJDRV9VUkxfUE9MSUNZLFxuICBLRUVQX0FORF9VU0VfUkVTT1VSQ0VfVVJMX1BPTElDWV9GT1JfU1JDU0VULFxufVxuXG4vKipcbiAqIEhvbGRzIGluZm9ybWF0aW9uIG9uIGhvdyB0byBzYW5pdGl6ZSB0aGUgdmFsdWVzIG9mIGEgcGFydGljdWxhciBhdHRyaWJ1dGUuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQXR0cmlidXRlUG9saWN5IHtcbiAgcmVhZG9ubHkgcG9saWN5QWN0aW9uOiBBdHRyaWJ1dGVQb2xpY3lBY3Rpb247XG4gIC8vIFRoaXMgYXR0cmlidXRlIGlzIG9ubHkgYWxsb3dlZCBpZiB0aGUgYXR0cmlidXRlcyAodXNlZCBhcyB0aGUga2V5cyBpblxuICAvLyB0aGUgbWFwKSBpcyBlcXVhbCB0byBvbmUgb2YgdGhlIHZhbHVlcyBpbiB0aGUgc2V0LlxuICByZWFkb25seSBjb25kaXRpb25zPzogUmVhZG9ubHlNYXA8c3RyaW5nLCBTZXQ8c3RyaW5nPj47XG59XG5cbi8vIEZyb20gdGhlIHNwZWM6XG4vLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9jdXN0b20tZWxlbWVudHMuaHRtbCNwcm9kLXBvdGVudGlhbGN1c3RvbWVsZW1lbnRuYW1lOn46dGV4dD1uYW1lJTIwbXVzdCUyMG5vdCUyMGJlJTIwYW55JTIwb2YlMjB0aGUlMjBmb2xsb3dpbmclM0FcbmNvbnN0IEZPUkJJRERFTl9DVVNUT01fRUxFTUVOVF9OQU1FUyA9IG5ldyBTZXQ8c3RyaW5nPihbXG4gICdBTk5PVEFUSU9OLVhNTCcsXG4gICdDT0xPUi1QUk9GSUxFJyxcbiAgJ0ZPTlQtRkFDRScsXG4gICdGT05ULUZBQ0UtU1JDJyxcbiAgJ0ZPTlQtRkFDRS1VUkknLFxuICAnRk9OVC1GQUNFLUZPUk1BVCcsXG4gICdGT05ULUZBQ0UtTkFNRScsXG4gICdNSVNTSU5HLUdMWVBIJyxcbl0pO1xuXG4vKipcbiAqIEhlbHBlciBmb3IgY2hlY2tpbmcgaWYgYW4gZWxlbWVudCB0YWcgaXMgYSBjdXN0b20gZWxlbWVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQ3VzdG9tRWxlbWVudCh0YWc6IHN0cmluZyk6IGJvb2xlYW4ge1xuICByZXR1cm4gKFxuICAgICFGT1JCSURERU5fQ1VTVE9NX0VMRU1FTlRfTkFNRVMuaGFzKHRhZy50b1VwcGVyQ2FzZSgpKSAmJlxuICAgIC9eW2Etel1bLV8uYS16MC05XSotWy1fLmEtejAtOV0qJC9pLnRlc3QodGFnKVxuICApO1xufVxuIl19
;return exports;});

//third_party/javascript/safevalues/builders/html_sanitizer/sanitizer_table/default_sanitizer_table.closure.js
goog.loadModule(function(exports) {'use strict';/**
 * @license
 * Copyright Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
/* GENERATED CODE, DO NOT MODIFY */
/**
 * @fileoverview added by tsickle
 * Generated from: third_party/javascript/safevalues/builders/html_sanitizer/sanitizer_table/default_sanitizer_table.ts
 * @suppress {checkTypes} added by tsickle
 * @suppress {extraRequire} added by tsickle
 * @suppress {missingRequire} added by tsickle
 * @suppress {uselessCode} added by tsickle
 * @suppress {suspiciousCode} added by tsickle
 * @suppress {missingReturn} added by tsickle
 * @suppress {unusedPrivateMembers} added by tsickle
 * @suppress {missingOverride} added by tsickle
 * @suppress {const} added by tsickle
 */
goog.module('google3.third_party.javascript.safevalues.builders.html_sanitizer.sanitizer_table.default_sanitizer_table');
var module = module || { id: 'third_party/javascript/safevalues/builders/html_sanitizer/sanitizer_table/default_sanitizer_table.closure.js' };
goog.require('google3.third_party.javascript.tslib.tslib');
const tsickle_pure_1 = goog.requireType("google3.third_party.javascript.safevalues.internals.pure");
const tsickle_sanitizer_table_2 = goog.requireType("google3.third_party.javascript.safevalues.builders.html_sanitizer.sanitizer_table.sanitizer_table");
const pure_1 = goog.require('google3.third_party.javascript.safevalues.internals.pure');
const sanitizer_table_1 = goog.require('google3.third_party.javascript.safevalues.builders.html_sanitizer.sanitizer_table.sanitizer_table');
/** @type {!ReadonlyArray<string>} */
const ALLOWED_ELEMENTS = [
    'ARTICLE',
    'SECTION',
    'NAV',
    'ASIDE',
    'H1',
    'H2',
    'H3',
    'H4',
    'H5',
    'H6',
    'HEADER',
    'FOOTER',
    'ADDRESS',
    'P',
    'HR',
    'PRE',
    'BLOCKQUOTE',
    'OL',
    'UL',
    'LH',
    'LI',
    'DL',
    'DT',
    'DD',
    'FIGURE',
    'FIGCAPTION',
    'MAIN',
    'DIV',
    'EM',
    'STRONG',
    'SMALL',
    'S',
    'CITE',
    'Q',
    'DFN',
    'ABBR',
    'RUBY',
    'RB',
    'RT',
    'RTC',
    'RP',
    'DATA',
    'TIME',
    'CODE',
    'VAR',
    'SAMP',
    'KBD',
    'SUB',
    'SUP',
    'I',
    'B',
    'U',
    'MARK',
    'BDI',
    'BDO',
    'SPAN',
    'BR',
    'WBR',
    'NOBR',
    'INS',
    'DEL',
    'PICTURE',
    'PARAM',
    'TRACK',
    'MAP',
    'TABLE',
    'CAPTION',
    'COLGROUP',
    'COL',
    'TBODY',
    'THEAD',
    'TFOOT',
    'TR',
    'TD',
    'TH',
    'SELECT',
    'DATALIST',
    'OPTGROUP',
    'OPTION',
    'OUTPUT',
    'PROGRESS',
    'METER',
    'FIELDSET',
    'LEGEND',
    'DETAILS',
    'SUMMARY',
    'MENU',
    'DIALOG',
    'SLOT',
    'CANVAS',
    'FONT',
    'CENTER',
    'ACRONYM',
    'BASEFONT',
    'BIG',
    'DIR',
    'HGROUP',
    'STRIKE',
    'TT',
];
/** @type {!ReadonlyArray<!Array<?>>} */
const ELEMENT_POLICIES = [
    [
        'A',
        new Map([
            [
                'href',
                {
                    policyAction: sanitizer_table_1.AttributePolicyAction.KEEP_AND_SANITIZE_URL,
                },
            ],
        ]),
    ],
    [
        'AREA',
        new Map([
            [
                'href',
                {
                    policyAction: sanitizer_table_1.AttributePolicyAction.KEEP_AND_SANITIZE_URL,
                },
            ],
        ]),
    ],
    [
        'LINK',
        new Map([
            [
                'href',
                {
                    policyAction: sanitizer_table_1.AttributePolicyAction.KEEP_AND_USE_RESOURCE_URL_POLICY,
                    conditions: new Map([
                        [
                            'rel',
                            new Set([
                                'alternate',
                                'author',
                                'bookmark',
                                'canonical',
                                'cite',
                                'help',
                                'icon',
                                'license',
                                'next',
                                'prefetch',
                                'dns-prefetch',
                                'prerender',
                                'preconnect',
                                'preload',
                                'prev',
                                'search',
                                'subresource',
                            ]),
                        ],
                    ]),
                },
            ],
        ]),
    ],
    [
        'SOURCE',
        new Map([
            [
                'src',
                {
                    policyAction: sanitizer_table_1.AttributePolicyAction.KEEP_AND_USE_RESOURCE_URL_POLICY,
                },
            ],
            [
                'srcset',
                {
                    policyAction: sanitizer_table_1.AttributePolicyAction.KEEP_AND_USE_RESOURCE_URL_POLICY_FOR_SRCSET,
                },
            ],
        ]),
    ],
    [
        'IMG',
        new Map([
            [
                'src',
                {
                    policyAction: sanitizer_table_1.AttributePolicyAction.KEEP_AND_USE_RESOURCE_URL_POLICY,
                },
            ],
            [
                'srcset',
                {
                    policyAction: sanitizer_table_1.AttributePolicyAction.KEEP_AND_USE_RESOURCE_URL_POLICY_FOR_SRCSET,
                },
            ],
        ]),
    ],
    [
        'VIDEO',
        new Map([
            [
                'src',
                {
                    policyAction: sanitizer_table_1.AttributePolicyAction.KEEP_AND_USE_RESOURCE_URL_POLICY,
                },
            ],
        ]),
    ],
    [
        'AUDIO',
        new Map([
            [
                'src',
                {
                    policyAction: sanitizer_table_1.AttributePolicyAction.KEEP_AND_USE_RESOURCE_URL_POLICY,
                },
            ],
        ]),
    ],
];
/** @type {!ReadonlyArray<string>} */
const ALLOWED_GLOBAL_ATTRIBUTES = [
    'title',
    'aria-atomic',
    'aria-autocomplete',
    'aria-busy',
    'aria-checked',
    'aria-current',
    'aria-disabled',
    'aria-dropeffect',
    'aria-expanded',
    'aria-haspopup',
    'aria-hidden',
    'aria-invalid',
    'aria-label',
    'aria-level',
    'aria-live',
    'aria-multiline',
    'aria-multiselectable',
    'aria-orientation',
    'aria-posinset',
    'aria-pressed',
    'aria-readonly',
    'aria-relevant',
    'aria-required',
    'aria-selected',
    'aria-setsize',
    'aria-sort',
    'aria-valuemax',
    'aria-valuemin',
    'aria-valuenow',
    'aria-valuetext',
    'alt',
    'align',
    'autocapitalize',
    'autocomplete',
    'autocorrect',
    'autofocus',
    'autoplay',
    'bgcolor',
    'border',
    'cellpadding',
    'cellspacing',
    'checked',
    'color',
    'cols',
    'colspan',
    'controls',
    'datetime',
    'disabled',
    'download',
    'draggable',
    'enctype',
    'face',
    'formenctype',
    'frameborder',
    'height',
    'hreflang',
    'hidden',
    'ismap',
    'label',
    'lang',
    'loop',
    'max',
    'maxlength',
    'media',
    'minlength',
    'min',
    'multiple',
    'muted',
    'nonce',
    'open',
    'placeholder',
    'preload',
    'rel',
    'required',
    'reversed',
    'role',
    'rows',
    'rowspan',
    'selected',
    'shape',
    'size',
    'sizes',
    'slot',
    'span',
    'spellcheck',
    'start',
    'step',
    'summary',
    'translate',
    'type',
    'valign',
    'value',
    'width',
    'wrap',
    'itemscope',
    'itemtype',
    'itemid',
    'itemprop',
    'itemref',
];
/** @type {!ReadonlyArray<!Array<?>>} */
const GLOBAL_ATTRIBUTE_POLICIES = [
    [
        'dir',
        {
            policyAction: sanitizer_table_1.AttributePolicyAction.KEEP_AND_NORMALIZE,
            conditions: (0, pure_1.pure)((/**
             * @return {!Map<string, !Set<string>>}
             */
            () => {
                return new Map([
                    ['dir', new Set(['auto', 'ltr', 'rtl'])],
                ]);
            })),
        },
    ],
    [
        'async',
        {
            policyAction: sanitizer_table_1.AttributePolicyAction.KEEP_AND_NORMALIZE,
            conditions: (0, pure_1.pure)((/**
             * @return {!Map<string, !Set<string>>}
             */
            () => {
                return new Map([
                    ['async', new Set(['async'])],
                ]);
            })),
        },
    ],
    [
        'cite',
        {
            policyAction: sanitizer_table_1.AttributePolicyAction.KEEP_AND_SANITIZE_URL,
        },
    ],
    [
        'loading',
        {
            policyAction: sanitizer_table_1.AttributePolicyAction.KEEP_AND_NORMALIZE,
            conditions: (0, pure_1.pure)((/**
             * @return {!Map<string, !Set<string>>}
             */
            () => {
                return new Map([
                    ['loading', new Set(['eager', 'lazy'])],
                ]);
            })),
        },
    ],
    [
        'poster',
        {
            policyAction: sanitizer_table_1.AttributePolicyAction.KEEP_AND_SANITIZE_URL,
        },
    ],
    [
        'target',
        {
            policyAction: sanitizer_table_1.AttributePolicyAction.KEEP_AND_NORMALIZE,
            conditions: (0, pure_1.pure)((/**
             * @return {!Map<string, !Set<string>>}
             */
            () => {
                return new Map([
                    ['target', new Set(['_self', '_blank'])],
                ]);
            })),
        },
    ],
];
/**
 * Sanitizer table for the default sanitizer configuration
 * // BEGIN-INTERNAL
 * This SanitizerTable was generated from the checked in html contract:
 *  webutil/html/types/codegen/html5_contract.textpb
 *
 * You can regenerate this file with:
 * webutil/html/types/codegen/update_generated_source_files.sh  // END-INTERNAL
 * @type {!tsickle_sanitizer_table_2.SanitizerTable}
 */
exports.DEFAULT_SANITIZER_TABLE = new sanitizer_table_1.SanitizerTable(new Set(ALLOWED_ELEMENTS), new Map(ELEMENT_POLICIES), new Set(ALLOWED_GLOBAL_ATTRIBUTES), new Map(GLOBAL_ATTRIBUTE_POLICIES));
// BEGIN-INTERNAL
/**
 * This is similar to the default sanitizer configuration, but tries to allow as
 * many things while still guaranteeing the security of the output.
 *
 * This configuration does not protect against go/dom-clobbering.
 *
 * We construct it directly rather than relying on the `HtmlSanitizerBuilder` to
 * make sure that the compiler knows it can be dead-code eliminated when unused.
 * @type {!tsickle_sanitizer_table_2.SanitizerTable}
 */
exports.LENIENT_SANITIZER_TABLE = new sanitizer_table_1.SanitizerTable(new Set(ALLOWED_ELEMENTS.concat(['BUTTON', 'INPUT'])), new Map(ELEMENT_POLICIES), new Set((0, pure_1.pure)((/**
 * @return {!Array<string>}
 */
() => ALLOWED_GLOBAL_ATTRIBUTES.concat(['class', 'id', 'name'])))), new Map((0, pure_1.pure)((/**
 * @return {!Array<!Array<?>>}
 */
() => GLOBAL_ATTRIBUTE_POLICIES.concat([
    // safevalues doesn't have a style sanitizer
    ['style', { policyAction: sanitizer_table_1.AttributePolicyAction.KEEP }],
])))));
/**
 * This is also similar to the default sanitizer configuration, but tries to be
 * even more lenient than the LENIENT_SANITIZER_TABLE while still guaranteeing
 * that the output cannot cause XSS in modern browsers. This should only be
 * used when absolutely necessary. See go/super-lenient-sanitizer for more
 * information.
 *
 * We construct it directly rather than relying on the `HtmlSanitizerBuilder` to
 * make sure that the compiler knows it can be dead-code eliminated when unused.
 * @type {!tsickle_sanitizer_table_2.SanitizerTable}
 */
exports.SUPER_LENIENT_SANITIZER_TABLE = new sanitizer_table_1.SanitizerTable(new Set((0, pure_1.pure)((/**
 * @return {!Array<string>}
 */
() => ALLOWED_ELEMENTS.concat([
    'STYLE',
    'TITLE',
    'INPUT',
    'TEXTAREA',
    'BUTTON',
    'LABEL',
])))), new Map(ELEMENT_POLICIES), new Set((0, pure_1.pure)((/**
 * @return {!Array<string>}
 */
() => ALLOWED_GLOBAL_ATTRIBUTES.concat([
    'class',
    'id',
    'tabindex',
    'contenteditable',
    'name',
])))), new Map((0, pure_1.pure)((/**
 * @return {!Array<!Array<?>>}
 */
() => GLOBAL_ATTRIBUTE_POLICIES.concat([
    // safevalues doesn't have a style sanitizer
    ['style', { policyAction: sanitizer_table_1.AttributePolicyAction.KEEP }],
])))), new Set(['data-', 'aria-']));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVmYXVsdF9zYW5pdGl6ZXJfdGFibGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi90aGlyZF9wYXJ0eS9qYXZhc2NyaXB0L3NhZmV2YWx1ZXMvYnVpbGRlcnMvaHRtbF9zYW5pdGl6ZXIvc2FuaXRpemVyX3RhYmxlL2RlZmF1bHRfc2FuaXRpemVyX3RhYmxlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVFBLHdGQUE2QztBQUU3Qyw0SUFLMkI7O01BRXJCLGdCQUFnQixHQUFzQjtJQUMxQyxTQUFTO0lBQ1QsU0FBUztJQUNULEtBQUs7SUFDTCxPQUFPO0lBQ1AsSUFBSTtJQUNKLElBQUk7SUFDSixJQUFJO0lBQ0osSUFBSTtJQUNKLElBQUk7SUFDSixJQUFJO0lBQ0osUUFBUTtJQUNSLFFBQVE7SUFDUixTQUFTO0lBQ1QsR0FBRztJQUNILElBQUk7SUFDSixLQUFLO0lBQ0wsWUFBWTtJQUNaLElBQUk7SUFDSixJQUFJO0lBQ0osSUFBSTtJQUNKLElBQUk7SUFDSixJQUFJO0lBQ0osSUFBSTtJQUNKLElBQUk7SUFDSixRQUFRO0lBQ1IsWUFBWTtJQUNaLE1BQU07SUFDTixLQUFLO0lBQ0wsSUFBSTtJQUNKLFFBQVE7SUFDUixPQUFPO0lBQ1AsR0FBRztJQUNILE1BQU07SUFDTixHQUFHO0lBQ0gsS0FBSztJQUNMLE1BQU07SUFDTixNQUFNO0lBQ04sSUFBSTtJQUNKLElBQUk7SUFDSixLQUFLO0lBQ0wsSUFBSTtJQUNKLE1BQU07SUFDTixNQUFNO0lBQ04sTUFBTTtJQUNOLEtBQUs7SUFDTCxNQUFNO0lBQ04sS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsR0FBRztJQUNILEdBQUc7SUFDSCxHQUFHO0lBQ0gsTUFBTTtJQUNOLEtBQUs7SUFDTCxLQUFLO0lBQ0wsTUFBTTtJQUNOLElBQUk7SUFDSixLQUFLO0lBQ0wsTUFBTTtJQUNOLEtBQUs7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QTZCLEdBQUcsSUFBSSxnQ0FBYyxDQUM3RCxJQUFJLEdBQUcsQ0FDTCxJQUFBLFdBQUk7OztBQUFDLEdBQUcsRUFBRSxDQUNSLGdCQUFnQixDQUFDLE1BQU0sQ0FBQztJQUN0QixPQUFPO0lBQ1AsT0FBTztJQUNQLE9BQU87SUFDUCxVQUFVO0lBQ1YsUUFBUTtJQUNSLE9BQU87Q0FDUixDQUFDLEVBQ0gsQ0FDRixFQUNELElBQUksR0FBRyxDQUFDLGdCQUFnQixDQUFDLEVBQ3pCLElBQUksR0FBRyxDQUNMLElBQUEsV0FBSTs7O0FBQUMsR0FBRyxFQUFFLENBQ1IseUJBQXlCLENBQUMsTUFBTSxDQUFDO0lBQy9CLE9BQU87SUFDUCxJQUFJO0lBQ0osVUFBVTtJQUNWLGlCQUFpQjtJQUNqQixNQUFNO0NBQ1AsQ0FBQyxFQUNILENBQ0YsRUFDRCxJQUFJLEdBQUcsQ0FDTCxJQUFBLFdBQUk7OztBQUFDLEdBQUcsRUFBRSxDQUNSLHlCQUF5QixDQUFDLE1BQU0sQ0FBQztJQUMvQiw0Q0FBNEM7SUFDNUMsQ0FBQyxPQUFPLEVBQUUsRUFBQyxZQUFZLEVBQUUsdUNBQXFCLENBQUMsSUFBSSxFQUFDLENBQUM7Q0FDdEQsQ0FBQyxFQUNILENBQ0YsRUFDRCxJQUFJLEdBQUcsQ0FBQyxDQUFDLE9BQU8sRUFBRSxPQUFPLENBQUMsQ0FBQyxDQUM1QiIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbi8qIEdFTkVSQVRFRCBDT0RFLCBETyBOT1QgTU9ESUZZICovXG5cbmltcG9ydCB7cHVyZX0gZnJvbSAnLi4vLi4vLi4vaW50ZXJuYWxzL3B1cmUnO1xuXG5pbXBvcnQge1xuICBBdHRyaWJ1dGVQb2xpY3ksXG4gIEF0dHJpYnV0ZVBvbGljeUFjdGlvbixcbiAgRWxlbWVudFBvbGljeSxcbiAgU2FuaXRpemVyVGFibGUsXG59IGZyb20gJy4vc2FuaXRpemVyX3RhYmxlJztcblxuY29uc3QgQUxMT1dFRF9FTEVNRU5UUzogcmVhZG9ubHkgc3RyaW5nW10gPSBbXG4gICdBUlRJQ0xFJyxcbiAgJ1NFQ1RJT04nLFxuICAnTkFWJyxcbiAgJ0FTSURFJyxcbiAgJ0gxJyxcbiAgJ0gyJyxcbiAgJ0gzJyxcbiAgJ0g0JyxcbiAgJ0g1JyxcbiAgJ0g2JyxcbiAgJ0hFQURFUicsXG4gICdGT09URVInLFxuICAnQUREUkVTUycsXG4gICdQJyxcbiAgJ0hSJyxcbiAgJ1BSRScsXG4gICdCTE9DS1FVT1RFJyxcbiAgJ09MJyxcbiAgJ1VMJyxcbiAgJ0xIJyxcbiAgJ0xJJyxcbiAgJ0RMJyxcbiAgJ0RUJyxcbiAgJ0REJyxcbiAgJ0ZJR1VSRScsXG4gICdGSUdDQVBUSU9OJyxcbiAgJ01BSU4nLFxuICAnRElWJyxcbiAgJ0VNJyxcbiAgJ1NUUk9ORycsXG4gICdTTUFMTCcsXG4gICdTJyxcbiAgJ0NJVEUnLFxuICAnUScsXG4gICdERk4nLFxuICAnQUJCUicsXG4gICdSVUJZJyxcbiAgJ1JCJyxcbiAgJ1JUJyxcbiAgJ1JUQycsXG4gICdSUCcsXG4gICdEQVRBJyxcbiAgJ1RJTUUnLFxuICAnQ09ERScsXG4gICdWQVInLFxuICAnU0FNUCcsXG4gICdLQkQnLFxuICAnU1VCJyxcbiAgJ1NVUCcsXG4gICdJJyxcbiAgJ0InLFxuICAnVScsXG4gICdNQVJLJyxcbiAgJ0JESScsXG4gICdCRE8nLFxuICAnU1BBTicsXG4gICdCUicsXG4gICdXQlInLFxuICAnTk9CUicsXG4gICdJTlMnLFxuICAnREVMJyxcbiAgJ1BJQ1RVUkUnLFxuICAnUEFSQU0nLFxuICAnVFJBQ0snLFxuICAnTUFQJyxcbiAgJ1RBQkxFJyxcbiAgJ0NBUFRJT04nLFxuICAnQ09MR1JPVVAnLFxuICAnQ09MJyxcbiAgJ1RCT0RZJyxcbiAgJ1RIRUFEJyxcbiAgJ1RGT09UJyxcbiAgJ1RSJyxcbiAgJ1REJyxcbiAgJ1RIJyxcbiAgJ1NFTEVDVCcsXG4gICdEQVRBTElTVCcsXG4gICdPUFRHUk9VUCcsXG4gICdPUFRJT04nLFxuICAnT1VUUFVUJyxcbiAgJ1BST0dSRVNTJyxcbiAgJ01FVEVSJyxcbiAgJ0ZJRUxEU0VUJyxcbiAgJ0xFR0VORCcsXG4gICdERVRBSUxTJyxcbiAgJ1NVTU1BUlknLFxuICAnTUVOVScsXG4gICdESUFMT0cnLFxuICAnU0xPVCcsXG4gICdDQU5WQVMnLFxuICAnRk9OVCcsXG4gICdDRU5URVInLFxuICAnQUNST05ZTScsXG4gICdCQVNFRk9OVCcsXG4gICdCSUcnLFxuICAnRElSJyxcbiAgJ0hHUk9VUCcsXG4gICdTVFJJS0UnLFxuICAnVFQnLFxuXTtcblxuY29uc3QgRUxFTUVOVF9QT0xJQ0lFUzogUmVhZG9ubHlBcnJheTxbc3RyaW5nLCBFbGVtZW50UG9saWN5XT4gPSBbXG4gIFtcbiAgICAnQScsXG4gICAgbmV3IE1hcDxzdHJpbmcsIEF0dHJpYnV0ZVBvbGljeT4oW1xuICAgICAgW1xuICAgICAgICAnaHJlZicsXG4gICAgICAgIHtcbiAgICAgICAgICBwb2xpY3lBY3Rpb246IEF0dHJpYnV0ZVBvbGljeUFjdGlvbi5LRUVQX0FORF9TQU5JVElaRV9VUkwsXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgIF0pLFxuICBdLFxuICBbXG4gICAgJ0FSRUEnLFxuICAgIG5ldyBNYXA8c3RyaW5nLCBBdHRyaWJ1dGVQb2xpY3k+KFtcbiAgICAgIFtcbiAgICAgICAgJ2hyZWYnLFxuICAgICAgICB7XG4gICAgICAgICAgcG9saWN5QWN0aW9uOiBBdHRyaWJ1dGVQb2xpY3lBY3Rpb24uS0VFUF9BTkRfU0FOSVRJWkVfVVJMLFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICBdKSxcbiAgXSxcbiAgW1xuICAgICdMSU5LJyxcbiAgICBuZXcgTWFwPHN0cmluZywgQXR0cmlidXRlUG9saWN5PihbXG4gICAgICBbXG4gICAgICAgICdocmVmJyxcbiAgICAgICAge1xuICAgICAgICAgIHBvbGljeUFjdGlvbjogQXR0cmlidXRlUG9saWN5QWN0aW9uLktFRVBfQU5EX1VTRV9SRVNPVVJDRV9VUkxfUE9MSUNZLFxuICAgICAgICAgIGNvbmRpdGlvbnM6IG5ldyBNYXA8c3RyaW5nLCBTZXQ8c3RyaW5nPj4oW1xuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAncmVsJyxcbiAgICAgICAgICAgICAgbmV3IFNldDxzdHJpbmc+KFtcbiAgICAgICAgICAgICAgICAnYWx0ZXJuYXRlJyxcbiAgICAgICAgICAgICAgICAnYXV0aG9yJyxcbiAgICAgICAgICAgICAgICAnYm9va21hcmsnLFxuICAgICAgICAgICAgICAgICdjYW5vbmljYWwnLFxuICAgICAgICAgICAgICAgICdjaXRlJyxcbiAgICAgICAgICAgICAgICAnaGVscCcsXG4gICAgICAgICAgICAgICAgJ2ljb24nLFxuICAgICAgICAgICAgICAgICdsaWNlbnNlJyxcbiAgICAgICAgICAgICAgICAnbmV4dCcsXG4gICAgICAgICAgICAgICAgJ3ByZWZldGNoJyxcbiAgICAgICAgICAgICAgICAnZG5zLXByZWZldGNoJyxcbiAgICAgICAgICAgICAgICAncHJlcmVuZGVyJyxcbiAgICAgICAgICAgICAgICAncHJlY29ubmVjdCcsXG4gICAgICAgICAgICAgICAgJ3ByZWxvYWQnLFxuICAgICAgICAgICAgICAgICdwcmV2JyxcbiAgICAgICAgICAgICAgICAnc2VhcmNoJyxcbiAgICAgICAgICAgICAgICAnc3VicmVzb3VyY2UnLFxuICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgXSksXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgIF0pLFxuICBdLFxuICBbXG4gICAgJ1NPVVJDRScsXG4gICAgbmV3IE1hcDxzdHJpbmcsIEF0dHJpYnV0ZVBvbGljeT4oW1xuICAgICAgW1xuICAgICAgICAnc3JjJyxcbiAgICAgICAge1xuICAgICAgICAgIHBvbGljeUFjdGlvbjogQXR0cmlidXRlUG9saWN5QWN0aW9uLktFRVBfQU5EX1VTRV9SRVNPVVJDRV9VUkxfUE9MSUNZLFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgJ3NyY3NldCcsXG4gICAgICAgIHtcbiAgICAgICAgICBwb2xpY3lBY3Rpb246XG4gICAgICAgICAgICBBdHRyaWJ1dGVQb2xpY3lBY3Rpb24uS0VFUF9BTkRfVVNFX1JFU09VUkNFX1VSTF9QT0xJQ1lfRk9SX1NSQ1NFVCxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgXSksXG4gIF0sXG4gIFtcbiAgICAnSU1HJyxcbiAgICBuZXcgTWFwPHN0cmluZywgQXR0cmlidXRlUG9saWN5PihbXG4gICAgICBbXG4gICAgICAgICdzcmMnLFxuICAgICAgICB7XG4gICAgICAgICAgcG9saWN5QWN0aW9uOiBBdHRyaWJ1dGVQb2xpY3lBY3Rpb24uS0VFUF9BTkRfVVNFX1JFU09VUkNFX1VSTF9QT0xJQ1ksXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICAnc3Jjc2V0JyxcbiAgICAgICAge1xuICAgICAgICAgIHBvbGljeUFjdGlvbjpcbiAgICAgICAgICAgIEF0dHJpYnV0ZVBvbGljeUFjdGlvbi5LRUVQX0FORF9VU0VfUkVTT1VSQ0VfVVJMX1BPTElDWV9GT1JfU1JDU0VULFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICBdKSxcbiAgXSxcbiAgW1xuICAgICdWSURFTycsXG4gICAgbmV3IE1hcDxzdHJpbmcsIEF0dHJpYnV0ZVBvbGljeT4oW1xuICAgICAgW1xuICAgICAgICAnc3JjJyxcbiAgICAgICAge1xuICAgICAgICAgIHBvbGljeUFjdGlvbjogQXR0cmlidXRlUG9saWN5QWN0aW9uLktFRVBfQU5EX1VTRV9SRVNPVVJDRV9VUkxfUE9MSUNZLFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICBdKSxcbiAgXSxcbiAgW1xuICAgICdBVURJTycsXG4gICAgbmV3IE1hcDxzdHJpbmcsIEF0dHJpYnV0ZVBvbGljeT4oW1xuICAgICAgW1xuICAgICAgICAnc3JjJyxcbiAgICAgICAge1xuICAgICAgICAgIHBvbGljeUFjdGlvbjogQXR0cmlidXRlUG9saWN5QWN0aW9uLktFRVBfQU5EX1VTRV9SRVNPVVJDRV9VUkxfUE9MSUNZLFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICBdKSxcbiAgXSxcbl07XG5cbmNvbnN0IEFMTE9XRURfR0xPQkFMX0FUVFJJQlVURVM6IHJlYWRvbmx5IHN0cmluZ1tdID0gW1xuICAndGl0bGUnLFxuICAnYXJpYS1hdG9taWMnLFxuICAnYXJpYS1hdXRvY29tcGxldGUnLFxuICAnYXJpYS1idXN5JyxcbiAgJ2FyaWEtY2hlY2tlZCcsXG4gICdhcmlhLWN1cnJlbnQnLFxuICAnYXJpYS1kaXNhYmxlZCcsXG4gICdhcmlhLWRyb3BlZmZlY3QnLFxuICAnYXJpYS1leHBhbmRlZCcsXG4gICdhcmlhLWhhc3BvcHVwJyxcbiAgJ2FyaWEtaGlkZGVuJyxcbiAgJ2FyaWEtaW52YWxpZCcsXG4gICdhcmlhLWxhYmVsJyxcbiAgJ2FyaWEtbGV2ZWwnLFxuICAnYXJpYS1saXZlJyxcbiAgJ2FyaWEtbXVsdGlsaW5lJyxcbiAgJ2FyaWEtbXVsdGlzZWxlY3RhYmxlJyxcbiAgJ2FyaWEtb3JpZW50YXRpb24nLFxuICAnYXJpYS1wb3NpbnNldCcsXG4gICdhcmlhLXByZXNzZWQnLFxuICAnYXJpYS1yZWFkb25seScsXG4gICdhcmlhLXJlbGV2YW50JyxcbiAgJ2FyaWEtcmVxdWlyZWQnLFxuICAnYXJpYS1zZWxlY3RlZCcsXG4gICdhcmlhLXNldHNpemUnLFxuICAnYXJpYS1zb3J0JyxcbiAgJ2FyaWEtdmFsdWVtYXgnLFxuICAnYXJpYS12YWx1ZW1pbicsXG4gICdhcmlhLXZhbHVlbm93JyxcbiAgJ2FyaWEtdmFsdWV0ZXh0JyxcbiAgJ2FsdCcsXG4gICdhbGlnbicsXG4gICdhdXRvY2FwaXRhbGl6ZScsXG4gICdhdXRvY29tcGxldGUnLFxuICAnYXV0b2NvcnJlY3QnLFxuICAnYXV0b2ZvY3VzJyxcbiAgJ2F1dG9wbGF5JyxcbiAgJ2JnY29sb3InLFxuICAnYm9yZGVyJyxcbiAgJ2NlbGxwYWRkaW5nJyxcbiAgJ2NlbGxzcGFjaW5nJyxcbiAgJ2NoZWNrZWQnLFxuICAnY29sb3InLFxuICAnY29scycsXG4gICdjb2xzcGFuJyxcbiAgJ2NvbnRyb2xzJyxcbiAgJ2RhdGV0aW1lJyxcbiAgJ2Rpc2FibGVkJyxcbiAgJ2Rvd25sb2FkJyxcbiAgJ2RyYWdnYWJsZScsXG4gICdlbmN0eXBlJyxcbiAgJ2ZhY2UnLFxuICAnZm9ybWVuY3R5cGUnLFxuICAnZnJhbWVib3JkZXInLFxuICAnaGVpZ2h0JyxcbiAgJ2hyZWZsYW5nJyxcbiAgJ2hpZGRlbicsXG4gICdpc21hcCcsXG4gICdsYWJlbCcsXG4gICdsYW5nJyxcbiAgJ2xvb3AnLFxuICAnbWF4JyxcbiAgJ21heGxlbmd0aCcsXG4gICdtZWRpYScsXG4gICdtaW5sZW5ndGgnLFxuICAnbWluJyxcbiAgJ211bHRpcGxlJyxcbiAgJ211dGVkJyxcbiAgJ25vbmNlJyxcbiAgJ29wZW4nLFxuICAncGxhY2Vob2xkZXInLFxuICAncHJlbG9hZCcsXG4gICdyZWwnLFxuICAncmVxdWlyZWQnLFxuICAncmV2ZXJzZWQnLFxuICAncm9sZScsXG4gICdyb3dzJyxcbiAgJ3Jvd3NwYW4nLFxuICAnc2VsZWN0ZWQnLFxuICAnc2hhcGUnLFxuICAnc2l6ZScsXG4gICdzaXplcycsXG4gICdzbG90JyxcbiAgJ3NwYW4nLFxuICAnc3BlbGxjaGVjaycsXG4gICdzdGFydCcsXG4gICdzdGVwJyxcbiAgJ3N1bW1hcnknLFxuICAndHJhbnNsYXRlJyxcbiAgJ3R5cGUnLFxuICAndmFsaWduJyxcbiAgJ3ZhbHVlJyxcbiAgJ3dpZHRoJyxcbiAgJ3dyYXAnLFxuICAnaXRlbXNjb3BlJyxcbiAgJ2l0ZW10eXBlJyxcbiAgJ2l0ZW1pZCcsXG4gICdpdGVtcHJvcCcsXG4gICdpdGVtcmVmJyxcbl07XG5cbmNvbnN0IEdMT0JBTF9BVFRSSUJVVEVfUE9MSUNJRVM6IFJlYWRvbmx5QXJyYXk8W3N0cmluZywgQXR0cmlidXRlUG9saWN5XT4gPSBbXG4gIFtcbiAgICAnZGlyJyxcbiAgICB7XG4gICAgICBwb2xpY3lBY3Rpb246IEF0dHJpYnV0ZVBvbGljeUFjdGlvbi5LRUVQX0FORF9OT1JNQUxJWkUsXG4gICAgICBjb25kaXRpb25zOiBwdXJlKCgpID0+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBNYXA8c3RyaW5nLCBTZXQ8c3RyaW5nPj4oW1xuICAgICAgICAgIFsnZGlyJywgbmV3IFNldDxzdHJpbmc+KFsnYXV0bycsICdsdHInLCAncnRsJ10pXSxcbiAgICAgICAgXSk7XG4gICAgICB9KSxcbiAgICB9LFxuICBdLFxuICBbXG4gICAgJ2FzeW5jJyxcbiAgICB7XG4gICAgICBwb2xpY3lBY3Rpb246IEF0dHJpYnV0ZVBvbGljeUFjdGlvbi5LRUVQX0FORF9OT1JNQUxJWkUsXG4gICAgICBjb25kaXRpb25zOiBwdXJlKCgpID0+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBNYXA8c3RyaW5nLCBTZXQ8c3RyaW5nPj4oW1xuICAgICAgICAgIFsnYXN5bmMnLCBuZXcgU2V0PHN0cmluZz4oWydhc3luYyddKV0sXG4gICAgICAgIF0pO1xuICAgICAgfSksXG4gICAgfSxcbiAgXSxcbiAgW1xuICAgICdjaXRlJyxcbiAgICB7XG4gICAgICBwb2xpY3lBY3Rpb246IEF0dHJpYnV0ZVBvbGljeUFjdGlvbi5LRUVQX0FORF9TQU5JVElaRV9VUkwsXG4gICAgfSxcbiAgXSxcbiAgW1xuICAgICdsb2FkaW5nJyxcbiAgICB7XG4gICAgICBwb2xpY3lBY3Rpb246IEF0dHJpYnV0ZVBvbGljeUFjdGlvbi5LRUVQX0FORF9OT1JNQUxJWkUsXG4gICAgICBjb25kaXRpb25zOiBwdXJlKCgpID0+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBNYXA8c3RyaW5nLCBTZXQ8c3RyaW5nPj4oW1xuICAgICAgICAgIFsnbG9hZGluZycsIG5ldyBTZXQ8c3RyaW5nPihbJ2VhZ2VyJywgJ2xhenknXSldLFxuICAgICAgICBdKTtcbiAgICAgIH0pLFxuICAgIH0sXG4gIF0sXG4gIFtcbiAgICAncG9zdGVyJyxcbiAgICB7XG4gICAgICBwb2xpY3lBY3Rpb246IEF0dHJpYnV0ZVBvbGljeUFjdGlvbi5LRUVQX0FORF9TQU5JVElaRV9VUkwsXG4gICAgfSxcbiAgXSxcbiAgW1xuICAgICd0YXJnZXQnLFxuICAgIHtcbiAgICAgIHBvbGljeUFjdGlvbjogQXR0cmlidXRlUG9saWN5QWN0aW9uLktFRVBfQU5EX05PUk1BTElaRSxcbiAgICAgIGNvbmRpdGlvbnM6IHB1cmUoKCkgPT4ge1xuICAgICAgICByZXR1cm4gbmV3IE1hcDxzdHJpbmcsIFNldDxzdHJpbmc+PihbXG4gICAgICAgICAgWyd0YXJnZXQnLCBuZXcgU2V0PHN0cmluZz4oWydfc2VsZicsICdfYmxhbmsnXSldLFxuICAgICAgICBdKTtcbiAgICAgIH0pLFxuICAgIH0sXG4gIF0sXG5dO1xuXG4vKipcbiAqIFNhbml0aXplciB0YWJsZSBmb3IgdGhlIGRlZmF1bHQgc2FuaXRpemVyIGNvbmZpZ3VyYXRpb25cbiAqIC8vIEJFR0lOLUlOVEVSTkFMXG4gKiBUaGlzIFNhbml0aXplclRhYmxlIHdhcyBnZW5lcmF0ZWQgZnJvbSB0aGUgY2hlY2tlZCBpbiBodG1sIGNvbnRyYWN0OlxuICogIHdlYnV0aWwvaHRtbC90eXBlcy9jb2RlZ2VuL2h0bWw1X2NvbnRyYWN0LnRleHRwYlxuICpcbiAqIFlvdSBjYW4gcmVnZW5lcmF0ZSB0aGlzIGZpbGUgd2l0aDpcbiAqIHdlYnV0aWwvaHRtbC90eXBlcy9jb2RlZ2VuL3VwZGF0ZV9nZW5lcmF0ZWRfc291cmNlX2ZpbGVzLnNoICAvLyBFTkQtSU5URVJOQUxcbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfU0FOSVRJWkVSX1RBQkxFID0gbmV3IFNhbml0aXplclRhYmxlKFxuICBuZXcgU2V0KEFMTE9XRURfRUxFTUVOVFMpLFxuICBuZXcgTWFwKEVMRU1FTlRfUE9MSUNJRVMpLFxuICBuZXcgU2V0KEFMTE9XRURfR0xPQkFMX0FUVFJJQlVURVMpLFxuICBuZXcgTWFwKEdMT0JBTF9BVFRSSUJVVEVfUE9MSUNJRVMpLFxuKTtcblxuLy8gQkVHSU4tSU5URVJOQUxcbi8qKlxuICogVGhpcyBpcyBzaW1pbGFyIHRvIHRoZSBkZWZhdWx0IHNhbml0aXplciBjb25maWd1cmF0aW9uLCBidXQgdHJpZXMgdG8gYWxsb3cgYXNcbiAqIG1hbnkgdGhpbmdzIHdoaWxlIHN0aWxsIGd1YXJhbnRlZWluZyB0aGUgc2VjdXJpdHkgb2YgdGhlIG91dHB1dC5cbiAqXG4gKiBUaGlzIGNvbmZpZ3VyYXRpb24gZG9lcyBub3QgcHJvdGVjdCBhZ2FpbnN0IGdvL2RvbS1jbG9iYmVyaW5nLlxuICpcbiAqIFdlIGNvbnN0cnVjdCBpdCBkaXJlY3RseSByYXRoZXIgdGhhbiByZWx5aW5nIG9uIHRoZSBgSHRtbFNhbml0aXplckJ1aWxkZXJgIHRvXG4gKiBtYWtlIHN1cmUgdGhhdCB0aGUgY29tcGlsZXIga25vd3MgaXQgY2FuIGJlIGRlYWQtY29kZSBlbGltaW5hdGVkIHdoZW4gdW51c2VkLlxuICovXG5leHBvcnQgY29uc3QgTEVOSUVOVF9TQU5JVElaRVJfVEFCTEUgPSBuZXcgU2FuaXRpemVyVGFibGUoXG4gIG5ldyBTZXQoQUxMT1dFRF9FTEVNRU5UUy5jb25jYXQoWydCVVRUT04nLCAnSU5QVVQnXSkpLFxuICBuZXcgTWFwKEVMRU1FTlRfUE9MSUNJRVMpLFxuICBuZXcgU2V0KFxuICAgIHB1cmUoKCkgPT4gQUxMT1dFRF9HTE9CQUxfQVRUUklCVVRFUy5jb25jYXQoWydjbGFzcycsICdpZCcsICduYW1lJ10pKSxcbiAgKSxcbiAgbmV3IE1hcChcbiAgICBwdXJlKCgpID0+XG4gICAgICBHTE9CQUxfQVRUUklCVVRFX1BPTElDSUVTLmNvbmNhdChbXG4gICAgICAgIC8vIHNhZmV2YWx1ZXMgZG9lc24ndCBoYXZlIGEgc3R5bGUgc2FuaXRpemVyXG4gICAgICAgIFsnc3R5bGUnLCB7cG9saWN5QWN0aW9uOiBBdHRyaWJ1dGVQb2xpY3lBY3Rpb24uS0VFUH1dLFxuICAgICAgXSksXG4gICAgKSxcbiAgKSxcbik7XG5cbi8qKlxuICogVGhpcyBpcyBhbHNvIHNpbWlsYXIgdG8gdGhlIGRlZmF1bHQgc2FuaXRpemVyIGNvbmZpZ3VyYXRpb24sIGJ1dCB0cmllcyB0byBiZVxuICogZXZlbiBtb3JlIGxlbmllbnQgdGhhbiB0aGUgTEVOSUVOVF9TQU5JVElaRVJfVEFCTEUgd2hpbGUgc3RpbGwgZ3VhcmFudGVlaW5nXG4gKiB0aGF0IHRoZSBvdXRwdXQgY2Fubm90IGNhdXNlIFhTUyBpbiBtb2Rlcm4gYnJvd3NlcnMuIFRoaXMgc2hvdWxkIG9ubHkgYmVcbiAqIHVzZWQgd2hlbiBhYnNvbHV0ZWx5IG5lY2Vzc2FyeS4gU2VlIGdvL3N1cGVyLWxlbmllbnQtc2FuaXRpemVyIGZvciBtb3JlXG4gKiBpbmZvcm1hdGlvbi5cbiAqXG4gKiBXZSBjb25zdHJ1Y3QgaXQgZGlyZWN0bHkgcmF0aGVyIHRoYW4gcmVseWluZyBvbiB0aGUgYEh0bWxTYW5pdGl6ZXJCdWlsZGVyYCB0b1xuICogbWFrZSBzdXJlIHRoYXQgdGhlIGNvbXBpbGVyIGtub3dzIGl0IGNhbiBiZSBkZWFkLWNvZGUgZWxpbWluYXRlZCB3aGVuIHVudXNlZC5cbiAqL1xuZXhwb3J0IGNvbnN0IFNVUEVSX0xFTklFTlRfU0FOSVRJWkVSX1RBQkxFID0gbmV3IFNhbml0aXplclRhYmxlKFxuICBuZXcgU2V0KFxuICAgIHB1cmUoKCkgPT5cbiAgICAgIEFMTE9XRURfRUxFTUVOVFMuY29uY2F0KFtcbiAgICAgICAgJ1NUWUxFJyxcbiAgICAgICAgJ1RJVExFJyxcbiAgICAgICAgJ0lOUFVUJyxcbiAgICAgICAgJ1RFWFRBUkVBJyxcbiAgICAgICAgJ0JVVFRPTicsXG4gICAgICAgICdMQUJFTCcsXG4gICAgICBdKSxcbiAgICApLFxuICApLFxuICBuZXcgTWFwKEVMRU1FTlRfUE9MSUNJRVMpLFxuICBuZXcgU2V0KFxuICAgIHB1cmUoKCkgPT5cbiAgICAgIEFMTE9XRURfR0xPQkFMX0FUVFJJQlVURVMuY29uY2F0KFtcbiAgICAgICAgJ2NsYXNzJyxcbiAgICAgICAgJ2lkJyxcbiAgICAgICAgJ3RhYmluZGV4JyxcbiAgICAgICAgJ2NvbnRlbnRlZGl0YWJsZScsXG4gICAgICAgICduYW1lJyxcbiAgICAgIF0pLFxuICAgICksXG4gICksXG4gIG5ldyBNYXAoXG4gICAgcHVyZSgoKSA9PlxuICAgICAgR0xPQkFMX0FUVFJJQlVURV9QT0xJQ0lFUy5jb25jYXQoW1xuICAgICAgICAvLyBzYWZldmFsdWVzIGRvZXNuJ3QgaGF2ZSBhIHN0eWxlIHNhbml0aXplclxuICAgICAgICBbJ3N0eWxlJywge3BvbGljeUFjdGlvbjogQXR0cmlidXRlUG9saWN5QWN0aW9uLktFRVB9XSxcbiAgICAgIF0pLFxuICAgICksXG4gICksXG4gIG5ldyBTZXQoWydkYXRhLScsICdhcmlhLSddKSxcbik7XG4vLyBFTkQtSU5URVJOQUxcbiJdfQ==
;return exports;});

//third_party/javascript/safevalues/builders/html_sanitizer/html_sanitizer.closure.js
goog.loadModule(function(exports) {'use strict';/**
 * @license
 * Copyright Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
/**
 * @fileoverview added by tsickle
 * Generated from: third_party/javascript/safevalues/builders/html_sanitizer/html_sanitizer.ts
 * @suppress {checkTypes} added by tsickle
 * @suppress {extraRequire} added by tsickle
 * @suppress {missingRequire} added by tsickle
 * @suppress {uselessCode} added by tsickle
 * @suppress {suspiciousCode} added by tsickle
 * @suppress {missingReturn} added by tsickle
 * @suppress {unusedPrivateMembers} added by tsickle
 * @suppress {missingOverride} added by tsickle
 * @suppress {const} added by tsickle
 */
goog.module('google3.third_party.javascript.safevalues.builders.html_sanitizer.html_sanitizer');
var module = module || { id: 'third_party/javascript/safevalues/builders/html_sanitizer/html_sanitizer.closure.js' };
goog.require('google3.third_party.javascript.tslib.tslib');
const tsickle_dev_1 = goog.requireType("google3.third_party.javascript.safevalues.environment.dev");
const tsickle_html_impl_2 = goog.requireType("google3.third_party.javascript.safevalues.internals.html_impl");
const tsickle_pure_3 = goog.requireType("google3.third_party.javascript.safevalues.internals.pure");
const tsickle_secrets_4 = goog.requireType("google3.third_party.javascript.safevalues.internals.secrets");
const tsickle_html_builders_5 = goog.requireType("google3.third_party.javascript.safevalues.builders.html_builders");
const tsickle_url_builders_6 = goog.requireType("google3.third_party.javascript.safevalues.builders.url_builders");
const tsickle_css_isolation_7 = goog.requireType("google3.third_party.javascript.safevalues.builders.html_sanitizer.css.css_isolation");
const tsickle_inert_fragment_8 = goog.requireType("google3.third_party.javascript.safevalues.builders.html_sanitizer.inert_fragment");
const tsickle_no_clobber_9 = goog.requireType("google3.third_party.javascript.safevalues.builders.html_sanitizer.no_clobber");
const tsickle_resource_url_policy_10 = goog.requireType("google3.third_party.javascript.safevalues.builders.html_sanitizer.resource_url_policy");
const tsickle_default_sanitizer_table_11 = goog.requireType("google3.third_party.javascript.safevalues.builders.html_sanitizer.sanitizer_table.default_sanitizer_table");
const tsickle_sanitizer_table_12 = goog.requireType("google3.third_party.javascript.safevalues.builders.html_sanitizer.sanitizer_table.sanitizer_table");
const dev_1 = goog.require('google3.third_party.javascript.safevalues.environment.dev');
const pure_1 = goog.require('google3.third_party.javascript.safevalues.internals.pure');
const secrets_1 = goog.require('google3.third_party.javascript.safevalues.internals.secrets');
const html_builders_1 = goog.require('google3.third_party.javascript.safevalues.builders.html_builders');
const url_builders_1 = goog.require('google3.third_party.javascript.safevalues.builders.url_builders');
const css_isolation_1 = goog.require('google3.third_party.javascript.safevalues.builders.html_sanitizer.css.css_isolation');
const inert_fragment_1 = goog.require('google3.third_party.javascript.safevalues.builders.html_sanitizer.inert_fragment');
const no_clobber_1 = goog.require('google3.third_party.javascript.safevalues.builders.html_sanitizer.no_clobber');
const resource_url_policy_1 = goog.require('google3.third_party.javascript.safevalues.builders.html_sanitizer.resource_url_policy');
const default_sanitizer_table_1 = goog.require('google3.third_party.javascript.safevalues.builders.html_sanitizer.sanitizer_table.default_sanitizer_table');
const sanitizer_table_1 = goog.require('google3.third_party.javascript.safevalues.builders.html_sanitizer.sanitizer_table.sanitizer_table');
// BEGIN-INTERNAL
const default_sanitizer_table_2 = default_sanitizer_table_1;
/**
 * An HTML5-compliant markup sanitizer that produces SafeHtml markup.
 *
 * You can build sanitizers with a custom configuration using the
 * HtmlSanitizerBuilder. // BEGIN-INTERNAL
 *
 * For any questions: go/safehtml-yaqs
 * Design document: go/ts-safehtml-sanitizer // END-INTERNAL
 * @record
 */
function HtmlSanitizer() { }
exports.HtmlSanitizer = HtmlSanitizer;
/* istanbul ignore if */
if (false) {
    /**
     * @public
     * @param {string} html
     * @return {!tsickle_html_impl_2.SafeHtml}
     */
    HtmlSanitizer.prototype.sanitize = function (html) { };
    /**
     * @public
     * @param {string} html
     * @return {!DocumentFragment}
     */
    HtmlSanitizer.prototype.sanitizeToFragment = function (html) { };
    /**
     * @public
     * @param {string} html
     * @return {!tsickle_html_impl_2.SafeHtml}
     */
    HtmlSanitizer.prototype.sanitizeAssertUnchanged = function (html) { };
}
/**
 * CSS Sanitizer that returns a DocumentFragment with sanitized content.
 *
 * The reason why this is not part of the HtmlSanitizer is to avoid a potential
 * misuse of the CSS Sanitizer that would break its security guarantees.
 *
 * The CSS Sanitizer uses Shadow DOM to isolate the sanitized content from the
 * rest of the page. It provides an encapsulation layer for stylesheets and
 * ensures that there are no clashes between ids or class names.
 *
 * If the CSS Sanitizer was part of the HtmlSanitizer, it would be possible
 * to call `sanitize` with a string that contains both HTML and CSS, which
 * wouldn't be nested inside a shadow DOM.
 *
 * So to avoid this potential pitfall, the CSS Sanitizer is separated out into
 * its own interface.
 * @record
 */
function CssSanitizer() { }
exports.CssSanitizer = CssSanitizer;
/* istanbul ignore if */
if (false) {
    /**
     * @public
     * @param {string} htmlWithCss
     * @return {!DocumentFragment}
     */
    CssSanitizer.prototype.sanitizeToFragment = function (htmlWithCss) { };
}
/**
 * A function that sanitizes a CSS string.
 * @typedef {function(string): string}
 */
exports.CssSanitizationFn;
/**
 * Implementation for `HtmlSanitizer`
 * @implements {HtmlSanitizer}
 * @implements {CssSanitizer}
 */
class HtmlSanitizerImpl {
    /**
     * @public
     * @param {!tsickle_sanitizer_table_12.SanitizerTable} sanitizerTable
     * @param {!Object} token
     * @param {(undefined|function(string): string)=} styleElementSanitizer
     * @param {(undefined|function(string): string)=} styleAttributeSanitizer
     * @param {(undefined|function(!URL, (!StyleElementOrAttributeResourceUrlPolicyHints|!HtmlAttributeResourceUrlPolicyHints)): (null|!URL))=} resourceUrlPolicy
     */
    constructor(sanitizerTable, token, styleElementSanitizer, styleAttributeSanitizer, resourceUrlPolicy) {
        this.sanitizerTable = sanitizerTable;
        this.styleElementSanitizer = styleElementSanitizer;
        this.styleAttributeSanitizer = styleAttributeSanitizer;
        this.resourceUrlPolicy = resourceUrlPolicy;
        this.changes = [];
        (0, secrets_1.ensureTokenIsValid)(token);
    }
    /**
     * @public
     * @param {string} html
     * @return {!tsickle_html_impl_2.SafeHtml}
     */
    sanitizeAssertUnchanged(html) {
        if (dev_1.DEV_MODE) {
            this.changes = [];
        }
        /** @type {!tsickle_html_impl_2.SafeHtml} */
        const sanitizedHtml = this.sanitize(html);
        if (dev_1.DEV_MODE && this.changes.length !== 0) {
            throw new Error(`Unexpected change to HTML value as a result of sanitization. ` +
                `Input: "${html}", sanitized output: "${sanitizedHtml}"\n` +
                `List of changes:${this.changes.join('\n')}`);
        }
        return sanitizedHtml;
    }
    /**
     * @public
     * @param {string} html
     * @return {!tsickle_html_impl_2.SafeHtml}
     */
    sanitize(html) {
        /** @type {!Document} */
        const inertDocument = document.implementation.createHTMLDocument('');
        return (0, html_builders_1.nodeToHtmlInternal)(this.sanitizeToFragmentInternal(html, inertDocument), inertDocument.body);
    }
    /**
     * @public
     * @param {string} html
     * @return {!DocumentFragment}
     */
    sanitizeToFragment(html) {
        /** @type {!Document} */
        const inertDocument = document.implementation.createHTMLDocument('');
        if (this.styleElementSanitizer && this.styleAttributeSanitizer) {
            return this.sanitizeWithCssToFragment(html, inertDocument);
        }
        return this.sanitizeToFragmentInternal(html, inertDocument);
    }
    /**
     * @private
     * @param {string} htmlWithCss
     * @param {!Document} inertDocument
     * @return {!DocumentFragment}
     */
    sanitizeWithCssToFragment(htmlWithCss, inertDocument) {
        // BEGIN-INTERNAL
        // TODO(securitymb): Per go/safevalues-css-sanitization-api-shape,
        // safevalues-with-css should be a custom element. At this point however,
        // we can achieve the same result with just using a "normal" element with
        // a shadow DOM. Thanks to that, the name of the element is not part of the
        // public API (yet) so we can change it later if we want to.
        // END-INTERNAL
        /** @type {!HTMLElement} */
        const elem = document.createElement('safevalues-with-css');
        /** @type {!ShadowRoot} */
        const shadow = elem.attachShadow({ mode: 'closed' });
        /** @type {!DocumentFragment} */
        const sanitized = this.sanitizeToFragmentInternal(htmlWithCss, inertDocument);
        /** @type {!HTMLStyleElement} */
        const internalStyle = document.createElement('style');
        internalStyle.textContent = css_isolation_1.CSS_ISOLATION_STYLESHEET;
        internalStyle.id = 'safevalues-internal-style';
        shadow.appendChild(internalStyle);
        shadow.appendChild(sanitized);
        /** @type {!DocumentFragment} */
        const fragment = inertDocument.createDocumentFragment();
        fragment.appendChild(elem);
        return fragment;
    }
    /**
     * @private
     * @param {string} html
     * @param {!Document} inertDocument
     * @return {!DocumentFragment}
     */
    sanitizeToFragmentInternal(html, inertDocument) {
        /** @type {!DocumentFragment} */
        const dirtyFragment = (0, inert_fragment_1.createInertFragment)(html, inertDocument);
        /** @type {!TreeWalker} */
        const treeWalker = document.createTreeWalker(dirtyFragment, 5 /* NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_TEXT */, (/**
         * @param {!Node} n
         * @return {number}
         */
        (n) => this.nodeFilter(n)));
        // `nextNode` is called so we skip the root `DocumentFragment`.
        /** @type {(null|!Node)} */
        let currentNode = treeWalker.nextNode();
        // We create a root element to attach all the children of the body to. We
        // use div as it as a semantic-free, generic container and does not
        // represent anything. This is removed when we serialize the tree back
        // into a string.
        /** @type {!DocumentFragment} */
        const sanitizedFragment = inertDocument.createDocumentFragment();
        /** @type {!Node} */
        let sanitizedParent = sanitizedFragment;
        while (currentNode !== null) {
            /** @type {?} */
            let sanitizedNode;
            if ((0, no_clobber_1.isText)(currentNode)) {
                if (this.styleElementSanitizer &&
                    sanitizedParent.nodeName === 'STYLE') {
                    // TODO(securitymb): The sanitizer should record a change whenever
                    // any meaningful change is made to the stylesheet.
                    /** @type {string} */
                    const sanitizedCss = this.styleElementSanitizer((/** @type {!Text} */ (currentNode)).data);
                    sanitizedNode = this.createTextNode(sanitizedCss);
                }
                else {
                    sanitizedNode = this.sanitizeTextNode(currentNode);
                }
            }
            else if ((0, no_clobber_1.isElement)(currentNode)) {
                sanitizedNode = this.sanitizeElementNode(currentNode, inertDocument);
            }
            else {
                /** @type {string} */
                let message = '';
                if (dev_1.DEV_MODE) {
                    message = 'Node is not of type text or element';
                }
                throw new Error(message);
            }
            sanitizedParent.appendChild(sanitizedNode);
            // Advance iterator while keeping track of the sanitized parent for the
            // current node
            currentNode = treeWalker.firstChild();
            if (currentNode) {
                sanitizedParent = sanitizedNode;
            }
            else {
                while (!(currentNode = treeWalker.nextSibling())) {
                    if (!(currentNode = treeWalker.parentNode())) {
                        break;
                    }
                    sanitizedParent = (/** @type {!ParentNode} */ (sanitizedParent.parentNode));
                }
            }
        }
        return sanitizedFragment;
    }
    /**
     * @private
     * @param {string} text
     * @return {!Text}
     */
    createTextNode(text) {
        return document.createTextNode(text);
    }
    /**
     * @private
     * @param {!Text} textNode
     * @return {!Text}
     */
    sanitizeTextNode(textNode) {
        return this.createTextNode(textNode.data);
    }
    /**
     * @private
     * @param {!Element} elementNode
     * @param {!Document} inertDocument
     * @return {!Element}
     */
    sanitizeElementNode(elementNode, inertDocument) {
        /** @type {string} */
        const elementName = (0, no_clobber_1.getNodeName)(elementNode);
        /** @type {!HTMLElement} */
        const newNode = inertDocument.createElement(elementName);
        /** @type {!NamedNodeMap} */
        const dirtyAttributes = elementNode.attributes;
        for (const { name, value } of dirtyAttributes) {
            /** @type {!tsickle_sanitizer_table_12.AttributePolicy} */
            const policy = this.sanitizerTable.getAttributePolicy(name, elementName);
            if (!this.satisfiesAllConditions(policy.conditions, dirtyAttributes)) {
                this.recordChange(`Not all conditions satisfied for attribute: ${name}.`);
                continue;
            }
            switch (policy.policyAction) {
                case sanitizer_table_1.AttributePolicyAction.KEEP:
                    setAttribute(newNode, name, value);
                    break;
                case sanitizer_table_1.AttributePolicyAction.KEEP_AND_SANITIZE_URL:
                    /** @type {string} */
                    const sanitizedAttrUrl = (0, url_builders_1.restrictivelySanitizeUrl)(value);
                    if (sanitizedAttrUrl !== value) {
                        this.recordChange(`Url in attribute ${name} was modified during sanitization. Original url:"${value}" was sanitized to: "${sanitizedAttrUrl}"`);
                    }
                    setAttribute(newNode, name, sanitizedAttrUrl);
                    break;
                case sanitizer_table_1.AttributePolicyAction.KEEP_AND_NORMALIZE:
                    // We don't consider changing the case of an attribute value to be a
                    // semantic change
                    setAttribute(newNode, name, value.toLowerCase());
                    break;
                case sanitizer_table_1.AttributePolicyAction.KEEP_AND_SANITIZE_STYLE:
                    if (this.styleAttributeSanitizer) {
                        /** @type {string} */
                        const sanitizedCss = this.styleAttributeSanitizer(value);
                        // TODO(securitymb): The sanitizer should record a change whenever
                        // any meaningful change is made to the stylesheet.
                        setAttribute(newNode, name, sanitizedCss);
                    }
                    else {
                        setAttribute(newNode, name, value);
                    }
                    break;
                case sanitizer_table_1.AttributePolicyAction.KEEP_AND_USE_RESOURCE_URL_POLICY:
                    if (this.resourceUrlPolicy) {
                        /** @type {(!StyleElementOrAttributeResourceUrlPolicyHints|!HtmlAttributeResourceUrlPolicyHints)} */
                        const hints = {
                            type: resource_url_policy_1.ResourceUrlPolicyHintsType.HTML_ATTRIBUTE,
                            attributeName: name,
                            elementName,
                        };
                        /** @type {!URL} */
                        const url = (0, resource_url_policy_1.parseUrl)(value);
                        /** @type {(null|!URL)} */
                        const sanitizedUrl = this.resourceUrlPolicy(url, hints);
                        // TODO(securitymb): A change should be recorded if the resource url
                        // changes the URL.
                        if (sanitizedUrl) {
                            setAttribute(newNode, name, sanitizedUrl.toString());
                        }
                        // If null is returned, the attribute is dropped.
                    }
                    else {
                        // If the resource url policy is not set, we allow all resources.
                        // This is how the sanitizer behaved before the resource url policy
                        // was introduced.
                        setAttribute(newNode, name, value);
                    }
                    break;
                case sanitizer_table_1.AttributePolicyAction.KEEP_AND_USE_RESOURCE_URL_POLICY_FOR_SRCSET:
                    if (this.resourceUrlPolicy) {
                        /** @type {(!StyleElementOrAttributeResourceUrlPolicyHints|!HtmlAttributeResourceUrlPolicyHints)} */
                        const hints = {
                            type: resource_url_policy_1.ResourceUrlPolicyHintsType.HTML_ATTRIBUTE,
                            attributeName: name,
                            elementName,
                        };
                        /** @type {!Srcset} */
                        const srcset = parseSrcset(value);
                        /** @type {!Srcset} */
                        const sanitizedSrcset = { parts: [] };
                        for (const part of srcset.parts) {
                            /** @type {!URL} */
                            const url = (0, resource_url_policy_1.parseUrl)(part.url);
                            /** @type {(null|!URL)} */
                            const sanitizedUrl = this.resourceUrlPolicy(url, hints);
                            if (sanitizedUrl) {
                                sanitizedSrcset.parts.push({
                                    url: sanitizedUrl.toString(),
                                    descriptor: part.descriptor,
                                });
                            }
                        }
                        setAttribute(newNode, name, serializeSrcset(sanitizedSrcset));
                    }
                    else {
                        // If the resource url policy is not set, we allow all resources.
                        // This is how the sanitizer behaved before the resource url
                        // policy was introduced.
                        setAttribute(newNode, name, value);
                    }
                    break;
                case sanitizer_table_1.AttributePolicyAction.DROP:
                    this.recordChange(`Attribute: ${name} was dropped`);
                    break;
                default:
                    if (dev_1.DEV_MODE) {
                        checkExhaustive(policy.policyAction, 'Unhandled AttributePolicyAction case');
                    }
            }
        }
        return newNode;
    }
    /**
     * @public
     * @param {!Node} node
     * @return {number}
     */
    nodeFilter(node) {
        if ((0, no_clobber_1.isText)(node)) {
            return 1; // NodeFilter.FILTER_ACCEPT
        }
        else if (!(0, no_clobber_1.isElement)(node)) {
            // Getting a node that is neither an `Element` or a `Text` node. This is
            // likely due to something that is not supposed to be an element in user
            // code but recognized as such by the TreeWalker (e.g. a polyfill for
            // other kind of nodes). Since we can't recognize it as an element, we
            // drop the node, but we don't record it as a meaningful change.
            return 2; // NodeFilter.FILTER_REJECT
        }
        /** @type {string} */
        const nodeName = (0, no_clobber_1.getNodeName)(node);
        if (nodeName === null) {
            this.recordChange(`Node name was null for node: ${node}`);
            return 2; // NodeFilter.FILTER_REJECT
        }
        if (this.sanitizerTable.isAllowedElement(nodeName)) {
            return 1; // NodeFilter.FILTER_ACCEPT
        }
        this.recordChange(`Element: ${nodeName} was dropped`);
        return 2; // NodeFilter.FILTER_REJECT
    }
    /**
     * @private
     * @param {string} errorMessage
     * @return {void}
     */
    recordChange(errorMessage) {
        if (dev_1.DEV_MODE) {
            this.changes.push(errorMessage);
        }
    }
    /**
     * @private
     * @param {(undefined|!ReadonlyMap<string, !Set<string>>)} conditions
     * @param {!NamedNodeMap} attrs
     * @return {boolean}
     */
    satisfiesAllConditions(conditions, attrs) {
        if (!conditions) {
            return true;
        }
        for (const [attrName__tsickle_destructured_1, expectedValues__tsickle_destructured_2] of conditions) {
            const attrName = /** @type {string} */ (attrName__tsickle_destructured_1);
            const expectedValues = /** @type {!Set<string>} */ (expectedValues__tsickle_destructured_2);
            /** @type {(undefined|string)} */
            const value = attrs.getNamedItem(attrName)?.value;
            if (value && !expectedValues.has(value)) {
                return false;
            }
        }
        return true;
    }
}
exports.HtmlSanitizerImpl = HtmlSanitizerImpl;
/* istanbul ignore if */
if (false) {
    /**
     * @type {!Array<string>}
     * @private
     */
    HtmlSanitizerImpl.prototype.changes;
    /**
     * @const {!tsickle_sanitizer_table_12.SanitizerTable}
     * @private
     */
    HtmlSanitizerImpl.prototype.sanitizerTable;
    /**
     * @const {(undefined|function(string): string)}
     * @private
     */
    HtmlSanitizerImpl.prototype.styleElementSanitizer;
    /**
     * @const {(undefined|function(string): string)}
     * @private
     */
    HtmlSanitizerImpl.prototype.styleAttributeSanitizer;
    /**
     * @const {(undefined|function(!URL, (!StyleElementOrAttributeResourceUrlPolicyHints|!HtmlAttributeResourceUrlPolicyHints)): (null|!URL))}
     * @private
     */
    HtmlSanitizerImpl.prototype.resourceUrlPolicy;
}
/**
 * @noinline Helper to save on codesize.
 * @param {!Element} el
 * @param {string} name
 * @param {string} value
 * @return {void}
 */
function setAttribute(el, name, value) {
    el.setAttribute(name, value);
}
/**
 * @record
 */
function SrcsetPart() { }
/* istanbul ignore if */
if (false) {
    /**
     * @type {string}
     * @public
     */
    SrcsetPart.prototype.url;
    /**
     * @type {(undefined|string)}
     * @public
     */
    SrcsetPart.prototype.descriptor;
}
/**
 * A structured representation of a srcset attribute.
 * @record
 */
function Srcset() { }
exports.Srcset = Srcset;
/* istanbul ignore if */
if (false) {
    /**
     * @type {!Array<!SrcsetPart>}
     * @public
     */
    Srcset.prototype.parts;
}
/**
 * Parses a srcset attribute into a structured representation.
 *
 * @param {string} srcset The srcset attribute value.
 * @return {!Srcset} The parsed srcset.
 */
function parseSrcset(srcset) {
    // The algorithm is described in the spec at
    // https://html.spec.whatwg.org/multipage/images.html#srcset-attributes.
    //
    // The code below is greatly simplified though; we don't check the validity of
    // the descriptors, only extract them. If they happen to be invalid, the
    // browser will ignore them anyway.
    // The algorithm is described in the spec at
    // https://html.spec.whatwg.org/multipage/images.html#srcset-attributes.
    //
    // The code below is greatly simplified though; we don't check the validity of
    // the descriptors, only extract them. If they happen to be invalid, the
    // browser will ignore them anyway.
    /** @type {!Array<!SrcsetPart>} */
    const parts = [];
    for (const part of srcset.split(',')) {
        const [url__tsickle_destructured_3, descriptor__tsickle_destructured_4] = part.trim().split(/\s+/, 2);
        const url = /** @type {string} */ (url__tsickle_destructured_3);
        const descriptor = /** @type {string} */ (descriptor__tsickle_destructured_4);
        parts.push({ url, descriptor });
    }
    return { parts };
}
exports.parseSrcset = parseSrcset;
/**
 * Serializes a srcset into a string.
 *
 * @param {!Srcset} srcset The srcset to serialize.
 * @return {string} The serialized srcset.
 */
function serializeSrcset(srcset) {
    return (srcset.parts
        .map((/**
     * @param {!SrcsetPart} part
     * @return {string}
     */
    (part) => {
        const { url, descriptor } = part;
        return `${url}${descriptor ? ` ${descriptor}` : ''}`;
    }))
        // We always add whitespaces around the parts to remove the ambiguity of
        // whether a comma character is a part of the URL or not.
        .join(' , '));
}
exports.serializeSrcset = serializeSrcset;
/** @type {!HtmlSanitizerImpl} */
const defaultHtmlSanitizer = (0, pure_1.pure)((/**
 * @return {!HtmlSanitizerImpl}
 */
() => new HtmlSanitizerImpl(default_sanitizer_table_1.DEFAULT_SANITIZER_TABLE, secrets_1.secretToken)));
/**
 * Sanitizes untrusted html using the default sanitizer configuration.
 * @param {string} html
 * @return {!tsickle_html_impl_2.SafeHtml}
 */
function sanitizeHtml(html) {
    return defaultHtmlSanitizer.sanitize(html);
}
exports.sanitizeHtml = sanitizeHtml;
/**
 * Sanitizes untrusted html using the default sanitizer configuration. Throws
 * an error if the html was changed.
 * @param {string} html
 * @return {!tsickle_html_impl_2.SafeHtml}
 */
function sanitizeHtmlAssertUnchanged(html) {
    return defaultHtmlSanitizer.sanitizeAssertUnchanged(html);
}
exports.sanitizeHtmlAssertUnchanged = sanitizeHtmlAssertUnchanged;
/**
 * Sanitizes untrusted html using the default sanitizer configuration. Throws
 * an error if the html was changed.
 * @param {string} html
 * @return {!DocumentFragment}
 */
function sanitizeHtmlToFragment(html) {
    return defaultHtmlSanitizer.sanitizeToFragment(html);
}
exports.sanitizeHtmlToFragment = sanitizeHtmlToFragment;
// BEGIN-INTERNAL
/** @type {!HtmlSanitizerImpl} */
const lenientHtmlSanitizer = (0, pure_1.pure)((/**
 * @return {!HtmlSanitizerImpl}
 */
() => new HtmlSanitizerImpl(default_sanitizer_table_2.LENIENT_SANITIZER_TABLE, secrets_1.secretToken)));
/**
 * Sanitize the given HTML fragment in as lenient of a way as possible while
 * still guaranteeing that the output is safe.
 *
 * This sanitizer does not protect against go/dom-clobbering. Use the normal
 * sanitizer instead if possible.
 *
 * If at all possible, prefer using `sanitizeHtml` over this method.
 * @param {string} html
 * @return {!tsickle_html_impl_2.SafeHtml}
 */
function lenientlySanitizeHtml(html) {
    return lenientHtmlSanitizer.sanitize(html);
}
exports.lenientlySanitizeHtml = lenientlySanitizeHtml;
/**
 * Like `sanitizeHtmlAssertUnchanged` but using the lenient sanitizer.
 * @param {string} html
 * @return {!tsickle_html_impl_2.SafeHtml}
 */
function lenientlySanitizeHtmlAssertUnchanged(html) {
    return lenientHtmlSanitizer.sanitizeAssertUnchanged(html);
}
exports.lenientlySanitizeHtmlAssertUnchanged = lenientlySanitizeHtmlAssertUnchanged;
/** @type {!HtmlSanitizerImpl} */
const superLenientHtmlSanitizer = (0, pure_1.pure)((/**
 * @return {!HtmlSanitizerImpl}
 */
() => new HtmlSanitizerImpl(default_sanitizer_table_2.SUPER_LENIENT_SANITIZER_TABLE, secrets_1.secretToken)));
/**
 * Sanitize the given HTML fragment in an extremely lenient way while
 * still guaranteeing that the output cannot lead to XSS in modern browsers.
 *
 * If at all possible, prefer using `sanitizeHtml` or `lenientlySanitizeHtml`
 * over this method.
 * @param {string} html
 * @return {!tsickle_html_impl_2.SafeHtml}
 */
function superLenientlySanitizeHtml(html) {
    return superLenientHtmlSanitizer.sanitize(html);
}
exports.superLenientlySanitizeHtml = superLenientlySanitizeHtml;
/**
 * Like `superLenientlySanitizeHtml` but it throws an exception if the output
 * is changed.
 * @param {string} html
 * @return {!tsickle_html_impl_2.SafeHtml}
 */
function superLenientlySanitizeHtmlAssertUnchanged(html) {
    return superLenientHtmlSanitizer.sanitizeAssertUnchanged(html);
}
exports.superLenientlySanitizeHtmlAssertUnchanged = superLenientlySanitizeHtmlAssertUnchanged;
// END-INTERNAL
/**
 * @param {?} value
 * @param {string=} msg
 * @return {?}
 */
function checkExhaustive(value, msg = `unexpected value ${value}!`) {
    throw new Error(msg);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaHRtbF9zYW5pdGl6ZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi90aGlyZF9wYXJ0eS9qYXZhc2NyaXB0L3NhZmV2YWx1ZXMvYnVpbGRlcnMvaHRtbF9zYW5pdGl6ZXIvaHRtbF9zYW5pdGl6ZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBTUEsd0ZBQStDO0FBRS9DLHdGQUEwQztBQUMxQyw4RkFBd0U7QUFDeEUseUdBQW9EO0FBQ3BELHVHQUF5RDtBQUV6RCw0SEFBNkQ7QUFDN0QsMEhBQXFEO0FBQ3JELGtIQUE0RDtBQUM1RCxvSUFLK0I7QUFDL0IsNEpBQWtGO0FBQ2xGLDRJQUcyQzs7QUFHM0MsNERBR21EOzs7Ozs7Ozs7OztBQVluRCw0QkFJQzs7Ozs7Ozs7O0lBSEMsdURBQWlDOzs7Ozs7SUFDakMsaUVBQW1EOzs7Ozs7SUFDbkQsc0VBQWdEOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQW9CbEQsMkJBRUM7Ozs7Ozs7OztJQURDLHVFQUEwRDs7Ozs7O0FBSTVELDBCQUF3RDs7Ozs7O0FBR3hELE1BQWEsaUJBQWlCOzs7Ozs7Ozs7SUFFNUIsWUFDbUIsY0FBOEIsRUFDL0MsS0FBYSxFQUNJLHFCQUF5QyxFQUN6Qyx1QkFBMkMsRUFDM0MsaUJBQXFDO1FBSnJDLG1CQUFjLEdBQWQsY0FBYyxDQUFnQjtRQUU5QiwwQkFBcUIsR0FBckIscUJBQXFCLENBQW9CO1FBQ3pDLDRCQUF1QixHQUF2Qix1QkFBdUIsQ0FBb0I7UUFDM0Msc0JBQWlCLEdBQWpCLGlCQUFpQixDQUFvQjtRQU5oRCxZQUFPLEdBQWEsRUFBRSxDQUFDO1FBUTdCLElBQUEsNEJBQWtCLEVBQUMsS0FBSyxDQUFDLENBQUM7SUFDNUIsQ0FBQzs7Ozs7O0lBRUQsdUJBQXVCLENBQUMsSUFBWTtRQUNsQyxJQUFJLGNBQVEsRUFBRSxDQUFDO1lBQ2IsSUFBSSxDQUFDLE9BQU8s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QyxNQUFNLElBQUksS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ3ZCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG5pbXBvcnQge0RFVl9NT0RFfSBmcm9tICcuLi8uLi9lbnZpcm9ubWVudC9kZXYnO1xuaW1wb3J0IHtTYWZlSHRtbH0gZnJvbSAnLi4vLi4vaW50ZXJuYWxzL2h0bWxfaW1wbCc7XG5pbXBvcnQge3B1cmV9IGZyb20gJy4uLy4uL2ludGVybmFscy9wdXJlJztcbmltcG9ydCB7ZW5zdXJlVG9rZW5Jc1ZhbGlkLCBzZWNyZXRUb2tlbn0gZnJvbSAnLi4vLi4vaW50ZXJuYWxzL3NlY3JldHMnO1xuaW1wb3J0IHtub2RlVG9IdG1sSW50ZXJuYWx9IGZyb20gJy4uL2h0bWxfYnVpbGRlcnMnO1xuaW1wb3J0IHtyZXN0cmljdGl2ZWx5U2FuaXRpemVVcmx9IGZyb20gJy4uL3VybF9idWlsZGVycyc7XG5cbmltcG9ydCB7Q1NTX0lTT0xBVElPTl9TVFlMRVNIRUVUfSBmcm9tICcuL2Nzcy9jc3NfaXNvbGF0aW9uJztcbmltcG9ydCB7Y3JlYXRlSW5lcnRGcmFnbWVudH0gZnJvbSAnLi9pbmVydF9mcmFnbWVudCc7XG5pbXBvcnQge2dldE5vZGVOYW1lLCBpc0VsZW1lbnQsIGlzVGV4dH0gZnJvbSAnLi9ub19jbG9iYmVyJztcbmltcG9ydCB7XG4gIHBhcnNlVXJsLFxuICBSZXNvdXJjZVVybFBvbGljeSxcbiAgUmVzb3VyY2VVcmxQb2xpY3lIaW50cyxcbiAgUmVzb3VyY2VVcmxQb2xpY3lIaW50c1R5cGUsXG59IGZyb20gJy4vcmVzb3VyY2VfdXJsX3BvbGljeSc7XG5pbXBvcnQge0RFRkFVTFRfU0FOSVRJWkVSX1RBQkxFfSBmcm9tICcuL3Nhbml0aXplcl90YWJsZS9kZWZhdWx0X3Nhbml0aXplcl90YWJsZSc7XG5pbXBvcnQge1xuICBBdHRyaWJ1dGVQb2xpY3lBY3Rpb24sXG4gIFNhbml0aXplclRhYmxlLFxufSBmcm9tICcuL3Nhbml0aXplcl90YWJsZS9zYW5pdGl6ZXJfdGFibGUnO1xuXG4vLyBCRUdJTi1JTlRFUk5BTFxuaW1wb3J0IHtcbiAgTEVOSUVOVF9TQU5JVElaRVJfVEFCTEUsXG4gIFNVUEVSX0xFTklFTlRfU0FOSVRJWkVSX1RBQkxFLFxufSBmcm9tICcuL3Nhbml0aXplcl90YWJsZS9kZWZhdWx0X3Nhbml0aXplcl90YWJsZSc7XG4vLyBFTkQtSU5URVJOQUxcblxuLyoqXG4gKiBBbiBIVE1MNS1jb21wbGlhbnQgbWFya3VwIHNhbml0aXplciB0aGF0IHByb2R1Y2VzIFNhZmVIdG1sIG1hcmt1cC5cbiAqXG4gKiBZb3UgY2FuIGJ1aWxkIHNhbml0aXplcnMgd2l0aCBhIGN1c3RvbSBjb25maWd1cmF0aW9uIHVzaW5nIHRoZVxuICogSHRtbFNhbml0aXplckJ1aWxkZXIuIC8vIEJFR0lOLUlOVEVSTkFMXG4gKlxuICogRm9yIGFueSBxdWVzdGlvbnM6IGdvL3NhZmVodG1sLXlhcXNcbiAqIERlc2lnbiBkb2N1bWVudDogZ28vdHMtc2FmZWh0bWwtc2FuaXRpemVyIC8vIEVORC1JTlRFUk5BTFxuICovXG5leHBvcnQgaW50ZXJmYWNlIEh0bWxTYW5pdGl6ZXIge1xuICBzYW5pdGl6ZShodG1sOiBzdHJpbmcpOiBTYWZlSHRtbDtcbiAgc2FuaXRpemVUb0ZyYWdtZW50KGh0bWw6IHN0cmluZyk6IERvY3VtZW50RnJhZ21lbnQ7XG4gIHNhbml0aXplQXNzZXJ0VW5jaGFuZ2VkKGh0bWw6IHN0cmluZyk6IFNhZmVIdG1sO1xufVxuXG4vKipcbiAqIENTUyBTYW5pdGl6ZXIgdGhhdCByZXR1cm5zIGEgRG9jdW1lbnRGcmFnbWVudCB3aXRoIHNhbml0aXplZCBjb250ZW50LlxuICpcbiAqIFRoZSByZWFzb24gd2h5IHRoaXMgaXMgbm90IHBhcnQgb2YgdGhlIEh0bWxTYW5pdGl6ZXIgaXMgdG8gYXZvaWQgYSBwb3RlbnRpYWxcbiAqIG1pc3VzZSBvZiB0aGUgQ1NTIFNhbml0aXplciB0aGF0IHdvdWxkIGJyZWFrIGl0cyBzZWN1cml0eSBndWFyYW50ZWVzLlxuICpcbiAqIFRoZSBDU1MgU2FuaXRpemVyIHVzZXMgU2hhZG93IERPTSB0byBpc29sYXRlIHRoZSBzYW5pdGl6ZWQgY29udGVudCBmcm9tIHRoZVxuICogcmVzdCBvZiB0aGUgcGFnZS4gSXQgcHJvdmlkZXMgYW4gZW5jYXBzdWxhdGlvbiBsYXllciBmb3Igc3R5bGVzaGVldHMgYW5kXG4gKiBlbnN1cmVzIHRoYXQgdGhlcmUgYXJlIG5vIGNsYXNoZXMgYmV0d2VlbiBpZHMgb3IgY2xhc3MgbmFtZXMuXG4gKlxuICogSWYgdGhlIENTUyBTYW5pdGl6ZXIgd2FzIHBhcnQgb2YgdGhlIEh0bWxTYW5pdGl6ZXIsIGl0IHdvdWxkIGJlIHBvc3NpYmxlXG4gKiB0byBjYWxsIGBzYW5pdGl6ZWAgd2l0aCBhIHN0cmluZyB0aGF0IGNvbnRhaW5zIGJvdGggSFRNTCBhbmQgQ1NTLCB3aGljaFxuICogd291bGRuJ3QgYmUgbmVzdGVkIGluc2lkZSBhIHNoYWRvdyBET00uXG4gKlxuICogU28gdG8gYXZvaWQgdGhpcyBwb3RlbnRpYWwgcGl0ZmFsbCwgdGhlIENTUyBTYW5pdGl6ZXIgaXMgc2VwYXJhdGVkIG91dCBpbnRvXG4gKiBpdHMgb3duIGludGVyZmFjZS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDc3NTYW5pdGl6ZXIge1xuICBzYW5pdGl6ZVRvRnJhZ21lbnQoaHRtbFdpdGhDc3M6IHN0cmluZyk6IERvY3VtZW50RnJhZ21lbnQ7XG59XG5cbi8qKiBBIGZ1bmN0aW9uIHRoYXQgc2FuaXRpemVzIGEgQ1NTIHN0cmluZy4gKi9cbmV4cG9ydCB0eXBlIENzc1Nhbml0aXphdGlvbkZuID0gKGNzczogc3RyaW5nKSA9PiBzdHJpbmc7XG5cbi8qKiBJbXBsZW1lbnRhdGlvbiBmb3IgYEh0bWxTYW5pdGl6ZXJgICovXG5leHBvcnQgY2xhc3MgSHRtbFNhbml0aXplckltcGwgaW1wbGVtZW50cyBIdG1sU2FuaXRpemVyLCBDc3NTYW5pdGl6ZXIge1xuICBwcml2YXRlIGNoYW5nZXM6IHN0cmluZ1tdID0gW107XG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgcmVhZG9ubHkgc2FuaXRpemVyVGFibGU6IFNhbml0aXplclRhYmxlLFxuICAgIHRva2VuOiBvYmplY3QsXG4gICAgcHJpdmF0ZSByZWFkb25seSBzdHlsZUVsZW1lbnRTYW5pdGl6ZXI/OiBDc3NTYW5pdGl6YXRpb25GbixcbiAgICBwcml2YXRlIHJlYWRvbmx5IHN0eWxlQXR0cmlidXRlU2FuaXRpemVyPzogQ3NzU2FuaXRpemF0aW9uRm4sXG4gICAgcHJpdmF0ZSByZWFkb25seSByZXNvdXJjZVVybFBvbGljeT86IFJlc291cmNlVXJsUG9saWN5LFxuICApIHtcbiAgICBlbnN1cmVUb2tlbklzVmFsaWQodG9rZW4pO1xuICB9XG5cbiAgc2FuaXRpemVBc3NlcnRVbmNoYW5nZWQoaHRtbDogc3RyaW5nKTogU2FmZUh0bWwge1xuICAgIGlmIChERVZfTU9ERSkge1xuICAgICAgdGhpcy5jaGFuZ2VzID0gW107XG4gICAgfVxuICAgIGNvbnN0IHNhbml0aXplZEh0bWwgPSB0aGlzLnNhbml0aXplKGh0bWwpO1xuICAgIGlmIChERVZfTU9ERSAmJiB0aGlzLmNoYW5nZXMubGVuZ3RoICE9PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBVbmV4cGVjdGVkIGNoYW5nZSB0byBIVE1MIHZhbHVlIGFzIGEgcmVzdWx0IG9mIHNhbml0aXphdGlvbi4gYCArXG4gICAgICAgICAgYElucHV0OiBcIiR7aHRtbH1cIiwgc2FuaXRpemVkIG91dHB1dDogXCIke3Nhbml0aXplZEh0bWx9XCJcXG5gICtcbiAgICAgICAgICBgTGlzdCBvZiBjaGFuZ2VzOiR7dGhpcy5jaGFuZ2VzLmpvaW4oJ1xcbicpfWAsXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gc2FuaXRpemVkSHRtbDtcbiAgfVxuXG4gIHNhbml0aXplKGh0bWw6IHN0cmluZyk6IFNhZmVIdG1sIHtcbiAgICBjb25zdCBpbmVydERvY3VtZW50ID0gZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCcnKTtcblxuICAgIHJldHVybiBub2RlVG9IdG1sSW50ZXJuYWwoXG4gICAgICB0aGlzLnNhbml0aXplVG9GcmFnbWVudEludGVybmFsKGh0bWwsIGluZXJ0RG9jdW1lbnQpLFxuICAgICAgaW5lcnREb2N1bWVudC5ib2R5LFxuICAgICk7XG4gIH1cblxuICBzYW5pdGl6ZVRvRnJhZ21lbnQoaHRtbDogc3RyaW5nKTogRG9jdW1lbnRGcmFnbWVudCB7XG4gICAgY29uc3QgaW5lcnREb2N1bWVudCA9IGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCgnJyk7XG4gICAgaWYgKHRoaXMuc3R5bGVFbGVtZW50U2FuaXRpemVyICYmIHRoaXMuc3R5bGVBdHRyaWJ1dGVTYW5pdGl6ZXIpIHtcbiAgICAgIHJldHVybiB0aGlzLnNhbml0aXplV2l0aENzc1RvRnJhZ21lbnQoaHRtbCwgaW5lcnREb2N1bWVudCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNhbml0aXplVG9GcmFnbWVudEludGVybmFsKGh0bWwsIGluZXJ0RG9jdW1lbnQpO1xuICB9XG5cbiAgcHJpdmF0ZSBzYW5pdGl6ZVdpdGhDc3NUb0ZyYWdtZW50KFxuICAgIGh0bWxXaXRoQ3NzOiBzdHJpbmcsXG4gICAgaW5lcnREb2N1bWVudDogRG9jdW1lbnQsXG4gICk6IERvY3VtZW50RnJhZ21lbnQge1xuICAgIC8vIEJFR0lOLUlOVEVSTkFMXG4gICAgLy8gVE9ETyhzZWN1cml0eW1iKTogUGVyIGdvL3NhZmV2YWx1ZXMtY3NzLXNhbml0aXphdGlvbi1hcGktc2hhcGUsXG4gICAgLy8gc2FmZXZhbHVlcy13aXRoLWNzcyBzaG91bGQgYmUgYSBjdXN0b20gZWxlbWVudC4gQXQgdGhpcyBwb2ludCBob3dldmVyLFxuICAgIC8vIHdlIGNhbiBhY2hpZXZlIHRoZSBzYW1lIHJlc3VsdCB3aXRoIGp1c3QgdXNpbmcgYSBcIm5vcm1hbFwiIGVsZW1lbnQgd2l0aFxuICAgIC8vIGEgc2hhZG93IERPTS4gVGhhbmtzIHRvIHRoYXQsIHRoZSBuYW1lIG9mIHRoZSBlbGVtZW50IGlzIG5vdCBwYXJ0IG9mIHRoZVxuICAgIC8vIHB1YmxpYyBBUEkgKHlldCkgc28gd2UgY2FuIGNoYW5nZSBpdCBsYXRlciBpZiB3ZSB3YW50IHRvLlxuICAgIC8vIEVORC1JTlRFUk5BTFxuICAgIGNvbnN0IGVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzYWZldmFsdWVzLXdpdGgtY3NzJyk7XG4gICAgY29uc3Qgc2hhZG93ID0gZWxlbS5hdHRhY2hTaGFkb3coe21vZGU6ICdjbG9zZWQnfSk7XG4gICAgY29uc3Qgc2FuaXRpemVkID0gdGhpcy5zYW5pdGl6ZVRvRnJhZ21lbnRJbnRlcm5hbChcbiAgICAgIGh0bWxXaXRoQ3NzLFxuICAgICAgaW5lcnREb2N1bWVudCxcbiAgICApO1xuXG4gICAgY29uc3QgaW50ZXJuYWxTdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgaW50ZXJuYWxTdHlsZS50ZXh0Q29udGVudCA9IENTU19JU09MQVRJT05fU1RZTEVTSEVFVDtcbiAgICBpbnRlcm5hbFN0eWxlLmlkID0gJ3NhZmV2YWx1ZXMtaW50ZXJuYWwtc3R5bGUnO1xuXG4gICAgc2hhZG93LmFwcGVuZENoaWxkKGludGVybmFsU3R5bGUpO1xuICAgIHNoYWRvdy5hcHBlbmRDaGlsZChzYW5pdGl6ZWQpO1xuXG4gICAgY29uc3QgZnJhZ21lbnQgPSBpbmVydERvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcbiAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChlbGVtKTtcblxuICAgIHJldHVybiBmcmFnbWVudDtcbiAgfVxuXG4gIHByaXZhdGUgc2FuaXRpemVUb0ZyYWdtZW50SW50ZXJuYWwoXG4gICAgaHRtbDogc3RyaW5nLFxuICAgIGluZXJ0RG9jdW1lbnQ6IERvY3VtZW50LFxuICApOiBEb2N1bWVudEZyYWdtZW50IHtcbiAgICBjb25zdCBkaXJ0eUZyYWdtZW50ID0gY3JlYXRlSW5lcnRGcmFnbWVudChodG1sLCBpbmVydERvY3VtZW50KTtcblxuICAgIGNvbnN0IHRyZWVXYWxrZXIgPSBkb2N1bWVudC5jcmVhdGVUcmVlV2Fsa2VyKFxuICAgICAgZGlydHlGcmFnbWVudCxcbiAgICAgIDUgLyogTm9kZUZpbHRlci5TSE9XX0VMRU1FTlQgfCBOb2RlRmlsdGVyLlNIT1dfVEVYVCAqLyxcbiAgICAgIChuKSA9PiB0aGlzLm5vZGVGaWx0ZXIobiksXG4gICAgKTtcblxuICAgIC8vIGBuZXh0Tm9kZWAgaXMgY2FsbGVkIHNvIHdlIHNraXAgdGhlIHJvb3QgYERvY3VtZW50RnJhZ21lbnRgLlxuICAgIGxldCBjdXJyZW50Tm9kZSA9IHRyZWVXYWxrZXIubmV4dE5vZGUoKTtcbiAgICAvLyBXZSBjcmVhdGUgYSByb290IGVsZW1lbnQgdG8gYXR0YWNoIGFsbCB0aGUgY2hpbGRyZW4gb2YgdGhlIGJvZHkgdG8uIFdlXG4gICAgLy8gdXNlIGRpdiBhcyBpdCBhcyBhIHNlbWFudGljLWZyZWUsIGdlbmVyaWMgY29udGFpbmVyIGFuZCBkb2VzIG5vdFxuICAgIC8vIHJlcHJlc2VudCBhbnl0aGluZy4gVGhpcyBpcyByZW1vdmVkIHdoZW4gd2Ugc2VyaWFsaXplIHRoZSB0cmVlIGJhY2tcbiAgICAvLyBpbnRvIGEgc3RyaW5nLlxuICAgIGNvbnN0IHNhbml0aXplZEZyYWdtZW50ID0gaW5lcnREb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG4gICAgbGV0IHNhbml0aXplZFBhcmVudDogTm9kZSA9IHNhbml0aXplZEZyYWdtZW50O1xuXG4gICAgd2hpbGUgKGN1cnJlbnROb2RlICE9PSBudWxsKSB7XG4gICAgICBsZXQgc2FuaXRpemVkTm9kZTtcblxuICAgICAgaWYgKGlzVGV4dChjdXJyZW50Tm9kZSkpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHRoaXMuc3R5bGVFbGVtZW50U2FuaXRpemVyICYmXG4gICAgICAgICAgc2FuaXRpemVkUGFyZW50Lm5vZGVOYW1lID09PSAnU1RZTEUnXG4gICAgICAgICkge1xuICAgICAgICAgIC8vIFRPRE8oc2VjdXJpdHltYik6IFRoZSBzYW5pdGl6ZXIgc2hvdWxkIHJlY29yZCBhIGNoYW5nZSB3aGVuZXZlclxuICAgICAgICAgIC8vIGFueSBtZWFuaW5nZnVsIGNoYW5nZSBpcyBtYWRlIHRvIHRoZSBzdHlsZXNoZWV0LlxuICAgICAgICAgIGNvbnN0IHNhbml0aXplZENzcyA9IHRoaXMuc3R5bGVFbGVtZW50U2FuaXRpemVyKGN1cnJlbnROb2RlLmRhdGEpO1xuICAgICAgICAgIHNhbml0aXplZE5vZGUgPSB0aGlzLmNyZWF0ZVRleHROb2RlKHNhbml0aXplZENzcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2FuaXRpemVkTm9kZSA9IHRoaXMuc2FuaXRpemVUZXh0Tm9kZShjdXJyZW50Tm9kZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoaXNFbGVtZW50KGN1cnJlbnROb2RlKSkge1xuICAgICAgICBzYW5pdGl6ZWROb2RlID0gdGhpcy5zYW5pdGl6ZUVsZW1lbnROb2RlKGN1cnJlbnROb2RlLCBpbmVydERvY3VtZW50KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCBtZXNzYWdlID0gJyc7XG4gICAgICAgIGlmIChERVZfTU9ERSkge1xuICAgICAgICAgIG1lc3NhZ2UgPSAnTm9kZSBpcyBub3Qgb2YgdHlwZSB0ZXh0IG9yIGVsZW1lbnQnO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICAgIH1cblxuICAgICAgc2FuaXRpemVkUGFyZW50LmFwcGVuZENoaWxkKHNhbml0aXplZE5vZGUpO1xuXG4gICAgICAvLyBBZHZhbmNlIGl0ZXJhdG9yIHdoaWxlIGtlZXBpbmcgdHJhY2sgb2YgdGhlIHNhbml0aXplZCBwYXJlbnQgZm9yIHRoZVxuICAgICAgLy8gY3VycmVudCBub2RlXG4gICAgICBjdXJyZW50Tm9kZSA9IHRyZWVXYWxrZXIuZmlyc3RDaGlsZCgpO1xuICAgICAgaWYgKGN1cnJlbnROb2RlKSB7XG4gICAgICAgIHNhbml0aXplZFBhcmVudCA9IHNhbml0aXplZE5vZGU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3aGlsZSAoIShjdXJyZW50Tm9kZSA9IHRyZWVXYWxrZXIubmV4dFNpYmxpbmcoKSkpIHtcbiAgICAgICAgICBpZiAoIShjdXJyZW50Tm9kZSA9IHRyZWVXYWxrZXIucGFyZW50Tm9kZSgpKSkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNhbml0aXplZFBhcmVudCA9IHNhbml0aXplZFBhcmVudC5wYXJlbnROb2RlITtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc2FuaXRpemVkRnJhZ21lbnQ7XG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZVRleHROb2RlKHRleHQ6IHN0cmluZyk6IFRleHQge1xuICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0ZXh0KTtcbiAgfVxuXG4gIHByaXZhdGUgc2FuaXRpemVUZXh0Tm9kZSh0ZXh0Tm9kZTogVGV4dCk6IFRleHQge1xuICAgIHJldHVybiB0aGlzLmNyZWF0ZVRleHROb2RlKHRleHROb2RlLmRhdGEpO1xuICB9XG5cbiAgcHJpdmF0ZSBzYW5pdGl6ZUVsZW1lbnROb2RlKFxuICAgIGVsZW1lbnROb2RlOiBFbGVtZW50LFxuICAgIGluZXJ0RG9jdW1lbnQ6IERvY3VtZW50LFxuICApOiBFbGVtZW50IHtcbiAgICBjb25zdCBlbGVtZW50TmFtZSA9IGdldE5vZGVOYW1lKGVsZW1lbnROb2RlKTtcbiAgICBjb25zdCBuZXdOb2RlID0gaW5lcnREb2N1bWVudC5jcmVhdGVFbGVtZW50KGVsZW1lbnROYW1lKTtcbiAgICBjb25zdCBkaXJ0eUF0dHJpYnV0ZXMgPSBlbGVtZW50Tm9kZS5hdHRyaWJ1dGVzO1xuICAgIGZvciAoY29uc3Qge25hbWUsIHZhbHVlfSBvZiBkaXJ0eUF0dHJpYnV0ZXMpIHtcbiAgICAgIGNvbnN0IHBvbGljeSA9IHRoaXMuc2FuaXRpemVyVGFibGUuZ2V0QXR0cmlidXRlUG9saWN5KG5hbWUsIGVsZW1lbnROYW1lKTtcbiAgICAgIGlmICghdGhpcy5zYXRpc2ZpZXNBbGxDb25kaXRpb25zKHBvbGljeS5jb25kaXRpb25zLCBkaXJ0eUF0dHJpYnV0ZXMpKSB7XG4gICAgICAgIHRoaXMucmVjb3JkQ2hhbmdlKFxuICAgICAgICAgIGBOb3QgYWxsIGNvbmRpdGlvbnMgc2F0aXNmaWVkIGZvciBhdHRyaWJ1dGU6ICR7bmFtZX0uYCxcbiAgICAgICAgKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIHN3aXRjaCAocG9saWN5LnBvbGljeUFjdGlvbikge1xuICAgICAgICBjYXNlIEF0dHJpYnV0ZVBvbGljeUFjdGlvbi5LRUVQOlxuICAgICAgICAgIHNldEF0dHJpYnV0ZShuZXdOb2RlLCBuYW1lLCB2YWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQXR0cmlidXRlUG9saWN5QWN0aW9uLktFRVBfQU5EX1NBTklUSVpFX1VSTDpcbiAgICAgICAgICBjb25zdCBzYW5pdGl6ZWRBdHRyVXJsID0gcmVzdHJpY3RpdmVseVNhbml0aXplVXJsKHZhbHVlKTtcbiAgICAgICAgICBpZiAoc2FuaXRpemVkQXR0clVybCAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMucmVjb3JkQ2hhbmdlKFxuICAgICAgICAgICAgICBgVXJsIGluIGF0dHJpYnV0ZSAke25hbWV9IHdhcyBtb2RpZmllZCBkdXJpbmcgc2FuaXRpemF0aW9uLiBPcmlnaW5hbCB1cmw6XCIke3ZhbHVlfVwiIHdhcyBzYW5pdGl6ZWQgdG86IFwiJHtzYW5pdGl6ZWRBdHRyVXJsfVwiYCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc2V0QXR0cmlidXRlKG5ld05vZGUsIG5hbWUsIHNhbml0aXplZEF0dHJVcmwpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEF0dHJpYnV0ZVBvbGljeUFjdGlvbi5LRUVQX0FORF9OT1JNQUxJWkU6XG4gICAgICAgICAgLy8gV2UgZG9uJ3QgY29uc2lkZXIgY2hhbmdpbmcgdGhlIGNhc2Ugb2YgYW4gYXR0cmlidXRlIHZhbHVlIHRvIGJlIGFcbiAgICAgICAgICAvLyBzZW1hbnRpYyBjaGFuZ2VcbiAgICAgICAgICBzZXRBdHRyaWJ1dGUobmV3Tm9kZSwgbmFtZSwgdmFsdWUudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQXR0cmlidXRlUG9saWN5QWN0aW9uLktFRVBfQU5EX1NBTklUSVpFX1NUWUxFOlxuICAgICAgICAgIGlmICh0aGlzLnN0eWxlQXR0cmlidXRlU2FuaXRpemVyKSB7XG4gICAgICAgICAgICBjb25zdCBzYW5pdGl6ZWRDc3MgPSB0aGlzLnN0eWxlQXR0cmlidXRlU2FuaXRpemVyKHZhbHVlKTtcbiAgICAgICAgICAgIC8vIFRPRE8oc2VjdXJpdHltYik6IFRoZSBzYW5pdGl6ZXIgc2hvdWxkIHJlY29yZCBhIGNoYW5nZSB3aGVuZXZlclxuICAgICAgICAgICAgLy8gYW55IG1lYW5pbmdmdWwgY2hhbmdlIGlzIG1hZGUgdG8gdGhlIHN0eWxlc2hlZXQuXG4gICAgICAgICAgICBzZXRBdHRyaWJ1dGUobmV3Tm9kZSwgbmFtZSwgc2FuaXRpemVkQ3NzKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0QXR0cmlidXRlKG5ld05vZGUsIG5hbWUsIHZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQXR0cmlidXRlUG9saWN5QWN0aW9uLktFRVBfQU5EX1VTRV9SRVNPVVJDRV9VUkxfUE9MSUNZOlxuICAgICAgICAgIGlmICh0aGlzLnJlc291cmNlVXJsUG9saWN5KSB7XG4gICAgICAgICAgICBjb25zdCBoaW50czogUmVzb3VyY2VVcmxQb2xpY3lIaW50cyA9IHtcbiAgICAgICAgICAgICAgdHlwZTogUmVzb3VyY2VVcmxQb2xpY3lIaW50c1R5cGUuSFRNTF9BVFRSSUJVVEUsXG4gICAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWU6IG5hbWUsXG4gICAgICAgICAgICAgIGVsZW1lbnROYW1lLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHVybCA9IHBhcnNlVXJsKHZhbHVlKTtcbiAgICAgICAgICAgIGNvbnN0IHNhbml0aXplZFVybCA9IHRoaXMucmVzb3VyY2VVcmxQb2xpY3kodXJsLCBoaW50cyk7XG4gICAgICAgICAgICAvLyBUT0RPKHNlY3VyaXR5bWIpOiBBIGNoYW5nZSBzaG91bGQgYmUgcmVjb3JkZWQgaWYgdGhlIHJlc291cmNlIHVybFxuICAgICAgICAgICAgLy8gY2hhbmdlcyB0aGUgVVJMLlxuICAgICAgICAgICAgaWYgKHNhbml0aXplZFVybCkge1xuICAgICAgICAgICAgICBzZXRBdHRyaWJ1dGUobmV3Tm9kZSwgbmFtZSwgc2FuaXRpemVkVXJsLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSWYgbnVsbCBpcyByZXR1cm5lZCwgdGhlIGF0dHJpYnV0ZSBpcyBkcm9wcGVkLlxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBJZiB0aGUgcmVzb3VyY2UgdXJsIHBvbGljeSBpcyBub3Qgc2V0LCB3ZSBhbGxvdyBhbGwgcmVzb3VyY2VzLlxuICAgICAgICAgICAgLy8gVGhpcyBpcyBob3cgdGhlIHNhbml0aXplciBiZWhhdmVkIGJlZm9yZSB0aGUgcmVzb3VyY2UgdXJsIHBvbGljeVxuICAgICAgICAgICAgLy8gd2FzIGludHJvZHVjZWQuXG4gICAgICAgICAgICBzZXRBdHRyaWJ1dGUobmV3Tm9kZSwgbmFtZSwgdmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBBdHRyaWJ1dGVQb2xpY3lBY3Rpb24uS0VFUF9BTkRfVVNFX1JFU09VUkNFX1VSTF9QT0xJQ1lfRk9SX1NSQ1NFVDpcbiAgICAgICAgICBpZiAodGhpcy5yZXNvdXJjZVVybFBvbGljeSkge1xuICAgICAgICAgICAgY29uc3QgaGludHM6IFJlc291cmNlVXJsUG9saWN5SGludHMgPSB7XG4gICAgICAgICAgICAgIHR5cGU6IFJlc291cmNlVXJsUG9saWN5SGludHNUeXBlLkhUTUxfQVRUUklCVVRFLFxuICAgICAgICAgICAgICBhdHRyaWJ1dGVOYW1lOiBuYW1lLFxuICAgICAgICAgICAgICBlbGVtZW50TmFtZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBzcmNzZXQgPSBwYXJzZVNyY3NldCh2YWx1ZSk7XG4gICAgICAgICAgICBjb25zdCBzYW5pdGl6ZWRTcmNzZXQ6IFNyY3NldCA9IHtwYXJ0czogW119O1xuICAgICAgICAgICAgZm9yIChjb25zdCBwYXJ0IG9mIHNyY3NldC5wYXJ0cykge1xuICAgICAgICAgICAgICBjb25zdCB1cmwgPSBwYXJzZVVybChwYXJ0LnVybCk7XG4gICAgICAgICAgICAgIGNvbnN0IHNhbml0aXplZFVybCA9IHRoaXMucmVzb3VyY2VVcmxQb2xpY3kodXJsLCBoaW50cyk7XG4gICAgICAgICAgICAgIGlmIChzYW5pdGl6ZWRVcmwpIHtcbiAgICAgICAgICAgICAgICBzYW5pdGl6ZWRTcmNzZXQucGFydHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICB1cmw6IHNhbml0aXplZFVybC50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgZGVzY3JpcHRvcjogcGFydC5kZXNjcmlwdG9yLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRBdHRyaWJ1dGUobmV3Tm9kZSwgbmFtZSwgc2VyaWFsaXplU3Jjc2V0KHNhbml0aXplZFNyY3NldCkpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBJZiB0aGUgcmVzb3VyY2UgdXJsIHBvbGljeSBpcyBub3Qgc2V0LCB3ZSBhbGxvdyBhbGwgcmVzb3VyY2VzLlxuICAgICAgICAgICAgLy8gVGhpcyBpcyBob3cgdGhlIHNhbml0aXplciBiZWhhdmVkIGJlZm9yZSB0aGUgcmVzb3VyY2UgdXJsXG4gICAgICAgICAgICAvLyBwb2xpY3kgd2FzIGludHJvZHVjZWQuXG4gICAgICAgICAgICBzZXRBdHRyaWJ1dGUobmV3Tm9kZSwgbmFtZSwgdmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBBdHRyaWJ1dGVQb2xpY3lBY3Rpb24uRFJPUDpcbiAgICAgICAgICB0aGlzLnJlY29yZENoYW5nZShgQXR0cmlidXRlOiAke25hbWV9IHdhcyBkcm9wcGVkYCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgaWYgKERFVl9NT0RFKSB7XG4gICAgICAgICAgICBjaGVja0V4aGF1c3RpdmUoXG4gICAgICAgICAgICAgIHBvbGljeS5wb2xpY3lBY3Rpb24sXG4gICAgICAgICAgICAgICdVbmhhbmRsZWQgQXR0cmlidXRlUG9saWN5QWN0aW9uIGNhc2UnLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBuZXdOb2RlO1xuICB9XG5cbiAgbm9kZUZpbHRlcihub2RlOiBOb2RlKTogbnVtYmVyIHtcbiAgICBpZiAoaXNUZXh0KG5vZGUpKSB7XG4gICAgICByZXR1cm4gMTsgLy8gTm9kZUZpbHRlci5GSUxURVJfQUNDRVBUXG4gICAgfSBlbHNlIGlmICghaXNFbGVtZW50KG5vZGUpKSB7XG4gICAgICAvLyBHZXR0aW5nIGEgbm9kZSB0aGF0IGlzIG5laXRoZXIgYW4gYEVsZW1lbnRgIG9yIGEgYFRleHRgIG5vZGUuIFRoaXMgaXNcbiAgICAgIC8vIGxpa2VseSBkdWUgdG8gc29tZXRoaW5nIHRoYXQgaXMgbm90IHN1cHBvc2VkIHRvIGJlIGFuIGVsZW1lbnQgaW4gdXNlclxuICAgICAgLy8gY29kZSBidXQgcmVjb2duaXplZCBhcyBzdWNoIGJ5IHRoZSBUcmVlV2Fsa2VyIChlLmcuIGEgcG9seWZpbGwgZm9yXG4gICAgICAvLyBvdGhlciBraW5kIG9mIG5vZGVzKS4gU2luY2Ugd2UgY2FuJ3QgcmVjb2duaXplIGl0IGFzIGFuIGVsZW1lbnQsIHdlXG4gICAgICAvLyBkcm9wIHRoZSBub2RlLCBidXQgd2UgZG9uJ3QgcmVjb3JkIGl0IGFzIGEgbWVhbmluZ2Z1bCBjaGFuZ2UuXG4gICAgICByZXR1cm4gMjsgLy8gTm9kZUZpbHRlci5GSUxURVJfUkVKRUNUXG4gICAgfVxuXG4gICAgY29uc3Qgbm9kZU5hbWUgPSBnZXROb2RlTmFtZShub2RlKTtcbiAgICBpZiAobm9kZU5hbWUgPT09IG51bGwpIHtcbiAgICAgIHRoaXMucmVjb3JkQ2hhbmdlKGBOb2RlIG5hbWUgd2FzIG51bGwgZm9yIG5vZGU6ICR7bm9kZX1gKTtcbiAgICAgIHJldHVybiAyOyAvLyBOb2RlRmlsdGVyLkZJTFRFUl9SRUpFQ1RcbiAgICB9XG5cbiAgICBpZiAodGhpcy5zYW5pdGl6ZXJUYWJsZS5pc0FsbG93ZWRFbGVtZW50KG5vZGVOYW1lKSkge1xuICAgICAgcmV0dXJuIDE7IC8vIE5vZGVGaWx0ZXIuRklMVEVSX0FDQ0VQVFxuICAgIH1cblxuICAgIHRoaXMucmVjb3JkQ2hhbmdlKGBFbGVtZW50OiAke25vZGVOYW1lfSB3YXMgZHJvcHBlZGApO1xuICAgIHJldHVybiAyOyAvLyBOb2RlRmlsdGVyLkZJTFRFUl9SRUpFQ1RcbiAgfVxuXG4gIHByaXZhdGUgcmVjb3JkQ2hhbmdlKGVycm9yTWVzc2FnZTogc3RyaW5nKSB7XG4gICAgaWYgKERFVl9NT0RFKSB7XG4gICAgICB0aGlzLmNoYW5nZXMucHVzaChlcnJvck1lc3NhZ2UpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgc2F0aXNmaWVzQWxsQ29uZGl0aW9ucyhcbiAgICBjb25kaXRpb25zOiBSZWFkb25seU1hcDxzdHJpbmcsIFNldDxzdHJpbmc+PiB8IHVuZGVmaW5lZCxcbiAgICBhdHRyczogTmFtZWROb2RlTWFwLFxuICApOiBib29sZWFuIHtcbiAgICBpZiAoIWNvbmRpdGlvbnMpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGZvciAoY29uc3QgW2F0dHJOYW1lLCBleHBlY3RlZFZhbHVlc10gb2YgY29uZGl0aW9ucykge1xuICAgICAgY29uc3QgdmFsdWUgPSBhdHRycy5nZXROYW1lZEl0ZW0oYXR0ck5hbWUpPy52YWx1ZTtcbiAgICAgIGlmICh2YWx1ZSAmJiAhZXhwZWN0ZWRWYWx1ZXMuaGFzKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn1cblxuLyoqIEBub2lubGluZSBIZWxwZXIgdG8gc2F2ZSBvbiBjb2Rlc2l6ZS4gKi9cbmZ1bmN0aW9uIHNldEF0dHJpYnV0ZShlbDogRWxlbWVudCwgbmFtZTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nKSB7XG4gIGVsLnNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSk7XG59XG5cbmludGVyZmFjZSBTcmNzZXRQYXJ0IHtcbiAgdXJsOiBzdHJpbmc7XG4gIGRlc2NyaXB0b3I6IHN0cmluZyB8IHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBBIHN0cnVjdHVyZWQgcmVwcmVzZW50YXRpb24gb2YgYSBzcmNzZXQgYXR0cmlidXRlLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNyY3NldCB7XG4gIHBhcnRzOiBTcmNzZXRQYXJ0W107XG59XG5cbi8qKlxuICogUGFyc2VzIGEgc3Jjc2V0IGF0dHJpYnV0ZSBpbnRvIGEgc3RydWN0dXJlZCByZXByZXNlbnRhdGlvbi5cbiAqXG4gKiBAcGFyYW0gc3Jjc2V0IFRoZSBzcmNzZXQgYXR0cmlidXRlIHZhbHVlLlxuICogQHJldHVybiBUaGUgcGFyc2VkIHNyY3NldC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlU3Jjc2V0KHNyY3NldDogc3RyaW5nKTogU3Jjc2V0IHtcbiAgLy8gVGhlIGFsZ29yaXRobSBpcyBkZXNjcmliZWQgaW4gdGhlIHNwZWMgYXRcbiAgLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvaW1hZ2VzLmh0bWwjc3Jjc2V0LWF0dHJpYnV0ZXMuXG4gIC8vXG4gIC8vIFRoZSBjb2RlIGJlbG93IGlzIGdyZWF0bHkgc2ltcGxpZmllZCB0aG91Z2g7IHdlIGRvbid0IGNoZWNrIHRoZSB2YWxpZGl0eSBvZlxuICAvLyB0aGUgZGVzY3JpcHRvcnMsIG9ubHkgZXh0cmFjdCB0aGVtLiBJZiB0aGV5IGhhcHBlbiB0byBiZSBpbnZhbGlkLCB0aGVcbiAgLy8gYnJvd3NlciB3aWxsIGlnbm9yZSB0aGVtIGFueXdheS5cblxuICBjb25zdCBwYXJ0czogU3Jjc2V0UGFydFtdID0gW107XG4gIGZvciAoY29uc3QgcGFydCBvZiBzcmNzZXQuc3BsaXQoJywnKSkge1xuICAgIGNvbnN0IFt1cmwsIGRlc2NyaXB0b3JdID0gcGFydC50cmltKCkuc3BsaXQoL1xccysvLCAyKTtcbiAgICBwYXJ0cy5wdXNoKHt1cmwsIGRlc2NyaXB0b3J9KTtcbiAgfVxuICByZXR1cm4ge3BhcnRzfTtcbn1cblxuLyoqXG4gKiBTZXJpYWxpemVzIGEgc3Jjc2V0IGludG8gYSBzdHJpbmcuXG4gKlxuICogQHBhcmFtIHNyY3NldCBUaGUgc3Jjc2V0IHRvIHNlcmlhbGl6ZS5cbiAqIEByZXR1cm4gVGhlIHNlcmlhbGl6ZWQgc3Jjc2V0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2VyaWFsaXplU3Jjc2V0KHNyY3NldDogU3Jjc2V0KTogc3RyaW5nIHtcbiAgcmV0dXJuIChcbiAgICBzcmNzZXQucGFydHNcbiAgICAgIC5tYXAoKHBhcnQpID0+IHtcbiAgICAgICAgY29uc3Qge3VybCwgZGVzY3JpcHRvcn0gPSBwYXJ0O1xuICAgICAgICByZXR1cm4gYCR7dXJsfSR7ZGVzY3JpcHRvciA/IGAgJHtkZXNjcmlwdG9yfWAgOiAnJ31gO1xuICAgICAgfSlcbiAgICAgIC8vIFdlIGFsd2F5cyBhZGQgd2hpdGVzcGFjZXMgYXJvdW5kIHRoZSBwYXJ0cyB0byByZW1vdmUgdGhlIGFtYmlndWl0eSBvZlxuICAgICAgLy8gd2hldGhlciBhIGNvbW1hIGNoYXJhY3RlciBpcyBhIHBhcnQgb2YgdGhlIFVSTCBvciBub3QuXG4gICAgICAuam9pbignICwgJylcbiAgKTtcbn1cblxuY29uc3QgZGVmYXVsdEh0bWxTYW5pdGl6ZXIgPSBwdXJlKFxuICAoKSA9PiBuZXcgSHRtbFNhbml0aXplckltcGwoREVGQVVMVF9TQU5JVElaRVJfVEFCTEUsIHNlY3JldFRva2VuKSxcbik7XG5cbi8qKiBTYW5pdGl6ZXMgdW50cnVzdGVkIGh0bWwgdXNpbmcgdGhlIGRlZmF1bHQgc2FuaXRpemVyIGNvbmZpZ3VyYXRpb24uICovXG5leHBvcnQgZnVuY3Rpb24gc2FuaXRpemVIdG1sKGh0bWw6IHN0cmluZyk6IFNhZmVIdG1sIHtcbiAgcmV0dXJuIGRlZmF1bHRIdG1sU2FuaXRpemVyLnNhbml0aXplKGh0bWwpO1xufVxuXG4vKipcbiAqIFNhbml0aXplcyB1bnRydXN0ZWQgaHRtbCB1c2luZyB0aGUgZGVmYXVsdCBzYW5pdGl6ZXIgY29uZmlndXJhdGlvbi4gVGhyb3dzXG4gKiBhbiBlcnJvciBpZiB0aGUgaHRtbCB3YXMgY2hhbmdlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNhbml0aXplSHRtbEFzc2VydFVuY2hhbmdlZChodG1sOiBzdHJpbmcpOiBTYWZlSHRtbCB7XG4gIHJldHVybiBkZWZhdWx0SHRtbFNhbml0aXplci5zYW5pdGl6ZUFzc2VydFVuY2hhbmdlZChodG1sKTtcbn1cblxuLyoqXG4gKiBTYW5pdGl6ZXMgdW50cnVzdGVkIGh0bWwgdXNpbmcgdGhlIGRlZmF1bHQgc2FuaXRpemVyIGNvbmZpZ3VyYXRpb24uIFRocm93c1xuICogYW4gZXJyb3IgaWYgdGhlIGh0bWwgd2FzIGNoYW5nZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzYW5pdGl6ZUh0bWxUb0ZyYWdtZW50KGh0bWw6IHN0cmluZyk6IERvY3VtZW50RnJhZ21lbnQge1xuICByZXR1cm4gZGVmYXVsdEh0bWxTYW5pdGl6ZXIuc2FuaXRpemVUb0ZyYWdtZW50KGh0bWwpO1xufVxuXG4vLyBCRUdJTi1JTlRFUk5BTFxuY29uc3QgbGVuaWVudEh0bWxTYW5pdGl6ZXIgPSBwdXJlKFxuICAoKSA9PiBuZXcgSHRtbFNhbml0aXplckltcGwoTEVOSUVOVF9TQU5JVElaRVJfVEFCTEUsIHNlY3JldFRva2VuKSxcbik7XG5cbi8qKlxuICogU2FuaXRpemUgdGhlIGdpdmVuIEhUTUwgZnJhZ21lbnQgaW4gYXMgbGVuaWVudCBvZiBhIHdheSBhcyBwb3NzaWJsZSB3aGlsZVxuICogc3RpbGwgZ3VhcmFudGVlaW5nIHRoYXQgdGhlIG91dHB1dCBpcyBzYWZlLlxuICpcbiAqIFRoaXMgc2FuaXRpemVyIGRvZXMgbm90IHByb3RlY3QgYWdhaW5zdCBnby9kb20tY2xvYmJlcmluZy4gVXNlIHRoZSBub3JtYWxcbiAqIHNhbml0aXplciBpbnN0ZWFkIGlmIHBvc3NpYmxlLlxuICpcbiAqIElmIGF0IGFsbCBwb3NzaWJsZSwgcHJlZmVyIHVzaW5nIGBzYW5pdGl6ZUh0bWxgIG92ZXIgdGhpcyBtZXRob2QuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsZW5pZW50bHlTYW5pdGl6ZUh0bWwoaHRtbDogc3RyaW5nKTogU2FmZUh0bWwge1xuICByZXR1cm4gbGVuaWVudEh0bWxTYW5pdGl6ZXIuc2FuaXRpemUoaHRtbCk7XG59XG5cbi8qKiBMaWtlIGBzYW5pdGl6ZUh0bWxBc3NlcnRVbmNoYW5nZWRgIGJ1dCB1c2luZyB0aGUgbGVuaWVudCBzYW5pdGl6ZXIuICovXG5leHBvcnQgZnVuY3Rpb24gbGVuaWVudGx5U2FuaXRpemVIdG1sQXNzZXJ0VW5jaGFuZ2VkKGh0bWw6IHN0cmluZyk6IFNhZmVIdG1sIHtcbiAgcmV0dXJuIGxlbmllbnRIdG1sU2FuaXRpemVyLnNhbml0aXplQXNzZXJ0VW5jaGFuZ2VkKGh0bWwpO1xufVxuXG5jb25zdCBzdXBlckxlbmllbnRIdG1sU2FuaXRpemVyID0gcHVyZShcbiAgKCkgPT4gbmV3IEh0bWxTYW5pdGl6ZXJJbXBsKFNVUEVSX0xFTklFTlRfU0FOSVRJWkVSX1RBQkxFLCBzZWNyZXRUb2tlbiksXG4pO1xuXG4vKipcbiAqIFNhbml0aXplIHRoZSBnaXZlbiBIVE1MIGZyYWdtZW50IGluIGFuIGV4dHJlbWVseSBsZW5pZW50IHdheSB3aGlsZVxuICogc3RpbGwgZ3VhcmFudGVlaW5nIHRoYXQgdGhlIG91dHB1dCBjYW5ub3QgbGVhZCB0byBYU1MgaW4gbW9kZXJuIGJyb3dzZXJzLlxuICpcbiAqIElmIGF0IGFsbCBwb3NzaWJsZSwgcHJlZmVyIHVzaW5nIGBzYW5pdGl6ZUh0bWxgIG9yIGBsZW5pZW50bHlTYW5pdGl6ZUh0bWxgXG4gKiBvdmVyIHRoaXMgbWV0aG9kLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc3VwZXJMZW5pZW50bHlTYW5pdGl6ZUh0bWwoaHRtbDogc3RyaW5nKTogU2FmZUh0bWwge1xuICByZXR1cm4gc3VwZXJMZW5pZW50SHRtbFNhbml0aXplci5zYW5pdGl6ZShodG1sKTtcbn1cblxuLyoqXG4gKiBMaWtlIGBzdXBlckxlbmllbnRseVNhbml0aXplSHRtbGAgYnV0IGl0IHRocm93cyBhbiBleGNlcHRpb24gaWYgdGhlIG91dHB1dFxuICogaXMgY2hhbmdlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN1cGVyTGVuaWVudGx5U2FuaXRpemVIdG1sQXNzZXJ0VW5jaGFuZ2VkKFxuICBodG1sOiBzdHJpbmcsXG4pOiBTYWZlSHRtbCB7XG4gIHJldHVybiBzdXBlckxlbmllbnRIdG1sU2FuaXRpemVyLnNhbml0aXplQXNzZXJ0VW5jaGFuZ2VkKGh0bWwpO1xufVxuLy8gRU5ELUlOVEVSTkFMXG5cbmZ1bmN0aW9uIGNoZWNrRXhoYXVzdGl2ZShcbiAgdmFsdWU6IG5ldmVyLFxuICBtc2cgPSBgdW5leHBlY3RlZCB2YWx1ZSAke3ZhbHVlfSFgLFxuKTogbmV2ZXIge1xuICB0aHJvdyBuZXcgRXJyb3IobXNnKTtcbn1cbiJdfQ==
;return exports;});

//third_party/javascript/safevalues/builders/html_sanitizer/html_sanitizer_builder.closure.js
goog.loadModule(function(exports) {'use strict';/**
 * @license
 * Copyright Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
/**
 * @fileoverview added by tsickle
 * Generated from: third_party/javascript/safevalues/builders/html_sanitizer/html_sanitizer_builder.ts
 * @suppress {checkTypes} added by tsickle
 * @suppress {extraRequire} added by tsickle
 * @suppress {missingRequire} added by tsickle
 * @suppress {uselessCode} added by tsickle
 * @suppress {suspiciousCode} added by tsickle
 * @suppress {missingReturn} added by tsickle
 * @suppress {unusedPrivateMembers} added by tsickle
 * @suppress {missingOverride} added by tsickle
 * @suppress {const} added by tsickle
 */
goog.module('google3.third_party.javascript.safevalues.builders.html_sanitizer.html_sanitizer_builder');
var module = module || { id: 'third_party/javascript/safevalues/builders/html_sanitizer/html_sanitizer_builder.closure.js' };
goog.require('google3.third_party.javascript.tslib.tslib');
const tsickle_secrets_1 = goog.requireType("google3.third_party.javascript.safevalues.internals.secrets");
const tsickle_allowlists_2 = goog.requireType("google3.third_party.javascript.safevalues.builders.html_sanitizer.css.allowlists");
const tsickle_sanitizer_3 = goog.requireType("google3.third_party.javascript.safevalues.builders.html_sanitizer.css.sanitizer");
const tsickle_html_sanitizer_4 = goog.requireType("google3.third_party.javascript.safevalues.builders.html_sanitizer.html_sanitizer");
const tsickle_resource_url_policy_5 = goog.requireType("google3.third_party.javascript.safevalues.builders.html_sanitizer.resource_url_policy");
const tsickle_default_sanitizer_table_6 = goog.requireType("google3.third_party.javascript.safevalues.builders.html_sanitizer.sanitizer_table.default_sanitizer_table");
const tsickle_sanitizer_table_7 = goog.requireType("google3.third_party.javascript.safevalues.builders.html_sanitizer.sanitizer_table.sanitizer_table");
const secrets_1 = goog.require('google3.third_party.javascript.safevalues.internals.secrets');
const allowlists_1 = goog.require('google3.third_party.javascript.safevalues.builders.html_sanitizer.css.allowlists');
const sanitizer_1 = goog.require('google3.third_party.javascript.safevalues.builders.html_sanitizer.css.sanitizer');
const html_sanitizer_1 = goog.require('google3.third_party.javascript.safevalues.builders.html_sanitizer.html_sanitizer');
const default_sanitizer_table_1 = goog.require('google3.third_party.javascript.safevalues.builders.html_sanitizer.sanitizer_table.default_sanitizer_table');
const sanitizer_table_1 = goog.require('google3.third_party.javascript.safevalues.builders.html_sanitizer.sanitizer_table.sanitizer_table');
/**
 * The base class for all sanitizer builders.
 * @abstract
 * @template T
 */
class BaseSanitizerBuilder {
    /**
     * @public
     */
    constructor() {
        // To denote if the builder has called build() and therefore should make no
        // further changes to the sanitizer table.
        this.calledBuild = false;
        this.sanitizerTable = default_sanitizer_table_1.DEFAULT_SANITIZER_TABLE;
    }
    /**
     * Builder option to restrict allowed elements to a smaller subset.
     * @public
     * @template THIS
     * @this {THIS}
     * @param {!ReadonlySet<string>} elementSet
     * @return {THIS}
     */
    onlyAllowElements(elementSet) {
        /** @type {!Set<string>} */
        const allowedElements = new Set();
        /** @type {!Map<string, !ReadonlyMap<string, !tsickle_sanitizer_table_7.AttributePolicy>>} */
        const allowedElementPolicies = new Map();
        for (let element of elementSet) {
            element = element.toUpperCase();
            if (!(/** @type {!BaseSanitizerBuilder} */ (this)).sanitizerTable.isAllowedElement(element)) {
                throw new Error(`Element: ${element}, is not allowed by html5_contract.textpb`);
            }
            /** @type {(undefined|!ReadonlyMap<string, !tsickle_sanitizer_table_7.AttributePolicy>)} */
            const elementPolicy = (/** @type {!BaseSanitizerBuilder} */ (this)).sanitizerTable.elementPolicies.get(element);
            if (elementPolicy !== undefined) {
                allowedElementPolicies.set(element, elementPolicy);
            }
            else {
                allowedElements.add(element);
            }
        }
        (/** @type {!BaseSanitizerBuilder} */ (this)).sanitizerTable = new sanitizer_table_1.SanitizerTable(allowedElements, allowedElementPolicies, (/** @type {!BaseSanitizerBuilder} */ (this)).sanitizerTable.allowedGlobalAttributes, (/** @type {!BaseSanitizerBuilder} */ (this)).sanitizerTable.globalAttributePolicies);
        return (/** @type {!BaseSanitizerBuilder} */ (this));
    }
    /**
     * Builder option to allow a set of custom elements. Must be called either
     * without or after `onlyAllowElements` - will be overwritten otherwise.
     * Custom elements must contain a dash.
     * @public
     * @template THIS
     * @this {THIS}
     * @param {string} element
     * @param {(undefined|!ReadonlySet<string>)=} allowedAttributes
     * @return {THIS}
     */
    allowCustomElement(element, allowedAttributes) {
        /** @type {!Set<string>} */
        const allowedElements = new Set((/** @type {!BaseSanitizerBuilder} */ (this)).sanitizerTable.allowedElements);
        /** @type {!Map<string, !ReadonlyMap<string, !tsickle_sanitizer_table_7.AttributePolicy>>} */
        const allowedElementPolicies = new Map((/** @type {!BaseSanitizerBuilder} */ (this)).sanitizerTable.elementPolicies);
        element = element.toUpperCase();
        if (!(0, sanitizer_table_1.isCustomElement)(element)) {
            throw new Error(`Element: ${element} is not a custom element`);
        }
        if (allowedAttributes) {
            /** @type {!Map<string, !tsickle_sanitizer_table_7.AttributePolicy>} */
            const elementPolicy = new Map();
            for (const attribute of allowedAttributes) {
                elementPolicy.set(attribute.toLowerCase(), {
                    policyAction: sanitizer_table_1.AttributePolicyAction.KEEP,
                });
            }
            allowedElementPolicies.set(element, elementPolicy);
        }
        else {
            allowedElements.add(element);
        }
        (/** @type {!BaseSanitizerBuilder} */ (this)).sanitizerTable = new sanitizer_table_1.SanitizerTable(allowedElements, allowedElementPolicies, (/** @type {!BaseSanitizerBuilder} */ (this)).sanitizerTable.allowedGlobalAttributes, (/** @type {!BaseSanitizerBuilder} */ (this)).sanitizerTable.globalAttributePolicies);
        return (/** @type {!BaseSanitizerBuilder} */ (this));
    }
    /**
     * Builder option to restrict allowed attributes to a smaller subset.
     *
     * If the attribute isn't currently allowed then it won't be added.
     * @public
     * @template THIS
     * @this {THIS}
     * @param {!ReadonlySet<string>} attributeSet
     * @return {THIS}
     */
    onlyAllowAttributes(attributeSet) {
        /** @type {!Set<string>} */
        const allowedGlobalAttributes = new Set();
        /** @type {!Map<string, !tsickle_sanitizer_table_7.AttributePolicy>} */
        const globalAttributePolicies = new Map();
        /** @type {!Map<string, !ReadonlyMap<string, !tsickle_sanitizer_table_7.AttributePolicy>>} */
        const elementPolicies = new Map();
        for (const attribute of attributeSet) {
            if ((/** @type {!BaseSanitizerBuilder} */ (this)).sanitizerTable.allowedGlobalAttributes.has(attribute)) {
                allowedGlobalAttributes.add(attribute);
            }
            if ((/** @type {!BaseSanitizerBuilder} */ (this)).sanitizerTable.globalAttributePolicies.has(attribute)) {
                globalAttributePolicies.set(attribute, (/** @type {!tsickle_sanitizer_table_7.AttributePolicy} */ ((/** @type {!BaseSanitizerBuilder} */ (this)).sanitizerTable.globalAttributePolicies.get(attribute))));
            }
        }
        for (const [elementName__tsickle_destructured_1, originalElementPolicy__tsickle_destructured_2] of (/** @type {!BaseSanitizerBuilder} */ (this)).sanitizerTable.elementPolicies.entries()) {
            const elementName = /** @type {string} */ (elementName__tsickle_destructured_1);
            const originalElementPolicy = /** @type {!ReadonlyMap<string, !tsickle_sanitizer_table_7.AttributePolicy>} */ (originalElementPolicy__tsickle_destructured_2);
            /** @type {!Map<string, !tsickle_sanitizer_table_7.AttributePolicy>} */
            const newElementPolicy = new Map();
            for (const [attribute__tsickle_destructured_3, attributePolicy__tsickle_destructured_4] of originalElementPolicy.entries()) {
                const attribute = /** @type {string} */ (attribute__tsickle_destructured_3);
                const attributePolicy = /** @type {!tsickle_sanitizer_table_7.AttributePolicy} */ (attributePolicy__tsickle_destructured_4);
                if (attributeSet.has(attribute)) {
                    newElementPolicy.set(attribute, attributePolicy);
                }
            }
            elementPolicies.set(elementName, newElementPolicy);
        }
        (/** @type {!BaseSanitizerBuilder} */ (this)).sanitizerTable = new sanitizer_table_1.SanitizerTable((/** @type {!BaseSanitizerBuilder} */ (this)).sanitizerTable.allowedElements, elementPolicies, allowedGlobalAttributes, globalAttributePolicies);
        return (/** @type {!BaseSanitizerBuilder} */ (this));
    }
    /**
     * Allows the set of data attributes passed.
     *
     * These values must be prefixed with "data-"
     *
     * If called with onlyAllowElements or onlyAllowAttributes, those methods must
     * be called first.
     * @public
     * @template THIS
     * @this {THIS}
     * @param {!Array<string>} attributes
     * @return {THIS}
     */
    allowDataAttributes(attributes) {
        /** @type {!Set<string>} */
        const allowedGlobalAttributes = new Set((/** @type {!BaseSanitizerBuilder} */ (this)).sanitizerTable.allowedGlobalAttributes);
        for (const attribute of attributes) {
            if (attribute.indexOf('data-') !== 0) {
                throw new Error(`data attribute: ${attribute} does not begin with the prefix "data-"`);
            }
            allowedGlobalAttributes.add(attribute);
        }
        (/** @type {!BaseSanitizerBuilder} */ (this)).sanitizerTable = new sanitizer_table_1.SanitizerTable((/** @type {!BaseSanitizerBuilder} */ (this)).sanitizerTable.allowedElements, (/** @type {!BaseSanitizerBuilder} */ (this)).sanitizerTable.elementPolicies, allowedGlobalAttributes, (/** @type {!BaseSanitizerBuilder} */ (this)).sanitizerTable.globalAttributePolicies);
        return (/** @type {!BaseSanitizerBuilder} */ (this));
    }
    /**
     * Preserves style attributes. Note that the sanitizer won't parse and
     * sanitize the values but keep them as they are. In particular this means
     * that the code will be able to call functions that could do undesirable
     * things (e.g. `url` to trigger a network request), as well as any custom
     * properties or functions defined by the application.
     * @public
     * @template THIS
     * @this {THIS}
     * @return {THIS}
     */
    allowStyleAttributes() {
        /** @type {!Map<string, !tsickle_sanitizer_table_7.AttributePolicy>} */
        const globalAttributePolicies = new Map((/** @type {!BaseSanitizerBuilder} */ (this)).sanitizerTable.globalAttributePolicies);
        globalAttributePolicies.set('style', {
            policyAction: sanitizer_table_1.AttributePolicyAction.KEEP_AND_SANITIZE_STYLE,
        });
        (/** @type {!BaseSanitizerBuilder} */ (this)).sanitizerTable = new sanitizer_table_1.SanitizerTable((/** @type {!BaseSanitizerBuilder} */ (this)).sanitizerTable.allowedElements, (/** @type {!BaseSanitizerBuilder} */ (this)).sanitizerTable.elementPolicies, (/** @type {!BaseSanitizerBuilder} */ (this)).sanitizerTable.allowedGlobalAttributes, globalAttributePolicies);
        return (/** @type {!BaseSanitizerBuilder} */ (this));
    }
    /**
     * Preserves the class attribute on all elements. This means contents can
     * adopt CSS styles from other page elements and possibly mask themselves as
     * legitimate UI elements, which can lead to phishing.
     * @public
     * @template THIS
     * @this {THIS}
     * @return {THIS}
     */
    allowClassAttributes() {
        /** @type {!Set<string>} */
        const allowedGlobalAttributes = new Set((/** @type {!BaseSanitizerBuilder} */ (this)).sanitizerTable.allowedGlobalAttributes);
        allowedGlobalAttributes.add('class');
        (/** @type {!BaseSanitizerBuilder} */ (this)).sanitizerTable = new sanitizer_table_1.SanitizerTable((/** @type {!BaseSanitizerBuilder} */ (this)).sanitizerTable.allowedElements, (/** @type {!BaseSanitizerBuilder} */ (this)).sanitizerTable.elementPolicies, allowedGlobalAttributes, (/** @type {!BaseSanitizerBuilder} */ (this)).sanitizerTable.globalAttributePolicies);
        return (/** @type {!BaseSanitizerBuilder} */ (this));
    }
    /**
     * Preserves id attributes. This carries moderate risk as it allows an
     * element to override other elements with the same ID.
     * @public
     * @template THIS
     * @this {THIS}
     * @return {THIS}
     */
    allowIdAttributes() {
        /** @type {!Set<string>} */
        const allowedGlobalAttributes = new Set((/** @type {!BaseSanitizerBuilder} */ (this)).sanitizerTable.allowedGlobalAttributes);
        allowedGlobalAttributes.add('id');
        (/** @type {!BaseSanitizerBuilder} */ (this)).sanitizerTable = new sanitizer_table_1.SanitizerTable((/** @type {!BaseSanitizerBuilder} */ (this)).sanitizerTable.allowedElements, (/** @type {!BaseSanitizerBuilder} */ (this)).sanitizerTable.elementPolicies, allowedGlobalAttributes, (/** @type {!BaseSanitizerBuilder} */ (this)).sanitizerTable.globalAttributePolicies);
        return (/** @type {!BaseSanitizerBuilder} */ (this));
    }
    /**
     * Preserves (some) attributes that reference existing ids. This carries a
     * moderate security risk, because sanitized content can create semantic
     * associations with existing elements in the page, regardless of the layout.
     * This could be used to override the label associated with a form input by a
     * screen reader, and facilitate phishing.
     * @public
     * @template THIS
     * @this {THIS}
     * @return {THIS}
     */
    allowIdReferenceAttributes() {
        /** @type {!Set<string>} */
        const allowedGlobalAttributes = new Set((/** @type {!BaseSanitizerBuilder} */ (this)).sanitizerTable.allowedGlobalAttributes);
        // TODO(b/190693339): Generate this subtable from the contract.
        allowedGlobalAttributes
            .add('aria-activedescendant')
            .add('aria-controls')
            .add('aria-labelledby')
            .add('aria-owns')
            .add('for')
            .add('list');
        (/** @type {!BaseSanitizerBuilder} */ (this)).sanitizerTable = new sanitizer_table_1.SanitizerTable((/** @type {!BaseSanitizerBuilder} */ (this)).sanitizerTable.allowedElements, (/** @type {!BaseSanitizerBuilder} */ (this)).sanitizerTable.elementPolicies, allowedGlobalAttributes, (/** @type {!BaseSanitizerBuilder} */ (this)).sanitizerTable.globalAttributePolicies);
        return (/** @type {!BaseSanitizerBuilder} */ (this));
    }
    /**
     * Sets the ResourceUrlPolicy to be used by the sanitizer.
     *
     * The ResourceUrlPolicy can be used to decide whether a given URL is allowed
     * to be loaded as an external resource. It is a function that an instance
     * of `URL` and a set of hints giving a context on why an image was loaded.
     *
     * The policy can return `null` to indicate that the resource should be
     * dropped, otherwise it should return a valid `URL` that will be used to
     * replace the original URL in the sanitized output.
     *
     * For example the following policy drops all images loaded from
     * `https://forbidden.google.com` but allows all other images.
     *
     * ```typescript
     * const resourceUrlPolicy: ResourceUrlPolicy = (url) => {
     *   if (url.origin === 'https://forbidden.google.com') {
     *     return null;
     *   }
     *   return url;
     * };
     * ```
     *
     * You can also use the `ResourceUrlPolicyHints` to make the policy more
     * informed. For example the following policy only allows images loaded
     * via an <img src> element but drops all other images.
     *
     * ```typescript
     * const resourceUrlPolicy: ResourceUrlPolicy = (url, hints) => {
     *   if (hints.type === ResourceUrlPolicyHintsType.HTML_ATTRIBUTE &&
     *       hints.attributeName === 'src' &&
     *       hints.elementName === 'IMG') {
     *     return url;
     *   }
     *   return null;
     * };
     * ```
     * @public
     * @template THIS
     * @this {THIS}
     * @param {function(!URL, (!StyleElementOrAttributeResourceUrlPolicyHints|!HtmlAttributeResourceUrlPolicyHints)): (null|!URL)} resourceUrlPolicy
     * @return {THIS}
     */
    withResourceUrlPolicy(resourceUrlPolicy) {
        (/** @type {!BaseSanitizerBuilder} */ (this)).resourceUrlPolicy = resourceUrlPolicy;
        return (/** @type {!BaseSanitizerBuilder} */ (this));
    }
}
exports.BaseSanitizerBuilder = BaseSanitizerBuilder;
/* istanbul ignore if */
if (false) {
    /**
     * @type {!tsickle_sanitizer_table_7.SanitizerTable}
     * @protected
     */
    BaseSanitizerBuilder.prototype.sanitizerTable;
    /**
     * @type {boolean}
     * @protected
     */
    BaseSanitizerBuilder.prototype.calledBuild;
    /**
     * @type {(undefined|function(!URL, (!StyleElementOrAttributeResourceUrlPolicyHints|!HtmlAttributeResourceUrlPolicyHints)): (null|!URL))}
     * @protected
     */
    BaseSanitizerBuilder.prototype.resourceUrlPolicy;
    /**
     * @abstract
     * @public
     * @return {T}
     */
    BaseSanitizerBuilder.prototype.build = function () { };
}
/**
 * This class allows modifications to the default sanitizer configuration.
 * It builds an instance of `HtmlSanitizer`.
 * @extends {BaseSanitizerBuilder<!tsickle_html_sanitizer_4.HtmlSanitizer>}
 */
class HtmlSanitizerBuilder extends BaseSanitizerBuilder {
    /**
     * @public
     * @return {!tsickle_html_sanitizer_4.HtmlSanitizer}
     */
    build() {
        if (this.calledBuild) {
            throw new Error('this sanitizer has already called build');
        }
        this.calledBuild = true;
        return new html_sanitizer_1.HtmlSanitizerImpl(this.sanitizerTable, secrets_1.secretToken, 
        /* styleElementSanitizer= */ undefined, 
        /* styleAttributeSanitizer= */ undefined, this.resourceUrlPolicy);
    }
}
exports.HtmlSanitizerBuilder = HtmlSanitizerBuilder;
/**
 * This class allows modifications to the default sanitizer configuration.
 * It builds an instance of `CssSanitizer`.
 * @extends {BaseSanitizerBuilder<!tsickle_html_sanitizer_4.CssSanitizer>}
 */
class CssSanitizerBuilder extends BaseSanitizerBuilder {
    constructor() {
        super(...arguments);
        this.animationsAllowed = false;
        this.transitionsAllowed = false;
    }
    /**
     * @public
     * @template THIS
     * @this {THIS}
     * @return {THIS}
     */
    allowAnimations() {
        (/** @type {!CssSanitizerBuilder} */ (this)).animationsAllowed = true;
        return (/** @type {!CssSanitizerBuilder} */ (this));
    }
    /**
     * @public
     * @template THIS
     * @this {THIS}
     * @return {THIS}
     */
    allowTransitions() {
        (/** @type {!CssSanitizerBuilder} */ (this)).transitionsAllowed = true;
        return (/** @type {!CssSanitizerBuilder} */ (this));
    }
    /**
     * Builds a CSS sanitizer.
     *
     * Note that this function always adds `style`, `id`, `name` and `class`
     * attributes to the allowlist as well as the `STYLE` element.
     * @public
     * @return {!tsickle_html_sanitizer_4.CssSanitizer}
     */
    build() {
        this.extendSanitizerTableForCss();
        /** @type {!Array<function(string): boolean>} */
        const propertyDiscarders = [];
        if (!this.animationsAllowed) {
            propertyDiscarders.push((/**
             * @param {string} property
             * @return {boolean}
             */
            (property) => /^(animation|offset)(-|$)/.test(property)));
        }
        if (!this.transitionsAllowed) {
            propertyDiscarders.push((/**
             * @param {string} property
             * @return {boolean}
             */
            (property) => /^transition(-|$)/.test(property)));
        }
        /** @type {function(string): string} */
        const styleElementSanitizer = (/**
         * @param {string} cssText
         * @return {string}
         */
        (cssText) => (0, sanitizer_1.sanitizeStyleElement)(cssText, allowlists_1.CSS_PROPERTY_ALLOWLIST, allowlists_1.CSS_FUNCTION_ALLOWLIST, this.resourceUrlPolicy, this.animationsAllowed, propertyDiscarders));
        /** @type {function(string): string} */
        const styleAttributeSanitizer = (/**
         * @param {string} cssText
         * @return {string}
         */
        (cssText) => (0, sanitizer_1.sanitizeStyleAttribute)(cssText, allowlists_1.CSS_PROPERTY_ALLOWLIST, allowlists_1.CSS_FUNCTION_ALLOWLIST, this.resourceUrlPolicy, propertyDiscarders));
        return new html_sanitizer_1.HtmlSanitizerImpl(this.sanitizerTable, secrets_1.secretToken, styleElementSanitizer, styleAttributeSanitizer, this.resourceUrlPolicy);
    }
    /**
     * @private
     * @return {void}
     */
    extendSanitizerTableForCss() {
        /** @type {!Set<string>} */
        const allowedElements = new Set(this.sanitizerTable.allowedElements);
        /** @type {!Set<string>} */
        const allowedGlobalAttributes = new Set(this.sanitizerTable.allowedGlobalAttributes);
        /** @type {!Map<string, !tsickle_sanitizer_table_7.AttributePolicy>} */
        const globalAttributePolicies = new Map(this.sanitizerTable.globalAttributePolicies);
        allowedElements.add('STYLE');
        globalAttributePolicies.set('style', {
            policyAction: sanitizer_table_1.AttributePolicyAction.KEEP_AND_SANITIZE_STYLE,
        });
        allowedGlobalAttributes.add('id');
        allowedGlobalAttributes.add('name');
        allowedGlobalAttributes.add('class');
        this.sanitizerTable = new sanitizer_table_1.SanitizerTable(allowedElements, this.sanitizerTable.elementPolicies, allowedGlobalAttributes, globalAttributePolicies);
    }
}
exports.CssSanitizerBuilder = CssSanitizerBuilder;
/* istanbul ignore if */
if (false) {
    /**
     * @type {boolean}
     * @private
     */
    CssSanitizerBuilder.prototype.animationsAllowed;
    /**
     * @type {boolean}
     * @private
     */
    CssSanitizerBuilder.prototype.transitionsAllowed;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaHRtbF9zYW5pdGl6ZXJfYnVpbGRlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL3RoaXJkX3BhcnR5L2phdmFzY3JpcHQvc2FmZXZhbHVlcy9idWlsZGVycy9odG1sX3Nhbml0aXplci9odG1sX3Nhbml0aXplcl9idWlsZGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFNQSw4RkFBb0Q7QUFDcEQsc0hBQWdGO0FBQ2hGLG9IQUl5QjtBQUN6QiwwSEFBZ0Y7QUFFaEYsNEpBQWtGO0FBQ2xGLDRJQU0yQzs7Ozs7O0FBSTNDLE1BQXNCLG9CQUFvQjs7OztJQVF4Qzs7O1FBRlUsZ0JBQVcsR0FBRyxLQUFLLENBQUM7UUFHNUIsSUFBSSxDQUFDLGNBQWMsR0FBRyxpREFBdUIsQ0FBQztJQUNoRCxDQUFDOzs7Ozs7Ozs7SUFFRCxpQkFBaUIsQ0FBQyxVQUErQjs7Y0FDekMsZUFBZSxHQUFHLElBQUksR0FBRyxFQUFVOztjQUNuQyxzQkFBc0IsR0FBRyxJQUFJLEdBQUcsRUFBeUI7UUFDL0QsS0FBSyxJQUFJLE9BQU8sSUFBSSxVQUFVLEVBQUUsQ0FBQztZQUMvQixPQUFPLEdBQUcsT0FBTyxDQUFDLFdBQVcsRUFBRSxDQUFDO1lBQ2hDLElBQUksQ0FBQyx1Q0FBQSxJQUFJLEVBQUEsQ0FBQyxjQUFjLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQztnQkFDbkQsTUFBTSxJQUFJLEtBQUssQ0FDYixZQUFZLE9BQU8sMkNBQTJDLENBQy9ELENBQUM7WUFDSixDQUFDOztrQkFDSyxhQUFhLEdBQUcsdUNBQUEsSUFBSSxFQUFBLENBQUMsY0FBYyxDQUFDLGVBQWUsQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDO1lBQ3RFLElBQUksYUFBYSxLQUFLLFNBQVMsRUFBRSxDQUFDO2dCQUNoQyxzQkFBc0IsQ0FBQyxHQUFHLENBQUMsT0FBTyxFQUFF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QUFJLENBQUMsY0FBYyxFQUNuQixxQkFBVyxFQUNYLHFCQUFxQixFQUNyQix1QkFBdUIsRUFDdkIsSUFBSSxDQUFDLGlCQUFpQixDQUN2QixDQUFDO0lBQ0osQ0FBQzs7Ozs7SUFDTywwQkFBMEI7O2NBQzFCLGVBQWUsR0FBRyxJQUFJLEdBQUcsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLGVBQWUsQ0FBQzs7Y0FDOUQsdUJBQXVCLEdBQUcsSUFBSSxHQUFHLENBQ3JDLElBQUksQ0FBQyxjQUFjLENBQUMsdUJBQXVCLENBQzVDOztjQUNLLHVCQUF1QixHQUFHLElBQUksR0FBRyxDQUNyQyxJQUFJLENBQUMsY0FBYyxDQUFDLHVCQUF1QixDQUM1QztRQUNELGVBQWUsQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDN0IsdUJBQXVCLENBQUMsR0FBRyxDQUFDLE9BQU8sRUFBRTtZQUNuQyxZQUFZLEVBQUUsdUNBQXFCLENBQUMsdUJBQXVCO1NBQzVELENBQUMsQ0FBQztRQUNILHVCQUF1QixDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNsQyx1QkFBdUIsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDcEMsdUJBQXVCLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ3JDLElBQUksQ0FBQyxjQUFjLEdBQUcsSUFBSSxnQ0FBYyxDQUN0QyxlQUFlLEVBQ2YsSUFBSSxDQUFDLGNBQWMsQ0FBQyxlQUFlLEVBQ25DLHVCQUF1QixFQUN2Qix1QkFBdUIsQ0FDeEIsQ0FBQztJQUNKLENBQUM7Q0FDRjtBQTNFRCxrREEyRUM7Ozs7Ozs7SUExRUMsZ0RBQWtDOzs7OztJQUNsQyxpREFBbUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG5pbXBvcnQge3NlY3JldFRva2VufSBmcm9tICcuLi8uLi9pbnRlcm5hbHMvc2VjcmV0cyc7XG5pbXBvcnQge0NTU19GVU5DVElPTl9BTExPV0xJU1QsIENTU19QUk9QRVJUWV9BTExPV0xJU1R9IGZyb20gJy4vY3NzL2FsbG93bGlzdHMnO1xuaW1wb3J0IHtcbiAgUHJvcGVydHlEaXNjYXJkZXIsXG4gIHNhbml0aXplU3R5bGVBdHRyaWJ1dGUsXG4gIHNhbml0aXplU3R5bGVFbGVtZW50LFxufSBmcm9tICcuL2Nzcy9zYW5pdGl6ZXInO1xuaW1wb3J0IHtDc3NTYW5pdGl6ZXIsIEh0bWxTYW5pdGl6ZXIsIEh0bWxTYW5pdGl6ZXJJbXBsfSBmcm9tICcuL2h0bWxfc2FuaXRpemVyJztcbmltcG9ydCB7UmVzb3VyY2VVcmxQb2xpY3l9IGZyb20gJy4vcmVzb3VyY2VfdXJsX3BvbGljeSc7XG5pbXBvcnQge0RFRkFVTFRfU0FOSVRJWkVSX1RBQkxFfSBmcm9tICcuL3Nhbml0aXplcl90YWJsZS9kZWZhdWx0X3Nhbml0aXplcl90YWJsZSc7XG5pbXBvcnQge1xuICBBdHRyaWJ1dGVQb2xpY3ksXG4gIEF0dHJpYnV0ZVBvbGljeUFjdGlvbixcbiAgRWxlbWVudFBvbGljeSxcbiAgU2FuaXRpemVyVGFibGUsXG4gIGlzQ3VzdG9tRWxlbWVudCxcbn0gZnJvbSAnLi9zYW5pdGl6ZXJfdGFibGUvc2FuaXRpemVyX3RhYmxlJztcbi8qKlxuICogVGhlIGJhc2UgY2xhc3MgZm9yIGFsbCBzYW5pdGl6ZXIgYnVpbGRlcnMuXG4gKi9cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBCYXNlU2FuaXRpemVyQnVpbGRlcjxcbiAgVCBleHRlbmRzIEh0bWxTYW5pdGl6ZXIgfCBDc3NTYW5pdGl6ZXIsXG4+IHtcbiAgcHJvdGVjdGVkIHNhbml0aXplclRhYmxlOiBTYW5pdGl6ZXJUYWJsZTtcbiAgLy8gVG8gZGVub3RlIGlmIHRoZSBidWlsZGVyIGhhcyBjYWxsZWQgYnVpbGQoKSBhbmQgdGhlcmVmb3JlIHNob3VsZCBtYWtlIG5vXG4gIC8vIGZ1cnRoZXIgY2hhbmdlcyB0byB0aGUgc2FuaXRpemVyIHRhYmxlLlxuICBwcm90ZWN0ZWQgY2FsbGVkQnVpbGQgPSBmYWxzZTtcbiAgcHJvdGVjdGVkIHJlc291cmNlVXJsUG9saWN5PzogUmVzb3VyY2VVcmxQb2xpY3k7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuc2FuaXRpemVyVGFibGUgPSBERUZBVUxUX1NBTklUSVpFUl9UQUJMRTtcbiAgfVxuICAvKiogQnVpbGRlciBvcHRpb24gdG8gcmVzdHJpY3QgYWxsb3dlZCBlbGVtZW50cyB0byBhIHNtYWxsZXIgc3Vic2V0LiAqL1xuICBvbmx5QWxsb3dFbGVtZW50cyhlbGVtZW50U2V0OiBSZWFkb25seVNldDxzdHJpbmc+KTogdGhpcyB7XG4gICAgY29uc3QgYWxsb3dlZEVsZW1lbnRzID0gbmV3IFNldDxzdHJpbmc+KCk7XG4gICAgY29uc3QgYWxsb3dlZEVsZW1lbnRQb2xpY2llcyA9IG5ldyBNYXA8c3RyaW5nLCBFbGVtZW50UG9saWN5PigpO1xuICAgIGZvciAobGV0IGVsZW1lbnQgb2YgZWxlbWVudFNldCkge1xuICAgICAgZWxlbWVudCA9IGVsZW1lbnQudG9VcHBlckNhc2UoKTtcbiAgICAgIGlmICghdGhpcy5zYW5pdGl6ZXJUYWJsZS5pc0FsbG93ZWRFbGVtZW50KGVsZW1lbnQpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICBgRWxlbWVudDogJHtlbGVtZW50fSwgaXMgbm90IGFsbG93ZWQgYnkgaHRtbDVfY29udHJhY3QudGV4dHBiYCxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGVsZW1lbnRQb2xpY3kgPSB0aGlzLnNhbml0aXplclRhYmxlLmVsZW1lbnRQb2xpY2llcy5nZXQoZWxlbWVudCk7XG4gICAgICBpZiAoZWxlbWVudFBvbGljeSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGFsbG93ZWRFbGVtZW50UG9saWNpZXMuc2V0KGVsZW1lbnQsIGVsZW1lbnRQb2xpY3kpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWxsb3dlZEVsZW1lbnRzLmFkZChlbGVtZW50KTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5zYW5pdGl6ZXJUYWJsZSA9IG5ldyBTYW5pdGl6ZXJUYWJsZShcbiAgICAgIGFsbG93ZWRFbGVtZW50cyxcbiAgICAgIGFsbG93ZWRFbGVtZW50UG9saWNpZXMsXG4gICAgICB0aGlzLnNhbml0aXplclRhYmxlLmFsbG93ZWRHbG9iYWxBdHRyaWJ1dGVzLFxuICAgICAgdGhpcy5zYW5pdGl6ZXJUYWJsZS5nbG9iYWxBdHRyaWJ1dGVQb2xpY2llcyxcbiAgICApO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBCdWlsZGVyIG9wdGlvbiB0byBhbGxvdyBhIHNldCBvZiBjdXN0b20gZWxlbWVudHMuIE11c3QgYmUgY2FsbGVkIGVpdGhlclxuICAgKiB3aXRob3V0IG9yIGFmdGVyIGBvbmx5QWxsb3dFbGVtZW50c2AgLSB3aWxsIGJlIG92ZXJ3cml0dGVuIG90aGVyd2lzZS5cbiAgICogQ3VzdG9tIGVsZW1lbnRzIG11c3QgY29udGFpbiBhIGRhc2guXG4gICAqL1xuICBhbGxvd0N1c3RvbUVsZW1lbnQoXG4gICAgZWxlbWVudDogc3RyaW5nLFxuICAgIGFsbG93ZWRBdHRyaWJ1dGVzPzogUmVhZG9ubHlTZXQ8c3RyaW5nPixcbiAgKTogdGhpcyB7XG4gICAgY29uc3QgYWxsb3dlZEVsZW1lbnRzID0gbmV3IFNldDxzdHJpbmc+KFxuICAgICAgdGhpcy5zYW5pdGl6ZXJUYWJsZS5hbGxvd2VkRWxlbWVudHMsXG4gICAgKTtcbiAgICBjb25zdCBhbGxvd2VkRWxlbWVudFBvbGljaWVzID0gbmV3IE1hcDxzdHJpbmcsIEVsZW1lbnRQb2xpY3k+KFxuICAgICAgdGhpcy5zYW5pdGl6ZXJUYWJsZS5lbGVtZW50UG9saWNpZXMsXG4gICAgKTtcbiAgICBlbGVtZW50ID0gZWxlbWVudC50b1VwcGVyQ2FzZSgpO1xuICAgIGlmICghaXNDdXN0b21FbGVtZW50KGVsZW1lbnQpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEVsZW1lbnQ6ICR7ZWxlbWVudH0gaXMgbm90IGEgY3VzdG9tIGVsZW1lbnRgKTtcbiAgICB9XG4gICAgaWYgKGFsbG93ZWRBdHRyaWJ1dGVzKSB7XG4gICAgICBjb25zdCBlbGVtZW50UG9saWN5ID0gbmV3IE1hcDxzdHJpbmcsIEF0dHJpYnV0ZVBvbGljeT4oKTtcbiAgICAgIGZvciAoY29uc3QgYXR0cmlidXRlIG9mIGFsbG93ZWRBdHRyaWJ1dGVzKSB7XG4gICAgICAgIGVsZW1lbnRQb2xpY3kuc2V0KGF0dHJpYnV0ZS50b0xvd2VyQ2FzZSgpLCB7XG4gICAgICAgICAgcG9saWN5QWN0aW9uOiBBdHRyaWJ1dGVQb2xpY3lBY3Rpb24uS0VFUCxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBhbGxvd2VkRWxlbWVudFBvbGljaWVzLnNldChlbGVtZW50LCBlbGVtZW50UG9saWN5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgYWxsb3dlZEVsZW1lbnRzLmFkZChlbGVtZW50KTtcbiAgICB9XG4gICAgdGhpcy5zYW5pdGl6ZXJUYWJsZSA9IG5ldyBTYW5pdGl6ZXJUYWJsZShcbiAgICAgIGFsbG93ZWRFbGVtZW50cyxcbiAgICAgIGFsbG93ZWRFbGVtZW50UG9saWNpZXMsXG4gICAgICB0aGlzLnNhbml0aXplclRhYmxlLmFsbG93ZWRHbG9iYWxBdHRyaWJ1dGVzLFxuICAgICAgdGhpcy5zYW5pdGl6ZXJUYWJsZS5nbG9iYWxBdHRyaWJ1dGVQb2xpY2llcyxcbiAgICApO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBCdWlsZGVyIG9wdGlvbiB0byByZXN0cmljdCBhbGxvd2VkIGF0dHJpYnV0ZXMgdG8gYSBzbWFsbGVyIHN1YnNldC5cbiAgICpcbiAgICogSWYgdGhlIGF0dHJpYnV0ZSBpc24ndCBjdXJyZW50bHkgYWxsb3dlZCB0aGVuIGl0IHdvbid0IGJlIGFkZGVkLlxuICAgKi9cbiAgb25seUFsbG93QXR0cmlidXRlcyhhdHRyaWJ1dGVTZXQ6IFJlYWRvbmx5U2V0PHN0cmluZz4pOiB0aGlzIHtcbiAgICBjb25zdCBhbGxvd2VkR2xvYmFsQXR0cmlidXRlcyA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuICAgIGNvbnN0IGdsb2JhbEF0dHJpYnV0ZVBvbGljaWVzID0gbmV3IE1hcDxzdHJpbmcsIEF0dHJpYnV0ZVBvbGljeT4oKTtcbiAgICBjb25zdCBlbGVtZW50UG9saWNpZXMgPSBuZXcgTWFwPHN0cmluZywgRWxlbWVudFBvbGljeT4oKTtcbiAgICBmb3IgKGNvbnN0IGF0dHJpYnV0ZSBvZiBhdHRyaWJ1dGVTZXQpIHtcbiAgICAgIGlmICh0aGlzLnNhbml0aXplclRhYmxlLmFsbG93ZWRHbG9iYWxBdHRyaWJ1dGVzLmhhcyhhdHRyaWJ1dGUpKSB7XG4gICAgICAgIGFsbG93ZWRHbG9iYWxBdHRyaWJ1dGVzLmFkZChhdHRyaWJ1dGUpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuc2FuaXRpemVyVGFibGUuZ2xvYmFsQXR0cmlidXRlUG9saWNpZXMuaGFzKGF0dHJpYnV0ZSkpIHtcbiAgICAgICAgZ2xvYmFsQXR0cmlidXRlUG9saWNpZXMuc2V0KFxuICAgICAgICAgIGF0dHJpYnV0ZSxcbiAgICAgICAgICB0aGlzLnNhbml0aXplclRhYmxlLmdsb2JhbEF0dHJpYnV0ZVBvbGljaWVzLmdldChhdHRyaWJ1dGUpISxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChjb25zdCBbXG4gICAgICBlbGVtZW50TmFtZSxcbiAgICAgIG9yaWdpbmFsRWxlbWVudFBvbGljeSxcbiAgICBdIG9mIHRoaXMuc2FuaXRpemVyVGFibGUuZWxlbWVudFBvbGljaWVzLmVudHJpZXMoKSkge1xuICAgICAgY29uc3QgbmV3RWxlbWVudFBvbGljeSA9IG5ldyBNYXA8c3RyaW5nLCBBdHRyaWJ1dGVQb2xpY3k+KCk7XG4gICAgICBmb3IgKGNvbnN0IFtcbiAgICAgICAgYXR0cmlidXRlLFxuICAgICAgICBhdHRyaWJ1dGVQb2xpY3ksXG4gICAgICBdIG9mIG9yaWdpbmFsRWxlbWVudFBvbGljeS5lbnRyaWVzKCkpIHtcbiAgICAgICAgaWYgKGF0dHJpYnV0ZVNldC5oYXMoYXR0cmlidXRlKSkge1xuICAgICAgICAgIG5ld0VsZW1lbnRQb2xpY3kuc2V0KGF0dHJpYnV0ZSwgYXR0cmlidXRlUG9saWN5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxlbWVudFBvbGljaWVzLnNldChlbGVtZW50TmFtZSwgbmV3RWxlbWVudFBvbGljeSk7XG4gICAgfVxuICAgIHRoaXMuc2FuaXRpemVyVGFibGUgPSBuZXcgU2FuaXRpemVyVGFibGUoXG4gICAgICB0aGlzLnNhbml0aXplclRhYmxlLmFsbG93ZWRFbGVtZW50cyxcbiAgICAgIGVsZW1lbnRQb2xpY2llcyxcbiAgICAgIGFsbG93ZWRHbG9iYWxBdHRyaWJ1dGVzLFxuICAgICAgZ2xvYmFsQXR0cmlidXRlUG9saWNpZXMsXG4gICAgKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogQWxsb3dzIHRoZSBzZXQgb2YgZGF0YSBhdHRyaWJ1dGVzIHBhc3NlZC5cbiAgICpcbiAgICogVGhlc2UgdmFsdWVzIG11c3QgYmUgcHJlZml4ZWQgd2l0aCBcImRhdGEtXCJcbiAgICpcbiAgICogSWYgY2FsbGVkIHdpdGggb25seUFsbG93RWxlbWVudHMgb3Igb25seUFsbG93QXR0cmlidXRlcywgdGhvc2UgbWV0aG9kcyBtdXN0XG4gICAqIGJlIGNhbGxlZCBmaXJzdC5cbiAgICovXG4gIGFsbG93RGF0YUF0dHJpYnV0ZXMoYXR0cmlidXRlczogc3RyaW5nW10pOiB0aGlzIHtcbiAgICBjb25zdCBhbGxvd2VkR2xvYmFsQXR0cmlidXRlcyA9IG5ldyBTZXQ8c3RyaW5nPihcbiAgICAgIHRoaXMuc2FuaXRpemVyVGFibGUuYWxsb3dlZEdsb2JhbEF0dHJpYnV0ZXMsXG4gICAgKTtcbiAgICBmb3IgKGNvbnN0IGF0dHJpYnV0ZSBvZiBhdHRyaWJ1dGVzKSB7XG4gICAgICBpZiAoYXR0cmlidXRlLmluZGV4T2YoJ2RhdGEtJykgIT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIGBkYXRhIGF0dHJpYnV0ZTogJHthdHRyaWJ1dGV9IGRvZXMgbm90IGJlZ2luIHdpdGggdGhlIHByZWZpeCBcImRhdGEtXCJgLFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgYWxsb3dlZEdsb2JhbEF0dHJpYnV0ZXMuYWRkKGF0dHJpYnV0ZSk7XG4gICAgfVxuICAgIHRoaXMuc2FuaXRpemVyVGFibGUgPSBuZXcgU2FuaXRpemVyVGFibGUoXG4gICAgICB0aGlzLnNhbml0aXplclRhYmxlLmFsbG93ZWRFbGVtZW50cyxcbiAgICAgIHRoaXMuc2FuaXRpemVyVGFibGUuZWxlbWVudFBvbGljaWVzLFxuICAgICAgYWxsb3dlZEdsb2JhbEF0dHJpYnV0ZXMsXG4gICAgICB0aGlzLnNhbml0aXplclRhYmxlLmdsb2JhbEF0dHJpYnV0ZVBvbGljaWVzLFxuICAgICk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIFByZXNlcnZlcyBzdHlsZSBhdHRyaWJ1dGVzLiBOb3RlIHRoYXQgdGhlIHNhbml0aXplciB3b24ndCBwYXJzZSBhbmRcbiAgICogc2FuaXRpemUgdGhlIHZhbHVlcyBidXQga2VlcCB0aGVtIGFzIHRoZXkgYXJlLiBJbiBwYXJ0aWN1bGFyIHRoaXMgbWVhbnNcbiAgICogdGhhdCB0aGUgY29kZSB3aWxsIGJlIGFibGUgdG8gY2FsbCBmdW5jdGlvbnMgdGhhdCBjb3VsZCBkbyB1bmRlc2lyYWJsZVxuICAgKiB0aGluZ3MgKGUuZy4gYHVybGAgdG8gdHJpZ2dlciBhIG5ldHdvcmsgcmVxdWVzdCksIGFzIHdlbGwgYXMgYW55IGN1c3RvbVxuICAgKiBwcm9wZXJ0aWVzIG9yIGZ1bmN0aW9ucyBkZWZpbmVkIGJ5IHRoZSBhcHBsaWNhdGlvbi5cbiAgICovXG4gIGFsbG93U3R5bGVBdHRyaWJ1dGVzKCk6IHRoaXMge1xuICAgIGNvbnN0IGdsb2JhbEF0dHJpYnV0ZVBvbGljaWVzID0gbmV3IE1hcDxzdHJpbmcsIEF0dHJpYnV0ZVBvbGljeT4oXG4gICAgICB0aGlzLnNhbml0aXplclRhYmxlLmdsb2JhbEF0dHJpYnV0ZVBvbGljaWVzLFxuICAgICk7XG4gICAgZ2xvYmFsQXR0cmlidXRlUG9saWNpZXMuc2V0KCdzdHlsZScsIHtcbiAgICAgIHBvbGljeUFjdGlvbjogQXR0cmlidXRlUG9saWN5QWN0aW9uLktFRVBfQU5EX1NBTklUSVpFX1NUWUxFLFxuICAgIH0pO1xuICAgIHRoaXMuc2FuaXRpemVyVGFibGUgPSBuZXcgU2FuaXRpemVyVGFibGUoXG4gICAgICB0aGlzLnNhbml0aXplclRhYmxlLmFsbG93ZWRFbGVtZW50cyxcbiAgICAgIHRoaXMuc2FuaXRpemVyVGFibGUuZWxlbWVudFBvbGljaWVzLFxuICAgICAgdGhpcy5zYW5pdGl6ZXJUYWJsZS5hbGxvd2VkR2xvYmFsQXR0cmlidXRlcyxcbiAgICAgIGdsb2JhbEF0dHJpYnV0ZVBvbGljaWVzLFxuICAgICk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIFByZXNlcnZlcyB0aGUgY2xhc3MgYXR0cmlidXRlIG9uIGFsbCBlbGVtZW50cy4gVGhpcyBtZWFucyBjb250ZW50cyBjYW5cbiAgICogYWRvcHQgQ1NTIHN0eWxlcyBmcm9tIG90aGVyIHBhZ2UgZWxlbWVudHMgYW5kIHBvc3NpYmx5IG1hc2sgdGhlbXNlbHZlcyBhc1xuICAgKiBsZWdpdGltYXRlIFVJIGVsZW1lbnRzLCB3aGljaCBjYW4gbGVhZCB0byBwaGlzaGluZy5cbiAgICovXG4gIGFsbG93Q2xhc3NBdHRyaWJ1dGVzKCk6IHRoaXMge1xuICAgIGNvbnN0IGFsbG93ZWRHbG9iYWxBdHRyaWJ1dGVzID0gbmV3IFNldDxzdHJpbmc+KFxuICAgICAgdGhpcy5zYW5pdGl6ZXJUYWJsZS5hbGxvd2VkR2xvYmFsQXR0cmlidXRlcyxcbiAgICApO1xuICAgIGFsbG93ZWRHbG9iYWxBdHRyaWJ1dGVzLmFkZCgnY2xhc3MnKTtcbiAgICB0aGlzLnNhbml0aXplclRhYmxlID0gbmV3IFNhbml0aXplclRhYmxlKFxuICAgICAgdGhpcy5zYW5pdGl6ZXJUYWJsZS5hbGxvd2VkRWxlbWVudHMsXG4gICAgICB0aGlzLnNhbml0aXplclRhYmxlLmVsZW1lbnRQb2xpY2llcyxcbiAgICAgIGFsbG93ZWRHbG9iYWxBdHRyaWJ1dGVzLFxuICAgICAgdGhpcy5zYW5pdGl6ZXJUYWJsZS5nbG9iYWxBdHRyaWJ1dGVQb2xpY2llcyxcbiAgICApO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBQcmVzZXJ2ZXMgaWQgYXR0cmlidXRlcy4gVGhpcyBjYXJyaWVzIG1vZGVyYXRlIHJpc2sgYXMgaXQgYWxsb3dzIGFuXG4gICAqIGVsZW1lbnQgdG8gb3ZlcnJpZGUgb3RoZXIgZWxlbWVudHMgd2l0aCB0aGUgc2FtZSBJRC5cbiAgICovXG4gIGFsbG93SWRBdHRyaWJ1dGVzKCk6IHRoaXMge1xuICAgIGNvbnN0IGFsbG93ZWRHbG9iYWxBdHRyaWJ1dGVzID0gbmV3IFNldDxzdHJpbmc+KFxuICAgICAgdGhpcy5zYW5pdGl6ZXJUYWJsZS5hbGxvd2VkR2xvYmFsQXR0cmlidXRlcyxcbiAgICApO1xuICAgIGFsbG93ZWRHbG9iYWxBdHRyaWJ1dGVzLmFkZCgnaWQnKTtcbiAgICB0aGlzLnNhbml0aXplclRhYmxlID0gbmV3IFNhbml0aXplclRhYmxlKFxuICAgICAgdGhpcy5zYW5pdGl6ZXJUYWJsZS5hbGxvd2VkRWxlbWVudHMsXG4gICAgICB0aGlzLnNhbml0aXplclRhYmxlLmVsZW1lbnRQb2xpY2llcyxcbiAgICAgIGFsbG93ZWRHbG9iYWxBdHRyaWJ1dGVzLFxuICAgICAgdGhpcy5zYW5pdGl6ZXJUYWJsZS5nbG9iYWxBdHRyaWJ1dGVQb2xpY2llcyxcbiAgICApO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBQcmVzZXJ2ZXMgKHNvbWUpIGF0dHJpYnV0ZXMgdGhhdCByZWZlcmVuY2UgZXhpc3RpbmcgaWRzLiBUaGlzIGNhcnJpZXMgYVxuICAgKiBtb2RlcmF0ZSBzZWN1cml0eSByaXNrLCBiZWNhdXNlIHNhbml0aXplZCBjb250ZW50IGNhbiBjcmVhdGUgc2VtYW50aWNcbiAgICogYXNzb2NpYXRpb25zIHdpdGggZXhpc3RpbmcgZWxlbWVudHMgaW4gdGhlIHBhZ2UsIHJlZ2FyZGxlc3Mgb2YgdGhlIGxheW91dC5cbiAgICogVGhpcyBjb3VsZCBiZSB1c2VkIHRvIG92ZXJyaWRlIHRoZSBsYWJlbCBhc3NvY2lhdGVkIHdpdGggYSBmb3JtIGlucHV0IGJ5IGFcbiAgICogc2NyZWVuIHJlYWRlciwgYW5kIGZhY2lsaXRhdGUgcGhpc2hpbmcuXG4gICAqL1xuICBhbGxvd0lkUmVmZXJlbmNlQXR0cmlidXRlcygpOiB0aGlzIHtcbiAgICBjb25zdCBhbGxvd2VkR2xvYmFsQXR0cmlidXRlcyA9IG5ldyBTZXQ8c3RyaW5nPihcbiAgICAgIHRoaXMuc2FuaXRpemVyVGFibGUuYWxsb3dlZEdsb2JhbEF0dHJpYnV0ZXMsXG4gICAgKTtcbiAgICAvLyBUT0RPKGIvMTkwNjkzMzM5KTogR2VuZXJhdGUgdGhpcyBzdWJ0YWJsZSBmcm9tIHRoZSBjb250cmFjdC5cbiAgICBhbGxvd2VkR2xvYmFsQXR0cmlidXRlc1xuICAgICAgLmFkZCgnYXJpYS1hY3RpdmVkZXNjZW5kYW50JylcbiAgICAgIC5hZGQoJ2FyaWEtY29udHJvbHMnKVxuICAgICAgLmFkZCgnYXJpYS1sYWJlbGxlZGJ5JylcbiAgICAgIC5hZGQoJ2FyaWEtb3ducycpXG4gICAgICAuYWRkKCdmb3InKVxuICAgICAgLmFkZCgnbGlzdCcpO1xuICAgIHRoaXMuc2FuaXRpemVyVGFibGUgPSBuZXcgU2FuaXRpemVyVGFibGUoXG4gICAgICB0aGlzLnNhbml0aXplclRhYmxlLmFsbG93ZWRFbGVtZW50cyxcbiAgICAgIHRoaXMuc2FuaXRpemVyVGFibGUuZWxlbWVudFBvbGljaWVzLFxuICAgICAgYWxsb3dlZEdsb2JhbEF0dHJpYnV0ZXMsXG4gICAgICB0aGlzLnNhbml0aXplclRhYmxlLmdsb2JhbEF0dHJpYnV0ZVBvbGljaWVzLFxuICAgICk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIFNldHMgdGhlIFJlc291cmNlVXJsUG9saWN5IHRvIGJlIHVzZWQgYnkgdGhlIHNhbml0aXplci5cbiAgICpcbiAgICogVGhlIFJlc291cmNlVXJsUG9saWN5IGNhbiBiZSB1c2VkIHRvIGRlY2lkZSB3aGV0aGVyIGEgZ2l2ZW4gVVJMIGlzIGFsbG93ZWRcbiAgICogdG8gYmUgbG9hZGVkIGFzIGFuIGV4dGVybmFsIHJlc291cmNlLiBJdCBpcyBhIGZ1bmN0aW9uIHRoYXQgYW4gaW5zdGFuY2VcbiAgICogb2YgYFVSTGAgYW5kIGEgc2V0IG9mIGhpbnRzIGdpdmluZyBhIGNvbnRleHQgb24gd2h5IGFuIGltYWdlIHdhcyBsb2FkZWQuXG4gICAqXG4gICAqIFRoZSBwb2xpY3kgY2FuIHJldHVybiBgbnVsbGAgdG8gaW5kaWNhdGUgdGhhdCB0aGUgcmVzb3VyY2Ugc2hvdWxkIGJlXG4gICAqIGRyb3BwZWQsIG90aGVyd2lzZSBpdCBzaG91bGQgcmV0dXJuIGEgdmFsaWQgYFVSTGAgdGhhdCB3aWxsIGJlIHVzZWQgdG9cbiAgICogcmVwbGFjZSB0aGUgb3JpZ2luYWwgVVJMIGluIHRoZSBzYW5pdGl6ZWQgb3V0cHV0LlxuICAgKlxuICAgKiBGb3IgZXhhbXBsZSB0aGUgZm9sbG93aW5nIHBvbGljeSBkcm9wcyBhbGwgaW1hZ2VzIGxvYWRlZCBmcm9tXG4gICAqIGBodHRwczovL2ZvcmJpZGRlbi5nb29nbGUuY29tYCBidXQgYWxsb3dzIGFsbCBvdGhlciBpbWFnZXMuXG4gICAqXG4gICAqIGBgYHR5cGVzY3JpcHRcbiAgICogY29uc3QgcmVzb3VyY2VVcmxQb2xpY3k6IFJlc291cmNlVXJsUG9saWN5ID0gKHVybCkgPT4ge1xuICAgKiAgIGlmICh1cmwub3JpZ2luID09PSAnaHR0cHM6Ly9mb3JiaWRkZW4uZ29vZ2xlLmNvbScpIHtcbiAgICogICAgIHJldHVybiBudWxsO1xuICAgKiAgIH1cbiAgICogICByZXR1cm4gdXJsO1xuICAgKiB9O1xuICAgKiBgYGBcbiAgICpcbiAgICogWW91IGNhbiBhbHNvIHVzZSB0aGUgYFJlc291cmNlVXJsUG9saWN5SGludHNgIHRvIG1ha2UgdGhlIHBvbGljeSBtb3JlXG4gICAqIGluZm9ybWVkLiBGb3IgZXhhbXBsZSB0aGUgZm9sbG93aW5nIHBvbGljeSBvbmx5IGFsbG93cyBpbWFnZXMgbG9hZGVkXG4gICAqIHZpYSBhbiA8aW1nIHNyYz4gZWxlbWVudCBidXQgZHJvcHMgYWxsIG90aGVyIGltYWdlcy5cbiAgICpcbiAgICogYGBgdHlwZXNjcmlwdFxuICAgKiBjb25zdCByZXNvdXJjZVVybFBvbGljeTogUmVzb3VyY2VVcmxQb2xpY3kgPSAodXJsLCBoaW50cykgPT4ge1xuICAgKiAgIGlmIChoaW50cy50eXBlID09PSBSZXNvdXJjZVVybFBvbGljeUhpbnRzVHlwZS5IVE1MX0FUVFJJQlVURSAmJlxuICAgKiAgICAgICBoaW50cy5hdHRyaWJ1dGVOYW1lID09PSAnc3JjJyAmJlxuICAgKiAgICAgICBoaW50cy5lbGVtZW50TmFtZSA9PT0gJ0lNRycpIHtcbiAgICogICAgIHJldHVybiB1cmw7XG4gICAqICAgfVxuICAgKiAgIHJldHVybiBudWxsO1xuICAgKiB9O1xuICAgKiBgYGBcbiAgICovXG4gIHdpdGhSZXNvdXJjZVVybFBvbGljeShyZXNvdXJjZVVybFBvbGljeTogUmVzb3VyY2VVcmxQb2xpY3kpOiB0aGlzIHtcbiAgICB0aGlzLnJlc291cmNlVXJsUG9saWN5ID0gcmVzb3VyY2VVcmxQb2xpY3k7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgYWJzdHJhY3QgYnVpbGQoKTogVDtcbn1cbi8qKlxuICogVGhpcyBjbGFzcyBhbGxvd3MgbW9kaWZpY2F0aW9ucyB0byB0aGUgZGVmYXVsdCBzYW5pdGl6ZXIgY29uZmlndXJhdGlvbi5cbiAqIEl0IGJ1aWxkcyBhbiBpbnN0YW5jZSBvZiBgSHRtbFNhbml0aXplcmAuXG4gKi9cbmV4cG9ydCBjbGFzcyBIdG1sU2FuaXRpemVyQnVpbGRlciBleHRlbmRzIEJhc2VTYW5pdGl6ZXJCdWlsZGVyPEh0bWxTYW5pdGl6ZXI+IHtcbiAgYnVpbGQoKTogSHRtbFNhbml0aXplciB7XG4gICAgaWYgKHRoaXMuY2FsbGVkQnVpbGQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcigndGhpcyBzYW5pdGl6ZXIgaGFzIGFscmVhZHkgY2FsbGVkIGJ1aWxkJyk7XG4gICAgfVxuICAgIHRoaXMuY2FsbGVkQnVpbGQgPSB0cnVlO1xuICAgIHJldHVybiBuZXcgSHRtbFNhbml0aXplckltcGwoXG4gICAgICB0aGlzLnNhbml0aXplclRhYmxlLFxuICAgICAgc2VjcmV0VG9rZW4sXG4gICAgICAvKiBzdHlsZUVsZW1lbnRTYW5pdGl6ZXI9ICovIHVuZGVmaW5lZCxcbiAgICAgIC8qIHN0eWxlQXR0cmlidXRlU2FuaXRpemVyPSAqLyB1bmRlZmluZWQsXG4gICAgICB0aGlzLnJlc291cmNlVXJsUG9saWN5LFxuICAgICk7XG4gIH1cbn1cbi8qKlxuICogVGhpcyBjbGFzcyBhbGxvd3MgbW9kaWZpY2F0aW9ucyB0byB0aGUgZGVmYXVsdCBzYW5pdGl6ZXIgY29uZmlndXJhdGlvbi5cbiAqIEl0IGJ1aWxkcyBhbiBpbnN0YW5jZSBvZiBgQ3NzU2FuaXRpemVyYC5cbiAqL1xuZXhwb3J0IGNsYXNzIENzc1Nhbml0aXplckJ1aWxkZXIgZXh0ZW5kcyBCYXNlU2FuaXRpemVyQnVpbGRlcjxDc3NTYW5pdGl6ZXI+IHtcbiAgcHJpdmF0ZSBhbmltYXRpb25zQWxsb3dlZCA9IGZhbHNlO1xuICBwcml2YXRlIHRyYW5zaXRpb25zQWxsb3dlZCA9IGZhbHNlO1xuICBhbGxvd0FuaW1hdGlvbnMoKTogdGhpcyB7XG4gICAgdGhpcy5hbmltYXRpb25zQWxsb3dlZCA9IHRydWU7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgYWxsb3dUcmFuc2l0aW9ucygpOiB0aGlzIHtcbiAgICB0aGlzLnRyYW5zaXRpb25zQWxsb3dlZCA9IHRydWU7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIEJ1aWxkcyBhIENTUyBzYW5pdGl6ZXIuXG4gICAqXG4gICAqIE5vdGUgdGhhdCB0aGlzIGZ1bmN0aW9uIGFsd2F5cyBhZGRzIGBzdHlsZWAsIGBpZGAsIGBuYW1lYCBhbmQgYGNsYXNzYFxuICAgKiBhdHRyaWJ1dGVzIHRvIHRoZSBhbGxvd2xpc3QgYXMgd2VsbCBhcyB0aGUgYFNUWUxFYCBlbGVtZW50LlxuICAgKi9cbiAgYnVpbGQoKTogQ3NzU2FuaXRpemVyIHtcbiAgICB0aGlzLmV4dGVuZFNhbml0aXplclRhYmxlRm9yQ3NzKCk7XG4gICAgY29uc3QgcHJvcGVydHlEaXNjYXJkZXJzOiBQcm9wZXJ0eURpc2NhcmRlcltdID0gW107XG4gICAgaWYgKCF0aGlzLmFuaW1hdGlvbnNBbGxvd2VkKSB7XG4gICAgICBwcm9wZXJ0eURpc2NhcmRlcnMucHVzaCgocHJvcGVydHkpID0+XG4gICAgICAgIC9eKGFuaW1hdGlvbnxvZmZzZXQpKC18JCkvLnRlc3QocHJvcGVydHkpLFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKCF0aGlzLnRyYW5zaXRpb25zQWxsb3dlZCkge1xuICAgICAgcHJvcGVydHlEaXNjYXJkZXJzLnB1c2goKHByb3BlcnR5KSA9PiAvXnRyYW5zaXRpb24oLXwkKS8udGVzdChwcm9wZXJ0eSkpO1xuICAgIH1cbiAgICBjb25zdCBzdHlsZUVsZW1lbnRTYW5pdGl6ZXIgPSAoY3NzVGV4dDogc3RyaW5nKSA9PlxuICAgICAgc2FuaXRpemVTdHlsZUVsZW1lbnQoXG4gICAgICAgIGNzc1RleHQsXG4gICAgICAgIENTU19QUk9QRVJUWV9BTExPV0xJU1QsXG4gICAgICAgIENTU19GVU5DVElPTl9BTExPV0xJU1QsXG4gICAgICAgIHRoaXMucmVzb3VyY2VVcmxQb2xpY3ksXG4gICAgICAgIHRoaXMuYW5pbWF0aW9uc0FsbG93ZWQsXG4gICAgICAgIHByb3BlcnR5RGlzY2FyZGVycyxcbiAgICAgICk7XG4gICAgY29uc3Qgc3R5bGVBdHRyaWJ1dGVTYW5pdGl6ZXIgPSAoY3NzVGV4dDogc3RyaW5nKSA9PlxuICAgICAgc2FuaXRpemVTdHlsZUF0dHJpYnV0ZShcbiAgICAgICAgY3NzVGV4dCxcbiAgICAgICAgQ1NTX1BST1BFUlRZX0FMTE9XTElTVCxcbiAgICAgICAgQ1NTX0ZVTkNUSU9OX0FMTE9XTElTVCxcbiAgICAgICAgdGhpcy5yZXNvdXJjZVVybFBvbGljeSxcbiAgICAgICAgcHJvcGVydHlEaXNjYXJkZXJzLFxuICAgICAgKTtcbiAgICByZXR1cm4gbmV3IEh0bWxTYW5pdGl6ZXJJbXBsKFxuICAgICAgdGhpcy5zYW5pdGl6ZXJUYWJsZSxcbiAgICAgIHNlY3JldFRva2VuLFxuICAgICAgc3R5bGVFbGVtZW50U2FuaXRpemVyLFxuICAgICAgc3R5bGVBdHRyaWJ1dGVTYW5pdGl6ZXIsXG4gICAgICB0aGlzLnJlc291cmNlVXJsUG9saWN5LFxuICAgICk7XG4gIH1cbiAgcHJpdmF0ZSBleHRlbmRTYW5pdGl6ZXJUYWJsZUZvckNzcygpIHtcbiAgICBjb25zdCBhbGxvd2VkRWxlbWVudHMgPSBuZXcgU2V0KHRoaXMuc2FuaXRpemVyVGFibGUuYWxsb3dlZEVsZW1lbnRzKTtcbiAgICBjb25zdCBhbGxvd2VkR2xvYmFsQXR0cmlidXRlcyA9IG5ldyBTZXQoXG4gICAgICB0aGlzLnNhbml0aXplclRhYmxlLmFsbG93ZWRHbG9iYWxBdHRyaWJ1dGVzLFxuICAgICk7XG4gICAgY29uc3QgZ2xvYmFsQXR0cmlidXRlUG9saWNpZXMgPSBuZXcgTWFwKFxuICAgICAgdGhpcy5zYW5pdGl6ZXJUYWJsZS5nbG9iYWxBdHRyaWJ1dGVQb2xpY2llcyxcbiAgICApO1xuICAgIGFsbG93ZWRFbGVtZW50cy5hZGQoJ1NUWUxFJyk7XG4gICAgZ2xvYmFsQXR0cmlidXRlUG9saWNpZXMuc2V0KCdzdHlsZScsIHtcbiAgICAgIHBvbGljeUFjdGlvbjogQXR0cmlidXRlUG9saWN5QWN0aW9uLktFRVBfQU5EX1NBTklUSVpFX1NUWUxFLFxuICAgIH0pO1xuICAgIGFsbG93ZWRHbG9iYWxBdHRyaWJ1dGVzLmFkZCgnaWQnKTtcbiAgICBhbGxvd2VkR2xvYmFsQXR0cmlidXRlcy5hZGQoJ25hbWUnKTtcbiAgICBhbGxvd2VkR2xvYmFsQXR0cmlidXRlcy5hZGQoJ2NsYXNzJyk7XG4gICAgdGhpcy5zYW5pdGl6ZXJUYWJsZSA9IG5ldyBTYW5pdGl6ZXJUYWJsZShcbiAgICAgIGFsbG93ZWRFbGVtZW50cyxcbiAgICAgIHRoaXMuc2FuaXRpemVyVGFibGUuZWxlbWVudFBvbGljaWVzLFxuICAgICAgYWxsb3dlZEdsb2JhbEF0dHJpYnV0ZXMsXG4gICAgICBnbG9iYWxBdHRyaWJ1dGVQb2xpY2llcyxcbiAgICApO1xuICB9XG59XG4iXX0=
;return exports;});

//third_party/javascript/safevalues/builders/html_sanitizer/default_css_sanitizer.closure.js
goog.loadModule(function(exports) {'use strict';/**
 * @license
 * Copyright Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
/**
 * @fileoverview This file exports a default instance of the CSS sanitizer,
 * similarly to how the default instance of the HTML sanitizer is exported.
 *
 * The reason why it's in a separate file is to ensure that html_sanitizer.ts
 * doesn't depend on html_sanitizer_builder.ts, which would cause
 * a circular dependency.
 * Generated from: third_party/javascript/safevalues/builders/html_sanitizer/default_css_sanitizer.ts
 * @suppress {checkTypes} added by tsickle
 * @suppress {extraRequire} added by tsickle
 * @suppress {missingRequire} added by tsickle
 * @suppress {uselessCode} added by tsickle
 * @suppress {suspiciousCode} added by tsickle
 * @suppress {missingReturn} added by tsickle
 * @suppress {unusedPrivateMembers} added by tsickle
 * @suppress {missingOverride} added by tsickle
 * @suppress {const} added by tsickle
 */
goog.module('google3.third_party.javascript.safevalues.builders.html_sanitizer.default_css_sanitizer');
var module = module || { id: 'third_party/javascript/safevalues/builders/html_sanitizer/default_css_sanitizer.closure.js' };
goog.require('google3.third_party.javascript.tslib.tslib');
const tsickle_pure_1 = goog.requireType("google3.third_party.javascript.safevalues.internals.pure");
const tsickle_html_sanitizer_builder_2 = goog.requireType("google3.third_party.javascript.safevalues.builders.html_sanitizer.html_sanitizer_builder");
const tsickle_html_sanitizer_3 = goog.requireType("google3.third_party.javascript.safevalues.builders.html_sanitizer.html_sanitizer");
const pure_1 = goog.require('google3.third_party.javascript.safevalues.internals.pure');
const html_sanitizer_builder_1 = goog.require('google3.third_party.javascript.safevalues.builders.html_sanitizer.html_sanitizer_builder');
/** @type {!tsickle_html_sanitizer_3.CssSanitizer} */
const defaultCssSanitizer = (0, pure_1.pure)((/**
 * @return {!tsickle_html_sanitizer_3.CssSanitizer}
 */
() => new html_sanitizer_builder_1.CssSanitizerBuilder().build()));
/**
 * Sanitizes untrusted CSS using the default sanitizer configuration.
 * @param {string} css
 * @return {!DocumentFragment}
 */
function sanitizeHtmlWithCss(css) {
    return defaultCssSanitizer.sanitizeToFragment(css);
}
exports.sanitizeHtmlWithCss = sanitizeHtmlWithCss;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVmYXVsdF9jc3Nfc2FuaXRpemVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vdGhpcmRfcGFydHkvamF2YXNjcmlwdC9zYWZldmFsdWVzL2J1aWxkZXJzL2h0bWxfc2FuaXRpemVyL2RlZmF1bHRfY3NzX3Nhbml0aXplci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQWNBLHdGQUEwQztBQUMxQywwSUFBNkQ7O01BQ3ZELG1CQUFtQixHQUFHLElBQUEsV0FBSTs7O0FBQUMsR0FBRyxFQUFFLENBQUMsSUFBSSw0Q0FBbUIsRUFBRSxDQUFDLEtBQUssRUFBRSxFQUFDOzs7Ozs7QUFFekUsU0FBZ0IsbUJBQW1CLENBQUMsR0FBVztJQUM3QyxPQUFPLG1CQUFtQixDQUFDLGtCQUFrQixDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ3JELENBQUM7QUFGRCxrREFFQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgVGhpcyBmaWxlIGV4cG9ydHMgYSBkZWZhdWx0IGluc3RhbmNlIG9mIHRoZSBDU1Mgc2FuaXRpemVyLFxuICogc2ltaWxhcmx5IHRvIGhvdyB0aGUgZGVmYXVsdCBpbnN0YW5jZSBvZiB0aGUgSFRNTCBzYW5pdGl6ZXIgaXMgZXhwb3J0ZWQuXG4gKlxuICogVGhlIHJlYXNvbiB3aHkgaXQncyBpbiBhIHNlcGFyYXRlIGZpbGUgaXMgdG8gZW5zdXJlIHRoYXQgaHRtbF9zYW5pdGl6ZXIudHNcbiAqIGRvZXNuJ3QgZGVwZW5kIG9uIGh0bWxfc2FuaXRpemVyX2J1aWxkZXIudHMsIHdoaWNoIHdvdWxkIGNhdXNlXG4gKiBhIGNpcmN1bGFyIGRlcGVuZGVuY3kuXG4gKi9cblxuaW1wb3J0IHtwdXJlfSBmcm9tICcuLi8uLi9pbnRlcm5hbHMvcHVyZSc7XG5pbXBvcnQge0Nzc1Nhbml0aXplckJ1aWxkZXJ9IGZyb20gJy4vaHRtbF9zYW5pdGl6ZXJfYnVpbGRlcic7XG5jb25zdCBkZWZhdWx0Q3NzU2FuaXRpemVyID0gcHVyZSgoKSA9PiBuZXcgQ3NzU2FuaXRpemVyQnVpbGRlcigpLmJ1aWxkKCkpO1xuLyoqIFNhbml0aXplcyB1bnRydXN0ZWQgQ1NTIHVzaW5nIHRoZSBkZWZhdWx0IHNhbml0aXplciBjb25maWd1cmF0aW9uLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNhbml0aXplSHRtbFdpdGhDc3MoY3NzOiBzdHJpbmcpOiBEb2N1bWVudEZyYWdtZW50IHtcbiAgcmV0dXJuIGRlZmF1bHRDc3NTYW5pdGl6ZXIuc2FuaXRpemVUb0ZyYWdtZW50KGNzcyk7XG59XG4iXX0=
;return exports;});

//third_party/javascript/safevalues/builders/resource_url_builders.closure.js
goog.loadModule(function(exports) {'use strict';/**
 * @license
 * Copyright Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
/**
 * @fileoverview added by tsickle
 * Generated from: third_party/javascript/safevalues/builders/resource_url_builders.ts
 * @suppress {checkTypes} added by tsickle
 * @suppress {extraRequire} added by tsickle
 * @suppress {missingRequire} added by tsickle
 * @suppress {uselessCode} added by tsickle
 * @suppress {suspiciousCode} added by tsickle
 * @suppress {missingReturn} added by tsickle
 * @suppress {unusedPrivateMembers} added by tsickle
 * @suppress {missingOverride} added by tsickle
 * @suppress {const} added by tsickle
 */
goog.module('google3.third_party.javascript.safevalues.builders.resource_url_builders');
var module = module || { id: 'third_party/javascript/safevalues/builders/resource_url_builders.closure.js' };
goog.require('google3.third_party.javascript.tslib.tslib');
const tsickle_dev_1 = goog.requireType("google3.third_party.javascript.safevalues.environment.dev");
const tsickle_resource_url_impl_2 = goog.requireType("google3.third_party.javascript.safevalues.internals.resource_url_impl");
const tsickle_script_impl_3 = goog.requireType("google3.third_party.javascript.safevalues.internals.script_impl");
const tsickle_string_literal_4 = goog.requireType("google3.third_party.javascript.safevalues.internals.string_literal");
const tsickle_TrustedResourceUrl_5 = goog.requireType("goog.html.TrustedResourceUrl");
const dev_1 = goog.require('google3.third_party.javascript.safevalues.environment.dev');
const resource_url_impl_1 = goog.require('google3.third_party.javascript.safevalues.internals.resource_url_impl');
const script_impl_1 = goog.require('google3.third_party.javascript.safevalues.internals.script_impl');
const string_literal_1 = goog.require('google3.third_party.javascript.safevalues.internals.string_literal');
/**
 * Type that we know how to interpolate
 * @typedef {(string|number|boolean)}
 */
var Primitive;
/**
 * Check whether the base url contains a valid origin,
 *
 * A string for an origin must contain only alphanumeric or any of the
 * following: `-.:`, and must not be an IP address. Remember that, as per the
 * documentation for TrustedResourceUrl, the origin must be trustworthy.
 *
 * @param {string} base The base url that contains an origin.
 * @return {boolean}
 */
function hasValidOrigin(base) {
    if (!(/^https:\/\//.test(base) || /^\/\//.test(base))) {
        return false;
    }
    /** @type {number} */
    const originStart = base.indexOf('//') + 2;
    /** @type {number} */
    const originEnd = base.indexOf('/', originStart);
    // If the base url only contains the prefix (e.g. //), or the slash
    // for the origin is right after the prefix (e.g. ///), the origin is
    // missing.
    if (originEnd <= originStart) {
        throw new Error(`Can't interpolate data in a url's origin, ` +
            `Please make sure to fully specify the origin, terminated with '/'.`);
    }
    /** @type {string} */
    const origin = base.substring(originStart, originEnd);
    if (!/^[0-9a-z.:-]+$/i.test(origin)) {
        throw new Error('The origin contains unsupported characters.');
    }
    if (!/^[^:]*(:[0-9]+)?$/i.test(origin)) {
        throw new Error('Invalid port number.');
    }
    if (!/(^|\.)[a-z][^.]*$/i.test(origin)) {
        throw new Error('The top-level domain must start with a letter.');
    }
    return true;
}
/**
 * Check whether the base url contains a valid about url at its beginning.
 *
 * An about url is either exactly 'about:blank' or 'about:blank#<str>' where
 * <str> can be an arbitrary string.
 *
 * @param {string} base The base url.
 * @return {boolean}
 */
function isValidAboutUrl(base) {
    if (!/^about:blank/.test(base)) {
        return false;
    }
    if (base !== 'about:blank' && !/^about:blank#/.test(base)) {
        throw new Error('The about url is invalid.');
    }
    return true;
}
/**
 * Check whether the base url contains a valid path start at its beginning.
 *
 * A valid path start is either a '/' or a '/' followed by at least one
 * character that is not '/' or '\'.
 *
 * @param {string} base The base url.
 * @return {boolean}
 */
function isValidPathStart(base) {
    if (!/^\//.test(base)) {
        return false;
    }
    if (base === '/' ||
        (base.length > 1 && base[1] !== '/' && base[1] !== '\\')) {
        return true;
    }
    throw new Error('The path start in the url is invalid.');
}
/**
 * Check whether the base url contains a valid relative path start at its
 * beginning.
 *
 * A valid relative path start is a non empty string that has no ':', '/' nor
 * '\', and that is followed by a '/'.
 *
 * @param {string} base The base url.
 * @return {boolean}
 */
function isValidRelativePathStart(base) {
    // Using the RegExp syntax as the native JS RegExp syntax is not well handled
    // by some downstream bundlers with this regex.
    return new RegExp('^[^:\\s\\\\/]+/').test(base);
}
/**
 * Splits an url into segments using '?' and '#' delimiters.
 *
 * The URL can later be put back together by concatenating the returned segments
 * like: path + params + hash. Note that the delimiters '?' and '#' will
 * already be included in 'params' and 'hash' values respectively when these are
 * not empty.
 *
 * @param {string} url The url to split.
 * @return {{path: string, params: string, hash: string}}
 */
function getUrlSegments(url) {
    /** @type {!Array<string>} */
    const segments = url.split(/\?|#/);
    /** @type {string} */
    const params = /\?/.test(url) ? '?' + segments[1] : '';
    /** @type {string} */
    const hash = /#/.test(url) ? '#' + (params ? segments[2] : segments[1]) : '';
    return { path: segments[0], params, hash };
}
/**
 * Builds TrustedResourceUrl from a template literal.
 *
 * This factory is a template literal tag function. It should be called with
 * a template literal, with or without embedded expressions. For example,
 *               trustedResourceUrl`//example.com/${bar}`;
 * or
 *               trustedResourceUrl`//example.com`;
 *
 * When this function is called with a template literal without any embedded
 * expressions, the template string may contain anything as the whole URL is
 * a compile-time string constant.
 *
 * When this function is called with a template literal that contains embedded
 * expressions, the template must start with one of the following:
 * - `https://<origin>/`
 * - `//<origin>/`
 * - `/<pathStart>`
 * - `<relativePathStart>/`
 * - `about:blank`
 * - `data:`
 *
 * `<origin>` must contain only alphanumeric or any of the following: `-.:`.
 * Remember that, as per the documentation for TrustedResourceUrl, the origin
 * must be trustworthy. An origin of "example.com" could be set with this
 * method, but would tie the security of your site to the security of
 * example.com. Similarly, formats that potentially cover redirects hosted
 * on a trusted origin are problematic, since that could lead to untrusted
 * origins.
 *
 * `<pathStart>` is either an empty string, or a non empty string that does not
 * start with '/' or '\'.
 * In other words, `/<pathStart>` is either a '/' or a
 * '/' followed by at least one character that is not '/' or '\'.
 *
 * `<relativePathStart> is a non empty string that has no ':', '/' nor '\'.
 *
 * `data:` (data URL) does not allow embedded expressions in the template
 * literal input.
 *
 * All embedded expressions are URL encoded when they are interpolated. Do not
 * embed expressions that are already URL encoded as they will be double encoded
 * by the builder.
 *
 * @param {!TemplateStringsArray} templateObj This contains the literal part of the template literal.
 * @param {...(string|number|boolean)} rest This represents the template's embedded expressions.
 * @return {!tsickle_TrustedResourceUrl_5}
 */
function trustedResourceUrl(templateObj, ...rest) {
    // Check if templateObj is actually from a template literal.
    if (dev_1.DEV_MODE) {
        (0, string_literal_1.assertIsTemplateObject)(templateObj, rest.length);
    }
    if (rest.length === 0) {
        return (0, resource_url_impl_1.createResourceUrlInternal)(templateObj[0]);
    }
    /** @type {string} */
    const base = templateObj[0].toLowerCase();
    if (dev_1.DEV_MODE) {
        if (/^data:/.test(base)) {
            throw new Error('Data URLs cannot have expressions in the template literal input.');
        }
        if (!hasValidOrigin(base) &&
            !isValidPathStart(base) &&
            !isValidRelativePathStart(base) &&
            !isValidAboutUrl(base)) {
            throw new Error('Trying to interpolate expressions in an unsupported url format.');
        }
    }
    /** @type {string} */
    let url = templateObj[0];
    for (let i = 0; i < rest.length; i++) {
        url += encodeURIComponent(rest[i]) + templateObj[i + 1];
    }
    return (0, resource_url_impl_1.createResourceUrlInternal)(url);
}
exports.trustedResourceUrl = trustedResourceUrl;
/**
 * Creates a new TrustedResourceUrl with params added to the URL's search
 * parameters.
 *
 * @param {!tsickle_TrustedResourceUrl_5} trustedUrl
 * @param {(!ReadonlyMap<string, (null|string|number|boolean|!ReadonlyArray<(null|string|number|boolean)>)>|!ReadonlyMap<string, string>)} params What to add to the URL. Parameters with value `null` or
 * `undefined` are skipped. Both keys and values will be encoded. Do not pass
 * pre-encoded values as this will result them being double encoded. If the
 * value is an array then the same parameter is added for every element in the
 * array.
 * @return {!tsickle_TrustedResourceUrl_5}
 */
function appendParams(trustedUrl, 
// LINE-EXTERNAL params: ReadonlyMap<string, Primitive|null|ReadonlyArray<Primitive|null>>):
// BEGIN-INTERNAL
// Explicit type union for compatibility with the Closure compiler since it
// doesn't support covariance.
params) {
    /** @type {{path: string, params: string, hash: string}} */
    const urlSegments = getUrlSegments((0, resource_url_impl_1.unwrapResourceUrl)(trustedUrl).toString());
    /** @type {string} */
    let urlParams = urlSegments.params;
    /** @type {string} */
    let separator = urlParams.length ? '&' : '?';
    // for-of has a big polyfill.
    // tslint:disable-next-line:ban-iterable-foreach
    params.forEach((/**
     * @param {(null|string|number|boolean|!ReadonlyArray<(null|string|number|boolean)>)} value
     * @param {string} key
     * @return {void}
     */
    (value, key) => {
        /** @type {!ReadonlyArray<(null|string|number|boolean)>} */
        const values = value instanceof Array ? value : [value];
        for (let i = 0; i < values.length; i++) {
            /** @type {(null|string|number|boolean)} */
            const v = values[i];
            if (v === null || v === undefined) {
                continue;
            }
            urlParams +=
                separator +
                    encodeURIComponent(key) +
                    '=' +
                    encodeURIComponent(String(v));
            separator = '&';
        }
    }));
    return (0, resource_url_impl_1.createResourceUrlInternal)(urlSegments.path + urlParams + urlSegments.hash);
}
exports.appendParams = appendParams;
/** @type {!RegExp} */
const BEFORE_FRAGMENT_REGEXP = /[^#]*/;
/**
 * Creates a new TrustedResourceUrl based on an existing one but with the
 * addition of a fragment (the part after `#`). If the URL already has a
 * fragment, it is replaced with the new one.
 * @param {!tsickle_TrustedResourceUrl_5} trustedUrl
 * @param {string} fragment The fragment to add to the URL, verbatim, without the leading
 * `#`. No additional escaping is applied.
 * @return {!tsickle_TrustedResourceUrl_5}
 */
function replaceFragment(trustedUrl, fragment) {
    /** @type {string} */
    const urlString = (0, resource_url_impl_1.unwrapResourceUrl)(trustedUrl).toString();
    return (0, resource_url_impl_1.createResourceUrlInternal)((/** @type {!RegExpExecArray} */ (BEFORE_FRAGMENT_REGEXP.exec(urlString)))[0] + '#' + fragment);
}
exports.replaceFragment = replaceFragment;
/**
 * Creates a new TrustedResourceUrl based on an existing one with a single
 * subpath segment added to the end of the existing path and prior to any query
 * parameters and/or fragments that already exist in the URL.
 * @param {!tsickle_TrustedResourceUrl_5} trustedUrl
 * @param {string} pathSegment The singular sub path being added to the URL. Do not pass
 *     a pre-encoded value as this will result in it being double encoded.
 * @return {!tsickle_TrustedResourceUrl_5}
 */
function appendPathSegment(trustedUrl, pathSegment) {
    /** @type {{path: string, params: string, hash: string}} */
    const urlSegments = getUrlSegments((0, resource_url_impl_1.unwrapResourceUrl)(trustedUrl).toString());
    /** @type {string} */
    const separator = urlSegments.path.slice(-1) === '/' ? '' : '/';
    /** @type {string} */
    const newPath = urlSegments.path + separator + encodeURIComponent(pathSegment);
    return (0, resource_url_impl_1.createResourceUrlInternal)(newPath + urlSegments.params + urlSegments.hash);
}
exports.appendPathSegment = appendPathSegment;
/**
 * Creates a `TrustedResourceUrl` by generating a `Blob` from a
 * `SafeScript` and then calling `URL.createObjectURL` with that `Blob`.
 *
 * Caller must call `URL.revokeObjectURL()` on the stringified url to
 * release the underlying `Blob`.
 * @param {!tsickle_script_impl_3.SafeScript} safeScript
 * @return {!tsickle_TrustedResourceUrl_5}
 */
function objectUrlFromScript(safeScript) {
    /** @type {string} */
    const scriptContent = (0, script_impl_1.unwrapScript)(safeScript).toString();
    /** @type {!Blob} */
    const blob = new Blob([scriptContent], { type: 'text/javascript' });
    return (0, resource_url_impl_1.createResourceUrlInternal)(URL.createObjectURL(blob));
}
exports.objectUrlFromScript = objectUrlFromScript;
/**
 * A function to safely retrieve the base URI from the Window object and set it
 * at the beginning of a given path-relative (starts with "/") resource url.
 *
 * @param {!tsickle_TrustedResourceUrl_5} pathRelativeUrl The resource to which the origin shall be prepended.
 * @return {!tsickle_TrustedResourceUrl_5}
 */
function toAbsoluteResourceUrl(pathRelativeUrl) {
    /** @type {string} */
    const originalUrl = (0, resource_url_impl_1.unwrapResourceUrl)(pathRelativeUrl).toString();
    /** @type {!URL} */
    const qualifiedUrl = new URL(originalUrl, window.document.baseURI);
    return (0, resource_url_impl_1.createResourceUrlInternal)(qualifiedUrl.toString());
}
exports.toAbsoluteResourceUrl = toAbsoluteResourceUrl;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVzb3VyY2VfdXJsX2J1aWxkZXJzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vdGhpcmRfcGFydHkvamF2YXNjcmlwdC9zYWZldmFsdWVzL2J1aWxkZXJzL3Jlc291cmNlX3VybF9idWlsZGVycy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU1BLHdGQUE0QztBQUM1QyxrSEFJd0M7QUFDeEMsc0dBQWtFO0FBQ2xFLDRHQUFtRTs7Ozs7QUFHbkUsY0FBMkM7Ozs7Ozs7Ozs7O0FBVzNDLFNBQVMsY0FBYyxDQUFDLElBQVk7SUFDbEMsSUFBSSxDQUFDLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsQ0FBQztRQUN0RCxPQUFPLEtBQUssQ0FBQztJQUNmLENBQUM7O1VBRUssV0FBVyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQzs7VUFDcEMsU0FBUyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLFdBQVcsQ0FBQztJQUNoRCxtRUFBbUU7SUFDbkUscUVBQXFFO0lBQ3JFLFdBQVc7SUFDWCxJQUFJLFNBQVMsSUFBSSxXQUFXLEVBQUUsQ0FBQztRQUM3QixNQUFNLElBQUksS0FBSyxDQUNiLDRDQUE0QztZQUMxQyxvRUFBb0UsQ0FDdkUsQ0FBQztJQUNKLENBQUM7O1VBRUssTUFBTSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsV0FBVyxFQUFFLFNBQVMsQ0FBQztJQUNyRCxJQUFJLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUM7UUFDcEMsTUFBTSxJQUFJLEtBQUssQ0FBQyw2Q0FBNkMsQ0FBQyxDQUFDO0lBQ2pFLENBQUM7SUFDRCxJQUFJLENBQUMsb0JBQW9CLENBQUMsSUFB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WUFBWSxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUM7QUFDNUQsQ0FBQztBQUpELHNEQUlDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuaW1wb3J0IHtERVZfTU9ERX0gZnJvbSAnLi4vZW52aXJvbm1lbnQvZGV2JztcbmltcG9ydCB7XG4gIGNyZWF0ZVJlc291cmNlVXJsSW50ZXJuYWwsXG4gIFRydXN0ZWRSZXNvdXJjZVVybCxcbiAgdW53cmFwUmVzb3VyY2VVcmwsXG59IGZyb20gJy4uL2ludGVybmFscy9yZXNvdXJjZV91cmxfaW1wbCc7XG5pbXBvcnQge1NhZmVTY3JpcHQsIHVud3JhcFNjcmlwdH0gZnJvbSAnLi4vaW50ZXJuYWxzL3NjcmlwdF9pbXBsJztcbmltcG9ydCB7YXNzZXJ0SXNUZW1wbGF0ZU9iamVjdH0gZnJvbSAnLi4vaW50ZXJuYWxzL3N0cmluZ19saXRlcmFsJztcblxuLyoqIFR5cGUgdGhhdCB3ZSBrbm93IGhvdyB0byBpbnRlcnBvbGF0ZSAqL1xudHlwZSBQcmltaXRpdmUgPSBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuO1xuXG4vKipcbiAqIENoZWNrIHdoZXRoZXIgdGhlIGJhc2UgdXJsIGNvbnRhaW5zIGEgdmFsaWQgb3JpZ2luLFxuICpcbiAqIEEgc3RyaW5nIGZvciBhbiBvcmlnaW4gbXVzdCBjb250YWluIG9ubHkgYWxwaGFudW1lcmljIG9yIGFueSBvZiB0aGVcbiAqIGZvbGxvd2luZzogYC0uOmAsIGFuZCBtdXN0IG5vdCBiZSBhbiBJUCBhZGRyZXNzLiBSZW1lbWJlciB0aGF0LCBhcyBwZXIgdGhlXG4gKiBkb2N1bWVudGF0aW9uIGZvciBUcnVzdGVkUmVzb3VyY2VVcmwsIHRoZSBvcmlnaW4gbXVzdCBiZSB0cnVzdHdvcnRoeS5cbiAqXG4gKiBAcGFyYW0gYmFzZSBUaGUgYmFzZSB1cmwgdGhhdCBjb250YWlucyBhbiBvcmlnaW4uXG4gKi9cbmZ1bmN0aW9uIGhhc1ZhbGlkT3JpZ2luKGJhc2U6IHN0cmluZyk6IGJvb2xlYW4ge1xuICBpZiAoISgvXmh0dHBzOlxcL1xcLy8udGVzdChiYXNlKSB8fCAvXlxcL1xcLy8udGVzdChiYXNlKSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBjb25zdCBvcmlnaW5TdGFydCA9IGJhc2UuaW5kZXhPZignLy8nKSArIDI7XG4gIGNvbnN0IG9yaWdpbkVuZCA9IGJhc2UuaW5kZXhPZignLycsIG9yaWdpblN0YXJ0KTtcbiAgLy8gSWYgdGhlIGJhc2UgdXJsIG9ubHkgY29udGFpbnMgdGhlIHByZWZpeCAoZS5nLiAvLyksIG9yIHRoZSBzbGFzaFxuICAvLyBmb3IgdGhlIG9yaWdpbiBpcyByaWdodCBhZnRlciB0aGUgcHJlZml4IChlLmcuIC8vLyksIHRoZSBvcmlnaW4gaXNcbiAgLy8gbWlzc2luZy5cbiAgaWYgKG9yaWdpbkVuZCA8PSBvcmlnaW5TdGFydCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBDYW4ndCBpbnRlcnBvbGF0ZSBkYXRhIGluIGEgdXJsJ3Mgb3JpZ2luLCBgICtcbiAgICAgICAgYFBsZWFzZSBtYWtlIHN1cmUgdG8gZnVsbHkgc3BlY2lmeSB0aGUgb3JpZ2luLCB0ZXJtaW5hdGVkIHdpdGggJy8nLmAsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IG9yaWdpbiA9IGJhc2Uuc3Vic3RyaW5nKG9yaWdpblN0YXJ0LCBvcmlnaW5FbmQpO1xuICBpZiAoIS9eWzAtOWEtei46LV0rJC9pLnRlc3Qob3JpZ2luKSkge1xuICAgIHRocm93IG5ldyBFcnJvcignVGhlIG9yaWdpbiBjb250YWlucyB1bnN1cHBvcnRlZCBjaGFyYWN0ZXJzLicpO1xuICB9XG4gIGlmICghL15bXjpdKig6WzAtOV0rKT8kL2kudGVzdChvcmlnaW4pKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHBvcnQgbnVtYmVyLicpO1xuICB9XG4gIGlmICghLyhefFxcLilbYS16XVteLl0qJC9pLnRlc3Qob3JpZ2luKSkge1xuICAgIHRocm93IG5ldyBFcnJvcignVGhlIHRvcC1sZXZlbCBkb21haW4gbXVzdCBzdGFydCB3aXRoIGEgbGV0dGVyLicpO1xuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIENoZWNrIHdoZXRoZXIgdGhlIGJhc2UgdXJsIGNvbnRhaW5zIGEgdmFsaWQgYWJvdXQgdXJsIGF0IGl0cyBiZWdpbm5pbmcuXG4gKlxuICogQW4gYWJvdXQgdXJsIGlzIGVpdGhlciBleGFjdGx5ICdhYm91dDpibGFuaycgb3IgJ2Fib3V0OmJsYW5rIzxzdHI+JyB3aGVyZVxuICogPHN0cj4gY2FuIGJlIGFuIGFyYml0cmFyeSBzdHJpbmcuXG4gKlxuICogQHBhcmFtIGJhc2UgVGhlIGJhc2UgdXJsLlxuICovXG5mdW5jdGlvbiBpc1ZhbGlkQWJvdXRVcmwoYmFzZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gIGlmICghL15hYm91dDpibGFuay8udGVzdChiYXNlKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoYmFzZSAhPT0gJ2Fib3V0OmJsYW5rJyAmJiAhL15hYm91dDpibGFuayMvLnRlc3QoYmFzZSkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBhYm91dCB1cmwgaXMgaW52YWxpZC4nKTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBDaGVjayB3aGV0aGVyIHRoZSBiYXNlIHVybCBjb250YWlucyBhIHZhbGlkIHBhdGggc3RhcnQgYXQgaXRzIGJlZ2lubmluZy5cbiAqXG4gKiBBIHZhbGlkIHBhdGggc3RhcnQgaXMgZWl0aGVyIGEgJy8nIG9yIGEgJy8nIGZvbGxvd2VkIGJ5IGF0IGxlYXN0IG9uZVxuICogY2hhcmFjdGVyIHRoYXQgaXMgbm90ICcvJyBvciAnXFwnLlxuICpcbiAqIEBwYXJhbSBiYXNlIFRoZSBiYXNlIHVybC5cbiAqL1xuZnVuY3Rpb24gaXNWYWxpZFBhdGhTdGFydChiYXNlOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgaWYgKCEvXlxcLy8udGVzdChiYXNlKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoXG4gICAgYmFzZSA9PT0gJy8nIHx8XG4gICAgKGJhc2UubGVuZ3RoID4gMSAmJiBiYXNlWzFdICE9PSAnLycgJiYgYmFzZVsxXSAhPT0gJ1xcXFwnKVxuICApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBwYXRoIHN0YXJ0IGluIHRoZSB1cmwgaXMgaW52YWxpZC4nKTtcbn1cblxuLyoqXG4gKiBDaGVjayB3aGV0aGVyIHRoZSBiYXNlIHVybCBjb250YWlucyBhIHZhbGlkIHJlbGF0aXZlIHBhdGggc3RhcnQgYXQgaXRzXG4gKiBiZWdpbm5pbmcuXG4gKlxuICogQSB2YWxpZCByZWxhdGl2ZSBwYXRoIHN0YXJ0IGlzIGEgbm9uIGVtcHR5IHN0cmluZyB0aGF0IGhhcyBubyAnOicsICcvJyBub3JcbiAqICdcXCcsIGFuZCB0aGF0IGlzIGZvbGxvd2VkIGJ5IGEgJy8nLlxuICpcbiAqIEBwYXJhbSBiYXNlIFRoZSBiYXNlIHVybC5cbiAqL1xuZnVuY3Rpb24gaXNWYWxpZFJlbGF0aXZlUGF0aFN0YXJ0KGJhc2U6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAvLyBVc2luZyB0aGUgUmVnRXhwIHN5bnRheCBhcyB0aGUgbmF0aXZlIEpTIFJlZ0V4cCBzeW50YXggaXMgbm90IHdlbGwgaGFuZGxlZFxuICAvLyBieSBzb21lIGRvd25zdHJlYW0gYnVuZGxlcnMgd2l0aCB0aGlzIHJlZ2V4LlxuICByZXR1cm4gbmV3IFJlZ0V4cCgnXlteOlxcXFxzXFxcXFxcXFwvXSsvJykudGVzdChiYXNlKTtcbn1cblxuLyoqXG4gKiBTcGxpdHMgYW4gdXJsIGludG8gc2VnbWVudHMgdXNpbmcgJz8nIGFuZCAnIycgZGVsaW1pdGVycy5cbiAqXG4gKiBUaGUgVVJMIGNhbiBsYXRlciBiZSBwdXQgYmFjayB0b2dldGhlciBieSBjb25jYXRlbmF0aW5nIHRoZSByZXR1cm5lZCBzZWdtZW50c1xuICogbGlrZTogcGF0aCArIHBhcmFtcyArIGhhc2guIE5vdGUgdGhhdCB0aGUgZGVsaW1pdGVycyAnPycgYW5kICcjJyB3aWxsXG4gKiBhbHJlYWR5IGJlIGluY2x1ZGVkIGluICdwYXJhbXMnIGFuZCAnaGFzaCcgdmFsdWVzIHJlc3BlY3RpdmVseSB3aGVuIHRoZXNlIGFyZVxuICogbm90IGVtcHR5LlxuICpcbiAqIEBwYXJhbSB1cmwgVGhlIHVybCB0byBzcGxpdC5cbiAqL1xuZnVuY3Rpb24gZ2V0VXJsU2VnbWVudHModXJsOiBzdHJpbmcpOiB7XG4gIHBhdGg6IHN0cmluZztcbiAgcGFyYW1zOiBzdHJpbmc7XG4gIGhhc2g6IHN0cmluZztcbn0ge1xuICBjb25zdCBzZWdtZW50cyA9IHVybC5zcGxpdCgvXFw/fCMvKTtcbiAgY29uc3QgcGFyYW1zID0gL1xcPy8udGVzdCh1cmwpID8gJz8nICsgc2VnbWVudHNbMV0gOiAnJztcbiAgY29uc3QgaGFzaCA9IC8jLy50ZXN0KHVybCkgPyAnIycgKyAocGFyYW1zID8gc2VnbWVudHNbMl0gOiBzZWdtZW50c1sxXSkgOiAnJztcbiAgcmV0dXJuIHtwYXRoOiBzZWdtZW50c1swXSwgcGFyYW1zLCBoYXNofTtcbn1cblxuLyoqXG4gKiBCdWlsZHMgVHJ1c3RlZFJlc291cmNlVXJsIGZyb20gYSB0ZW1wbGF0ZSBsaXRlcmFsLlxuICpcbiAqIFRoaXMgZmFjdG9yeSBpcyBhIHRlbXBsYXRlIGxpdGVyYWwgdGFnIGZ1bmN0aW9uLiBJdCBzaG91bGQgYmUgY2FsbGVkIHdpdGhcbiAqIGEgdGVtcGxhdGUgbGl0ZXJhbCwgd2l0aCBvciB3aXRob3V0IGVtYmVkZGVkIGV4cHJlc3Npb25zLiBGb3IgZXhhbXBsZSxcbiAqICAgICAgICAgICAgICAgdHJ1c3RlZFJlc291cmNlVXJsYC8vZXhhbXBsZS5jb20vJHtiYXJ9YDtcbiAqIG9yXG4gKiAgICAgICAgICAgICAgIHRydXN0ZWRSZXNvdXJjZVVybGAvL2V4YW1wbGUuY29tYDtcbiAqXG4gKiBXaGVuIHRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIHdpdGggYSB0ZW1wbGF0ZSBsaXRlcmFsIHdpdGhvdXQgYW55IGVtYmVkZGVkXG4gKiBleHByZXNzaW9ucywgdGhlIHRlbXBsYXRlIHN0cmluZyBtYXkgY29udGFpbiBhbnl0aGluZyBhcyB0aGUgd2hvbGUgVVJMIGlzXG4gKiBhIGNvbXBpbGUtdGltZSBzdHJpbmcgY29uc3RhbnQuXG4gKlxuICogV2hlbiB0aGlzIGZ1bmN0aW9uIGlzIGNhbGxlZCB3aXRoIGEgdGVtcGxhdGUgbGl0ZXJhbCB0aGF0IGNvbnRhaW5zIGVtYmVkZGVkXG4gKiBleHByZXNzaW9ucywgdGhlIHRlbXBsYXRlIG11c3Qgc3RhcnQgd2l0aCBvbmUgb2YgdGhlIGZvbGxvd2luZzpcbiAqIC0gYGh0dHBzOi8vPG9yaWdpbj4vYFxuICogLSBgLy88b3JpZ2luPi9gXG4gKiAtIGAvPHBhdGhTdGFydD5gXG4gKiAtIGA8cmVsYXRpdmVQYXRoU3RhcnQ+L2BcbiAqIC0gYGFib3V0OmJsYW5rYFxuICogLSBgZGF0YTpgXG4gKlxuICogYDxvcmlnaW4+YCBtdXN0IGNvbnRhaW4gb25seSBhbHBoYW51bWVyaWMgb3IgYW55IG9mIHRoZSBmb2xsb3dpbmc6IGAtLjpgLlxuICogUmVtZW1iZXIgdGhhdCwgYXMgcGVyIHRoZSBkb2N1bWVudGF0aW9uIGZvciBUcnVzdGVkUmVzb3VyY2VVcmwsIHRoZSBvcmlnaW5cbiAqIG11c3QgYmUgdHJ1c3R3b3J0aHkuIEFuIG9yaWdpbiBvZiBcImV4YW1wbGUuY29tXCIgY291bGQgYmUgc2V0IHdpdGggdGhpc1xuICogbWV0aG9kLCBidXQgd291bGQgdGllIHRoZSBzZWN1cml0eSBvZiB5b3VyIHNpdGUgdG8gdGhlIHNlY3VyaXR5IG9mXG4gKiBleGFtcGxlLmNvbS4gU2ltaWxhcmx5LCBmb3JtYXRzIHRoYXQgcG90ZW50aWFsbHkgY292ZXIgcmVkaXJlY3RzIGhvc3RlZFxuICogb24gYSB0cnVzdGVkIG9yaWdpbiBhcmUgcHJvYmxlbWF0aWMsIHNpbmNlIHRoYXQgY291bGQgbGVhZCB0byB1bnRydXN0ZWRcbiAqIG9yaWdpbnMuXG4gKlxuICogYDxwYXRoU3RhcnQ+YCBpcyBlaXRoZXIgYW4gZW1wdHkgc3RyaW5nLCBvciBhIG5vbiBlbXB0eSBzdHJpbmcgdGhhdCBkb2VzIG5vdFxuICogc3RhcnQgd2l0aCAnLycgb3IgJ1xcJy5cbiAqIEluIG90aGVyIHdvcmRzLCBgLzxwYXRoU3RhcnQ+YCBpcyBlaXRoZXIgYSAnLycgb3IgYVxuICogJy8nIGZvbGxvd2VkIGJ5IGF0IGxlYXN0IG9uZSBjaGFyYWN0ZXIgdGhhdCBpcyBub3QgJy8nIG9yICdcXCcuXG4gKlxuICogYDxyZWxhdGl2ZVBhdGhTdGFydD4gaXMgYSBub24gZW1wdHkgc3RyaW5nIHRoYXQgaGFzIG5vICc6JywgJy8nIG5vciAnXFwnLlxuICpcbiAqIGBkYXRhOmAgKGRhdGEgVVJMKSBkb2VzIG5vdCBhbGxvdyBlbWJlZGRlZCBleHByZXNzaW9ucyBpbiB0aGUgdGVtcGxhdGVcbiAqIGxpdGVyYWwgaW5wdXQuXG4gKlxuICogQWxsIGVtYmVkZGVkIGV4cHJlc3Npb25zIGFyZSBVUkwgZW5jb2RlZCB3aGVuIHRoZXkgYXJlIGludGVycG9sYXRlZC4gRG8gbm90XG4gKiBlbWJlZCBleHByZXNzaW9ucyB0aGF0IGFyZSBhbHJlYWR5IFVSTCBlbmNvZGVkIGFzIHRoZXkgd2lsbCBiZSBkb3VibGUgZW5jb2RlZFxuICogYnkgdGhlIGJ1aWxkZXIuXG4gKlxuICogQHBhcmFtIHRlbXBsYXRlT2JqIFRoaXMgY29udGFpbnMgdGhlIGxpdGVyYWwgcGFydCBvZiB0aGUgdGVtcGxhdGUgbGl0ZXJhbC5cbiAqIEBwYXJhbSByZXN0IFRoaXMgcmVwcmVzZW50cyB0aGUgdGVtcGxhdGUncyBlbWJlZGRlZCBleHByZXNzaW9ucy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRydXN0ZWRSZXNvdXJjZVVybChcbiAgdGVtcGxhdGVPYmo6IFRlbXBsYXRlU3RyaW5nc0FycmF5LFxuICAuLi5yZXN0OiBQcmltaXRpdmVbXVxuKTogVHJ1c3RlZFJlc291cmNlVXJsIHtcbiAgLy8gQ2hlY2sgaWYgdGVtcGxhdGVPYmogaXMgYWN0dWFsbHkgZnJvbSBhIHRlbXBsYXRlIGxpdGVyYWwuXG4gIGlmIChERVZfTU9ERSkge1xuICAgIGFzc2VydElzVGVtcGxhdGVPYmplY3QodGVtcGxhdGVPYmosIHJlc3QubGVuZ3RoKTtcbiAgfVxuXG4gIGlmIChyZXN0Lmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBjcmVhdGVSZXNvdXJjZVVybEludGVybmFsKHRlbXBsYXRlT2JqWzBdKTtcbiAgfVxuXG4gIGNvbnN0IGJhc2UgPSB0ZW1wbGF0ZU9ialswXS50b0xvd2VyQ2FzZSgpO1xuXG4gIGlmIChERVZfTU9ERSkge1xuICAgIGlmICgvXmRhdGE6Ly50ZXN0KGJhc2UpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdEYXRhIFVSTHMgY2Fubm90IGhhdmUgZXhwcmVzc2lvbnMgaW4gdGhlIHRlbXBsYXRlIGxpdGVyYWwgaW5wdXQuJyxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgIWhhc1ZhbGlkT3JpZ2luKGJhc2UpICYmXG4gICAgICAhaXNWYWxpZFBhdGhTdGFydChiYXNlKSAmJlxuICAgICAgIWlzVmFsaWRSZWxhdGl2ZVBhdGhTdGFydChiYXNlKSAmJlxuICAgICAgIWlzVmFsaWRBYm91dFVybChiYXNlKVxuICAgICkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnVHJ5aW5nIHRvIGludGVycG9sYXRlIGV4cHJlc3Npb25zIGluIGFuIHVuc3VwcG9ydGVkIHVybCBmb3JtYXQuJyxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgbGV0IHVybCA9IHRlbXBsYXRlT2JqWzBdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHJlc3QubGVuZ3RoOyBpKyspIHtcbiAgICB1cmwgKz0gZW5jb2RlVVJJQ29tcG9uZW50KHJlc3RbaV0pICsgdGVtcGxhdGVPYmpbaSArIDFdO1xuICB9XG4gIHJldHVybiBjcmVhdGVSZXNvdXJjZVVybEludGVybmFsKHVybCk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBUcnVzdGVkUmVzb3VyY2VVcmwgd2l0aCBwYXJhbXMgYWRkZWQgdG8gdGhlIFVSTCdzIHNlYXJjaFxuICogcGFyYW1ldGVycy5cbiAqXG4gKiBAcGFyYW0gcGFyYW1zIFdoYXQgdG8gYWRkIHRvIHRoZSBVUkwuIFBhcmFtZXRlcnMgd2l0aCB2YWx1ZSBgbnVsbGAgb3JcbiAqIGB1bmRlZmluZWRgIGFyZSBza2lwcGVkLiBCb3RoIGtleXMgYW5kIHZhbHVlcyB3aWxsIGJlIGVuY29kZWQuIERvIG5vdCBwYXNzXG4gKiBwcmUtZW5jb2RlZCB2YWx1ZXMgYXMgdGhpcyB3aWxsIHJlc3VsdCB0aGVtIGJlaW5nIGRvdWJsZSBlbmNvZGVkLiBJZiB0aGVcbiAqIHZhbHVlIGlzIGFuIGFycmF5IHRoZW4gdGhlIHNhbWUgcGFyYW1ldGVyIGlzIGFkZGVkIGZvciBldmVyeSBlbGVtZW50IGluIHRoZVxuICogYXJyYXkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcHBlbmRQYXJhbXMoXG4gIHRydXN0ZWRVcmw6IFRydXN0ZWRSZXNvdXJjZVVybCxcbiAgLy8gTElORS1FWFRFUk5BTCBwYXJhbXM6IFJlYWRvbmx5TWFwPHN0cmluZywgUHJpbWl0aXZlfG51bGx8UmVhZG9ubHlBcnJheTxQcmltaXRpdmV8bnVsbD4+KTpcbiAgLy8gQkVHSU4tSU5URVJOQUxcbiAgLy8gRXhwbGljaXQgdHlwZSB1bmlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIHRoZSBDbG9zdXJlIGNvbXBpbGVyIHNpbmNlIGl0XG4gIC8vIGRvZXNuJ3Qgc3VwcG9ydCBjb3ZhcmlhbmNlLlxuICBwYXJhbXM6XG4gICAgfCBSZWFkb25seU1hcDxzdHJpbmcsIFByaW1pdGl2ZSB8IG51bGwgfCBSZWFkb25seUFycmF5PFByaW1pdGl2ZSB8IG51bGw+PlxuICAgIHwgUmVhZG9ubHlNYXA8c3RyaW5nLCBzdHJpbmc+LFxuKTogLy8gRU5ELUlOVEVSTkFMXG5UcnVzdGVkUmVzb3VyY2VVcmwge1xuICBjb25zdCB1cmxTZWdtZW50cyA9IGdldFVybFNlZ21lbnRzKHVud3JhcFJlc291cmNlVXJsKHRydXN0ZWRVcmwpLnRvU3RyaW5nKCkpO1xuXG4gIGxldCB1cmxQYXJhbXMgPSB1cmxTZWdtZW50cy5wYXJhbXM7XG4gIGxldCBzZXBhcmF0b3IgPSB1cmxQYXJhbXMubGVuZ3RoID8gJyYnIDogJz8nO1xuICAvLyBmb3Itb2YgaGFzIGEgYmlnIHBvbHlmaWxsLlxuICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6YmFuLWl0ZXJhYmxlLWZvcmVhY2hcbiAgcGFyYW1zLmZvckVhY2goXG4gICAgKFxuICAgICAgdmFsdWU6IFByaW1pdGl2ZSB8IG51bGwgfCBSZWFkb25seUFycmF5PFByaW1pdGl2ZSB8IG51bGw+LFxuICAgICAga2V5OiBzdHJpbmcsXG4gICAgKSA9PiB7XG4gICAgICBjb25zdCB2YWx1ZXMgPSB2YWx1ZSBpbnN0YW5jZW9mIEFycmF5ID8gdmFsdWUgOiBbdmFsdWVdO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgdiA9IHZhbHVlc1tpXTtcbiAgICAgICAgaWYgKHYgPT09IG51bGwgfHwgdiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdXJsUGFyYW1zICs9XG4gICAgICAgICAgc2VwYXJhdG9yICtcbiAgICAgICAgICBlbmNvZGVVUklDb21wb25lbnQoa2V5KSArXG4gICAgICAgICAgJz0nICtcbiAgICAgICAgICBlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKHYpKTtcbiAgICAgICAgc2VwYXJhdG9yID0gJyYnO1xuICAgICAgfVxuICAgIH0sXG4gICk7XG4gIHJldHVybiBjcmVhdGVSZXNvdXJjZVVybEludGVybmFsKFxuICAgIHVybFNlZ21lbnRzLnBhdGggKyB1cmxQYXJhbXMgKyB1cmxTZWdtZW50cy5oYXNoLFxuICApO1xufVxuXG5jb25zdCBCRUZPUkVfRlJBR01FTlRfUkVHRVhQID0gL1teI10qLztcblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IFRydXN0ZWRSZXNvdXJjZVVybCBiYXNlZCBvbiBhbiBleGlzdGluZyBvbmUgYnV0IHdpdGggdGhlXG4gKiBhZGRpdGlvbiBvZiBhIGZyYWdtZW50ICh0aGUgcGFydCBhZnRlciBgI2ApLiBJZiB0aGUgVVJMIGFscmVhZHkgaGFzIGFcbiAqIGZyYWdtZW50LCBpdCBpcyByZXBsYWNlZCB3aXRoIHRoZSBuZXcgb25lLlxuICogQHBhcmFtIGZyYWdtZW50IFRoZSBmcmFnbWVudCB0byBhZGQgdG8gdGhlIFVSTCwgdmVyYmF0aW0sIHdpdGhvdXQgdGhlIGxlYWRpbmdcbiAqIGAjYC4gTm8gYWRkaXRpb25hbCBlc2NhcGluZyBpcyBhcHBsaWVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVwbGFjZUZyYWdtZW50KFxuICB0cnVzdGVkVXJsOiBUcnVzdGVkUmVzb3VyY2VVcmwsXG4gIGZyYWdtZW50OiBzdHJpbmcsXG4pIHtcbiAgY29uc3QgdXJsU3RyaW5nID0gdW53cmFwUmVzb3VyY2VVcmwodHJ1c3RlZFVybCkudG9TdHJpbmcoKTtcbiAgcmV0dXJuIGNyZWF0ZVJlc291cmNlVXJsSW50ZXJuYWwoXG4gICAgQkVGT1JFX0ZSQUdNRU5UX1JFR0VYUC5leGVjKHVybFN0cmluZykhWzBdICsgJyMnICsgZnJhZ21lbnQsXG4gICk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBUcnVzdGVkUmVzb3VyY2VVcmwgYmFzZWQgb24gYW4gZXhpc3Rpbmcgb25lIHdpdGggYSBzaW5nbGVcbiAqIHN1YnBhdGggc2VnbWVudCBhZGRlZCB0byB0aGUgZW5kIG9mIHRoZSBleGlzdGluZyBwYXRoIGFuZCBwcmlvciB0byBhbnkgcXVlcnlcbiAqIHBhcmFtZXRlcnMgYW5kL29yIGZyYWdtZW50cyB0aGF0IGFscmVhZHkgZXhpc3QgaW4gdGhlIFVSTC5cbiAqIEBwYXJhbSBwYXRoU2VnbWVudCBUaGUgc2luZ3VsYXIgc3ViIHBhdGggYmVpbmcgYWRkZWQgdG8gdGhlIFVSTC4gRG8gbm90IHBhc3NcbiAqICAgICBhIHByZS1lbmNvZGVkIHZhbHVlIGFzIHRoaXMgd2lsbCByZXN1bHQgaW4gaXQgYmVpbmcgZG91YmxlIGVuY29kZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcHBlbmRQYXRoU2VnbWVudChcbiAgdHJ1c3RlZFVybDogVHJ1c3RlZFJlc291cmNlVXJsLFxuICBwYXRoU2VnbWVudDogc3RyaW5nLFxuKTogVHJ1c3RlZFJlc291cmNlVXJsIHtcbiAgY29uc3QgdXJsU2VnbWVudHMgPSBnZXRVcmxTZWdtZW50cyh1bndyYXBSZXNvdXJjZVVybCh0cnVzdGVkVXJsKS50b1N0cmluZygpKTtcblxuICBjb25zdCBzZXBhcmF0b3IgPSB1cmxTZWdtZW50cy5wYXRoLnNsaWNlKC0xKSA9PT0gJy8nID8gJycgOiAnLyc7XG4gIGNvbnN0IG5ld1BhdGggPVxuICAgIHVybFNlZ21lbnRzLnBhdGggKyBzZXBhcmF0b3IgKyBlbmNvZGVVUklDb21wb25lbnQocGF0aFNlZ21lbnQpO1xuXG4gIHJldHVybiBjcmVhdGVSZXNvdXJjZVVybEludGVybmFsKFxuICAgIG5ld1BhdGggKyB1cmxTZWdtZW50cy5wYXJhbXMgKyB1cmxTZWdtZW50cy5oYXNoLFxuICApO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBgVHJ1c3RlZFJlc291cmNlVXJsYCBieSBnZW5lcmF0aW5nIGEgYEJsb2JgIGZyb20gYVxuICogYFNhZmVTY3JpcHRgIGFuZCB0aGVuIGNhbGxpbmcgYFVSTC5jcmVhdGVPYmplY3RVUkxgIHdpdGggdGhhdCBgQmxvYmAuXG4gKlxuICogQ2FsbGVyIG11c3QgY2FsbCBgVVJMLnJldm9rZU9iamVjdFVSTCgpYCBvbiB0aGUgc3RyaW5naWZpZWQgdXJsIHRvXG4gKiByZWxlYXNlIHRoZSB1bmRlcmx5aW5nIGBCbG9iYC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9iamVjdFVybEZyb21TY3JpcHQoXG4gIHNhZmVTY3JpcHQ6IFNhZmVTY3JpcHQsXG4pOiBUcnVzdGVkUmVzb3VyY2VVcmwge1xuICBjb25zdCBzY3JpcHRDb250ZW50ID0gdW53cmFwU2NyaXB0KHNhZmVTY3JpcHQpLnRvU3RyaW5nKCk7XG4gIGNvbnN0IGJsb2IgPSBuZXcgQmxvYihbc2NyaXB0Q29udGVudF0sIHt0eXBlOiAndGV4dC9qYXZhc2NyaXB0J30pO1xuICByZXR1cm4gY3JlYXRlUmVzb3VyY2VVcmxJbnRlcm5hbChVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpKTtcbn1cblxuLyoqXG4gKiBBIGZ1bmN0aW9uIHRvIHNhZmVseSByZXRyaWV2ZSB0aGUgYmFzZSBVUkkgZnJvbSB0aGUgV2luZG93IG9iamVjdCBhbmQgc2V0IGl0XG4gKiBhdCB0aGUgYmVnaW5uaW5nIG9mIGEgZ2l2ZW4gcGF0aC1yZWxhdGl2ZSAoc3RhcnRzIHdpdGggXCIvXCIpIHJlc291cmNlIHVybC5cbiAqXG4gKiBAcGFyYW0gcGF0aFJlbGF0aXZlVXJsIFRoZSByZXNvdXJjZSB0byB3aGljaCB0aGUgb3JpZ2luIHNoYWxsIGJlIHByZXBlbmRlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvQWJzb2x1dGVSZXNvdXJjZVVybChwYXRoUmVsYXRpdmVVcmw6IFRydXN0ZWRSZXNvdXJjZVVybCkge1xuICBjb25zdCBvcmlnaW5hbFVybCA9IHVud3JhcFJlc291cmNlVXJsKHBhdGhSZWxhdGl2ZVVybCkudG9TdHJpbmcoKTtcbiAgY29uc3QgcXVhbGlmaWVkVXJsID0gbmV3IFVSTChvcmlnaW5hbFVybCwgd2luZG93LmRvY3VtZW50LmJhc2VVUkkpO1xuICByZXR1cm4gY3JlYXRlUmVzb3VyY2VVcmxJbnRlcm5hbChxdWFsaWZpZWRVcmwudG9TdHJpbmcoKSk7XG59XG4iXX0=
;return exports;});

//third_party/javascript/safevalues/builders/script_builders.closure.js
goog.loadModule(function(exports) {'use strict';/**
 * @license
 * Copyright Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
/**
 * @fileoverview added by tsickle
 * Generated from: third_party/javascript/safevalues/builders/script_builders.ts
 * @suppress {checkTypes} added by tsickle
 * @suppress {extraRequire} added by tsickle
 * @suppress {missingRequire} added by tsickle
 * @suppress {uselessCode} added by tsickle
 * @suppress {suspiciousCode} added by tsickle
 * @suppress {missingReturn} added by tsickle
 * @suppress {unusedPrivateMembers} added by tsickle
 * @suppress {missingOverride} added by tsickle
 * @suppress {const} added by tsickle
 */
goog.module('google3.third_party.javascript.safevalues.builders.script_builders');
var module = module || { id: 'third_party/javascript/safevalues/builders/script_builders.closure.js' };
goog.require('google3.third_party.javascript.tslib.tslib');
const tsickle_dev_1 = goog.requireType("google3.third_party.javascript.safevalues.environment.dev");
const tsickle_script_impl_2 = goog.requireType("google3.third_party.javascript.safevalues.internals.script_impl");
const tsickle_string_literal_3 = goog.requireType("google3.third_party.javascript.safevalues.internals.string_literal");
const dev_1 = goog.require('google3.third_party.javascript.safevalues.environment.dev');
const script_impl_1 = goog.require('google3.third_party.javascript.safevalues.internals.script_impl');
const string_literal_1 = goog.require('google3.third_party.javascript.safevalues.internals.string_literal');
/** @typedef {(string|number|boolean)} */
var Primitive;
/** @typedef {(string|number|boolean|!ReadonlyArray<(null|string|number|boolean|?|!Object<string,(null|string|number|boolean|?)>)>|!Object<string,(null|string|number|boolean|!ReadonlyArray<(null|string|number|boolean|?)>|?)>)} */
var Serializable;
/**
 * Creates a SafeScript object from a template literal (without any embedded
 * expressions).
 *
 * This function is a template literal tag function. It should be called with
 * a template literal that does not contain any expressions. For example,
 *                           safeScript`foo`;
 *
 * @param {!TemplateStringsArray} templateObj This contains the literal part of the template literal.
 * @param {...string} emptyArgs Expressions that evaluate to the empty string to enable
 *     inline comments.
 * @return {!tsickle_script_impl_2.SafeScript}
 */
function safeScript(templateObj, ...emptyArgs) {
    if (dev_1.DEV_MODE) {
        if (emptyArgs.some((/**
         * @param {string} a
         * @return {boolean}
         */
        (a) => a !== ''))) {
            throw new Error('safeScript only allows empty string expressions ' +
                'to enable inline comments.');
        }
        (0, string_literal_1.assertIsTemplateObject)(templateObj, emptyArgs.length);
    }
    return (0, script_impl_1.createScriptInternal)(templateObj.join(''));
}
exports.safeScript = safeScript;
/**
 * Creates a `SafeScript` value by concatenating multiple `SafeScript`s.
 * @param {!ReadonlyArray<!tsickle_script_impl_2.SafeScript>} scripts
 * @return {!tsickle_script_impl_2.SafeScript}
 */
function concatScripts(scripts) {
    return (0, script_impl_1.createScriptInternal)(scripts.map(script_impl_1.unwrapScript).join(''));
}
exports.concatScripts = concatScripts;
/**
 * Converts a serializable value into JSON that is safe to interpolate into a
 * script context. In particular it escapes < characters so that a value of
 * "&lt/script>" doesn't break out of the context.
 * @param {(null|string|number|boolean|!ReadonlyArray<(null|string|number|boolean|?|!Object<string,(null|string|number|boolean|?)>)>|!Object<string,(null|string|number|boolean|!ReadonlyArray<(null|string|number|boolean|?)>|?)>)} value The value to serialize.
 * @return {!tsickle_script_impl_2.SafeScript}
 */
function valueAsScript(value) {
    return (0, script_impl_1.createScriptInternal)(JSON.stringify(value).replace(/</g, '\\u003C'));
}
exports.valueAsScript = valueAsScript;
/**
 * Creates a `SafeScript` object from a template literal (without any embedded
 * expressions) along with additional arguments that the script should have
 * access to. These arguments will be JSON-encoded and passed to the script as
 * a function call.
 * \@example
 * ```ts
 * safeScriptWithArgs`function (name, props) {
 *  console.log(name + ' is ' + props.age);
 * }`('Bob', { 'age': 42 })
 * ```
 * would return a `SafeScript` that represents the following code:
 * ```js
 * (function (name, props) {
 *  console.log(name + ' is ' + props.age);
 * })("Bob",{"age":42})
 * ```
 * \@note Be careful when passing objects as arguments, as unquoted property
 * names may be changed during compilation.
 * @param {!TemplateStringsArray} templateObj This contains the literal part of the template literal.
 * @param {...string} emptyArgs Expressions that evaluate to the empty string to enable
 *     inline comments.
 * @return {function(...(null|string|number|boolean|!ReadonlyArray<(null|string|number|boolean|?|!Object<string,(null|string|number|boolean|?)>)>|!Object<string,(null|string|number|boolean|!ReadonlyArray<(null|string|number|boolean|?)>|?)>)): !tsickle_script_impl_2.SafeScript}
 */
function safeScriptWithArgs(templateObj, ...emptyArgs) {
    if (dev_1.DEV_MODE) {
        if (emptyArgs.some((/**
         * @param {string} a
         * @return {boolean}
         */
        (a) => a !== ''))) {
            throw new Error('safeScriptWithArgs only allows empty string expressions ' +
                'to enable inline comments.');
        }
        (0, string_literal_1.assertIsTemplateObject)(templateObj, emptyArgs.length);
    }
    return (/**
     * @param {...(null|string|number|boolean|!ReadonlyArray<(null|string|number|boolean|?|!Object<string,(null|string|number|boolean|?)>)>|!Object<string,(null|string|number|boolean|!ReadonlyArray<(null|string|number|boolean|?)>|?)>)} argValues
     * @return {!tsickle_script_impl_2.SafeScript}
     */
    (...argValues) => {
        /** @type {!Array<string>} */
        const values = argValues.map((/**
         * @param {(null|string|number|boolean|!ReadonlyArray<(null|string|number|boolean|?|!Object<string,(null|string|number|boolean|?)>)>|!Object<string,(null|string|number|boolean|!ReadonlyArray<(null|string|number|boolean|?)>|?)>)} v
         * @return {string}
         */
        (v) => valueAsScript(v).toString()));
        return (0, script_impl_1.createScriptInternal)(`(${templateObj.join('')})(${values.join(',')})`);
    });
}
exports.safeScriptWithArgs = safeScriptWithArgs;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2NyaXB0X2J1aWxkZXJzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vdGhpcmRfcGFydHkvamF2YXNjcmlwdC9zYWZldmFsdWVzL2J1aWxkZXJzL3NjcmlwdF9idWlsZGVycy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFNQSx3RkFBNEM7QUFDNUMsc0dBSWtDO0FBQ2xDLDRHQUFtRTs7QUFFbkUsY0FBMkM7O0FBQzNDLGlCQUdrRDs7Ozs7Ozs7Ozs7Ozs7QUFjbEQsU0FBZ0IsVUFBVSxDQUN4QixXQUFpQyxFQUNqQyxHQUFHLFNBQTRCO0lBRS9CLElBQUksY0FBUSxFQUFFLENBQUM7UUFDYixJQUFJLFNBQVMsQ0FBQyxJQUFJOzs7O1FBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsS0FBSyxFQUFFLEVBQUMsRUFBRSxDQUFDO1lBQ3BDLE1BQU0sSUFBSSxLQUFLLENBQ2Isa0RBQWtEO2dCQUNoRCw0QkFBNEIsQ0FDL0IsQ0FBQztRQUNKLENBQUM7UUFDRCxJQUFBLHVDQUFzQixFQUFDLFdBQVcsRUFBRSxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDeEQsQ0FBQztJQUNELE9BQU8sSUFBQSxrQ0FBb0IsRUFBQyxXQUFXLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7QUFDcEQsQ0FBQztBQWRELGdDQWNDOzs7Ozs7QUFHRCxTQUFnQixhQUFhLENBQUMsT0FBOEI7SUFDMUQsT0FBTyxJQUFBLGtDQUFvQixFQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsMEJBQVksQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0FBQ2xFLENBQUM7QUFGRCxzQ0FFQzs7Ozs7Ozs7QUFRRCxTQUFnQixhQUFhLENBQUMsS0FBMEI7SUFDdEQsT0FBTyxJQUFBLGtDQUFvQixFQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxTQUFTLENBQUMsQ0FBQyxDQUFDO0FBQzlFLENBQUM7QUFGRCxzQ0FFQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQXlCRCxTQUFnQixrQkFBa0IsQ0FDaEMsV0FBaUMsRUFDakMsR0FBRyxTQUE0QjtJQUUvQixJQUFJLGNBQVEsRUFBRSxDQUFDO1FBQ2IsSUFBSSxTQUFTLENBQUMsSUFBSTs7OztRQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLEtBQUssRUFBRSxFQUFDLEVBQUUsQ0FBQztZQUNwQyxNQUFNLElBQUksS0FBSyxDQUNiLDBEQUEwRDtnQkFDeEQsNEJBQTRCLENBQy9CLENBQUM7UUFDSixDQUFDO1FBQ0QsSUFBQSx1Q0FBc0IsRUFBQyxXQUFXLEVBQUUsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ3hELENBQUM7SUFDRDs7OztJQUFPLENBQUMsR0FBRyxTQUE2QyxFQUFFLEVBQUU7O2NBQ3BELE1BQU0sR0FBRyxTQUFTLENBQUMsR0FBRzs7OztRQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxFQUFFLEVBQUM7UUFDaEUsT0FBTyxJQUFBLGtDQUFvQixFQUN6QixJQUFJLFdBQVcsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEtBQUssTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUNqRCxDQUFDO0lBQ0osQ0FBQyxFQUFDO0FBQ0osQ0FBQztBQW5CRCxnREFtQkMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG5pbXBvcnQge0RFVl9NT0RFfSBmcm9tICcuLi9lbnZpcm9ubWVudC9kZXYnO1xuaW1wb3J0IHtcbiAgY3JlYXRlU2NyaXB0SW50ZXJuYWwsXG4gIFNhZmVTY3JpcHQsXG4gIHVud3JhcFNjcmlwdCxcbn0gZnJvbSAnLi4vaW50ZXJuYWxzL3NjcmlwdF9pbXBsJztcbmltcG9ydCB7YXNzZXJ0SXNUZW1wbGF0ZU9iamVjdH0gZnJvbSAnLi4vaW50ZXJuYWxzL3N0cmluZ19saXRlcmFsJztcblxudHlwZSBQcmltaXRpdmUgPSBudW1iZXIgfCBzdHJpbmcgfCBib29sZWFuO1xudHlwZSBTZXJpYWxpemFibGUgPVxuICB8IFByaW1pdGl2ZVxuICB8IFJlYWRvbmx5QXJyYXk8U2VyaWFsaXphYmxlIHwgbnVsbD5cbiAgfCB7cmVhZG9ubHkgW2tleTogc3RyaW5nXTogU2VyaWFsaXphYmxlIHwgbnVsbH07XG5cbi8qKlxuICogQ3JlYXRlcyBhIFNhZmVTY3JpcHQgb2JqZWN0IGZyb20gYSB0ZW1wbGF0ZSBsaXRlcmFsICh3aXRob3V0IGFueSBlbWJlZGRlZFxuICogZXhwcmVzc2lvbnMpLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gaXMgYSB0ZW1wbGF0ZSBsaXRlcmFsIHRhZyBmdW5jdGlvbi4gSXQgc2hvdWxkIGJlIGNhbGxlZCB3aXRoXG4gKiBhIHRlbXBsYXRlIGxpdGVyYWwgdGhhdCBkb2VzIG5vdCBjb250YWluIGFueSBleHByZXNzaW9ucy4gRm9yIGV4YW1wbGUsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhZmVTY3JpcHRgZm9vYDtcbiAqXG4gKiBAcGFyYW0gdGVtcGxhdGVPYmogVGhpcyBjb250YWlucyB0aGUgbGl0ZXJhbCBwYXJ0IG9mIHRoZSB0ZW1wbGF0ZSBsaXRlcmFsLlxuICogQHBhcmFtIGVtcHR5QXJncyBFeHByZXNzaW9ucyB0aGF0IGV2YWx1YXRlIHRvIHRoZSBlbXB0eSBzdHJpbmcgdG8gZW5hYmxlXG4gKiAgICAgaW5saW5lIGNvbW1lbnRzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2FmZVNjcmlwdChcbiAgdGVtcGxhdGVPYmo6IFRlbXBsYXRlU3RyaW5nc0FycmF5LFxuICAuLi5lbXB0eUFyZ3M6IFJlYWRvbmx5QXJyYXk8Jyc+XG4pOiBTYWZlU2NyaXB0IHtcbiAgaWYgKERFVl9NT0RFKSB7XG4gICAgaWYgKGVtcHR5QXJncy5zb21lKChhKSA9PiBhICE9PSAnJykpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ3NhZmVTY3JpcHQgb25seSBhbGxvd3MgZW1wdHkgc3RyaW5nIGV4cHJlc3Npb25zICcgK1xuICAgICAgICAgICd0byBlbmFibGUgaW5saW5lIGNvbW1lbnRzLicsXG4gICAgICApO1xuICAgIH1cbiAgICBhc3NlcnRJc1RlbXBsYXRlT2JqZWN0KHRlbXBsYXRlT2JqLCBlbXB0eUFyZ3MubGVuZ3RoKTtcbiAgfVxuICByZXR1cm4gY3JlYXRlU2NyaXB0SW50ZXJuYWwodGVtcGxhdGVPYmouam9pbignJykpO1xufVxuXG4vKiogQ3JlYXRlcyBhIGBTYWZlU2NyaXB0YCB2YWx1ZSBieSBjb25jYXRlbmF0aW5nIG11bHRpcGxlIGBTYWZlU2NyaXB0YHMuICovXG5leHBvcnQgZnVuY3Rpb24gY29uY2F0U2NyaXB0cyhzY3JpcHRzOiByZWFkb25seSBTYWZlU2NyaXB0W10pOiBTYWZlU2NyaXB0IHtcbiAgcmV0dXJuIGNyZWF0ZVNjcmlwdEludGVybmFsKHNjcmlwdHMubWFwKHVud3JhcFNjcmlwdCkuam9pbignJykpO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGEgc2VyaWFsaXphYmxlIHZhbHVlIGludG8gSlNPTiB0aGF0IGlzIHNhZmUgdG8gaW50ZXJwb2xhdGUgaW50byBhXG4gKiBzY3JpcHQgY29udGV4dC4gSW4gcGFydGljdWxhciBpdCBlc2NhcGVzIDwgY2hhcmFjdGVycyBzbyB0aGF0IGEgdmFsdWUgb2ZcbiAqIFwiJmx0L3NjcmlwdD5cIiBkb2Vzbid0IGJyZWFrIG91dCBvZiB0aGUgY29udGV4dC5cbiAqIEBwYXJhbSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VyaWFsaXplLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdmFsdWVBc1NjcmlwdCh2YWx1ZTogU2VyaWFsaXphYmxlIHwgbnVsbCk6IFNhZmVTY3JpcHQge1xuICByZXR1cm4gY3JlYXRlU2NyaXB0SW50ZXJuYWwoSlNPTi5zdHJpbmdpZnkodmFsdWUpLnJlcGxhY2UoLzwvZywgJ1xcXFx1MDAzQycpKTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgYFNhZmVTY3JpcHRgIG9iamVjdCBmcm9tIGEgdGVtcGxhdGUgbGl0ZXJhbCAod2l0aG91dCBhbnkgZW1iZWRkZWRcbiAqIGV4cHJlc3Npb25zKSBhbG9uZyB3aXRoIGFkZGl0aW9uYWwgYXJndW1lbnRzIHRoYXQgdGhlIHNjcmlwdCBzaG91bGQgaGF2ZVxuICogYWNjZXNzIHRvLiBUaGVzZSBhcmd1bWVudHMgd2lsbCBiZSBKU09OLWVuY29kZWQgYW5kIHBhc3NlZCB0byB0aGUgc2NyaXB0IGFzXG4gKiBhIGZ1bmN0aW9uIGNhbGwuXG4gKiBAZXhhbXBsZVxuICogYGBgdHNcbiAqIHNhZmVTY3JpcHRXaXRoQXJnc2BmdW5jdGlvbiAobmFtZSwgcHJvcHMpIHtcbiAqICBjb25zb2xlLmxvZyhuYW1lICsgJyBpcyAnICsgcHJvcHMuYWdlKTtcbiAqIH1gKCdCb2InLCB7ICdhZ2UnOiA0MiB9KVxuICogYGBgXG4gKiB3b3VsZCByZXR1cm4gYSBgU2FmZVNjcmlwdGAgdGhhdCByZXByZXNlbnRzIHRoZSBmb2xsb3dpbmcgY29kZTpcbiAqIGBgYGpzXG4gKiAoZnVuY3Rpb24gKG5hbWUsIHByb3BzKSB7XG4gKiAgY29uc29sZS5sb2cobmFtZSArICcgaXMgJyArIHByb3BzLmFnZSk7XG4gKiB9KShcIkJvYlwiLHtcImFnZVwiOjQyfSlcbiAqIGBgYFxuICogQG5vdGUgQmUgY2FyZWZ1bCB3aGVuIHBhc3Npbmcgb2JqZWN0cyBhcyBhcmd1bWVudHMsIGFzIHVucXVvdGVkIHByb3BlcnR5XG4gKiBuYW1lcyBtYXkgYmUgY2hhbmdlZCBkdXJpbmcgY29tcGlsYXRpb24uXG4gKiBAcGFyYW0gdGVtcGxhdGVPYmogVGhpcyBjb250YWlucyB0aGUgbGl0ZXJhbCBwYXJ0IG9mIHRoZSB0ZW1wbGF0ZSBsaXRlcmFsLlxuICogQHBhcmFtIGVtcHR5QXJncyBFeHByZXNzaW9ucyB0aGF0IGV2YWx1YXRlIHRvIHRoZSBlbXB0eSBzdHJpbmcgdG8gZW5hYmxlXG4gKiAgICAgaW5saW5lIGNvbW1lbnRzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2FmZVNjcmlwdFdpdGhBcmdzKFxuICB0ZW1wbGF0ZU9iajogVGVtcGxhdGVTdHJpbmdzQXJyYXksXG4gIC4uLmVtcHR5QXJnczogUmVhZG9ubHlBcnJheTwnJz5cbik6ICguLi5hcmdWYWx1ZXM6IFJlYWRvbmx5QXJyYXk8U2VyaWFsaXphYmxlIHwgbnVsbD4pID0+IFNhZmVTY3JpcHQge1xuICBpZiAoREVWX01PREUpIHtcbiAgICBpZiAoZW1wdHlBcmdzLnNvbWUoKGEpID0+IGEgIT09ICcnKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnc2FmZVNjcmlwdFdpdGhBcmdzIG9ubHkgYWxsb3dzIGVtcHR5IHN0cmluZyBleHByZXNzaW9ucyAnICtcbiAgICAgICAgICAndG8gZW5hYmxlIGlubGluZSBjb21tZW50cy4nLFxuICAgICAgKTtcbiAgICB9XG4gICAgYXNzZXJ0SXNUZW1wbGF0ZU9iamVjdCh0ZW1wbGF0ZU9iaiwgZW1wdHlBcmdzLmxlbmd0aCk7XG4gIH1cbiAgcmV0dXJuICguLi5hcmdWYWx1ZXM6IFJlYWRvbmx5QXJyYXk8U2VyaWFsaXphYmxlIHwgbnVsbD4pID0+IHtcbiAgICBjb25zdCB2YWx1ZXMgPSBhcmdWYWx1ZXMubWFwKCh2KSA9PiB2YWx1ZUFzU2NyaXB0KHYpLnRvU3RyaW5nKCkpO1xuICAgIHJldHVybiBjcmVhdGVTY3JpcHRJbnRlcm5hbChcbiAgICAgIGAoJHt0ZW1wbGF0ZU9iai5qb2luKCcnKX0pKCR7dmFsdWVzLmpvaW4oJywnKX0pYCxcbiAgICApO1xuICB9O1xufVxuIl19
;return exports;});

//third_party/javascript/safevalues/builders/style_builders.closure.js
goog.loadModule(function(exports) {'use strict';/**
 * @license
 * Copyright Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
/**
 * @fileoverview added by tsickle
 * Generated from: third_party/javascript/safevalues/builders/style_builders.ts
 * @suppress {checkTypes} added by tsickle
 * @suppress {extraRequire} added by tsickle
 * @suppress {missingRequire} added by tsickle
 * @suppress {uselessCode} added by tsickle
 * @suppress {suspiciousCode} added by tsickle
 * @suppress {missingReturn} added by tsickle
 * @suppress {unusedPrivateMembers} added by tsickle
 * @suppress {missingOverride} added by tsickle
 * @suppress {const} added by tsickle
 */
goog.module('google3.third_party.javascript.safevalues.builders.style_builders');
var module = module || { id: 'third_party/javascript/safevalues/builders/style_builders.closure.js' };
goog.require('google3.third_party.javascript.tslib.tslib');
const tsickle_dev_1 = goog.requireType("google3.third_party.javascript.safevalues.environment.dev");
const tsickle_string_literal_2 = goog.requireType("google3.third_party.javascript.safevalues.internals.string_literal");
const tsickle_style_impl_3 = goog.requireType("google3.third_party.javascript.safevalues.internals.style_impl");
const tsickle_url_impl_4 = goog.requireType("google3.third_party.javascript.safevalues.internals.url_impl");
const dev_1 = goog.require('google3.third_party.javascript.safevalues.environment.dev');
const string_literal_1 = goog.require('google3.third_party.javascript.safevalues.internals.string_literal');
const style_impl_1 = goog.require('google3.third_party.javascript.safevalues.internals.style_impl');
/**
 * Creates a SafeStyle object from a template literal (without any embedded
 * expressions).
 *
 * ` style` should be in the format
 * ` name: value; [name: value; ...]` and must not have any < or >
 * characters in it. This is so that SafeStyle's contract is preserved,
 * allowing the SafeStyle to correctly be interpreted as a sequence of CSS
 * declarations and without affecting the syntactic structure of any
 * surrounding CSS and HTML.
 *
 * This function is a template literal tag function. It should be called with
 * a template literal that does not contain any expressions. For example,
 *                          safeStyle`foo`;
 * This function first checks if it is called with a literal template, and
 * then performs basic sanity checks on the format of ` style`
 * but does not constrain the format of ` name} and {\@code value`, except
 * for disallowing tag characters.
 *
 * @deprecated Inline styles do not pose a security risk with modern browsers
 *     anymore, so there's no need to use this function. Please use native
 *     style properties on the element or string functions instead.
 *     See go/deleting-safestyle for more information.
 *     Reach out to http://yaqs/ise-web if you have any questions.
 * @param {!TemplateStringsArray} templateObj This contains the literal part of the template literal.
 *
 * @param {...(string|number|!tsickle_url_impl_4.SafeUrl)} rest
 * @return {!tsickle_style_impl_3.SafeStyle}
 */
function safeStyle(templateObj, ...rest) {
    if (dev_1.DEV_MODE) {
        (0, string_literal_1.assertIsTemplateObject)(templateObj, rest.length);
    }
    /** @type {string} */
    let stringifiedStyle = templateObj[0];
    for (let i = 0; i < templateObj.length - 1; i++) {
        stringifiedStyle += String(rest[i]) + templateObj[i + 1];
    }
    if (/[<>]/.test(stringifiedStyle)) {
        throw new Error('Forbidden characters in style string: ' + stringifiedStyle);
    }
    if (dev_1.DEV_MODE) {
        if (stringifiedStyle.length === 0) {
            return (0, style_impl_1.createStyleInternal)(stringifiedStyle);
        }
        if (!/;$/.test(stringifiedStyle)) {
            throw new Error('Style string does not end with ";": ' + stringifiedStyle);
        }
        if (!/:/.test(stringifiedStyle)) {
            throw new Error('Style string should contain one or more ":": ' + stringifiedStyle);
        }
    }
    return (0, style_impl_1.createStyleInternal)(stringifiedStyle);
}
exports.safeStyle = safeStyle;
/**
 * Creates a `SafeStyle` value from a string.
 *
 * @deprecated Note: This function only exists for compatibility reasons to help
 *     migrate away from `SafeStyle`
 *     See go/deleting-safestyle for more information.
 *     Reach out to http://yaqs/ise-web if you have any questions.
 * @param {string} style
 * @return {!tsickle_style_impl_3.SafeStyle}
 */
function styleForMigration(style) {
    return (0, style_impl_1.createStyleInternal)(style);
}
exports.styleForMigration = styleForMigration;
/**
 * Creates a `SafeStyle` value by concatenating multiple `SafeStyle`s.
 *
 * @deprecated Inline styles do not pose a security risk with modern browsers
 *     anymore, so there's no need to use this function. Please use native
 *     style properties on the element or string functions instead.
 *     See go/deleting-safestyle for more information.
 *     Reach out to http://yaqs/ise-web if you have any questions.
 * @param {!ReadonlyArray<!tsickle_style_impl_3.SafeStyle>} styles
 * @return {!tsickle_style_impl_3.SafeStyle}
 */
function concatStyles(styles) {
    return (0, style_impl_1.createStyleInternal)(styles.map(style_impl_1.unwrapStyle).join(''));
}
exports.concatStyles = concatStyles;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3R5bGVfYnVpbGRlcnMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi90aGlyZF9wYXJ0eS9qYXZhc2NyaXB0L3NhZmV2YWx1ZXMvYnVpbGRlcnMvc3R5bGVfYnVpbGRlcnMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU1BLHdGQUE0QztBQUM1Qyw0R0FBbUU7QUFDbkUsb0dBSWlDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUE4QmpDLFNBQWdCLFNBQVMsQ0FDdkIsV0FBaUMsRUFDakMsR0FBRyxJQUFzQztJQUV6QyxJQUFJLGNBQVEsRUFBRSxDQUFDO1FBQ2IsSUFBQSx1Q0FBc0IsRUFBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ25ELENBQUM7O1FBRUcsZ0JBQWdCLEdBQUcsV0FBVyxDQUFDLENBQUMsQ0FBQztJQUNyQyxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsV0FBVyxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQztRQUNoRCxnQkFBZ0IsSUFBSSxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsV0FBVyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztJQUMzRCxDQUFDO0lBQ0QsSUFBSSxNQUFNLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLEVBQUUsQ0FBQztRQUNsQyxNQUFNLElBQUksS0FBSyxDQUNiLHdDQUF3QyxHQUFHLGdCQUFnQixDQUM1RCxDQUFDO0lBQ0osQ0FBQztJQUNELElBQUksY0FBUSxFQUFFLENBQUM7UUFDYixJQUFJLGdCQUFnQixDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUUsQ0FBQztZQUNsQyxPQUFPLElBQUEsZ0NBQW1CLEVBQUMsZ0JBQWdCLENBQUMsQ0FBQztRQUMvQyxDQUFDO1FBRUQsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsRUFBRSxDQUFDO1lBQ2pDLE1BQU0sSUFBSSxLQUFLLENBQ2Isc0NBQXNDLEdBQUcsZ0JBQWdCLENBQzFELENBQUM7UUFDSixDQUFDO1FBRUQsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsRUFBRSxDQUFDO1lBQ2hDLE1BQU0sSUFBSSxLQUFLLENBQ2IsK0NBQStDLEdBQUcsZ0JBQWdCLENBQ25FLENBQUM7UUFDSixDQUFDO0lBQ0gsQ0FBQztJQUVELE9BQU8sSUFBQSxnQ0FBbUIsRUFBQyxnQkFBZ0IsQ0FBQyxDQUFDO0FBQy9DLENBQUM7QUFwQ0QsOEJBb0NDOzs7Ozs7Ozs7OztBQVVELFNBQWdCLGlCQUFpQixDQUFDLEtBQWE7SUFDN0MsT0FBTyxJQUFBLGdDQUFtQixFQUFDLEtBQUssQ0FBQyxDQUFDO0FBQ3BDLENBQUM7QUFGRCw4Q0FFQzs7Ozs7Ozs7Ozs7O0FBV0QsU0FBZ0IsWUFBWSxDQUFDLE1BQTRCO0lBQ3ZELE9BQU8sSUFBQSxnQ0FBbUIsRUFBQyxNQUFNLENBQUMsR0FBRyxDQUFDLHdCQUFXLENBQUMsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztBQUMvRCxDQUFDO0FBRkQsb0NBRUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG5pbXBvcnQge0RFVl9NT0RFfSBmcm9tICcuLi9lbnZpcm9ubWVudC9kZXYnO1xuaW1wb3J0IHthc3NlcnRJc1RlbXBsYXRlT2JqZWN0fSBmcm9tICcuLi9pbnRlcm5hbHMvc3RyaW5nX2xpdGVyYWwnO1xuaW1wb3J0IHtcbiAgY3JlYXRlU3R5bGVJbnRlcm5hbCxcbiAgU2FmZVN0eWxlLFxuICB1bndyYXBTdHlsZSxcbn0gZnJvbSAnLi4vaW50ZXJuYWxzL3N0eWxlX2ltcGwnO1xuaW1wb3J0IHtTYWZlVXJsfSBmcm9tICcuLi9pbnRlcm5hbHMvdXJsX2ltcGwnO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBTYWZlU3R5bGUgb2JqZWN0IGZyb20gYSB0ZW1wbGF0ZSBsaXRlcmFsICh3aXRob3V0IGFueSBlbWJlZGRlZFxuICogZXhwcmVzc2lvbnMpLlxuICpcbiAqIGAgc3R5bGVgIHNob3VsZCBiZSBpbiB0aGUgZm9ybWF0XG4gKiBgIG5hbWU6IHZhbHVlOyBbbmFtZTogdmFsdWU7IC4uLl1gIGFuZCBtdXN0IG5vdCBoYXZlIGFueSA8IG9yID5cbiAqIGNoYXJhY3RlcnMgaW4gaXQuIFRoaXMgaXMgc28gdGhhdCBTYWZlU3R5bGUncyBjb250cmFjdCBpcyBwcmVzZXJ2ZWQsXG4gKiBhbGxvd2luZyB0aGUgU2FmZVN0eWxlIHRvIGNvcnJlY3RseSBiZSBpbnRlcnByZXRlZCBhcyBhIHNlcXVlbmNlIG9mIENTU1xuICogZGVjbGFyYXRpb25zIGFuZCB3aXRob3V0IGFmZmVjdGluZyB0aGUgc3ludGFjdGljIHN0cnVjdHVyZSBvZiBhbnlcbiAqIHN1cnJvdW5kaW5nIENTUyBhbmQgSFRNTC5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIGEgdGVtcGxhdGUgbGl0ZXJhbCB0YWcgZnVuY3Rpb24uIEl0IHNob3VsZCBiZSBjYWxsZWQgd2l0aFxuICogYSB0ZW1wbGF0ZSBsaXRlcmFsIHRoYXQgZG9lcyBub3QgY29udGFpbiBhbnkgZXhwcmVzc2lvbnMuIEZvciBleGFtcGxlLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgIHNhZmVTdHlsZWBmb29gO1xuICogVGhpcyBmdW5jdGlvbiBmaXJzdCBjaGVja3MgaWYgaXQgaXMgY2FsbGVkIHdpdGggYSBsaXRlcmFsIHRlbXBsYXRlLCBhbmRcbiAqIHRoZW4gcGVyZm9ybXMgYmFzaWMgc2FuaXR5IGNoZWNrcyBvbiB0aGUgZm9ybWF0IG9mIGAgc3R5bGVgXG4gKiBidXQgZG9lcyBub3QgY29uc3RyYWluIHRoZSBmb3JtYXQgb2YgYCBuYW1lfSBhbmQge0Bjb2RlIHZhbHVlYCwgZXhjZXB0XG4gKiBmb3IgZGlzYWxsb3dpbmcgdGFnIGNoYXJhY3RlcnMuXG4gKlxuICogQHBhcmFtIHRlbXBsYXRlT2JqIFRoaXMgY29udGFpbnMgdGhlIGxpdGVyYWwgcGFydCBvZiB0aGUgdGVtcGxhdGUgbGl0ZXJhbC5cbiAqXG4gKiBAZGVwcmVjYXRlZCBJbmxpbmUgc3R5bGVzIGRvIG5vdCBwb3NlIGEgc2VjdXJpdHkgcmlzayB3aXRoIG1vZGVybiBicm93c2Vyc1xuICogICAgIGFueW1vcmUsIHNvIHRoZXJlJ3Mgbm8gbmVlZCB0byB1c2UgdGhpcyBmdW5jdGlvbi4gUGxlYXNlIHVzZSBuYXRpdmVcbiAqICAgICBzdHlsZSBwcm9wZXJ0aWVzIG9uIHRoZSBlbGVtZW50IG9yIHN0cmluZyBmdW5jdGlvbnMgaW5zdGVhZC5cbiAqICAgICBTZWUgZ28vZGVsZXRpbmctc2FmZXN0eWxlIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICogICAgIFJlYWNoIG91dCB0byBodHRwOi8veWFxcy9pc2Utd2ViIGlmIHlvdSBoYXZlIGFueSBxdWVzdGlvbnMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzYWZlU3R5bGUoXG4gIHRlbXBsYXRlT2JqOiBUZW1wbGF0ZVN0cmluZ3NBcnJheSxcbiAgLi4ucmVzdDogQXJyYXk8c3RyaW5nIHwgU2FmZVVybCB8IG51bWJlcj5cbik6IFNhZmVTdHlsZSB7XG4gIGlmIChERVZfTU9ERSkge1xuICAgIGFzc2VydElzVGVtcGxhdGVPYmplY3QodGVtcGxhdGVPYmosIHJlc3QubGVuZ3RoKTtcbiAgfVxuXG4gIGxldCBzdHJpbmdpZmllZFN0eWxlID0gdGVtcGxhdGVPYmpbMF07XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdGVtcGxhdGVPYmoubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgc3RyaW5naWZpZWRTdHlsZSArPSBTdHJpbmcocmVzdFtpXSkgKyB0ZW1wbGF0ZU9ialtpICsgMV07XG4gIH1cbiAgaWYgKC9bPD5dLy50ZXN0KHN0cmluZ2lmaWVkU3R5bGUpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgJ0ZvcmJpZGRlbiBjaGFyYWN0ZXJzIGluIHN0eWxlIHN0cmluZzogJyArIHN0cmluZ2lmaWVkU3R5bGUsXG4gICAgKTtcbiAgfVxuICBpZiAoREVWX01PREUpIHtcbiAgICBpZiAoc3RyaW5naWZpZWRTdHlsZS5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBjcmVhdGVTdHlsZUludGVybmFsKHN0cmluZ2lmaWVkU3R5bGUpO1xuICAgIH1cblxuICAgIGlmICghLzskLy50ZXN0KHN0cmluZ2lmaWVkU3R5bGUpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdTdHlsZSBzdHJpbmcgZG9lcyBub3QgZW5kIHdpdGggXCI7XCI6ICcgKyBzdHJpbmdpZmllZFN0eWxlLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoIS86Ly50ZXN0KHN0cmluZ2lmaWVkU3R5bGUpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdTdHlsZSBzdHJpbmcgc2hvdWxkIGNvbnRhaW4gb25lIG9yIG1vcmUgXCI6XCI6ICcgKyBzdHJpbmdpZmllZFN0eWxlLFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gY3JlYXRlU3R5bGVJbnRlcm5hbChzdHJpbmdpZmllZFN0eWxlKTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgYFNhZmVTdHlsZWAgdmFsdWUgZnJvbSBhIHN0cmluZy5cbiAqXG4gKiBAZGVwcmVjYXRlZCBOb3RlOiBUaGlzIGZ1bmN0aW9uIG9ubHkgZXhpc3RzIGZvciBjb21wYXRpYmlsaXR5IHJlYXNvbnMgdG8gaGVscFxuICogICAgIG1pZ3JhdGUgYXdheSBmcm9tIGBTYWZlU3R5bGVgXG4gKiAgICAgU2VlIGdvL2RlbGV0aW5nLXNhZmVzdHlsZSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAqICAgICBSZWFjaCBvdXQgdG8gaHR0cDovL3lhcXMvaXNlLXdlYiBpZiB5b3UgaGF2ZSBhbnkgcXVlc3Rpb25zLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc3R5bGVGb3JNaWdyYXRpb24oc3R5bGU6IHN0cmluZyk6IFNhZmVTdHlsZSB7XG4gIHJldHVybiBjcmVhdGVTdHlsZUludGVybmFsKHN0eWxlKTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgYFNhZmVTdHlsZWAgdmFsdWUgYnkgY29uY2F0ZW5hdGluZyBtdWx0aXBsZSBgU2FmZVN0eWxlYHMuXG4gKlxuICogQGRlcHJlY2F0ZWQgSW5saW5lIHN0eWxlcyBkbyBub3QgcG9zZSBhIHNlY3VyaXR5IHJpc2sgd2l0aCBtb2Rlcm4gYnJvd3NlcnNcbiAqICAgICBhbnltb3JlLCBzbyB0aGVyZSdzIG5vIG5lZWQgdG8gdXNlIHRoaXMgZnVuY3Rpb24uIFBsZWFzZSB1c2UgbmF0aXZlXG4gKiAgICAgc3R5bGUgcHJvcGVydGllcyBvbiB0aGUgZWxlbWVudCBvciBzdHJpbmcgZnVuY3Rpb25zIGluc3RlYWQuXG4gKiAgICAgU2VlIGdvL2RlbGV0aW5nLXNhZmVzdHlsZSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAqICAgICBSZWFjaCBvdXQgdG8gaHR0cDovL3lhcXMvaXNlLXdlYiBpZiB5b3UgaGF2ZSBhbnkgcXVlc3Rpb25zLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY29uY2F0U3R5bGVzKHN0eWxlczogcmVhZG9ubHkgU2FmZVN0eWxlW10pOiBTYWZlU3R5bGUge1xuICByZXR1cm4gY3JlYXRlU3R5bGVJbnRlcm5hbChzdHlsZXMubWFwKHVud3JhcFN0eWxlKS5qb2luKCcnKSk7XG59XG4iXX0=
;return exports;});

//third_party/javascript/safevalues/reporting/reporting.closure.js
goog.loadModule(function(exports) {'use strict';/**
 * @license
 * Copyright Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
/**
 * @fileoverview added by tsickle
 * Generated from: third_party/javascript/safevalues/reporting/reporting.ts
 * @suppress {checkTypes} added by tsickle
 * @suppress {extraRequire} added by tsickle
 * @suppress {missingRequire} added by tsickle
 * @suppress {uselessCode} added by tsickle
 * @suppress {suspiciousCode} added by tsickle
 * @suppress {missingReturn} added by tsickle
 * @suppress {unusedPrivateMembers} added by tsickle
 * @suppress {missingOverride} added by tsickle
 * @suppress {const} added by tsickle
 */
goog.module('google3.third_party.javascript.safevalues.reporting.reporting');
var module = module || { id: 'third_party/javascript/safevalues/reporting/reporting.closure.js' };
goog.require('google3.third_party.javascript.tslib.tslib');
const tsickle_html_builders_1 = goog.requireType("google3.third_party.javascript.safevalues.builders.html_builders");
const tsickle_html_sanitizer_2 = goog.requireType("google3.third_party.javascript.safevalues.builders.html_sanitizer.html_sanitizer");
const tsickle_dev_3 = goog.requireType("google3.third_party.javascript.safevalues.environment.dev");
const html_builders_1 = goog.require('google3.third_party.javascript.safevalues.builders.html_builders');
const html_sanitizer_1 = goog.require('google3.third_party.javascript.safevalues.builders.html_sanitizer.html_sanitizer');
const dev_1 = goog.require('google3.third_party.javascript.safevalues.environment.dev');
/**
 * If {\@link legacyUnsafeHtml} is being used with a
 * `reportingId` to enable reporting, the percentage of sampled calls that
 * will be checked for active content. The key is the first character of the
 * `reportingId` and the float is the proportion of requests (in the range
 * 0.0-1.0).
 * @type {!Object<string,number>}
 */
const REPORTING_ID_PREFIX_TO_SAMPLING_RATE = {
    '0': 1.0,
    '1': 1.0,
};
/**
 * If {\@link legacyUnsafeHtml} is being used with a
 * `reportingId` to enable reporting, the percentage of sampled calls that
 * will trigger a heartbeat report to notify us that the function is being
 * called. The key is the first character of the `reportingId` and the float
 * is the proportion of requests (in the range 0.0-1.0).
 *
 * Note: This means that effectively samplingRate*heartbeatRate calls will send
 * a heartbeat.
 * @type {!Object<string,number>}
 */
const REPORTING_ID_PREFIX_TO_HEARTBEAT_RATE = {
    '0': 0.1,
    '1': 0.1,
};
/**
 * Options for configuring reporting used for {\@link legacyUnsafeHtml}.
 * @record
 */
function ReportingOptions() { }
exports.ReportingOptions = ReportingOptions;
/* istanbul ignore if */
if (false) {
    /**
     * A unique ID that identifies the callsite of a specific legacy conversion.
     * If this option is set, the legacy conversion becomes a report-only legacy
     * conversion that logs whether the callsite can be converted to a safer
     * alternative to the go/security-collector. See
     * go/report-only-safehtml-legacy-exemptions for more details on this design
     * and project.
     *
     * This is set via LSC and should not be manually changed.
     * @type {string}
     * @public
     */
    ReportingOptions.prototype.reportingId;
    /**
     * Override {\@link DEFAULT_SAMPLING_RATE} for this specific
     * legacy conversion. It is generally not necessary to use this override
     * unless this legacy conversion is triggering a massive number of reports and
     * it is necessary to decrease the sampling rate to decrease the number of
     * reports.
     * @type {(undefined|number)}
     * @public
     */
    ReportingOptions.prototype.samplingRate;
    /**
     * Override {\@link DEFAULT_HEARTBEAT_RATE} for this specific
     * legacy conversion. It is generally not necessary to use this override
     * unless this legacy conversion is triggering a massive number of reports and
     * it is necessary to decrease the sampling rate to decrease the number of
     * reports.
     * @type {(undefined|number)}
     * @public
     */
    ReportingOptions.prototype.heartbeatRate;
    /**
     * Override for how reports associated with this legacy conversion will be
     * sent to the go/security-collector. It is generally not necessary to use
     * this override unless a caller needs to change how reports are collected
     * (e.g. choosing to collect them via a service's own collection
     * infrastructure).
     * @type {(undefined|function(string, string): void)}
     * @public
     */
    ReportingOptions.prototype.sendReport;
}
/**
 * Passes through the given HTML string unchanged, but logs metadata about
 * whether various transformations would have changed the input to the security
 * collector.
 *
 * Note that this purposefully does not return a SafeHtml and is meant to be
 * used in scenarios where we do not want to introduce a legacy conversion.
 * @param {string} s
 * @param {(undefined|!ReportingOptions)=} options
 * @return {string}
 */
function reportOnlyHtmlPassthrough(s, options) {
    if (!options || !isCallSampled(options) || isReportingDisabled()) {
        return s;
    }
    if (isBrowserIncompatibleWithSanitizing()) {
        // Avoid sanitization for browsers that are incompatible with the sanitizer
        // so that this function never crashes.
        return s;
    }
    maybeSendHeartbeat(options);
    /** @type {boolean} */
    const changedBySanitizing = isChangedBySanitizing(s, options);
    if (!changedBySanitizing) {
        // Note: If something gets changed by the sanitizer, it will also
        // inevitably get changed by escaping as the sanitizer will always
        // preserve single text nodes.
        isChangedByEscaping(s, options);
    }
    return s;
}
exports.reportOnlyHtmlPassthrough = reportOnlyHtmlPassthrough;
/**
 * @return {boolean}
 */
function isBrowserIncompatibleWithSanitizing() {
    // Currently the only known incompatibility is cobalt which doesn't support
    // document.createDocumentFragment. See b/28115809. This method of detecting
    // if DocumentFragment is supported is based on
    // google3/chrome/dongle/web_framework/app_cobalt/polyfills/document_fragment.ts?rcl=482322361
    // TODO(b/255336776): Remove this once the sanitizer is able to run on Cobalt
    return !('DocumentFragment' in window);
}
/**
 * @param {!ReportingOptions} options
 * @return {boolean}
 */
function isCallSampled(options) {
    return (Math.random() <
        (options.samplingRate ??
            REPORTING_ID_PREFIX_TO_SAMPLING_RATE[options.reportingId[0]] ??
            0.0));
}
/**
 * @return {boolean}
 */
function isReportingDisabled() {
    // Note that if it is undefined, then that means reporting should be enabled
    return window['SAFEVALUES_REPORTING'] === false;
}
/**
 * @param {!ReportingOptions} options
 * @return {void}
 */
function maybeSendHeartbeat(options) {
    if (Math.random() <
        (options.heartbeatRate ??
            REPORTING_ID_PREFIX_TO_HEARTBEAT_RATE[options.reportingId[0]] ??
            0.0)) {
        // Report a heartbeat signifying that the legacy conversion is being called
        reportLegacyConversion(options, ReportingType.HEARTBEAT);
    }
}
/**
 * @param {string} s
 * @param {!ReportingOptions} options
 * @return {boolean}
 */
function isChangedByEscaping(s, options) {
    if ((0, html_builders_1.htmlEscape)(s).toString() !== s) {
        // The legacy conversion is being used with something other than plain
        // text
        reportLegacyConversion(options, ReportingType.HTML_CHANGED_BY_ESCAPING);
        return true;
    }
    return false;
}
/**
 * @param {string} s
 * @param {!ReportingOptions} options
 * @return {boolean}
 */
function isChangedBySanitizing(s, options) {
    // First try checking if it is changed by the super lenient sanitizer. If it
    // is changed by the super lenient sanitizer, report that and return true.
    try {
        (0, html_sanitizer_1.superLenientlySanitizeHtmlAssertUnchanged)(s);
        // Continue
    }
    catch (e) {
        // A regex that matches corp domains to ensure that we only record
        // additional data if the request is in dev mode AND is an internal request
        // from a Googler. External facing domains should never be added to this
        // list.
        /** @type {!RegExp} */
        const corpRe = /([.]corp[.]google[.]com|[.]proxy[.]googleprod[.]com|[.]googlers[.]com)$/;
        if (dev_1.DEV_MODE &&
            corpRe.test(window.location.hostname) &&
            e instanceof Error) {
            reportLegacyConversion(options, ReportingType.HTML_CHANGED_BY_SUPER_LENIENT_SANITIZING, (/** @type {!Error} */ (e)).message);
        }
        else {
            reportLegacyConversion(options, ReportingType.HTML_CHANGED_BY_SUPER_LENIENT_SANITIZING);
        }
        return true;
    }
    // If it isn't changed by the super lenient sanitizer, fall back to the
    // relaxed sanitizer.
    try {
        (0, html_sanitizer_1.lenientlySanitizeHtmlAssertUnchanged)(s);
        // Continue
    }
    catch {
        reportLegacyConversion(options, ReportingType.HTML_CHANGED_BY_RELAXED_SANITIZING);
        return true;
    }
    // If it isn't changed by the relaxed sanitizer, see if it is changed by the
    // strict sanitizer. If possible we'd rather migrate legacy conversions to the
    // strict sanitizer.
    try {
        (0, html_sanitizer_1.sanitizeHtmlAssertUnchanged)(s);
        // Continue
    }
    catch {
        reportLegacyConversion(options, ReportingType.HTML_CHANGED_BY_SANITIZING);
        return true;
    }
    // It wasn't changed by either sanitizer
    return false;
}
/**
 * The type of the report
 * @enum {string}
 */
const ReportingType = {
    // The type if the report signifies just that the legacy conversion was
    // called.
    HEARTBEAT: "HEARTBEAT",
    // The type if the report signifies that the legacy conversion code crashed.
    CRASHED: "CRASHED",
    // The type if the report signifies that escaping the input changed it.
    HTML_CHANGED_BY_ESCAPING: "H_ESCAPE",
    // The type if the report signifies that sanitizing the input with the strict
    // sanitizer changed it.
    HTML_CHANGED_BY_SANITIZING: "H_SANITIZE",
    // The type if the report signifies that sanitizing the input with the relaxed
    // sanitizer changed it.
    HTML_CHANGED_BY_RELAXED_SANITIZING: "H_RSANITIZE",
    // The type if the report signifies that sanitizing the input with the super
    // lenient sanitizer changed it.
    HTML_CHANGED_BY_SUPER_LENIENT_SANITIZING: "H_SLSANITIZE",
};
/**
 * @param {!ReportingOptions} options
 * @param {!ReportingType} type
 * @param {(undefined|string)=} additionalData
 * @return {void}
 */
function reportLegacyConversion(options, type, additionalData) {
    /** @type {?} */
    let sendReport = undefined;
    if (exports.TEST_ONLY.sendReport) {
        sendReport = exports.TEST_ONLY.sendReport;
    }
    else if (typeof window !== 'undefined' &&
        window.navigator &&
        window.navigator.sendBeacon !== undefined) {
        sendReport = navigator.sendBeacon.bind(navigator);
    }
    else {
        sendReport = sendBeaconPolyfill;
    }
    /** @type {!ReportingPayload} */
    const payload = {
        'host': window.location.hostname,
        'type': type,
        'additionalData': additionalData,
    };
    sendReport('https://csp.withgoogle.com/csp/lcreport/' + options.reportingId, JSON.stringify(payload));
}
/**
 * A very naive polyfill for navigator.sendBeacon for browsers that don't
 * support navigator.sendBeacon.
 * @param {string} url
 * @param {string} body
 * @return {void}
 */
function sendBeaconPolyfill(url, body) {
    /** @type {!XMLHttpRequest} */
    const req = new XMLHttpRequest();
    req.open('POST', url);
    req.setRequestHeader('Content-Type', 'application/json');
    req.send(body);
}
/**
 * @record
 */
function TestOnlyOptions() { }
/* istanbul ignore if */
if (false) {
    /**
     * @type {(undefined|function(string, string): void)}
     * @public
     */
    TestOnlyOptions.prototype.sendReport;
    /**
     * @type {function(): void}
     * @public
     */
    TestOnlyOptions.prototype.reset;
}
/** @type {!TestOnlyOptions} */
exports.TEST_ONLY = {
    reset: (/**
     * @return {void}
     */
    () => {
        exports.TEST_ONLY.sendReport = undefined;
    }),
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVwb3J0aW5nLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vdGhpcmRfcGFydHkvamF2YXNjcmlwdC9zYWZldmFsdWVzL3JlcG9ydGluZy9yZXBvcnRpbmcudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBTUEseUdBQXFEO0FBQ3JELDBIQUltRDtBQUNuRCx3RkFBNEM7Ozs7Ozs7OztNQWV0QyxvQ0FBb0MsR0FBOEI7SUFDdEUsR0FBRyxFQUFFLEdBQUc7SUFDUixHQUFHLEVBQUUsR0FBRztDQUNUOzs7Ozs7Ozs7Ozs7TUFZSyxxQ0FBcUMsR0FBOEI7SUFDdkUsR0FBRyxFQUFFLEdBQUc7SUFDUixHQUFHLEVBQUUsR0FBRztDQUNUOzs7OztBQUtELCtCQXVDQzs7Ozs7Ozs7Ozs7Ozs7OztJQTVCQyx1Q0FBb0I7Ozs7Ozs7Ozs7SUFTcEIsd0NBQXNCOzs7Ozs7Ozs7O0lBU3RCLHlDQUF1Qjs7Ozs7Ozs7OztJQVN2QixzQ0FBaUQ7Ozs7Ozs7Ozs7Ozs7QUFXbkQsU0FBZ0IseUJBQXlCLENBQ3ZDLENBQVMsRUFDVCxPQUEwQjtJQUUxQixJQUFJLENBQUMsT0FBTyxJQUFJLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxJQUFJLG1CQUFtQixFQUFFLEVBQUUsQ0FBQztRQUNqRSxPQUFPLENBQUMsQ0FBQztJQUNYLENBQUM7SUFDRCxJQUFJLG1DQUFtQyxFQUFFLEVBQUUsQ0FBQztRQUMxQywyRUFBMkU7UUFDM0UsdUNBQXVDO1FBQ3ZDLE9BQU8sQ0FBQyxDQUFDO0lBQ1gsQ0FBQztJQUNELGtCQUFrQixDQUFDLE9BQU8sQ0FBQyxDQUFDOztVQUN0QixtQkFBbUIsR0FBRyxxQkFBcUIsQ0FBQyxDQUFDLEVBQUUsT0FBTyxDQUFDO0lBQzdELElBQUksQ0FBQyxtQkFBbUIsRUFBRSxDQUFDOzs7O1FBSXpCLG1CQUFtQixDQUFDLENBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQztJ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LGNBQWMsRUFBRTtJQUNoQyxHQUFHLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFHLENBQUMsQ0FBQztJQUN0QixHQUFHLENBQUMsZ0JBQWdCLENBQUMsY0FBYyxFQUFFLGtCQUFrQixDQUFDLENBQUM7SUFDekQsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUNqQixDQUFDOzs7O0FBRUQsOEJBR0M7Ozs7Ozs7SUFGQyxxQ0FBaUQ7Ozs7O0lBQ2pELGdDQUFrQjs7O0FBRVAsUUFBQSxTQUFTLEdBQW9CO0lBQ3hDLEtBQUs7OztJQUFFLEdBQUcsRUFBRTtRQUNWLGlCQUFTLENBQUMsVUFBVSxHQUFHLFNBQVMsQ0FBQztJQUNuQyxDQUFDLENBQUE7Q0FDRiIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbmltcG9ydCB7aHRtbEVzY2FwZX0gZnJvbSAnLi4vYnVpbGRlcnMvaHRtbF9idWlsZGVycyc7XG5pbXBvcnQge1xuICBsZW5pZW50bHlTYW5pdGl6ZUh0bWxBc3NlcnRVbmNoYW5nZWQsXG4gIHNhbml0aXplSHRtbEFzc2VydFVuY2hhbmdlZCxcbiAgc3VwZXJMZW5pZW50bHlTYW5pdGl6ZUh0bWxBc3NlcnRVbmNoYW5nZWQsXG59IGZyb20gJy4uL2J1aWxkZXJzL2h0bWxfc2FuaXRpemVyL2h0bWxfc2FuaXRpemVyJztcbmltcG9ydCB7REVWX01PREV9IGZyb20gJy4uL2Vudmlyb25tZW50L2Rldic7XG5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgZXhwb3J0IGludGVyZmFjZSBXaW5kb3cge1xuICAgIFNBRkVWQUxVRVNfUkVQT1JUSU5HPzogYm9vbGVhbjtcbiAgfVxufVxuXG4vKipcbiAqIElmIHtAbGluayBsZWdhY3lVbnNhZmVIdG1sfSBpcyBiZWluZyB1c2VkIHdpdGggYVxuICogYHJlcG9ydGluZ0lkYCB0byBlbmFibGUgcmVwb3J0aW5nLCB0aGUgcGVyY2VudGFnZSBvZiBzYW1wbGVkIGNhbGxzIHRoYXRcbiAqIHdpbGwgYmUgY2hlY2tlZCBmb3IgYWN0aXZlIGNvbnRlbnQuIFRoZSBrZXkgaXMgdGhlIGZpcnN0IGNoYXJhY3RlciBvZiB0aGVcbiAqIGByZXBvcnRpbmdJZGAgYW5kIHRoZSBmbG9hdCBpcyB0aGUgcHJvcG9ydGlvbiBvZiByZXF1ZXN0cyAoaW4gdGhlIHJhbmdlXG4gKiAwLjAtMS4wKS5cbiAqL1xuY29uc3QgUkVQT1JUSU5HX0lEX1BSRUZJWF9UT19TQU1QTElOR19SQVRFOiB7W2luZGV4OiBzdHJpbmddOiBudW1iZXJ9ID0ge1xuICAnMCc6IDEuMCxcbiAgJzEnOiAxLjAsXG59O1xuXG4vKipcbiAqIElmIHtAbGluayBsZWdhY3lVbnNhZmVIdG1sfSBpcyBiZWluZyB1c2VkIHdpdGggYVxuICogYHJlcG9ydGluZ0lkYCB0byBlbmFibGUgcmVwb3J0aW5nLCB0aGUgcGVyY2VudGFnZSBvZiBzYW1wbGVkIGNhbGxzIHRoYXRcbiAqIHdpbGwgdHJpZ2dlciBhIGhlYXJ0YmVhdCByZXBvcnQgdG8gbm90aWZ5IHVzIHRoYXQgdGhlIGZ1bmN0aW9uIGlzIGJlaW5nXG4gKiBjYWxsZWQuIFRoZSBrZXkgaXMgdGhlIGZpcnN0IGNoYXJhY3RlciBvZiB0aGUgYHJlcG9ydGluZ0lkYCBhbmQgdGhlIGZsb2F0XG4gKiBpcyB0aGUgcHJvcG9ydGlvbiBvZiByZXF1ZXN0cyAoaW4gdGhlIHJhbmdlIDAuMC0xLjApLlxuICpcbiAqIE5vdGU6IFRoaXMgbWVhbnMgdGhhdCBlZmZlY3RpdmVseSBzYW1wbGluZ1JhdGUqaGVhcnRiZWF0UmF0ZSBjYWxscyB3aWxsIHNlbmRcbiAqIGEgaGVhcnRiZWF0LlxuICovXG5jb25zdCBSRVBPUlRJTkdfSURfUFJFRklYX1RPX0hFQVJUQkVBVF9SQVRFOiB7W2luZGV4OiBzdHJpbmddOiBudW1iZXJ9ID0ge1xuICAnMCc6IDAuMSxcbiAgJzEnOiAwLjEsXG59O1xuXG4vKipcbiAqIE9wdGlvbnMgZm9yIGNvbmZpZ3VyaW5nIHJlcG9ydGluZyB1c2VkIGZvciB7QGxpbmsgbGVnYWN5VW5zYWZlSHRtbH0uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVwb3J0aW5nT3B0aW9ucyB7XG4gIC8qKlxuICAgKiBBIHVuaXF1ZSBJRCB0aGF0IGlkZW50aWZpZXMgdGhlIGNhbGxzaXRlIG9mIGEgc3BlY2lmaWMgbGVnYWN5IGNvbnZlcnNpb24uXG4gICAqIElmIHRoaXMgb3B0aW9uIGlzIHNldCwgdGhlIGxlZ2FjeSBjb252ZXJzaW9uIGJlY29tZXMgYSByZXBvcnQtb25seSBsZWdhY3lcbiAgICogY29udmVyc2lvbiB0aGF0IGxvZ3Mgd2hldGhlciB0aGUgY2FsbHNpdGUgY2FuIGJlIGNvbnZlcnRlZCB0byBhIHNhZmVyXG4gICAqIGFsdGVybmF0aXZlIHRvIHRoZSBnby9zZWN1cml0eS1jb2xsZWN0b3IuIFNlZVxuICAgKiBnby9yZXBvcnQtb25seS1zYWZlaHRtbC1sZWdhY3ktZXhlbXB0aW9ucyBmb3IgbW9yZSBkZXRhaWxzIG9uIHRoaXMgZGVzaWduXG4gICAqIGFuZCBwcm9qZWN0LlxuICAgKlxuICAgKiBUaGlzIGlzIHNldCB2aWEgTFNDIGFuZCBzaG91bGQgbm90IGJlIG1hbnVhbGx5IGNoYW5nZWQuXG4gICAqL1xuICByZXBvcnRpbmdJZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBPdmVycmlkZSB7QGxpbmsgREVGQVVMVF9TQU1QTElOR19SQVRFfSBmb3IgdGhpcyBzcGVjaWZpY1xuICAgKiBsZWdhY3kgY29udmVyc2lvbi4gSXQgaXMgZ2VuZXJhbGx5IG5vdCBuZWNlc3NhcnkgdG8gdXNlIHRoaXMgb3ZlcnJpZGVcbiAgICogdW5sZXNzIHRoaXMgbGVnYWN5IGNvbnZlcnNpb24gaXMgdHJpZ2dlcmluZyBhIG1hc3NpdmUgbnVtYmVyIG9mIHJlcG9ydHMgYW5kXG4gICAqIGl0IGlzIG5lY2Vzc2FyeSB0byBkZWNyZWFzZSB0aGUgc2FtcGxpbmcgcmF0ZSB0byBkZWNyZWFzZSB0aGUgbnVtYmVyIG9mXG4gICAqIHJlcG9ydHMuXG4gICAqL1xuICBzYW1wbGluZ1JhdGU/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIE92ZXJyaWRlIHtAbGluayBERUZBVUxUX0hFQVJUQkVBVF9SQVRFfSBmb3IgdGhpcyBzcGVjaWZpY1xuICAgKiBsZWdhY3kgY29udmVyc2lvbi4gSXQgaXMgZ2VuZXJhbGx5IG5vdCBuZWNlc3NhcnkgdG8gdXNlIHRoaXMgb3ZlcnJpZGVcbiAgICogdW5sZXNzIHRoaXMgbGVnYWN5IGNvbnZlcnNpb24gaXMgdHJpZ2dlcmluZyBhIG1hc3NpdmUgbnVtYmVyIG9mIHJlcG9ydHMgYW5kXG4gICAqIGl0IGlzIG5lY2Vzc2FyeSB0byBkZWNyZWFzZSB0aGUgc2FtcGxpbmcgcmF0ZSB0byBkZWNyZWFzZSB0aGUgbnVtYmVyIG9mXG4gICAqIHJlcG9ydHMuXG4gICAqL1xuICBoZWFydGJlYXRSYXRlPzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBPdmVycmlkZSBmb3IgaG93IHJlcG9ydHMgYXNzb2NpYXRlZCB3aXRoIHRoaXMgbGVnYWN5IGNvbnZlcnNpb24gd2lsbCBiZVxuICAgKiBzZW50IHRvIHRoZSBnby9zZWN1cml0eS1jb2xsZWN0b3IuIEl0IGlzIGdlbmVyYWxseSBub3QgbmVjZXNzYXJ5IHRvIHVzZVxuICAgKiB0aGlzIG92ZXJyaWRlIHVubGVzcyBhIGNhbGxlciBuZWVkcyB0byBjaGFuZ2UgaG93IHJlcG9ydHMgYXJlIGNvbGxlY3RlZFxuICAgKiAoZS5nLiBjaG9vc2luZyB0byBjb2xsZWN0IHRoZW0gdmlhIGEgc2VydmljZSdzIG93biBjb2xsZWN0aW9uXG4gICAqIGluZnJhc3RydWN0dXJlKS5cbiAgICovXG4gIHNlbmRSZXBvcnQ/OiAodXJsOiBzdHJpbmcsIGRhdGE6IHN0cmluZykgPT4gdm9pZDtcbn1cblxuLyoqXG4gKiBQYXNzZXMgdGhyb3VnaCB0aGUgZ2l2ZW4gSFRNTCBzdHJpbmcgdW5jaGFuZ2VkLCBidXQgbG9ncyBtZXRhZGF0YSBhYm91dFxuICogd2hldGhlciB2YXJpb3VzIHRyYW5zZm9ybWF0aW9ucyB3b3VsZCBoYXZlIGNoYW5nZWQgdGhlIGlucHV0IHRvIHRoZSBzZWN1cml0eVxuICogY29sbGVjdG9yLlxuICpcbiAqIE5vdGUgdGhhdCB0aGlzIHB1cnBvc2VmdWxseSBkb2VzIG5vdCByZXR1cm4gYSBTYWZlSHRtbCBhbmQgaXMgbWVhbnQgdG8gYmVcbiAqIHVzZWQgaW4gc2NlbmFyaW9zIHdoZXJlIHdlIGRvIG5vdCB3YW50IHRvIGludHJvZHVjZSBhIGxlZ2FjeSBjb252ZXJzaW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVwb3J0T25seUh0bWxQYXNzdGhyb3VnaChcbiAgczogc3RyaW5nLFxuICBvcHRpb25zPzogUmVwb3J0aW5nT3B0aW9ucyxcbik6IHN0cmluZyB7XG4gIGlmICghb3B0aW9ucyB8fCAhaXNDYWxsU2FtcGxlZChvcHRpb25zKSB8fCBpc1JlcG9ydGluZ0Rpc2FibGVkKCkpIHtcbiAgICByZXR1cm4gcztcbiAgfVxuICBpZiAoaXNCcm93c2VySW5jb21wYXRpYmxlV2l0aFNhbml0aXppbmcoKSkge1xuICAgIC8vIEF2b2lkIHNhbml0aXphdGlvbiBmb3IgYnJvd3NlcnMgdGhhdCBhcmUgaW5jb21wYXRpYmxlIHdpdGggdGhlIHNhbml0aXplclxuICAgIC8vIHNvIHRoYXQgdGhpcyBmdW5jdGlvbiBuZXZlciBjcmFzaGVzLlxuICAgIHJldHVybiBzO1xuICB9XG4gIG1heWJlU2VuZEhlYXJ0YmVhdChvcHRpb25zKTtcbiAgY29uc3QgY2hhbmdlZEJ5U2FuaXRpemluZyA9IGlzQ2hhbmdlZEJ5U2FuaXRpemluZyhzLCBvcHRpb25zKTtcbiAgaWYgKCFjaGFuZ2VkQnlTYW5pdGl6aW5nKSB7XG4gICAgLy8gTm90ZTogSWYgc29tZXRoaW5nIGdldHMgY2hhbmdlZCBieSB0aGUgc2FuaXRpemVyLCBpdCB3aWxsIGFsc29cbiAgICAvLyBpbmV2aXRhYmx5IGdldCBjaGFuZ2VkIGJ5IGVzY2FwaW5nIGFzIHRoZSBzYW5pdGl6ZXIgd2lsbCBhbHdheXNcbiAgICAvLyBwcmVzZXJ2ZSBzaW5nbGUgdGV4dCBub2Rlcy5cbiAgICBpc0NoYW5nZWRCeUVzY2FwaW5nKHMsIG9wdGlvbnMpO1xuICB9XG4gIHJldHVybiBzO1xufVxuXG5mdW5jdGlvbiBpc0Jyb3dzZXJJbmNvbXBhdGlibGVXaXRoU2FuaXRpemluZygpOiBib29sZWFuIHtcbiAgLy8gQ3VycmVudGx5IHRoZSBvbmx5IGtub3duIGluY29tcGF0aWJpbGl0eSBpcyBjb2JhbHQgd2hpY2ggZG9lc24ndCBzdXBwb3J0XG4gIC8vIGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQuIFNlZSBiLzI4MTE1ODA5LiBUaGlzIG1ldGhvZCBvZiBkZXRlY3RpbmdcbiAgLy8gaWYgRG9jdW1lbnRGcmFnbWVudCBpcyBzdXBwb3J0ZWQgaXMgYmFzZWQgb25cbiAgLy8gZ29vZ2xlMy9jaHJvbWUvZG9uZ2xlL3dlYl9mcmFtZXdvcmsvYXBwX2NvYmFsdC9wb2x5ZmlsbHMvZG9jdW1lbnRfZnJhZ21lbnQudHM/cmNsPTQ4MjMyMjM2MVxuICAvLyBUT0RPKGIvMjU1MzM2Nzc2KTogUmVtb3ZlIHRoaXMgb25jZSB0aGUgc2FuaXRpemVyIGlzIGFibGUgdG8gcnVuIG9uIENvYmFsdFxuICByZXR1cm4gISgnRG9jdW1lbnRGcmFnbWVudCcgaW4gd2luZG93KTtcbn1cblxuZnVuY3Rpb24gaXNDYWxsU2FtcGxlZChvcHRpb25zOiBSZXBvcnRpbmdPcHRpb25zKTogYm9vbGVhbiB7XG4gIHJldHVybiAoXG4gICAgTWF0aC5yYW5kb20oKSA8XG4gICAgKG9wdGlvbnMuc2FtcGxpbmdSYXRlID8/XG4gICAgICBSRVBPUlRJTkdfSURfUFJFRklYX1RPX1NBTVBMSU5HX1JBVEVbb3B0aW9ucy5yZXBvcnRpbmdJZFswXV0gPz9cbiAgICAgIDAuMClcbiAgKTtcbn1cblxuZnVuY3Rpb24gaXNSZXBvcnRpbmdEaXNhYmxlZCgpOiBib29sZWFuIHtcbiAgLy8gTm90ZSB0aGF0IGlmIGl0IGlzIHVuZGVmaW5lZCwgdGhlbiB0aGF0IG1lYW5zIHJlcG9ydGluZyBzaG91bGQgYmUgZW5hYmxlZFxuICByZXR1cm4gd2luZG93WydTQUZFVkFMVUVTX1JFUE9SVElORyddID09PSBmYWxzZTtcbn1cblxuZnVuY3Rpb24gbWF5YmVTZW5kSGVhcnRiZWF0KG9wdGlvbnM6IFJlcG9ydGluZ09wdGlvbnMpIHtcbiAgaWYgKFxuICAgIE1hdGgucmFuZG9tKCkgPFxuICAgIChvcHRpb25zLmhlYXJ0YmVhdFJhdGUgPz9cbiAgICAgIFJFUE9SVElOR19JRF9QUkVGSVhfVE9fSEVBUlRCRUFUX1JBVEVbb3B0aW9ucy5yZXBvcnRpbmdJZFswXV0gPz9cbiAgICAgIDAuMClcbiAgKSB7XG4gICAgLy8gUmVwb3J0IGEgaGVhcnRiZWF0IHNpZ25pZnlpbmcgdGhhdCB0aGUgbGVnYWN5IGNvbnZlcnNpb24gaXMgYmVpbmcgY2FsbGVkXG4gICAgcmVwb3J0TGVnYWN5Q29udmVyc2lvbihvcHRpb25zLCBSZXBvcnRpbmdUeXBlLkhFQVJUQkVBVCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaXNDaGFuZ2VkQnlFc2NhcGluZyhzOiBzdHJpbmcsIG9wdGlvbnM6IFJlcG9ydGluZ09wdGlvbnMpOiBib29sZWFuIHtcbiAgaWYgKGh0bWxFc2NhcGUocykudG9TdHJpbmcoKSAhPT0gcykge1xuICAgIC8vIFRoZSBsZWdhY3kgY29udmVyc2lvbiBpcyBiZWluZyB1c2VkIHdpdGggc29tZXRoaW5nIG90aGVyIHRoYW4gcGxhaW5cbiAgICAvLyB0ZXh0XG4gICAgcmVwb3J0TGVnYWN5Q29udmVyc2lvbihvcHRpb25zLCBSZXBvcnRpbmdUeXBlLkhUTUxfQ0hBTkdFRF9CWV9FU0NBUElORyk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBpc0NoYW5nZWRCeVNhbml0aXppbmcoczogc3RyaW5nLCBvcHRpb25zOiBSZXBvcnRpbmdPcHRpb25zKTogYm9vbGVhbiB7XG4gIC8vIEZpcnN0IHRyeSBjaGVja2luZyBpZiBpdCBpcyBjaGFuZ2VkIGJ5IHRoZSBzdXBlciBsZW5pZW50IHNhbml0aXplci4gSWYgaXRcbiAgLy8gaXMgY2hhbmdlZCBieSB0aGUgc3VwZXIgbGVuaWVudCBzYW5pdGl6ZXIsIHJlcG9ydCB0aGF0IGFuZCByZXR1cm4gdHJ1ZS5cbiAgdHJ5IHtcbiAgICBzdXBlckxlbmllbnRseVNhbml0aXplSHRtbEFzc2VydFVuY2hhbmdlZChzKTtcbiAgICAvLyBDb250aW51ZVxuICB9IGNhdGNoIChlKSB7XG4gICAgLy8gQSByZWdleCB0aGF0IG1hdGNoZXMgY29ycCBkb21haW5zIHRvIGVuc3VyZSB0aGF0IHdlIG9ubHkgcmVjb3JkXG4gICAgLy8gYWRkaXRpb25hbCBkYXRhIGlmIHRoZSByZXF1ZXN0IGlzIGluIGRldiBtb2RlIEFORCBpcyBhbiBpbnRlcm5hbCByZXF1ZXN0XG4gICAgLy8gZnJvbSBhIEdvb2dsZXIuIEV4dGVybmFsIGZhY2luZyBkb21haW5zIHNob3VsZCBuZXZlciBiZSBhZGRlZCB0byB0aGlzXG4gICAgLy8gbGlzdC5cbiAgICBjb25zdCBjb3JwUmUgPVxuICAgICAgLyhbLl1jb3JwWy5dZ29vZ2xlWy5dY29tfFsuXXByb3h5Wy5dZ29vZ2xlcHJvZFsuXWNvbXxbLl1nb29nbGVyc1suXWNvbSkkLztcbiAgICBpZiAoXG4gICAgICBERVZfTU9ERSAmJlxuICAgICAgY29ycFJlLnRlc3Qod2luZG93LmxvY2F0aW9uLmhvc3RuYW1lKSAmJlxuICAgICAgZSBpbnN0YW5jZW9mIEVycm9yXG4gICAgKSB7XG4gICAgICByZXBvcnRMZWdhY3lDb252ZXJzaW9uKFxuICAgICAgICBvcHRpb25zLFxuICAgICAgICBSZXBvcnRpbmdUeXBlLkhUTUxfQ0hBTkdFRF9CWV9TVVBFUl9MRU5JRU5UX1NBTklUSVpJTkcsXG4gICAgICAgIGUubWVzc2FnZSxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcG9ydExlZ2FjeUNvbnZlcnNpb24oXG4gICAgICAgIG9wdGlvbnMsXG4gICAgICAgIFJlcG9ydGluZ1R5cGUuSFRNTF9DSEFOR0VEX0JZX1NVUEVSX0xFTklFTlRfU0FOSVRJWklORyxcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLy8gSWYgaXQgaXNuJ3QgY2hhbmdlZCBieSB0aGUgc3VwZXIgbGVuaWVudCBzYW5pdGl6ZXIsIGZhbGwgYmFjayB0byB0aGVcbiAgLy8gcmVsYXhlZCBzYW5pdGl6ZXIuXG4gIHRyeSB7XG4gICAgbGVuaWVudGx5U2FuaXRpemVIdG1sQXNzZXJ0VW5jaGFuZ2VkKHMpO1xuICAgIC8vIENvbnRpbnVlXG4gIH0gY2F0Y2gge1xuICAgIHJlcG9ydExlZ2FjeUNvbnZlcnNpb24oXG4gICAgICBvcHRpb25zLFxuICAgICAgUmVwb3J0aW5nVHlwZS5IVE1MX0NIQU5HRURfQllfUkVMQVhFRF9TQU5JVElaSU5HLFxuICAgICk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvLyBJZiBpdCBpc24ndCBjaGFuZ2VkIGJ5IHRoZSByZWxheGVkIHNhbml0aXplciwgc2VlIGlmIGl0IGlzIGNoYW5nZWQgYnkgdGhlXG4gIC8vIHN0cmljdCBzYW5pdGl6ZXIuIElmIHBvc3NpYmxlIHdlJ2QgcmF0aGVyIG1pZ3JhdGUgbGVnYWN5IGNvbnZlcnNpb25zIHRvIHRoZVxuICAvLyBzdHJpY3Qgc2FuaXRpemVyLlxuICB0cnkge1xuICAgIHNhbml0aXplSHRtbEFzc2VydFVuY2hhbmdlZChzKTtcbiAgICAvLyBDb250aW51ZVxuICB9IGNhdGNoIHtcbiAgICByZXBvcnRMZWdhY3lDb252ZXJzaW9uKG9wdGlvbnMsIFJlcG9ydGluZ1R5cGUuSFRNTF9DSEFOR0VEX0JZX1NBTklUSVpJTkcpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLy8gSXQgd2Fzbid0IGNoYW5nZWQgYnkgZWl0aGVyIHNhbml0aXplclxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogVGhlIHR5cGUgb2YgdGhlIHJlcG9ydFxuICovXG5lbnVtIFJlcG9ydGluZ1R5cGUge1xuICAvLyBUaGUgdHlwZSBpZiB0aGUgcmVwb3J0IHNpZ25pZmllcyBqdXN0IHRoYXQgdGhlIGxlZ2FjeSBjb252ZXJzaW9uIHdhc1xuICAvLyBjYWxsZWQuXG4gIEhFQVJUQkVBVCA9ICdIRUFSVEJFQVQnLFxuXG4gIC8vIFRoZSB0eXBlIGlmIHRoZSByZXBvcnQgc2lnbmlmaWVzIHRoYXQgdGhlIGxlZ2FjeSBjb252ZXJzaW9uIGNvZGUgY3Jhc2hlZC5cbiAgQ1JBU0hFRCA9ICdDUkFTSEVEJyxcblxuICAvLyBUaGUgdHlwZSBpZiB0aGUgcmVwb3J0IHNpZ25pZmllcyB0aGF0IGVzY2FwaW5nIHRoZSBpbnB1dCBjaGFuZ2VkIGl0LlxuICBIVE1MX0NIQU5HRURfQllfRVNDQVBJTkcgPSAnSF9FU0NBUEUnLFxuXG4gIC8vIFRoZSB0eXBlIGlmIHRoZSByZXBvcnQgc2lnbmlmaWVzIHRoYXQgc2FuaXRpemluZyB0aGUgaW5wdXQgd2l0aCB0aGUgc3RyaWN0XG4gIC8vIHNhbml0aXplciBjaGFuZ2VkIGl0LlxuICBIVE1MX0NIQU5HRURfQllfU0FOSVRJWklORyA9ICdIX1NBTklUSVpFJyxcblxuICAvLyBUaGUgdHlwZSBpZiB0aGUgcmVwb3J0IHNpZ25pZmllcyB0aGF0IHNhbml0aXppbmcgdGhlIGlucHV0IHdpdGggdGhlIHJlbGF4ZWRcbiAgLy8gc2FuaXRpemVyIGNoYW5nZWQgaXQuXG4gIEhUTUxfQ0hBTkdFRF9CWV9SRUxBWEVEX1NBTklUSVpJTkcgPSAnSF9SU0FOSVRJWkUnLFxuXG4gIC8vIFRoZSB0eXBlIGlmIHRoZSByZXBvcnQgc2lnbmlmaWVzIHRoYXQgc2FuaXRpemluZyB0aGUgaW5wdXQgd2l0aCB0aGUgc3VwZXJcbiAgLy8gbGVuaWVudCBzYW5pdGl6ZXIgY2hhbmdlZCBpdC5cbiAgSFRNTF9DSEFOR0VEX0JZX1NVUEVSX0xFTklFTlRfU0FOSVRJWklORyA9ICdIX1NMU0FOSVRJWkUnLFxufVxuXG5kZWNsYXJlIGludGVyZmFjZSBSZXBvcnRpbmdQYXlsb2FkIHtcbiAgaG9zdDogc3RyaW5nO1xuICB0eXBlOiBSZXBvcnRpbmdUeXBlO1xuICBhZGRpdGlvbmFsRGF0YT86IHN0cmluZztcbn1cblxuZnVuY3Rpb24gcmVwb3J0TGVnYWN5Q29udmVyc2lvbihcbiAgb3B0aW9uczogUmVwb3J0aW5nT3B0aW9ucyxcbiAgdHlwZTogUmVwb3J0aW5nVHlwZSxcbiAgYWRkaXRpb25hbERhdGE/OiBzdHJpbmcsXG4pIHtcbiAgbGV0IHNlbmRSZXBvcnQgPSB1bmRlZmluZWQ7XG4gIGlmIChURVNUX09OTFkuc2VuZFJlcG9ydCkge1xuICAgIHNlbmRSZXBvcnQgPSBURVNUX09OTFkuc2VuZFJlcG9ydDtcbiAgfSBlbHNlIGlmIChcbiAgICB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJlxuICAgIHdpbmRvdy5uYXZpZ2F0b3IgJiZcbiAgICB3aW5kb3cubmF2aWdhdG9yLnNlbmRCZWFjb24gIT09IHVuZGVmaW5lZFxuICApIHtcbiAgICBzZW5kUmVwb3J0ID0gbmF2aWdhdG9yLnNlbmRCZWFjb24uYmluZChuYXZpZ2F0b3IpO1xuICB9IGVsc2Uge1xuICAgIHNlbmRSZXBvcnQgPSBzZW5kQmVhY29uUG9seWZpbGw7XG4gIH1cbiAgY29uc3QgcGF5bG9hZDogUmVwb3J0aW5nUGF5bG9hZCA9IHtcbiAgICAnaG9zdCc6IHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSxcbiAgICAndHlwZSc6IHR5cGUsXG4gICAgJ2FkZGl0aW9uYWxEYXRhJzogYWRkaXRpb25hbERhdGEsXG4gIH07XG4gIHNlbmRSZXBvcnQoXG4gICAgJ2h0dHBzOi8vY3NwLndpdGhnb29nbGUuY29tL2NzcC9sY3JlcG9ydC8nICsgb3B0aW9ucy5yZXBvcnRpbmdJZCxcbiAgICBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgKTtcbn1cblxuLyoqXG4gKiBBIHZlcnkgbmFpdmUgcG9seWZpbGwgZm9yIG5hdmlnYXRvci5zZW5kQmVhY29uIGZvciBicm93c2VycyB0aGF0IGRvbid0XG4gKiBzdXBwb3J0IG5hdmlnYXRvci5zZW5kQmVhY29uLlxuICovXG5mdW5jdGlvbiBzZW5kQmVhY29uUG9seWZpbGwodXJsOiBzdHJpbmcsIGJvZHk6IHN0cmluZykge1xuICBjb25zdCByZXEgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgcmVxLm9wZW4oJ1BPU1QnLCB1cmwpO1xuICByZXEuc2V0UmVxdWVzdEhlYWRlcignQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgcmVxLnNlbmQoYm9keSk7XG59XG5cbmludGVyZmFjZSBUZXN0T25seU9wdGlvbnMge1xuICBzZW5kUmVwb3J0PzogKHVybDogc3RyaW5nLCBib2R5OiBzdHJpbmcpID0+IHZvaWQ7XG4gIHJlc2V0OiAoKSA9PiB2b2lkO1xufVxuZXhwb3J0IGNvbnN0IFRFU1RfT05MWTogVGVzdE9ubHlPcHRpb25zID0ge1xuICByZXNldDogKCkgPT4ge1xuICAgIFRFU1RfT05MWS5zZW5kUmVwb3J0ID0gdW5kZWZpbmVkO1xuICB9LFxufTtcbiJdfQ==
;return exports;});

//third_party/javascript/safevalues/index.closure.js
goog.loadModule(function(exports) {'use strict';/**
 * @license
 * Copyright Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
/**
 * @fileoverview added by tsickle
 * Generated from: third_party/javascript/safevalues/index.ts
 * @suppress {checkTypes} added by tsickle
 * @suppress {extraRequire} added by tsickle
 * @suppress {missingRequire} added by tsickle
 * @suppress {uselessCode} added by tsickle
 * @suppress {suspiciousCode} added by tsickle
 * @suppress {missingReturn} added by tsickle
 * @suppress {unusedPrivateMembers} added by tsickle
 * @suppress {missingOverride} added by tsickle
 * @suppress {const} added by tsickle
 */
goog.module('google3.third_party.javascript.safevalues.index');
var module = module || { id: 'third_party/javascript/safevalues/index.closure.js' };
goog.require('google3.third_party.javascript.tslib.tslib');
const tsickle_attribute_builders_1 = goog.requireType("google3.third_party.javascript.safevalues.builders.attribute_builders");
const tsickle_document_fragment_builders_2 = goog.requireType("google3.third_party.javascript.safevalues.builders.document_fragment_builders");
const tsickle_html_builders_3 = goog.requireType("google3.third_party.javascript.safevalues.builders.html_builders");
const tsickle_html_formatter_4 = goog.requireType("google3.third_party.javascript.safevalues.builders.html_formatter");
const tsickle_default_css_sanitizer_5 = goog.requireType("google3.third_party.javascript.safevalues.builders.html_sanitizer.default_css_sanitizer");
const tsickle_html_sanitizer_6 = goog.requireType("google3.third_party.javascript.safevalues.builders.html_sanitizer.html_sanitizer");
const tsickle_html_sanitizer_builder_7 = goog.requireType("google3.third_party.javascript.safevalues.builders.html_sanitizer.html_sanitizer_builder");
const tsickle_resource_url_policy_8 = goog.requireType("google3.third_party.javascript.safevalues.builders.html_sanitizer.resource_url_policy");
const tsickle_resource_url_builders_9 = goog.requireType("google3.third_party.javascript.safevalues.builders.resource_url_builders");
const tsickle_script_builders_10 = goog.requireType("google3.third_party.javascript.safevalues.builders.script_builders");
const tsickle_style_builders_11 = goog.requireType("google3.third_party.javascript.safevalues.builders.style_builders");
const tsickle_style_sheet_builders_12 = goog.requireType("google3.third_party.javascript.safevalues.builders.style_sheet_builders");
const tsickle_url_builders_13 = goog.requireType("google3.third_party.javascript.safevalues.builders.url_builders");
const tsickle_attribute_impl_14 = goog.requireType("google3.third_party.javascript.safevalues.internals.attribute_impl");
const tsickle_html_impl_15 = goog.requireType("google3.third_party.javascript.safevalues.internals.html_impl");
const tsickle_resource_url_impl_16 = goog.requireType("google3.third_party.javascript.safevalues.internals.resource_url_impl");
const tsickle_script_impl_17 = goog.requireType("google3.third_party.javascript.safevalues.internals.script_impl");
const tsickle_style_impl_18 = goog.requireType("google3.third_party.javascript.safevalues.internals.style_impl");
const tsickle_style_sheet_impl_19 = goog.requireType("google3.third_party.javascript.safevalues.internals.style_sheet_impl");
const tsickle_url_impl_20 = goog.requireType("google3.third_party.javascript.safevalues.internals.url_impl");
const tsickle_reporting_21 = goog.requireType("google3.third_party.javascript.safevalues.reporting.reporting");
/** Safe builders */
const attribute_builders_1 = goog.require('google3.third_party.javascript.safevalues.builders.attribute_builders');
exports.safeAttrPrefix = attribute_builders_1.safeAttrPrefix;
const document_fragment_builders_1 = goog.require('google3.third_party.javascript.safevalues.builders.document_fragment_builders');
exports.htmlFragment = document_fragment_builders_1.htmlFragment;
exports.htmlToNode = document_fragment_builders_1.htmlToNode;
exports.svgFragment = document_fragment_builders_1.svgFragment;
const html_builders_1 = goog.require('google3.third_party.javascript.safevalues.builders.html_builders');
exports.concatHtmls = html_builders_1.concatHtmls;
exports.createHtml = html_builders_1.createHtml;
exports.doctypeHtml = html_builders_1.doctypeHtml;
exports.htmlEscape = html_builders_1.htmlEscape;
exports.joinHtmls = html_builders_1.joinHtmls;
exports.nodeToHtml = html_builders_1.nodeToHtml;
exports.scriptToHtml = html_builders_1.scriptToHtml;
exports.scriptUrlToHtml = html_builders_1.scriptUrlToHtml;
// BEGIN-INTERNAL
// TODO(b/333544967): Prettier removes the comment on the last line, so we have
// to disable the formatting here.
// prettier-ignore
const html_builders_2 = html_builders_1;
exports.styleSheetToHtml = html_builders_2.styleSheetToHtml;
// END-INTERNAL
const html_formatter_1 = goog.require('google3.third_party.javascript.safevalues.builders.html_formatter'); // LINE-INTERNAL
exports.HtmlFormatter = html_formatter_1.HtmlFormatter;
// LINE-INTERNAL
const default_css_sanitizer_1 = goog.require('google3.third_party.javascript.safevalues.builders.html_sanitizer.default_css_sanitizer');
exports.sanitizeHtmlWithCss = default_css_sanitizer_1.sanitizeHtmlWithCss;
const html_sanitizer_1 = goog.require('google3.third_party.javascript.safevalues.builders.html_sanitizer.html_sanitizer');
exports.sanitizeHtml = html_sanitizer_1.sanitizeHtml;
exports.sanitizeHtmlAssertUnchanged = html_sanitizer_1.sanitizeHtmlAssertUnchanged;
exports.sanitizeHtmlToFragment = html_sanitizer_1.sanitizeHtmlToFragment;
/** @typedef {!tsickle_html_sanitizer_6.CssSanitizer} */
exports.CssSanitizer; // re-export typedef
/** @typedef {!tsickle_html_sanitizer_6.HtmlSanitizer} */
exports.HtmlSanitizer; // re-export typedef
const html_sanitizer_builder_1 = goog.require('google3.third_party.javascript.safevalues.builders.html_sanitizer.html_sanitizer_builder');
exports.CssSanitizerBuilder = html_sanitizer_builder_1.CssSanitizerBuilder;
exports.HtmlSanitizerBuilder = html_sanitizer_builder_1.HtmlSanitizerBuilder;
const resource_url_policy_1 = goog.require('google3.third_party.javascript.safevalues.builders.html_sanitizer.resource_url_policy');
exports.ResourceUrlPolicyHintsType = resource_url_policy_1.ResourceUrlPolicyHintsType;
/** @typedef {!tsickle_resource_url_policy_8.ResourceUrlPolicy} */
exports.ResourceUrlPolicy; // re-export typedef
/** @typedef {!tsickle_resource_url_policy_8.ResourceUrlPolicyHints} */
exports.ResourceUrlPolicyHints; // re-export typedef
const resource_url_builders_1 = goog.require('google3.third_party.javascript.safevalues.builders.resource_url_builders');
exports.appendParams = resource_url_builders_1.appendParams;
exports.appendPathSegment = resource_url_builders_1.appendPathSegment;
exports.objectUrlFromScript = resource_url_builders_1.objectUrlFromScript;
exports.replaceFragment = resource_url_builders_1.replaceFragment;
exports.toAbsoluteResourceUrl = resource_url_builders_1.toAbsoluteResourceUrl;
exports.trustedResourceUrl = resource_url_builders_1.trustedResourceUrl;
const script_builders_1 = goog.require('google3.third_party.javascript.safevalues.builders.script_builders');
exports.concatScripts = script_builders_1.concatScripts;
exports.safeScript = script_builders_1.safeScript;
exports.safeScriptWithArgs = script_builders_1.safeScriptWithArgs;
exports.valueAsScript = script_builders_1.valueAsScript;
// BEGIN-INTERNAL
const style_builders_1 = goog.require('google3.third_party.javascript.safevalues.builders.style_builders');
exports.concatStyles = style_builders_1.concatStyles;
exports.safeStyle = style_builders_1.safeStyle;
exports.styleForMigration = style_builders_1.styleForMigration;
// END-INTERNAL
const style_sheet_builders_1 = goog.require('google3.third_party.javascript.safevalues.builders.style_sheet_builders');
exports.concatStyleSheets = style_sheet_builders_1.concatStyleSheets;
exports.safeStyleRule = style_sheet_builders_1.safeStyleRule;
exports.safeStyleSheet = style_sheet_builders_1.safeStyleSheet;
// BEGIN-INTERNAL
const url_builders_1 = goog.require('google3.third_party.javascript.safevalues.builders.url_builders');
exports.SanitizableUrlScheme = url_builders_1.SanitizableUrlScheme;
exports.addJavaScriptUrlSanitizationCallback = url_builders_1.addJavaScriptUrlSanitizationCallback;
exports.fromMediaSource = url_builders_1.fromMediaSource;
exports.fromTrustedResourceUrl = url_builders_1.fromTrustedResourceUrl;
exports.objectUrlFromSafeSource = url_builders_1.objectUrlFromSafeSource;
exports.removeJavaScriptUrlSanitizationCallback = url_builders_1.removeJavaScriptUrlSanitizationCallback;
exports.safeUrl = url_builders_1.safeUrl;
exports.sanitizeUrl = url_builders_1.sanitizeUrl;
exports.trySanitizeUrl = url_builders_1.trySanitizeUrl;
/** @typedef {!tsickle_url_builders_13.Scheme} */
exports.Scheme; // re-export typedef
// END-INTERNAL
/** Types, constants and unwrappers */
const attribute_impl_1 = goog.require('google3.third_party.javascript.safevalues.internals.attribute_impl');
exports.SafeAttributePrefix = attribute_impl_1.SafeAttributePrefix;
exports.unwrapAttributePrefix = attribute_impl_1.unwrapAttributePrefix;
const html_impl_1 = goog.require('google3.third_party.javascript.safevalues.internals.html_impl');
exports.EMPTY_HTML = html_impl_1.EMPTY_HTML;
exports.SafeHtml = html_impl_1.SafeHtml;
exports.isHtml = html_impl_1.isHtml;
exports.unwrapHtml = html_impl_1.unwrapHtml;
const resource_url_impl_1 = goog.require('google3.third_party.javascript.safevalues.internals.resource_url_impl');
exports.TrustedResourceUrl = resource_url_impl_1.TrustedResourceUrl;
exports.isResourceUrl = resource_url_impl_1.isResourceUrl;
exports.unwrapResourceUrl = resource_url_impl_1.unwrapResourceUrl;
const script_impl_1 = goog.require('google3.third_party.javascript.safevalues.internals.script_impl');
exports.EMPTY_SCRIPT = script_impl_1.EMPTY_SCRIPT;
exports.SafeScript = script_impl_1.SafeScript;
exports.isScript = script_impl_1.isScript;
exports.unwrapScript = script_impl_1.unwrapScript;
// BEGIN-INTERNAL
const style_impl_1 = goog.require('google3.third_party.javascript.safevalues.internals.style_impl');
exports.SafeStyle = style_impl_1.SafeStyle;
exports.isStyle = style_impl_1.isStyle;
exports.unwrapStyle = style_impl_1.unwrapStyle;
// END-INTERNAL
const style_sheet_impl_1 = goog.require('google3.third_party.javascript.safevalues.internals.style_sheet_impl');
exports.SafeStyleSheet = style_sheet_impl_1.SafeStyleSheet;
exports.isStyleSheet = style_sheet_impl_1.isStyleSheet;
exports.unwrapStyleSheet = style_sheet_impl_1.unwrapStyleSheet;
// BEGIN-INTERNAL
const url_impl_1 = goog.require('google3.third_party.javascript.safevalues.internals.url_impl');
exports.ABOUT_BLANK = url_impl_1.ABOUT_BLANK;
exports.INNOCUOUS_URL = url_impl_1.INNOCUOUS_URL;
exports.SafeUrl = url_impl_1.SafeUrl;
exports.isUrl = url_impl_1.isUrl;
exports.unwrapUrl = url_impl_1.unwrapUrl;
// END-INTERNAL
const reporting_1 = goog.require('google3.third_party.javascript.safevalues.reporting.reporting'); // LINE-INTERNAL
exports.reportOnlyHtmlPassthrough = reporting_1.reportOnlyHtmlPassthrough;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi90aGlyZF9wYXJ0eS9qYXZhc2NyaXB0L3NhZmV2YWx1ZXMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU9BLG1IQUE2RDtBQUFyRCw4Q0FBQSxjQUFjLENBQUE7QUFDdEIsbUlBSStDO0FBSDdDLG9EQUFBLFlBQVksQ0FBQTtBQUNaLGtEQUFBLFVBQVUsQ0FBQTtBQUNWLG1EQUFBLFdBQVcsQ0FBQTtBQUViLHlHQVNrQztBQVJoQyxzQ0FBQSxXQUFXLENBQUE7QUFDWCxxQ0FBQSxVQUFVLENBQUE7QUFDVixzQ0FBQSxXQUFXLENBQUE7QUFDWCxxQ0FBQSxVQUFVLENBQUE7QUFDVixvQ0FBQSxTQUFTLENBQUE7QUFDVCxxQ0FBQSxVQUFVLENBQUE7QUFDVix1Q0FBQSxZQUFZLENBQUE7QUFDWiwwQ0FBQSxlQUFlLENBQUE7Ozs7O0FBT2pCLHdDQUEwRDtBQUFsRCwyQ0FBQSxnQkFBZ0IsQ0FBQTs7QUFHeEIsMkdBQXdELENBQUMsZ0JBQWdCO0FBQWpFLHlDQUFBLGFBQWEsQ0FBQTs7QUFDckIsd0lBQW9GO0FBQTVFLHNEQUFBLG1CQUFtQixDQUFBO0FBQzNCLDBIQU1rRDtBQUxoRCx3Q0FBQSxZQUFZLENBQUE7QUFDWix1REFBQSwyQkFBMkIsQ0FBQTtBQUMzQixrREFBQSxzQkFBc0IsQ0FBQTs7Ozs7QUFJeEIsMElBRzBEO0FBRnhELHVEQUFBLG1CQUFtQixDQUFBO0FBQ25CLHdEQUFBLG9CQUFvQixDQUFBO0FBRXRCLG9JQUl1RDtBQUhyRCwyREFBQSwwQkFBMEIsQ0FBQTs7Ozs7QUFJNUIseUhBTzBDO0FBTnhDLCtDQUFBLFlBQVksQ0FBQTtBQUNaLG9EQUFBLGlCQUFpQixDQUFBO0FBQ2pCLHNEQUFBLG1CQUFtQixDQUFBO0FBQ25CLGtEQUFBLGVBQWUsQ0FBQTtBQUNmLHdEQUFBLHFCQUFxQixDQUFBO0FBQ3JCLHFEQUFBLGtCQUFrQixDQUFBO0FBRXBCLDZHQUtvQztBQUpsQywwQ0FBQSxhQUFhLENBQUE7QUFDYix1Q0FBQSxVQUFVLENBQUE7QUFDViwrQ0FBQSxrQkFBa0IsQ0FBQTtBQUNsQiwwQ0FBQSxhQUFhLENBQUE7O0FBR2YsMkdBSW1DO0FBSGpDLHdDQUFBLFlBQVksQ0FBQTtBQUNaLHFDQUFBLFNBQVMsQ0FBQTtBQUNULDZDQUFBLGlCQUFpQixDQUFBOztBQUduQix1SEFJeUM7QUFIdkMsbURBQUEsaUJBQWlCLENBQUE7QUFDakIsK0NBQUEsYUFBYSxDQUFBO0FBQ2IsZ0RBQUEsY0FBYyxDQUFBOztBQUdoQix1R0FXaUM7QUFWL0IsOENBQUEsb0JBQW9CLENBQUE7QUFDcEIsOERBQUEsb0NBQW9DLENBQUE7QUFDcEMseUNBQUEsZUFBZSxDQUFBO0FBQ2YsZ0RBQUEsc0JBQXNCLENBQUE7QUFDdEIsaURBQUEsdUJBQXVCLENBQUE7QUFDdkIsaUVBQUEsdUNBQXVDLENBQUE7QUFDdkMsaUNBQUEsT0FBTyxDQUFBO0FBQ1AscUNBQUEsV0FBVyxDQUFBO0FBQ1gsd0NBQUEsY0FBYyxDQUFBOzs7OztBQUtoQiw0R0FHb0M7QUFGbEMsK0NBQUEsbUJBQW1CLENBQUE7QUFDbkIsaURBQUEscUJBQXFCLENBQUE7QUFFdkIsa0dBQStFO0FBQXZFLGlDQUFBLFVBQVUsQ0FBQTtBQUFFLCtCQUFBLFFBQVEsQ0FBQTtBQUFFLDZCQUFBLE1BQU0sQ0FBQTtBQUFFLGlDQUFBLFVBQVUsQ0FBQTtBQUNoRCxrSEFJdUM7QUFIckMsaURBQUEsa0JBQWtCLENBQUE7QUFDbEIsNENBQUEsYUFBYSxDQUFBO0FBQ2IsZ0RBQUEsaUJBQWlCLENBQUE7QUFFbkIsc0dBS2lDO0FBSi9CLHFDQUFBLFlBQVksQ0FBQTtBQUNaLG1DQUFBLFVBQVUsQ0FBQTtBQUNWLGlDQUFBLFFBQVEsQ0FBQTtBQUNSLHFDQUFBLFlBQVksQ0FBQTs7QUFHZCxvR0FBdUU7QUFBL0QsaUNBQUEsU0FBUyxDQUFBO0FBQUUsK0JBQUEsT0FBTyxDQUFBO0FBQUUsbUNBQUEsV0FBVyxDQUFBOztBQUV2QyxnSEFJc0M7QUFIcEMsNENBQUEsY0FBYyxDQUFBO0FBQ2QsMENBQUEsWUFBWSxDQUFBO0FBQ1osOENBQUEsZ0JBQWdCLENBQUE7O0FBR2xCLGdHQU04QjtBQUw1QixpQ0FBQSxXQUFXLENBQUE7QUFDWCxtQ0FBQSxhQUFhLENBQUE7QUFDYiw2QkFBQSxPQUFPLENBQUE7QUFDUCwyQkFBQSxLQUFLLENBQUE7QUFDTCwrQkFBQSxTQUFTLENBQUE7O0FBR1gsa0dBQWdFLENBQUMsZ0JBQWdCO0FBQXpFLGdEQUFBLHlCQUF5QixDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuLyoqIFNhZmUgYnVpbGRlcnMgKi9cbmV4cG9ydCB7c2FmZUF0dHJQcmVmaXh9IGZyb20gJy4vYnVpbGRlcnMvYXR0cmlidXRlX2J1aWxkZXJzJztcbmV4cG9ydCB7XG4gIGh0bWxGcmFnbWVudCxcbiAgaHRtbFRvTm9kZSxcbiAgc3ZnRnJhZ21lbnQsXG59IGZyb20gJy4vYnVpbGRlcnMvZG9jdW1lbnRfZnJhZ21lbnRfYnVpbGRlcnMnO1xuZXhwb3J0IHtcbiAgY29uY2F0SHRtbHMsXG4gIGNyZWF0ZUh0bWwsIC8vIExJTkUtSU5URVJOQUxcbiAgZG9jdHlwZUh0bWwsXG4gIGh0bWxFc2NhcGUsXG4gIGpvaW5IdG1scyxcbiAgbm9kZVRvSHRtbCxcbiAgc2NyaXB0VG9IdG1sLFxuICBzY3JpcHRVcmxUb0h0bWwsXG59IGZyb20gJy4vYnVpbGRlcnMvaHRtbF9idWlsZGVycyc7XG5cbi8vIEJFR0lOLUlOVEVSTkFMXG4vLyBUT0RPKGIvMzMzNTQ0OTY3KTogUHJldHRpZXIgcmVtb3ZlcyB0aGUgY29tbWVudCBvbiB0aGUgbGFzdCBsaW5lLCBzbyB3ZSBoYXZlXG4vLyB0byBkaXNhYmxlIHRoZSBmb3JtYXR0aW5nIGhlcmUuXG4vLyBwcmV0dGllci1pZ25vcmVcbmV4cG9ydCB7c3R5bGVTaGVldFRvSHRtbH0gZnJvbSAnLi9idWlsZGVycy9odG1sX2J1aWxkZXJzJztcbi8vIEVORC1JTlRFUk5BTFxuXG5leHBvcnQge0h0bWxGb3JtYXR0ZXJ9IGZyb20gJy4vYnVpbGRlcnMvaHRtbF9mb3JtYXR0ZXInOyAvLyBMSU5FLUlOVEVSTkFMXG5leHBvcnQge3Nhbml0aXplSHRtbFdpdGhDc3N9IGZyb20gJy4vYnVpbGRlcnMvaHRtbF9zYW5pdGl6ZXIvZGVmYXVsdF9jc3Nfc2FuaXRpemVyJztcbmV4cG9ydCB7XG4gIHNhbml0aXplSHRtbCxcbiAgc2FuaXRpemVIdG1sQXNzZXJ0VW5jaGFuZ2VkLFxuICBzYW5pdGl6ZUh0bWxUb0ZyYWdtZW50LFxuICB0eXBlIENzc1Nhbml0aXplcixcbiAgdHlwZSBIdG1sU2FuaXRpemVyLFxufSBmcm9tICcuL2J1aWxkZXJzL2h0bWxfc2FuaXRpemVyL2h0bWxfc2FuaXRpemVyJztcbmV4cG9ydCB7XG4gIENzc1Nhbml0aXplckJ1aWxkZXIsXG4gIEh0bWxTYW5pdGl6ZXJCdWlsZGVyLFxufSBmcm9tICcuL2J1aWxkZXJzL2h0bWxfc2FuaXRpemVyL2h0bWxfc2FuaXRpemVyX2J1aWxkZXInO1xuZXhwb3J0IHtcbiAgUmVzb3VyY2VVcmxQb2xpY3lIaW50c1R5cGUsXG4gIHR5cGUgUmVzb3VyY2VVcmxQb2xpY3ksXG4gIHR5cGUgUmVzb3VyY2VVcmxQb2xpY3lIaW50cyxcbn0gZnJvbSAnLi9idWlsZGVycy9odG1sX3Nhbml0aXplci9yZXNvdXJjZV91cmxfcG9saWN5JztcbmV4cG9ydCB7XG4gIGFwcGVuZFBhcmFtcyxcbiAgYXBwZW5kUGF0aFNlZ21lbnQsXG4gIG9iamVjdFVybEZyb21TY3JpcHQsXG4gIHJlcGxhY2VGcmFnbWVudCxcbiAgdG9BYnNvbHV0ZVJlc291cmNlVXJsLFxuICB0cnVzdGVkUmVzb3VyY2VVcmwsXG59IGZyb20gJy4vYnVpbGRlcnMvcmVzb3VyY2VfdXJsX2J1aWxkZXJzJztcbmV4cG9ydCB7XG4gIGNvbmNhdFNjcmlwdHMsXG4gIHNhZmVTY3JpcHQsXG4gIHNhZmVTY3JpcHRXaXRoQXJncyxcbiAgdmFsdWVBc1NjcmlwdCxcbn0gZnJvbSAnLi9idWlsZGVycy9zY3JpcHRfYnVpbGRlcnMnO1xuLy8gQkVHSU4tSU5URVJOQUxcbmV4cG9ydCB7XG4gIGNvbmNhdFN0eWxlcyxcbiAgc2FmZVN0eWxlLFxuICBzdHlsZUZvck1pZ3JhdGlvbixcbn0gZnJvbSAnLi9idWlsZGVycy9zdHlsZV9idWlsZGVycyc7XG4vLyBFTkQtSU5URVJOQUxcbmV4cG9ydCB7XG4gIGNvbmNhdFN0eWxlU2hlZXRzLFxuICBzYWZlU3R5bGVSdWxlLCAvLyBMSU5FLUlOVEVSTkFMXG4gIHNhZmVTdHlsZVNoZWV0LFxufSBmcm9tICcuL2J1aWxkZXJzL3N0eWxlX3NoZWV0X2J1aWxkZXJzJztcbi8vIEJFR0lOLUlOVEVSTkFMXG5leHBvcnQge1xuICBTYW5pdGl6YWJsZVVybFNjaGVtZSxcbiAgYWRkSmF2YVNjcmlwdFVybFNhbml0aXphdGlvbkNhbGxiYWNrLFxuICBmcm9tTWVkaWFTb3VyY2UsXG4gIGZyb21UcnVzdGVkUmVzb3VyY2VVcmwsXG4gIG9iamVjdFVybEZyb21TYWZlU291cmNlLFxuICByZW1vdmVKYXZhU2NyaXB0VXJsU2FuaXRpemF0aW9uQ2FsbGJhY2ssXG4gIHNhZmVVcmwsXG4gIHNhbml0aXplVXJsLFxuICB0cnlTYW5pdGl6ZVVybCxcbiAgdHlwZSBTY2hlbWUsXG59IGZyb20gJy4vYnVpbGRlcnMvdXJsX2J1aWxkZXJzJztcbi8vIEVORC1JTlRFUk5BTFxuLyoqIFR5cGVzLCBjb25zdGFudHMgYW5kIHVud3JhcHBlcnMgKi9cbmV4cG9ydCB7XG4gIFNhZmVBdHRyaWJ1dGVQcmVmaXgsXG4gIHVud3JhcEF0dHJpYnV0ZVByZWZpeCxcbn0gZnJvbSAnLi9pbnRlcm5hbHMvYXR0cmlidXRlX2ltcGwnO1xuZXhwb3J0IHtFTVBUWV9IVE1MLCBTYWZlSHRtbCwgaXNIdG1sLCB1bndyYXBIdG1sfSBmcm9tICcuL2ludGVybmFscy9odG1sX2ltcGwnO1xuZXhwb3J0IHtcbiAgVHJ1c3RlZFJlc291cmNlVXJsLFxuICBpc1Jlc291cmNlVXJsLFxuICB1bndyYXBSZXNvdXJjZVVybCxcbn0gZnJvbSAnLi9pbnRlcm5hbHMvcmVzb3VyY2VfdXJsX2ltcGwnO1xuZXhwb3J0IHtcbiAgRU1QVFlfU0NSSVBULFxuICBTYWZlU2NyaXB0LFxuICBpc1NjcmlwdCxcbiAgdW53cmFwU2NyaXB0LFxufSBmcm9tICcuL2ludGVybmFscy9zY3JpcHRfaW1wbCc7XG4vLyBCRUdJTi1JTlRFUk5BTFxuZXhwb3J0IHtTYWZlU3R5bGUsIGlzU3R5bGUsIHVud3JhcFN0eWxlfSBmcm9tICcuL2ludGVybmFscy9zdHlsZV9pbXBsJztcbi8vIEVORC1JTlRFUk5BTFxuZXhwb3J0IHtcbiAgU2FmZVN0eWxlU2hlZXQsXG4gIGlzU3R5bGVTaGVldCxcbiAgdW53cmFwU3R5bGVTaGVldCxcbn0gZnJvbSAnLi9pbnRlcm5hbHMvc3R5bGVfc2hlZXRfaW1wbCc7XG4vLyBCRUdJTi1JTlRFUk5BTFxuZXhwb3J0IHtcbiAgQUJPVVRfQkxBTkssXG4gIElOTk9DVU9VU19VUkwsXG4gIFNhZmVVcmwsXG4gIGlzVXJsLFxuICB1bndyYXBVcmwsXG59IGZyb20gJy4vaW50ZXJuYWxzL3VybF9pbXBsJztcbi8vIEVORC1JTlRFUk5BTFxuZXhwb3J0IHtyZXBvcnRPbmx5SHRtbFBhc3N0aHJvdWdofSBmcm9tICcuL3JlcG9ydGluZy9yZXBvcnRpbmcnOyAvLyBMSU5FLUlOVEVSTkFMXG5cbi8vIEJFR0lOLUlOVEVSTkFMXG5nb29nLnRzTWlncmF0aW9uTmFtZWRFeHBvcnRzU2hpbSgnc2FmZXZhbHVlcycpO1xuZ29vZy50c01pZ3JhdGlvbkV4cG9ydHNTaGltRGVjbGFyZUxlZ2FjeU5hbWVzcGFjZSgpO1xuLy8gRU5ELUlOVEVSTkFMXG4iXX0=
;return exports;});

//third_party/javascript/safevalues/index.tsmes.closure.js
goog.loadModule(function(exports) {'use strict';/**
 * @fileoverview generator:ts_migration_exports_shim.ts
 * original_file:third_party/javascript/safevalues/index.ts
 * pintomodule absent in original_file
 * modName absent in original_file
 */
goog.module('safevalues');
goog.module.declareLegacyNamespace();
var mainModule = goog.require('google3.third_party.javascript.safevalues.index');
exports.safeAttrPrefix = mainModule.safeAttrPrefix;
exports.htmlFragment = mainModule.htmlFragment;
exports.htmlToNode = mainModule.htmlToNode;
exports.svgFragment = mainModule.svgFragment;
exports.concatHtmls = mainModule.concatHtmls;
exports.createHtml = mainModule.createHtml;
exports.doctypeHtml = mainModule.doctypeHtml;
exports.htmlEscape = mainModule.htmlEscape;
exports.joinHtmls = mainModule.joinHtmls;
exports.nodeToHtml = mainModule.nodeToHtml;
exports.scriptToHtml = mainModule.scriptToHtml;
exports.scriptUrlToHtml = mainModule.scriptUrlToHtml;
exports.styleSheetToHtml = mainModule.styleSheetToHtml;
exports.HtmlFormatter = mainModule.HtmlFormatter;
exports.sanitizeHtmlWithCss = mainModule.sanitizeHtmlWithCss;
exports.sanitizeHtml = mainModule.sanitizeHtml;
exports.sanitizeHtmlAssertUnchanged = mainModule.sanitizeHtmlAssertUnchanged;
exports.sanitizeHtmlToFragment = mainModule.sanitizeHtmlToFragment;
exports.CssSanitizer = mainModule.CssSanitizer;
exports.HtmlSanitizer = mainModule.HtmlSanitizer;
exports.CssSanitizerBuilder = mainModule.CssSanitizerBuilder;
exports.HtmlSanitizerBuilder = mainModule.HtmlSanitizerBuilder;
exports.ResourceUrlPolicyHintsType = mainModule.ResourceUrlPolicyHintsType;
exports.ResourceUrlPolicy = mainModule.ResourceUrlPolicy;
exports.ResourceUrlPolicyHints = mainModule.ResourceUrlPolicyHints;
exports.appendParams = mainModule.appendParams;
exports.appendPathSegment = mainModule.appendPathSegment;
exports.objectUrlFromScript = mainModule.objectUrlFromScript;
exports.replaceFragment = mainModule.replaceFragment;
exports.toAbsoluteResourceUrl = mainModule.toAbsoluteResourceUrl;
exports.trustedResourceUrl = mainModule.trustedResourceUrl;
exports.concatScripts = mainModule.concatScripts;
exports.safeScript = mainModule.safeScript;
exports.safeScriptWithArgs = mainModule.safeScriptWithArgs;
exports.valueAsScript = mainModule.valueAsScript;
exports.concatStyles = mainModule.concatStyles;
exports.safeStyle = mainModule.safeStyle;
exports.styleForMigration = mainModule.styleForMigration;
exports.concatStyleSheets = mainModule.concatStyleSheets;
exports.safeStyleRule = mainModule.safeStyleRule;
exports.safeStyleSheet = mainModule.safeStyleSheet;
exports.SanitizableUrlScheme = mainModule.SanitizableUrlScheme;
exports.addJavaScriptUrlSanitizationCallback = mainModule.addJavaScriptUrlSanitizationCallback;
exports.fromMediaSource = mainModule.fromMediaSource;
exports.fromTrustedResourceUrl = mainModule.fromTrustedResourceUrl;
exports.objectUrlFromSafeSource = mainModule.objectUrlFromSafeSource;
exports.removeJavaScriptUrlSanitizationCallback = mainModule.removeJavaScriptUrlSanitizationCallback;
exports.safeUrl = mainModule.safeUrl;
exports.sanitizeUrl = mainModule.sanitizeUrl;
exports.trySanitizeUrl = mainModule.trySanitizeUrl;
exports.Scheme = mainModule.Scheme;
exports.SafeAttributePrefix = mainModule.SafeAttributePrefix;
exports.unwrapAttributePrefix = mainModule.unwrapAttributePrefix;
exports.EMPTY_HTML = mainModule.EMPTY_HTML;
exports.SafeHtml = mainModule.SafeHtml;
exports.isHtml = mainModule.isHtml;
exports.unwrapHtml = mainModule.unwrapHtml;
exports.TrustedResourceUrl = mainModule.TrustedResourceUrl;
exports.isResourceUrl = mainModule.isResourceUrl;
exports.unwrapResourceUrl = mainModule.unwrapResourceUrl;
exports.EMPTY_SCRIPT = mainModule.EMPTY_SCRIPT;
exports.SafeScript = mainModule.SafeScript;
exports.isScript = mainModule.isScript;
exports.unwrapScript = mainModule.unwrapScript;
exports.SafeStyle = mainModule.SafeStyle;
exports.isStyle = mainModule.isStyle;
exports.unwrapStyle = mainModule.unwrapStyle;
exports.SafeStyleSheet = mainModule.SafeStyleSheet;
exports.isStyleSheet = mainModule.isStyleSheet;
exports.unwrapStyleSheet = mainModule.unwrapStyleSheet;
exports.ABOUT_BLANK = mainModule.ABOUT_BLANK;
exports.INNOCUOUS_URL = mainModule.INNOCUOUS_URL;
exports.SafeUrl = mainModule.SafeUrl;
exports.isUrl = mainModule.isUrl;
exports.unwrapUrl = mainModule.unwrapUrl;
exports.reportOnlyHtmlPassthrough = mainModule.reportOnlyHtmlPassthrough;

;return exports;});

//third_party/javascript/angular/v1_6/goog_hardening/closureSceHelper.js
/**
 * @fileoverview Collection of helpers that link the Angular hardened build to
 *    the Closure goog.html types. This should be compiled alongside Closure,
 *    so that the functions defined here can be called in the hardened Angular
 *    {@code $sce} service.
 *
 * MOE:begin_intracomment_strip
 * @see go/angular-v15-migrate#dependency
 * MOE:end_intracomment_strip
 */

// MOE:begin_strip
// There is no goog.provide to keep JSCompiler from dead-code removing this.
// See http://google3/third_party/java_src/jscomp/java/com/google/javascript/jscomp/JSCompilerRunner.java&l=255&rcl=112285511
// Adding @license_presubmit_check_bypass (this helper is not open source).
// MOE:end_strip

goog.require('safevalues');


goog.exportSymbol(
    'ng.safehtml.googSceHelper.isGoogHtmlType',

    /**
     * @param {?} value
     * @return {*} true if value is a goog.html type.
     * @public
     */
    function isGoogHtmlType(value) {
      return (typeof value === 'object') &&
          ((value instanceof safevalues.TrustedResourceUrl) ||
           (value instanceof safevalues.SafeHtml) ||
           (value instanceof safevalues.SafeUrl) ||
           (value instanceof safevalues.SafeStyle) ||
           (value instanceof safevalues.SafeScript));
    });

goog.exportSymbol(
    'ng.safehtml.googSceHelper.isCOMPILED',
    /**
     * @return {boolean} the value of COMPILED.
     * @public
     */
    function isCOMPILED() {
      return COMPILED;
    });

goog.exportSymbol(
    'ng.safehtml.googSceHelper.unwrapAny',
    /**
     * Unwraps the value given as a parameter, if it is a goog.html type.
     * Otherwise, returns the parameter. Note that this function will not try to
     * unwrap stock {@code $sce.trustAs} results, and that even though Angular
     * trusts by default  `null`, `undefined` and '', Closure does
     * not, so this function will throw on these values since they are not
     * `goog.html` types.
     * @param {*} value
     * @return {*} An unwrapped version of `value`.
     * @throws {!Error} If the value not of a type among the `goog.html`
     * supported types.
     * @public
     */
    function valueOf(value) {
      if (value instanceof safevalues.TrustedResourceUrl) {
        return safevalues.unwrapResourceUrl(value).toString();
      } else if (value instanceof safevalues.SafeHtml) {
        return safevalues.unwrapHtml(value).toString();
      } else if (value instanceof safevalues.SafeUrl) {
        return safevalues.unwrapUrl(value);
      } else if (value instanceof safevalues.SafeStyle) {
        return safevalues.unwrapStyle(value);
      } else if (value instanceof safevalues.SafeScript) {
        return safevalues.unwrapScript(value).toString();
      } else {
        throw new Error();  // should be caught by Angular
      }
    });

goog.exportSymbol(
    'ng.safehtml.googSceHelper.unwrapGivenContext',
    /**
     * Try to unwrap `maybeTrusted` as a `goog.html` type for {@code
     * type}, then return the value or throw if it failed.
     *
     * @param {string} type Either 'url', 'resourceUrl', 'html', 'js' or 'css'.
     * @param {!safevalues.SafeHtml|!safevalues.SafeUrl|
               !safevalues.TrustedResourceUrl|!safevalues.SafeScript|
               !safevalues.SafeStyle} maybeTrusted Instance of a goog.html type.
     * @return {string} `maybeTrusted` unwrapped to string.
     * @throws {!Error} If maybeTrusted cannot be unwrapped in the given
     context.
     * @public
     */
    function unwrapGivenContext(type, maybeTrusted) {
      // TODO(rjamet): Is there any good way to get to constants defined
      // in $sce? It seems like we'd need a circular dependency for that.
      if (type == 'html') {  // $sce.HTML
        return safevalues
            .unwrapHtml(
                /** @type {!safevalues.SafeHtml} */ (maybeTrusted))
            .toString();
      } else if (type == 'resourceUrl' || type == 'templateUrl') {
        // either $sce.RESOURCE_URL or our new $sce.TEMPLATE_URL
        return safevalues
            .unwrapResourceUrl(
                /** @type {!safevalues.TrustedResourceUrl} */ (maybeTrusted))
            .toString();
      } else if (type == 'url') {  // $sce.URL
        // Angular allows $sce.RESOURCE_URL wherever $sce.URL is allowed.
        if (maybeTrusted instanceof safevalues.TrustedResourceUrl) {
          return safevalues.unwrapResourceUrl(maybeTrusted).toString();
        }  // Else assume it's a SafeUrl
        return safevalues.unwrapUrl(
            /** @type {!safevalues.SafeUrl} */ (maybeTrusted));
      } else if (type == 'css') {  // $sce.CSS
        return safevalues.unwrapStyle(
            /** @type {!safevalues.SafeStyle} */ (maybeTrusted));
      } else if (type == 'js') {  // $sce.JS
        return safevalues
            .unwrapScript(
                /** @type {!safevalues.SafeScript} */ (maybeTrusted))
            .toString();
      }
      throw new Error();  // should be caught by Angular
    });

//third_party/javascript/angular_ui/bootstrap/ui_bootstrap_min_0_13_2.js
/**
 * @license
 * The MIT License
 * 
 * Copyright (c) 2012-2013 the AngularUI Team, https://github.com/organizations/angular-ui/teams/291112
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
/*
 * @license
 * angular-ui-bootstrap
 * http://angular-ui.github.io/bootstrap/

 * Version: 0.13.2 - 2015-08-05
 * License: MIT
 */
angular.module("ui.bootstrap",["ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.transition","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.collapse",[]).directive("collapse",["$animate",function(a){return{link:function(b,c,d){function e(){c.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),a.addClass(c,"in",{to:{height:c[0].scrollHeight+"px"}}).then(f)}function f(){c.removeClass("collapsing"),c.css({height:"auto"})}function g(){return c.hasClass("collapse")||c.hasClass("in")?(c.css({height:c[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),void a.removeClass(c,"in",{to:{height:"0"}}).then(h)):h()}function h(){c.css({height:"0"}),c.removeClass("collapsing"),c.addClass("collapse")}b.$watch(d.collapse,function(a){a?g():e()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(a,b,c){this.groups=[],this.closeOthers=function(d){var e=angular.isDefined(b.closeOthers)?a.$eval(b.closeOthers):c.closeOthers;e&&angular.forEach(this.groups,function(a){a!==d&&(a.isOpen=!1)})},this.addGroup=function(a){var b=this;this.groups.push(a),a.$on("$destroy",function(){b.removeGroup(a)})},this.removeGroup=function(a){var b=this.groups.indexOf(a);-1!==b&&this.groups.splice(b,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(a){this.heading=a}},link:function(a,b,c,d){d.addGroup(a),a.$watch("isOpen",function(b){b&&d.closeOthers(a)}),a.toggleOpen=function(){a.isDisabled||(a.isOpen=!a.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(a,b,c,d,e){d.setHeading(e(a,angular.noop))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(a,b,c,d){a.$watch(function(){return d[c.accordionTransclude]},function(a){a&&(b.find("span").html(""),b.find("span").append(a))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(a,b){a.closeable=!!b.close,this.close=a.close}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}).directive("dismissOnTimeout",["$timeout",function(a){return{require:"alert",link:function(b,c,d,e){a(function(){e.close()},parseInt(d.dismissOnTimeout,10))}}}]),angular.module("ui.bootstrap.bindHtml",[]).value("$bindHtmlUnsafeSuppressDeprecated",!1).directive("bindHtmlUnsafe",["$log","$bindHtmlUnsafeSuppressDeprecated",function(a,b){return function(c,d,e){b||a.warn("bindHtmlUnsafe is now deprecated. Use ngBindHtml instead"),d.addClass("ng-binding").data("$binding",e.bindHtmlUnsafe),c.$watch(e.bindHtmlUnsafe,function(a){d.html(a||"")})}}]),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(a){this.activeClass=a.activeClass||"active",this.toggleEvent=a.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(a,b,c,d){var e=d[0],f=d[1];f.$render=function(){b.toggleClass(e.activeClass,angular.equals(f.$modelValue,a.$eval(c.btnRadio)))},b.bind(e.toggleEvent,function(){if(!("disabled"in c)){var d=b.hasClass(e.activeClass);(!d||angular.isDefined(c.uncheckable))&&a.$apply(function(){f.$setViewValue(d?null:a.$eval(c.btnRadio)),f.$render()})}})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(a,b,c,d){function e(){return g(c.btnCheckboxTrue,!0)}function f(){return g(c.btnCheckboxFalse,!1)}function g(b,c){var d=a.$eval(b);return angular.isDefined(d)?d:c}var h=d[0],i=d[1];i.$render=function(){b.toggleClass(h.activeClass,angular.equals(i.$modelValue,e()))},b.bind(h.toggleEvent,function(){"disabled"in c||a.$apply(function(){i.$setViewValue(b.hasClass(h.activeClass)?f():e()),i.$render()})})}}}),angular.module("ui.bootstrap.carousel",[]).constant("ANIMATE_CSS",angular.version.minor>=4).controller("CarouselController",["$scope","$element","$interval","$animate","ANIMATE_CSS",function(a,b,c,d,e){function f(b,c,f){r||(angular.extend(b,{direction:f,active:!0}),angular.extend(m.currentSlide||{},{direction:f,active:!1}),d.enabled()&&!a.noTransition&&!a.$currentTransition&&b.$element&&(b.$element.data(p,b.direction),a.$currentTransition=!0,e?d.on("addClass",b.$element,function(b){a.$currentTransition=null,a.$currentTransition||d.off("addClass",b)}):b.$element.one("$animate:close",function(){a.$currentTransition=null})),m.currentSlide=b,q=c,h())}function g(a){if(angular.isUndefined(n[a].index))return n[a];{var b;n.length}for(b=0;b<n.length;++b)if(n[b].index==a)return n[b]}function h(){i();var b=+a.interval;!isNaN(b)&&b>0&&(k=c(j,b))}function i(){k&&(c.cancel(k),k=null)}function j(){var b=+a.interval;l&&!isNaN(b)&&b>0&&n.length?a.next():a.pause()}var k,l,m=this,n=m.slides=a.slides=[],o="uib-noTransition",p="uib-slideDirection",q=-1;m.currentSlide=null;var r=!1;m.select=a.select=function(b,c){var d=m.indexOfSlide(b);void 0===c&&(c=d>m.getCurrentIndex()?"next":"prev"),b&&b!==m.currentSlide&&!a.$currentTransition&&f(b,d,c)},a.$on("$destroy",function(){r=!0}),m.getCurrentIndex=function(){return m.currentSlide&&angular.isDefined(m.currentSlide.index)?+m.currentSlide.index:q},m.indexOfSlide=function(a){return angular.isDefined(a.index)?+a.index:n.indexOf(a)},a.next=function(){var b=(m.getCurrentIndex()+1)%n.length;return 0===b&&a.noWrap()?void a.pause():m.select(g(b),"next")},a.prev=function(){var b=m.getCurrentIndex()-1<0?n.length-1:m.getCurrentIndex()-1;return a.noWrap()&&b===n.length-1?void a.pause():m.select(g(b),"prev")},a.isActive=function(a){return m.currentSlide===a},a.$watch("interval",h),a.$on("$destroy",i),a.play=function(){l||(l=!0,h())},a.pause=function(){a.noPause||(l=!1,i())},m.addSlide=function(b,c){!n.length&&c&&c.data(p,"next"),b.$element=c,n.push(b),1===n.length||b.active?(m.select(n[n.length-1]),1==n.length&&a.play()):b.active=!1},m.removeSlide=function(a){angular.isDefined(a.index)&&n.sort(function(a,b){return+a.index>+b.index});var b=n.indexOf(a);n.splice(b,1),n.length>0&&a.active?m.select(b>=n.length?n[b-1]:n[b]):q>b&&q--,0===n.length&&(m.currentSlide=null)},a.$watch("noTransition",function(a){b.data(o,a)})}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{active:"=?",index:"=?"},link:function(a,b,c,d){d.addSlide(a,b),a.$on("$destroy",function(){d.removeSlide(a)}),a.$watch("active",function(b){b&&d.select(a)})}}}).animation(".item",["$injector","$animate","ANIMATE_CSS",function(a,b,c){function d(a,b,c){a.removeClass(b),c&&c()}var e="uib-noTransition",f="uib-slideDirection",g=c?a.get("$animateCss"):null;return{beforeAddClass:function(a,c,h){if("active"==c&&a.parent()&&!a.parent().data(e)){var i=!1,j=a.data(f),k="next"==j?"left":"right",l=d.bind(this,a,k+" "+j,h);return a.addClass(j),g?g(a,{addClass:k}).start().done(l):b.addClass(a,k).then(function(){i||l(),h()}),function(){i=!0}}h()},beforeRemoveClass:function(a,c,h){if("active"===c&&a.parent()&&!a.parent().data(e)){var i=!1,j=a.data(f),k="next"==j?"left":"right",l=d.bind(this,a,k,h);return g?g(a,{addClass:k}).start().done(l):b.addClass(a,k).then(function(){i||l(),h()}),function(){i=!0}}h()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$log","$locale","orderByFilter",function(a,b,c){function d(a){var b=[],d=a.split("");return angular.forEach(g,function(c,e){var f=a.indexOf(e);if(f>-1){a=a.split(""),d[f]="("+c.regex+")",a[f]="$";for(var g=f+1,h=f+e.length;h>g;g++)d[g]="",a[g]="$";a=a.join(""),b.push({index:f,apply:c.apply})}}),{regex:new RegExp("^"+d.join("")+"$"),map:c(b,"index")}}function e(a,b,c){return 1>c?!1:1===b&&c>28?29===c&&(a%4===0&&a%100!==0||a%400===0):3===b||5===b||8===b||10===b?31>c:!0}var f=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.parsers={};var g={yyyy:{regex:"\\d{4}",apply:function(a){this.year=+a}},yy:{regex:"\\d{2}",apply:function(a){this.year=+a+2e3}},y:{regex:"\\d{1,4}",apply:function(a){this.year=+a}},MMMM:{regex:b.DATETIME_FORMATS.MONTH.join("|"),apply:function(a){this.month=b.DATETIME_FORMATS.MONTH.indexOf(a)}},MMM:{regex:b.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(a){this.month=b.DATETIME_FORMATS.SHORTMONTH.indexOf(a)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(a){this.month=a-1}},M:{regex:"[1-9]|1[0-2]",apply:function(a){this.month=a-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(a){this.date=+a}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(a){this.date=+a}},EEEE:{regex:b.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:b.DATETIME_FORMATS.SHORTDAY.join("|")},HH:{regex:"(?:0|1)[0-9]|2[0-3]",apply:function(a){this.hours=+a}},H:{regex:"1?[0-9]|2[0-3]",apply:function(a){this.hours=+a}},mm:{regex:"[0-5][0-9]",apply:function(a){this.minutes=+a}},m:{regex:"[0-9]|[1-5][0-9]",apply:function(a){this.minutes=+a}},sss:{regex:"[0-9][0-9][0-9]",apply:function(a){this.milliseconds=+a}},ss:{regex:"[0-5][0-9]",apply:function(a){this.seconds=+a}},s:{regex:"[0-9]|[1-5][0-9]",apply:function(a){this.seconds=+a}}};this.parse=function(c,g,h){if(!angular.isString(c)||!g)return c;g=b.DATETIME_FORMATS[g]||g,g=g.replace(f,"\\$&"),this.parsers[g]||(this.parsers[g]=d(g));var i=this.parsers[g],j=i.regex,k=i.map,l=c.match(j);if(l&&l.length){var m,n;angular.isDate(h)&&!isNaN(h.getTime())?m={year:h.getFullYear(),month:h.getMonth(),date:h.getDate(),hours:h.getHours(),minutes:h.getMinutes(),seconds:h.getSeconds(),milliseconds:h.getMilliseconds()}:(h&&a.warn("dateparser:","baseDate is not a valid date"),m={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var o=1,p=l.length;p>o;o++){var q=k[o-1];q.apply&&q.apply.call(m,l[o])}return e(m.year,m.month,m.date)&&(n=new Date(m.year,m.month,m.date,m.hours,m.minutes,m.seconds,m.milliseconds||0)),n}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(a,b){function c(a,c){return a.currentStyle?a.currentStyle[c]:b.getComputedStyle?b.getComputedStyle(a)[c]:a.style[c]}function d(a){return"static"===(c(a,"position")||"static")}var e=function(b){for(var c=a[0],e=b.offsetParent||c;e&&e!==c&&d(e);)e=e.offsetParent;return e||c};return{position:function(b){var c=this.offset(b),d={top:0,left:0},f=e(b[0]);f!=a[0]&&(d=this.offset(angular.element(f)),d.top+=f.clientTop-f.scrollTop,d.left+=f.clientLeft-f.scrollLeft);var g=b[0].getBoundingClientRect();return{width:g.width||b.prop("offsetWidth"),height:g.height||b.prop("offsetHeight"),top:c.top-d.top,left:c.left-d.left}},offset:function(c){var d=c[0].getBoundingClientRect();return{width:d.width||c.prop("offsetWidth"),height:d.height||c.prop("offsetHeight"),top:d.top+(b.pageYOffset||a[0].documentElement.scrollTop),left:d.left+(b.pageXOffset||a[0].documentElement.scrollLeft)}},positionElements:function(a,b,c,d){var e,f,g,h,i=c.split("-"),j=i[0],k=i[1]||"center";e=d?this.offset(a):this.position(a),f=b.prop("offsetWidth"),g=b.prop("offsetHeight");var l={center:function(){return e.left+e.width/2-f/2},left:function(){return e.left},right:function(){return e.left+e.width}},m={center:function(){return e.top+e.height/2-g/2},top:function(){return e.top},bottom:function(){return e.top+e.height}};switch(j){case"right":h={top:m[k](),left:l[j]()};break;case"left":h={top:m[k](),left:e.left-f};break;case"bottom":h={top:m[j](),left:l[k]()};break;default:h={top:e.top-g,left:l[k]()}}return h}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null,shortcutPropagation:!1}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$log","dateFilter","datepickerConfig",function(a,b,c,d,e,f,g){var h=this,i={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","minMode","maxMode","showWeeks","startingDay","yearRange","shortcutPropagation"],function(c,e){h[c]=angular.isDefined(b[c])?8>e?d(b[c])(a.$parent):a.$parent.$eval(b[c]):g[c]}),angular.forEach(["minDate","maxDate"],function(d){b[d]?a.$parent.$watch(c(b[d]),function(a){h[d]=a?new Date(a):null,h.refreshView()}):h[d]=g[d]?new Date(g[d]):null}),a.datepickerMode=a.datepickerMode||g.datepickerMode,a.maxMode=h.maxMode,a.uniqueId="datepicker-"+a.$id+"-"+Math.floor(1e4*Math.random()),angular.isDefined(b.initDate)?(this.activeDate=a.$parent.$eval(b.initDate)||new Date,a.$parent.$watch(b.initDate,function(a){a&&(i.$isEmpty(i.$modelValue)||i.$invalid)&&(h.activeDate=a,h.refreshView())})):this.activeDate=new Date,a.isActive=function(b){return 0===h.compare(b.date,h.activeDate)?(a.activeDateId=b.uid,!0):!1},this.init=function(a){i=a,i.$render=function(){h.render()}},this.render=function(){if(i.$viewValue){var a=new Date(i.$viewValue),b=!isNaN(a);b?this.activeDate=a:e.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var a=i.$viewValue?new Date(i.$viewValue):null;i.$setValidity("date-disabled",!a||this.element&&!this.isDisabled(a))}},this.createDateObject=function(a,b){var c=i.$viewValue?new Date(i.$viewValue):null;return{date:a,label:f(a,b),selected:c&&0===this.compare(a,c),disabled:this.isDisabled(a),current:0===this.compare(a,new Date),customClass:this.customClass(a)}},this.isDisabled=function(c){return this.minDate&&this.compare(c,this.minDate)<0||this.maxDate&&this.compare(c,this.maxDate)>0||b.dateDisabled&&a.dateDisabled({date:c,mode:a.datepickerMode})},this.customClass=function(b){return a.customClass({date:b,mode:a.datepickerMode})},this.split=function(a,b){for(var c=[];a.length>0;)c.push(a.splice(0,b));return c},this.fixTimeZone=function(a){var b=a.getHours();a.setHours(23===b?b+2:0)},a.select=function(b){if(a.datepickerMode===h.minMode){var c=i.$viewValue?new Date(i.$viewValue):new Date(0,0,0,0,0,0,0);c.setFullYear(b.getFullYear(),b.getMonth(),b.getDate()),i.$setViewValue(c),i.$render()}else h.activeDate=b,a.datepickerMode=h.modes[h.modes.indexOf(a.datepickerMode)-1]},a.move=function(a){var b=h.activeDate.getFullYear()+a*(h.step.years||0),c=h.activeDate.getMonth()+a*(h.step.months||0);h.activeDate.setFullYear(b,c,1),h.refreshView()},a.toggleMode=function(b){b=b||1,a.datepickerMode===h.maxMode&&1===b||a.datepickerMode===h.minMode&&-1===b||(a.datepickerMode=h.modes[h.modes.indexOf(a.datepickerMode)+b])},a.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var j=function(){h.element[0].focus()};a.$on("datepicker.focus",j),a.keydown=function(b){var c=a.keys[b.which];if(c&&!b.shiftKey&&!b.altKey)if(b.preventDefault(),h.shortcutPropagation||b.stopPropagation(),"enter"===c||"space"===c){if(h.isDisabled(h.activeDate))return;a.select(h.activeDate),j()}else!b.ctrlKey||"up"!==c&&"down"!==c?(h.handleKeyDown(c,b),h.refreshView()):(a.toggleMode("up"===c?1:-1),j())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{datepickerMode:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(a,b,c,d){var e=d[0],f=d[1];f&&e.init(f)}}}).directive("daypicker",["dateFilter",function(a){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(b,c,d,e){function f(a,b){return 1!==b||a%4!==0||a%100===0&&a%400!==0?i[b]:29}function g(a,b){for(var c,d=new Array(b),f=new Date(a),g=0;b>g;)c=new Date(f),e.fixTimeZone(c),d[g++]=c,f.setDate(f.getDate()+1);return d}function h(a){var b=new Date(a);b.setDate(b.getDate()+4-(b.getDay()||7));var c=b.getTime();return b.setMonth(0),b.setDate(1),Math.floor(Math.round((c-b)/864e5)/7)+1}b.showWeeks=e.showWeeks,e.step={months:1},e.element=c;var i=[31,28,31,30,31,30,31,31,30,31,30,31];e._refreshView=function(){var c=e.activeDate.getFullYear(),d=e.activeDate.getMonth(),f=new Date(c,d,1),i=e.startingDay-f.getDay(),j=i>0?7-i:-i,k=new Date(f);j>0&&k.setDate(-j+1);for(var l=g(k,42),m=0;42>m;m++)l[m]=angular.extend(e.createDateObject(l[m],e.formatDay),{secondary:l[m].getMonth()!==d,uid:b.uniqueId+"-"+m});b.labels=new Array(7);for(var n=0;7>n;n++)b.labels[n]={abbr:a(l[n].date,e.formatDayHeader),full:a(l[n].date,"EEEE")};if(b.title=a(e.activeDate,e.formatDayTitle),b.rows=e.split(l,7),b.showWeeks){b.weekNumbers=[];for(var o=(11-e.startingDay)%7,p=b.rows.length,q=0;p>q;q++)b.weekNumbers.push(h(b.rows[q][o].date))}},e.compare=function(a,b){return new Date(a.getFullYear(),a.getMonth(),a.getDate())-new Date(b.getFullYear(),b.getMonth(),b.getDate())},e.handleKeyDown=function(a){var b=e.activeDate.getDate();if("left"===a)b-=1;else if("up"===a)b-=7;else if("right"===a)b+=1;else if("down"===a)b+=7;else if("pageup"===a||"pagedown"===a){var c=e.activeDate.getMonth()+("pageup"===a?-1:1);e.activeDate.setMonth(c,1),b=Math.min(f(e.activeDate.getFullYear(),e.activeDate.getMonth()),b)}else"home"===a?b=1:"end"===a&&(b=f(e.activeDate.getFullYear(),e.activeDate.getMonth()));e.activeDate.setDate(b)},e.refreshView()}}}]).directive("monthpicker",["dateFilter",function(a){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(b,c,d,e){e.step={years:1},e.element=c,e._refreshView=function(){for(var c,d=new Array(12),f=e.activeDate.getFullYear(),g=0;12>g;g++)c=new Date(f,g,1),e.fixTimeZone(c),d[g]=angular.extend(e.createDateObject(c,e.formatMonth),{uid:b.uniqueId+"-"+g});b.title=a(e.activeDate,e.formatMonthTitle),b.rows=e.split(d,3)},e.compare=function(a,b){return new Date(a.getFullYear(),a.getMonth())-new Date(b.getFullYear(),b.getMonth())},e.handleKeyDown=function(a){var b=e.activeDate.getMonth();if("left"===a)b-=1;else if("up"===a)b-=3;else if("right"===a)b+=1;else if("down"===a)b+=3;else if("pageup"===a||"pagedown"===a){var c=e.activeDate.getFullYear()+("pageup"===a?-1:1);e.activeDate.setFullYear(c)}else"home"===a?b=0:"end"===a&&(b=11);e.activeDate.setMonth(b)},e.refreshView()}}}]).directive("yearpicker",["dateFilter",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(a,b,c,d){function e(a){return parseInt((a-1)/f,10)*f+1}var f=d.yearRange;d.step={years:f},d.element=b,d._refreshView=function(){for(var b,c=new Array(f),g=0,h=e(d.activeDate.getFullYear());f>g;g++)b=new Date(h+g,0,1),d.fixTimeZone(b),c[g]=angular.extend(d.createDateObject(b,d.formatYear),{uid:a.uniqueId+"-"+g});a.title=[c[0].label,c[f-1].label].join(" - "),a.rows=d.split(c,5)},d.compare=function(a,b){return a.getFullYear()-b.getFullYear()},d.handleKeyDown=function(a){var b=d.activeDate.getFullYear();"left"===a?b-=1:"up"===a?b-=5:"right"===a?b+=1:"down"===a?b+=5:"pageup"===a||"pagedown"===a?b+=("pageup"===a?-1:1)*d.step.years:"home"===a?b=e(d.activeDate.getFullYear()):"end"===a&&(b=e(d.activeDate.getFullYear())+f-1),d.activeDate.setFullYear(b)},d.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","dateParser","datepickerPopupConfig","$timeout",function(a,b,c,d,e,f,g,h){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(i,j,k,l){function m(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}function n(a){if(angular.isNumber(a)&&(a=new Date(a)),a){if(angular.isDate(a)&&!isNaN(a))return a;if(angular.isString(a)){var b=f.parse(a,p,i.date);return isNaN(b)?void 0:b}return void 0}return null}function o(a,b){var c=a||b;if(!k.ngRequired&&!c)return!0;if(angular.isNumber(c)&&(c=new Date(c)),c){if(angular.isDate(c)&&!isNaN(c))return!0;if(angular.isString(c)){var d=f.parse(c,p);return!isNaN(d)}return!1}return!0}var p,q=angular.isDefined(k.closeOnDateSelection)?i.$parent.$eval(k.closeOnDateSelection):g.closeOnDateSelection,r=angular.isDefined(k.datepickerAppendToBody)?i.$parent.$eval(k.datepickerAppendToBody):g.appendToBody;i.showButtonBar=angular.isDefined(k.showButtonBar)?i.$parent.$eval(k.showButtonBar):g.showButtonBar,i.getText=function(a){return i[a+"Text"]||g[a+"Text"]};var s=!1;if(g.html5Types[k.type]?(p=g.html5Types[k.type],s=!0):(p=k.datepickerPopup||g.datepickerPopup,k.$observe("datepickerPopup",function(a){var b=a||g.datepickerPopup;if(b!==p&&(p=b,l.$modelValue=null,!p))throw new Error("datepickerPopup must have a date format specified.")})),!p)throw new Error("datepickerPopup must have a date format specified.");if(s&&k.datepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");var t=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");t.attr({"ng-model":"date","ng-change":"dateSelection(date)"});var u=angular.element(t.children()[0]);if(s&&"month"==k.type&&(u.attr("datepicker-mode",'"month"'),u.attr("min-mode","month")),k.datepickerOptions){var v=i.$parent.$eval(k.datepickerOptions);v&&v.initDate&&(i.initDate=v.initDate,u.attr("init-date","initDate"),delete v.initDate),angular.forEach(v,function(a,b){u.attr(m(b),a)})}i.watchData={},angular.forEach(["minDate","maxDate","datepickerMode","initDate","shortcutPropagation"],function(a){if(k[a]){var c=b(k[a]);if(i.$parent.$watch(c,function(b){i.watchData[a]=b}),u.attr(m(a),"watchData."+a),"datepickerMode"===a){var d=c.assign;i.$watch("watchData."+a,function(a,b){angular.isFunction(d)&&a!==b&&d(i.$parent,a)})}}}),k.dateDisabled&&u.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),k.showWeeks&&u.attr("show-weeks",k.showWeeks),k.customClass&&u.attr("custom-class","customClass({ date: date, mode: mode })"),s?l.$formatters.push(function(a){return i.date=a,a}):(l.$$parserName="date",l.$validators.date=o,l.$parsers.unshift(n),l.$formatters.push(function(a){return i.date=a,l.$isEmpty(a)?a:e(a,p)})),i.dateSelection=function(a){angular.isDefined(a)&&(i.date=a);var b=i.date?e(i.date,p):null;j.val(b),l.$setViewValue(b),q&&(i.isOpen=!1,j[0].focus())},l.$viewChangeListeners.push(function(){i.date=f.parse(l.$viewValue,p,i.date)});var w=function(a){i.isOpen&&!j[0].contains(a.target)&&i.$apply(function(){i.isOpen=!1})},x=function(a){27===a.which&&i.isOpen?(a.preventDefault(),a.stopPropagation(),i.$apply(function(){i.isOpen=!1}),j[0].focus()):40!==a.which||i.isOpen||(a.preventDefault(),a.stopPropagation(),i.$apply(function(){i.isOpen=!0}))};j.bind("keydown",x),i.keydown=function(a){27===a.which&&(i.isOpen=!1,j[0].focus())},i.$watch("isOpen",function(a){a?(i.position=r?d.offset(j):d.position(j),i.position.top=i.position.top+j.prop("offsetHeight"),h(function(){i.$broadcast("datepicker.focus"),c.bind("click",w)},0,!1)):c.unbind("click",w)}),i.select=function(a){if("today"===a){var b=new Date;angular.isDate(i.date)?(a=new Date(i.date),a.setFullYear(b.getFullYear(),b.getMonth(),b.getDate())):a=new Date(b.setHours(0,0,0,0))}i.dateSelection(a)},i.close=function(){i.isOpen=!1,j[0].focus()};var y=a(t)(i);t.remove(),r?c.find("body").append(y):j.after(y),i.$on("$destroy",function(){i.isOpen===!0&&i.$apply(function(){i.isOpen=!1}),y.remove(),j.unbind("keydown",x),c.unbind("click",w)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html"}}),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document","$rootScope",function(a,b){var c=null;this.open=function(b){c||(a.bind("click",d),a.bind("keydown",e)),c&&c!==b&&(c.isOpen=!1),c=b},this.close=function(b){c===b&&(c=null,a.unbind("click",d),a.unbind("keydown",e))};var d=function(a){if(c&&(!a||"disabled"!==c.getAutoClose())){var d=c.getToggleElement();if(!(a&&d&&d[0].contains(a.target))){var e=c.getDropdownElement();a&&"outsideClick"===c.getAutoClose()&&e&&e[0].contains(a.target)||(c.isOpen=!1,b.$$phase||c.$apply())}}},e=function(a){27===a.which?(c.focusToggleElement(),d()):c.isKeynavEnabled()&&/(38|40)/.test(a.which)&&c.isOpen&&(a.preventDefault(),a.stopPropagation(),c.focusDropdownEntry(a.which))}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate","$position","$document","$compile","$templateRequest",function(a,b,c,d,e,f,g,h,i,j){var k,l,m=this,n=a.$new(),o=d.openClass,p=angular.noop,q=b.onToggle?c(b.onToggle):angular.noop,r=!1,s=!1;this.init=function(d){m.$element=d,b.isOpen&&(l=c(b.isOpen),p=l.assign,a.$watch(l,function(a){n.isOpen=!!a})),r=angular.isDefined(b.dropdownAppendToBody),s=angular.isDefined(b.keyboardNav),r&&m.dropdownMenu&&(h.find("body").append(m.dropdownMenu),d.on("$destroy",function(){m.dropdownMenu.remove()}))},this.toggle=function(a){return n.isOpen=arguments.length?!!a:!n.isOpen},this.isOpen=function(){return n.isOpen},n.getToggleElement=function(){return m.toggleElement},n.getAutoClose=function(){return b.autoClose||"always"},n.getElement=function(){return m.$element},n.isKeynavEnabled=function(){return s},n.focusDropdownEntry=function(a){var b=m.dropdownMenu?angular.element(m.dropdownMenu).find("a"):angular.element(m.$element).find("ul").eq(0).find("a");switch(a){case 40:m.selectedOption=angular.isNumber(m.selectedOption)?m.selectedOption===b.length-1?m.selectedOption:m.selectedOption+1:0;break;case 38:if(!angular.isNumber(m.selectedOption))return;m.selectedOption=0===m.selectedOption?0:m.selectedOption-1}b[m.selectedOption].focus()},n.getDropdownElement=function(){return m.dropdownMenu},n.focusToggleElement=function(){m.toggleElement&&m.toggleElement[0].focus()},n.$watch("isOpen",function(b,c){if(r&&m.dropdownMenu){var d=g.positionElements(m.$element,m.dropdownMenu,"bottom-left",!0),h={top:d.top+"px",display:b?"block":"none"},l=m.dropdownMenu.hasClass("dropdown-menu-right");l?(h.left="auto",h.right=window.innerWidth-(d.left+m.$element.prop("offsetWidth"))+"px"):(h.left=d.left+"px",h.right="auto"),m.dropdownMenu.css(h)}if(f[b?"addClass":"removeClass"](m.$element,o).then(function(){angular.isDefined(b)&&b!==c&&q(a,{open:!!b})}),b)m.dropdownMenuTemplateUrl&&j(m.dropdownMenuTemplateUrl).then(function(a){k=n.$new(),i(a.trim())(k,function(a){var b=a;m.dropdownMenu.replaceWith(b),m.dropdownMenu=b})}),n.focusToggleElement(),e.open(n);else{if(m.dropdownMenuTemplateUrl){k&&k.$destroy();var s=angular.element('<ul class="dropdown-menu"></ul>');m.dropdownMenu.replaceWith(s),m.dropdownMenu=s}e.close(n),m.selectedOption=null}angular.isFunction(p)&&p(a,b)}),a.$on("$locationChangeSuccess",function(){"disabled"!==n.getAutoClose()&&(n.isOpen=!1)}),a.$on("$destroy",function(){n.$destroy()})}]).directive("dropdown",function(){return{controller:"DropdownController",link:function(a,b,c,d){d.init(b),b.addClass("dropdown")}}}).directive("dropdownMenu",function(){return{restrict:"AC",require:"?^dropdown",link:function(a,b,c,d){if(d){var e=c.templateUrl;e&&(d.dropdownMenuTemplateUrl=e),d.dropdownMenu||(d.dropdownMenu=b)}}}}).directive("keyboardNav",function(){return{restrict:"A",require:"?^dropdown",link:function(a,b,c,d){b.bind("keydown",function(a){if(-1!==[38,40].indexOf(a.which)){a.preventDefault(),a.stopPropagation();var c=angular.element(b).find("a");switch(a.keyCode){case 40:d.selectedOption=angular.isNumber(d.selectedOption)?d.selectedOption===c.length-1?d.selectedOption:d.selectedOption+1:0;break;case 38:d.selectedOption=0===d.selectedOption?0:d.selectedOption-1}c[d.selectedOption].focus()}})}}}).directive("dropdownToggle",function(){return{require:"?^dropdown",link:function(a,b,c,d){if(d){b.addClass("dropdown-toggle"),d.toggleElement=b;var e=function(e){e.preventDefault(),b.hasClass("disabled")||c.disabled||a.$apply(function(){d.toggle()})};b.bind("click",e),b.attr({"aria-haspopup":!0,"aria-expanded":!1}),a.$watch(d.isOpen,function(a){b.attr("aria-expanded",!!a)}),a.$on("$destroy",function(){b.unbind("click",e)})}}}}),angular.module("ui.bootstrap.modal",[]).factory("$$stackedMap",function(){return{createNew:function(){var a=[];return{add:function(b,c){a.push({key:b,value:c})},get:function(b){for(var c=0;c<a.length;c++)if(b==a[c].key)return a[c]},keys:function(){for(var b=[],c=0;c<a.length;c++)b.push(a[c].key);return b},top:function(){return a[a.length-1]},remove:function(b){for(var c=-1,d=0;d<a.length;d++)if(b==a[d].key){c=d;break}return a.splice(c,1)[0]},removeTop:function(){return a.splice(a.length-1,1)[0]},length:function(){return a.length}}}}}).directive("modalBackdrop",["$animate","$modalStack",function(a,b){function c(c,d,e){e.modalInClass&&(a.addClass(d,e.modalInClass),c.$on(b.NOW_CLOSING_EVENT,function(b,c){var f=c();a.removeClass(d,e.modalInClass).then(f)}))}return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",compile:function(a,b){return a.addClass(b.backdropClass),c}}}]).directive("modalWindow",["$modalStack","$q","$animate",function(a,b,c){return{restrict:"EA",scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(a,b){return b.templateUrl||"template/modal/window.html"},link:function(d,e,f){e.addClass(f.windowClass||""),d.size=f.size,d.close=function(b){var c=a.getTop();c&&c.value.backdrop&&"static"!=c.value.backdrop&&b.target===b.currentTarget&&(b.preventDefault(),b.stopPropagation(),a.dismiss(c.key,"backdrop click"))},d.$isRendered=!0;var g=b.defer();f.$observe("modalRender",function(a){"true"==a&&g.resolve()}),g.promise.then(function(){f.modalInClass&&(c.addClass(e,f.modalInClass),d.$on(a.NOW_CLOSING_EVENT,function(a,b){var d=b();c.removeClass(e,f.modalInClass).then(d)}));var b=e[0].querySelectorAll("[autofocus]");b.length?b[0].focus():e[0].focus();var g=a.getTop();g&&a.modalRendered(g.key)})}}}]).directive("modalAnimationClass",[function(){return{compile:function(a,b){b.modalAnimation&&a.addClass(b.modalAnimationClass)}}}]).directive("modalTransclude",function(){return{link:function(a,b,c,d,e){e(a.$parent,function(a){b.empty(),b.append(a)})}}}).factory("$modalStack",["$animate","$timeout","$document","$compile","$rootScope","$q","$$stackedMap",function(a,b,c,d,e,f,g){function h(){for(var a=-1,b=q.keys(),c=0;c<b.length;c++)q.get(b[c]).value.backdrop&&(a=c);

return a}function i(a,b){var d=c.find("body").eq(0),e=q.get(a).value;q.remove(a),k(e.modalDomEl,e.modalScope,function(){d.toggleClass(p,q.length()>0)}),j(),b&&b.focus?b.focus():d.focus()}function j(){if(m&&-1==h()){var a=n;k(m,n,function(){a=null}),m=void 0,n=void 0}}function k(b,c,d){function e(){e.done||(e.done=!0,a.leave(b),c.$destroy(),d&&d())}var g,h=null,i=function(){return g||(g=f.defer(),h=g.promise),function(){g.resolve()}};return c.$broadcast(r.NOW_CLOSING_EVENT,i),f.when(h).then(e)}function l(a,b,c){return!a.value.modalScope.$broadcast("modal.closing",b,c).defaultPrevented}var m,n,o,p="modal-open",q=g.createNew(),r={NOW_CLOSING_EVENT:"modal.stack.now-closing"},s=0,t="a[href], area[href], input:not([disabled]), button:not([disabled]),select:not([disabled]), textarea:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable=true]";return e.$watch(h,function(a){n&&(n.index=a)}),c.bind("keydown",function(a){var b=q.top();if(b&&b.value.keyboard)switch(a.which){case 27:a.preventDefault(),e.$apply(function(){r.dismiss(b.key,"escape key press")});break;case 9:r.loadFocusElementList(b);var c=!1;a.shiftKey?r.isFocusInFirstItem(a)&&(c=r.focusLastFocusableElement()):r.isFocusInLastItem(a)&&(c=r.focusFirstFocusableElement()),c&&(a.preventDefault(),a.stopPropagation())}}),r.open=function(a,b){var f=c[0].activeElement;q.add(a,{deferred:b.deferred,renderDeferred:b.renderDeferred,modalScope:b.scope,backdrop:b.backdrop,keyboard:b.keyboard});var g=c.find("body").eq(0),i=h();if(i>=0&&!m){n=e.$new(!0),n.index=i;var j=angular.element('<div modal-backdrop="modal-backdrop"></div>');j.attr("backdrop-class",b.backdropClass),b.animation&&j.attr("modal-animation","true"),m=d(j)(n),g.append(m)}var k=angular.element('<div modal-window="modal-window"></div>');k.attr({"template-url":b.windowTemplateUrl,"window-class":b.windowClass,size:b.size,index:q.length()-1,animate:"animate"}).html(b.content),b.animation&&k.attr("modal-animation","true");var l=d(k)(b.scope);q.top().value.modalDomEl=l,q.top().value.modalOpener=f,g.append(l),g.addClass(p),r.clearFocusListCache()},r.close=function(a,b){var c=q.get(a);return c&&l(c,b,!0)?(c.value.deferred.resolve(b),i(a,c.value.modalOpener),!0):!c},r.dismiss=function(a,b){var c=q.get(a);return c&&l(c,b,!1)?(c.value.deferred.reject(b),i(a,c.value.modalOpener),!0):!c},r.dismissAll=function(a){for(var b=this.getTop();b&&this.dismiss(b.key,a);)b=this.getTop()},r.getTop=function(){return q.top()},r.modalRendered=function(a){var b=q.get(a);b&&b.value.renderDeferred.resolve()},r.focusFirstFocusableElement=function(){return o.length>0?(o[0].focus(),!0):!1},r.focusLastFocusableElement=function(){return o.length>0?(o[o.length-1].focus(),!0):!1},r.isFocusInFirstItem=function(a){return o.length>0?(a.target||a.srcElement)==o[0]:!1},r.isFocusInLastItem=function(a){return o.length>0?(a.target||a.srcElement)==o[o.length-1]:!1},r.clearFocusListCache=function(){o=[],s=0},r.loadFocusElementList=function(a){if((void 0===o||!o.length0)&&a){var b=a.value.modalDomEl;b&&b.length&&(o=b[0].querySelectorAll(t))}},r}]).provider("$modal",function(){var a={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$templateRequest","$controller","$modalStack",function(b,c,d,e,f,g){function h(a){return a.template?d.when(a.template):e(angular.isFunction(a.templateUrl)?a.templateUrl():a.templateUrl)}function i(a){var c=[];return angular.forEach(a,function(a){(angular.isFunction(a)||angular.isArray(a))&&c.push(d.when(b.invoke(a)))}),c}var j={};return j.open=function(b){var e=d.defer(),j=d.defer(),k=d.defer(),l={result:e.promise,opened:j.promise,rendered:k.promise,close:function(a){return g.close(l,a)},dismiss:function(a){return g.dismiss(l,a)}};if(b=angular.extend({},a.options,b),b.resolve=b.resolve||{},!b.template&&!b.templateUrl)throw new Error("One of template or templateUrl options is required.");var m=d.all([h(b)].concat(i(b.resolve)));return m.then(function(a){var d=(b.scope||c).$new();d.$close=l.close,d.$dismiss=l.dismiss;var h,i={},j=1;b.controller&&(i.$scope=d,i.$modalInstance=l,angular.forEach(b.resolve,function(b,c){i[c]=a[j++]}),h=f(b.controller,i),b.controllerAs&&(b.bindToController&&angular.extend(h,d),d[b.controllerAs]=h)),g.open(l,{scope:d,deferred:e,renderDeferred:k,content:a[0],animation:b.animation,backdrop:b.backdrop,keyboard:b.keyboard,backdropClass:b.backdropClass,windowClass:b.windowClass,windowTemplateUrl:b.windowTemplateUrl,size:b.size})},function(a){e.reject(a)}),m.then(function(){j.resolve(!0)},function(a){j.reject(a)}),l},j}]};return a}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function(a,b,c){var d=this,e={$setViewValue:angular.noop},f=b.numPages?c(b.numPages).assign:angular.noop;this.init=function(g,h){e=g,this.config=h,e.$render=function(){d.render()},b.itemsPerPage?a.$parent.$watch(c(b.itemsPerPage),function(b){d.itemsPerPage=parseInt(b,10),a.totalPages=d.calculateTotalPages()}):this.itemsPerPage=h.itemsPerPage,a.$watch("totalItems",function(){a.totalPages=d.calculateTotalPages()}),a.$watch("totalPages",function(b){f(a.$parent,b),a.page>b?a.selectPage(b):e.$render()})},this.calculateTotalPages=function(){var b=this.itemsPerPage<1?1:Math.ceil(a.totalItems/this.itemsPerPage);return Math.max(b||0,1)},this.render=function(){a.page=parseInt(e.$viewValue,10)||1},a.selectPage=function(b,c){var d=!a.ngDisabled||!c;d&&a.page!==b&&b>0&&b<=a.totalPages&&(c&&c.target&&c.target.blur(),e.$setViewValue(b),e.$render())},a.getText=function(b){return a[b+"Text"]||d.config[b+"Text"]},a.noPrevious=function(){return 1===a.page},a.noNext=function(){return a.page===a.totalPages}}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(a,b){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["pagination","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(c,d,e,f){function g(a,b,c){return{number:a,text:b,active:c}}function h(a,b){var c=[],d=1,e=b,f=angular.isDefined(k)&&b>k;f&&(l?(d=Math.max(a-Math.floor(k/2),1),e=d+k-1,e>b&&(e=b,d=e-k+1)):(d=(Math.ceil(a/k)-1)*k+1,e=Math.min(d+k-1,b)));for(var h=d;e>=h;h++){var i=g(h,h,h===a);c.push(i)}if(f&&!l){if(d>1){var j=g(d-1,"...",!1);c.unshift(j)}if(b>e){var m=g(e+1,"...",!1);c.push(m)}}return c}var i=f[0],j=f[1];if(j){var k=angular.isDefined(e.maxSize)?c.$parent.$eval(e.maxSize):b.maxSize,l=angular.isDefined(e.rotate)?c.$parent.$eval(e.rotate):b.rotate;c.boundaryLinks=angular.isDefined(e.boundaryLinks)?c.$parent.$eval(e.boundaryLinks):b.boundaryLinks,c.directionLinks=angular.isDefined(e.directionLinks)?c.$parent.$eval(e.directionLinks):b.directionLinks,i.init(j,b),e.maxSize&&c.$parent.$watch(a(e.maxSize),function(a){k=parseInt(a,10),i.render()});var m=i.render;i.render=function(){m(),c.page>0&&c.page<=c.totalPages&&(c.pages=h(c.page,c.totalPages))}}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:" Previous",nextText:"Next ",align:!0}).directive("pager",["pagerConfig",function(a){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@"},require:["pager","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(b,c,d,e){var f=e[0],g=e[1];g&&(b.align=angular.isDefined(d.align)?b.$parent.$eval(d.align):a.align,f.init(g,a))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function a(a){var b=/[A-Z]/g,c="-";return a.replace(b,function(a,b){return(b?c:"")+a.toLowerCase()})}var b={placement:"top",animation:!0,popupDelay:0,useContentExp:!1},c={mouseenter:"mouseleave",click:"click",focus:"blur"},d={};this.options=function(a){angular.extend(d,a)},this.setTriggers=function(a){angular.extend(c,a)},this.$get=["$window","$compile","$timeout","$document","$position","$interpolate",function(e,f,g,h,i,j){return function(e,k,l,m){function n(a){var b=a||m.trigger||l,d=c[b]||b;return{show:b,hide:d}}m=angular.extend({},b,d,m);var o=a(e),p=j.startSymbol(),q=j.endSymbol(),r="<div "+o+'-popup title="'+p+"title"+q+'" '+(m.useContentExp?'content-exp="contentExp()" ':'content="'+p+"content"+q+'" ')+'placement="'+p+"placement"+q+'" popup-class="'+p+"popupClass"+q+'" animation="animation" is-open="isOpen"origin-scope="origScope" ></div>';return{restrict:"EA",compile:function(){var a=f(r);return function(b,c,d){function f(){E.isOpen?l():j()}function j(){(!D||b.$eval(d[k+"Enable"]))&&(s(),E.popupDelay?A||(A=g(o,E.popupDelay,!1),A.then(function(a){a()})):o()())}function l(){b.$apply(function(){p()})}function o(){return A=null,z&&(g.cancel(z),z=null),(m.useContentExp?E.contentExp():E.content)?(q(),x.css({top:0,left:0,display:"block"}),E.$digest(),F(),E.isOpen=!0,E.$apply(),F):angular.noop}function p(){E.isOpen=!1,g.cancel(A),A=null,E.animation?z||(z=g(r,500)):r()}function q(){x&&r(),y=E.$new(),x=a(y,function(a){B?h.find("body").append(a):c.after(a)}),m.useContentExp&&y.$watch("contentExp()",function(a){G(),!a&&E.isOpen&&p()})}function r(){z=null,x&&(x.remove(),x=null),y&&(y.$destroy(),y=null)}function s(){t(),u(),v()}function t(){E.popupClass=d[k+"Class"]}function u(){var a=d[k+"Placement"];E.placement=angular.isDefined(a)?a:m.placement}function v(){var a=d[k+"PopupDelay"],b=parseInt(a,10);E.popupDelay=isNaN(b)?m.popupDelay:b}function w(){var a=d[k+"Trigger"];H(),C=n(a),C.show===C.hide?c.bind(C.show,f):(c.bind(C.show,j),c.bind(C.hide,l))}var x,y,z,A,B=angular.isDefined(m.appendToBody)?m.appendToBody:!1,C=n(void 0),D=angular.isDefined(d[k+"Enable"]),E=b.$new(!0),F=function(){if(x){var a=i.positionElements(c,x,E.placement,B);a.top+="px",a.left+="px",x.css(a)}},G=function(){g(F,0,!1)};E.origScope=b,E.isOpen=!1,E.contentExp=function(){return b.$eval(d[e])},m.useContentExp||d.$observe(e,function(a){E.content=a,G(),!a&&E.isOpen&&p()}),d.$observe("disabled",function(a){a&&E.isOpen&&p()}),d.$observe(k+"Title",function(a){E.title=a,G()}),d.$observe(k+"Placement",function(){E.isOpen&&g(function(){u(),o()()},0,!1)});var H=function(){c.unbind(C.show,j),c.unbind(C.hide,l)};w();var I=b.$eval(d[k+"Animation"]);E.animation=angular.isDefined(I)?!!I:m.animation;var J=b.$eval(d[k+"AppendToBody"]);B=angular.isDefined(J)?J:B,B&&b.$on("$locationChangeSuccess",function(){E.isOpen&&p()}),b.$on("$destroy",function(){g.cancel(z),g.cancel(A),H(),r(),E=null})}}}}}]}).directive("tooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(a,b,c,d){return{link:function(e,f,g){var h,i,j,k=e.$eval(g.tooltipTemplateTranscludeScope),l=0,m=function(){i&&(i.remove(),i=null),h&&(h.$destroy(),h=null),j&&(a.leave(j).then(function(){i=null}),i=j,j=null)};e.$watch(b.parseAsResourceUrl(g.tooltipTemplateTransclude),function(b){var g=++l;b?(d(b,!0).then(function(d){if(g===l){var e=k.$new(),i=d,n=c(i)(e,function(b){m(),a.enter(b,f)});h=e,j=n,h.$emit("$includeContentLoaded",b)}},function(){g===l&&(m(),e.$emit("$includeContentError",b))}),e.$emit("$includeContentRequested",b)):m()}),e.$on("$destroy",m)}}}]).directive("tooltipClasses",function(){return{restrict:"A",link:function(a,b,c){a.placement&&b.addClass(a.placement),a.popupClass&&b.addClass(a.popupClass),a.animation()&&b.addClass(c.tooltipAnimationClass)}}}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(a){return a("tooltip","tooltip","mouseenter")}]).directive("tooltipTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/tooltip/tooltip-template-popup.html"}}).directive("tooltipTemplate",["$tooltip",function(a){return a("tooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlPopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-popup.html"}}).directive("tooltipHtml",["$tooltip",function(a){return a("tooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).value("tooltipHtmlUnsafeSuppressDeprecated",!1).directive("tooltipHtmlUnsafe",["$tooltip","tooltipHtmlUnsafeSuppressDeprecated","$log",function(a,b,c){return b||c.warn("tooltip-html-unsafe is now deprecated. Use tooltip-html or tooltip-template instead."),a("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/popover/popover-template.html"}}).directive("popoverTemplate",["$tooltip",function(a){return a("popoverTemplate","popover","click",{useContentExp:!0})}]).directive("popoverHtmlPopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",title:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover-html.html"}}).directive("popoverHtml",["$tooltip",function(a){return a("popoverHtml","popover","click",{useContentExp:!0})}]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(a){return a("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig",function(a,b,c){var d=this,e=angular.isDefined(b.animate)?a.$parent.$eval(b.animate):c.animate;this.bars=[],a.max=angular.isDefined(a.max)?a.max:c.max,this.addBar=function(b,c){e||c.css({transition:"none"}),this.bars.push(b),b.max=a.max,b.$watch("value",function(){b.recalculatePercentage()}),b.recalculatePercentage=function(){b.percent=+(100*b.value/b.max).toFixed(2);var a=0;d.bars.forEach(function(b){a+=b.percent}),a>100&&(b.percent-=a-100)},b.$on("$destroy",function(){c=null,d.removeBar(b)})},this.removeBar=function(a){this.bars.splice(this.bars.indexOf(a),1)},a.$watch("max",function(){d.bars.forEach(function(b){b.max=a.max,b.recalculatePercentage()})})}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{max:"=?"},templateUrl:"template/progressbar/progress.html"}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(a,b,c,d){d.addBar(a,b)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(a,b,c,d){d.addBar(a,angular.element(b.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null,titles:["one","two","three","four","five"]}).controller("RatingController",["$scope","$attrs","ratingConfig",function(a,b,c){var d={$setViewValue:angular.noop};this.init=function(e){d=e,d.$render=this.render,d.$formatters.push(function(a){return angular.isNumber(a)&&a<<0!==a&&(a=Math.round(a)),a}),this.stateOn=angular.isDefined(b.stateOn)?a.$parent.$eval(b.stateOn):c.stateOn,this.stateOff=angular.isDefined(b.stateOff)?a.$parent.$eval(b.stateOff):c.stateOff;var f=angular.isDefined(b.titles)?a.$parent.$eval(b.titles):c.titles;this.titles=angular.isArray(f)&&f.length>0?f:c.titles;var g=angular.isDefined(b.ratingStates)?a.$parent.$eval(b.ratingStates):new Array(angular.isDefined(b.max)?a.$parent.$eval(b.max):c.max);a.range=this.buildTemplateObjects(g)},this.buildTemplateObjects=function(a){for(var b=0,c=a.length;c>b;b++)a[b]=angular.extend({index:b},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(b)},a[b]);return a},this.getTitle=function(a){return a>=this.titles.length?a+1:this.titles[a]},a.rate=function(b){!a.readonly&&b>=0&&b<=a.range.length&&(d.$setViewValue(d.$viewValue===b?0:b),d.$render())},a.enter=function(b){a.readonly||(a.value=b),a.onHover({value:b})},a.reset=function(){a.value=d.$viewValue,a.onLeave()},a.onKeydown=function(b){/(37|38|39|40)/.test(b.which)&&(b.preventDefault(),b.stopPropagation(),a.rate(a.value+(38===b.which||39===b.which?1:-1)))},this.render=function(){a.value=d.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(a,b,c,d){var e=d[0],f=d[1];e.init(f)}}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(a){var b=this,c=b.tabs=a.tabs=[];b.select=function(a){angular.forEach(c,function(b){b.active&&b!==a&&(b.active=!1,b.onDeselect())}),a.active=!0,a.onSelect()},b.addTab=function(a){c.push(a),1===c.length&&a.active!==!1?a.active=!0:a.active?b.select(a):a.active=!1},b.removeTab=function(a){var e=c.indexOf(a);if(a.active&&c.length>1&&!d){var f=e==c.length-1?e-1:e+1;b.select(c[f])}c.splice(e,1)};var d;a.$on("$destroy",function(){d=!0})}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(a,b,c){a.vertical=angular.isDefined(c.vertical)?a.$parent.$eval(c.vertical):!1,a.justified=angular.isDefined(c.justified)?a.$parent.$eval(c.justified):!1}}}).directive("tab",["$parse","$log",function(a,b){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},link:function(c,d,e,f,g){c.$watch("active",function(a){a&&f.select(c)}),c.disabled=!1,e.disable&&c.$parent.$watch(a(e.disable),function(a){c.disabled=!!a}),e.disabled&&(b.warn('Use of "disabled" attribute has been deprecated, please use "disable"'),c.$parent.$watch(a(e.disabled),function(a){c.disabled=!!a})),c.select=function(){c.disabled||(c.active=!0)},f.addTab(c),c.$on("$destroy",function(){f.removeTab(c)}),c.$transcludeFn=g}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(a,b){a.$watch("headingElement",function(a){a&&(b.html(""),b.append(a))})}}}]).directive("tabContentTransclude",function(){function a(a){return a.tagName&&(a.hasAttribute("tab-heading")||a.hasAttribute("data-tab-heading")||"tab-heading"===a.tagName.toLowerCase()||"data-tab-heading"===a.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(b,c,d){var e=b.$eval(d.tabContentTransclude);e.$transcludeFn(e.$parent,function(b){angular.forEach(b,function(b){a(b)?e.headingElement=b:c.append(b)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function(a,b,c,d,e,f){function g(){var b=parseInt(a.hours,10),c=a.showMeridian?b>0&&13>b:b>=0&&24>b;return c?(a.showMeridian&&(12===b&&(b=0),a.meridian===p[1]&&(b+=12)),b):void 0}function h(){var b=parseInt(a.minutes,10);return b>=0&&60>b?b:void 0}function i(a){return angular.isDefined(a)&&a.toString().length<2?"0"+a:a.toString()}function j(a){k(),o.$setViewValue(new Date(n)),l(a)}function k(){o.$setValidity("time",!0),a.invalidHours=!1,a.invalidMinutes=!1}function l(b){var c=n.getHours(),d=n.getMinutes();a.showMeridian&&(c=0===c||12===c?12:c%12),a.hours="h"===b?c:i(c),"m"!==b&&(a.minutes=i(d)),a.meridian=n.getHours()<12?p[0]:p[1]}function m(a){var b=new Date(n.getTime()+6e4*a);n.setHours(b.getHours(),b.getMinutes()),j()}var n=new Date,o={$setViewValue:angular.noop},p=angular.isDefined(b.meridians)?a.$parent.$eval(b.meridians):f.meridians||e.DATETIME_FORMATS.AMPMS;this.init=function(c,d){o=c,o.$render=this.render,o.$formatters.unshift(function(a){return a?new Date(a):null});var e=d.eq(0),g=d.eq(1),h=angular.isDefined(b.mousewheel)?a.$parent.$eval(b.mousewheel):f.mousewheel;h&&this.setupMousewheelEvents(e,g);var i=angular.isDefined(b.arrowkeys)?a.$parent.$eval(b.arrowkeys):f.arrowkeys;i&&this.setupArrowkeyEvents(e,g),a.readonlyInput=angular.isDefined(b.readonlyInput)?a.$parent.$eval(b.readonlyInput):f.readonlyInput,this.setupInputEvents(e,g)};var q=f.hourStep;b.hourStep&&a.$parent.$watch(c(b.hourStep),function(a){q=parseInt(a,10)});var r=f.minuteStep;b.minuteStep&&a.$parent.$watch(c(b.minuteStep),function(a){r=parseInt(a,10)}),a.showMeridian=f.showMeridian,b.showMeridian&&a.$parent.$watch(c(b.showMeridian),function(b){if(a.showMeridian=!!b,o.$error.time){var c=g(),d=h();angular.isDefined(c)&&angular.isDefined(d)&&(n.setHours(c),j())}else l()}),this.setupMousewheelEvents=function(b,c){var d=function(a){a.originalEvent&&(a=a.originalEvent);var b=a.wheelDelta?a.wheelDelta:-a.deltaY;return a.detail||b>0};b.bind("mousewheel wheel",function(b){a.$apply(d(b)?a.incrementHours():a.decrementHours()),b.preventDefault()}),c.bind("mousewheel wheel",function(b){a.$apply(d(b)?a.incrementMinutes():a.decrementMinutes()),b.preventDefault()})},this.setupArrowkeyEvents=function(b,c){b.bind("keydown",function(b){38===b.which?(b.preventDefault(),a.incrementHours(),a.$apply()):40===b.which&&(b.preventDefault(),a.decrementHours(),a.$apply())}),c.bind("keydown",function(b){38===b.which?(b.preventDefault(),a.incrementMinutes(),a.$apply()):40===b.which&&(b.preventDefault(),a.decrementMinutes(),a.$apply())})},this.setupInputEvents=function(b,c){if(a.readonlyInput)return a.updateHours=angular.noop,void(a.updateMinutes=angular.noop);var d=function(b,c){o.$setViewValue(null),o.$setValidity("time",!1),angular.isDefined(b)&&(a.invalidHours=b),angular.isDefined(c)&&(a.invalidMinutes=c)};a.updateHours=function(){var a=g();angular.isDefined(a)?(n.setHours(a),j("h")):d(!0)},b.bind("blur",function(){!a.invalidHours&&a.hours<10&&a.$apply(function(){a.hours=i(a.hours)})}),a.updateMinutes=function(){var a=h();angular.isDefined(a)?(n.setMinutes(a),j("m")):d(void 0,!0)},c.bind("blur",function(){!a.invalidMinutes&&a.minutes<10&&a.$apply(function(){a.minutes=i(a.minutes)})})},this.render=function(){var a=o.$viewValue;isNaN(a)?(o.$setValidity("time",!1),d.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(a&&(n=a),k(),l())},a.showSpinners=angular.isDefined(b.showSpinners)?a.$parent.$eval(b.showSpinners):f.showSpinners,a.incrementHours=function(){m(60*q)},a.decrementHours=function(){m(60*-q)},a.incrementMinutes=function(){m(r)},a.decrementMinutes=function(){m(-r)},a.toggleMeridian=function(){m(720*(n.getHours()<12?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(a,b,c,d){var e=d[0],f=d[1];f&&e.init(f,b.find("input"))}}}),angular.module("ui.bootstrap.transition",[]).value("$transitionSuppressDeprecated",!1).factory("$transition",["$q","$timeout","$rootScope","$log","$transitionSuppressDeprecated",function(a,b,c,d,e){function f(a){for(var b in a)if(void 0!==h.style[b])return a[b]}e||d.warn("$transition is now deprecated. Use $animate from ngAnimate instead.");var g=function(d,e,f){f=f||{};var h=a.defer(),i=g[f.animation?"animationEndEventName":"transitionEndEventName"],j=function(){c.$apply(function(){d.unbind(i,j),h.resolve(d)})};return i&&d.bind(i,j),b(function(){angular.isString(e)?d.addClass(e):angular.isFunction(e)?e(d):angular.isObject(e)&&d.css(e),i||h.resolve(d)}),h.promise.cancel=function(){i&&d.unbind(i,j),h.reject("Transition cancelled")},h.promise},h=document.createElement("trans"),i={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},j={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return g.transitionEndEventName=f(i),g.animationEndEventName=f(j),g}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function(a){var b=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(c){var d=c.match(b);if(!d)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+c+'".');return{itemName:d[3],source:a(d[4]),viewMapper:a(d[2]||d[1]),modelMapper:a(d[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$window","$rootScope","$position","typeaheadParser",function(a,b,c,d,e,f,g,h,i){var j=[9,13,27,38,40],k=200;return{require:"ngModel",link:function(l,m,n,o){function p(){G.moveInProgress||(G.moveInProgress=!0,G.$digest()),N&&d.cancel(N),N=d(function(){G.matches.length&&q(),G.moveInProgress=!1,G.$digest()},k)}function q(){G.position=B?h.offset(m):h.position(m),G.position.top+=m.prop("offsetHeight")}var r=l.$eval(n.typeaheadMinLength);r||0===r||(r=1);var s,t,u=l.$eval(n.typeaheadWaitMs)||0,v=l.$eval(n.typeaheadEditable)!==!1,w=b(n.typeaheadLoading).assign||angular.noop,x=b(n.typeaheadOnSelect),y=angular.isDefined(n.typeaheadSelectOnBlur)?l.$eval(n.typeaheadSelectOnBlur):!1,z=b(n.typeaheadNoResults).assign||angular.noop,A=n.typeaheadInputFormatter?b(n.typeaheadInputFormatter):void 0,B=n.typeaheadAppendToBody?l.$eval(n.typeaheadAppendToBody):!1,C=l.$eval(n.typeaheadFocusFirst)!==!1,D=n.typeaheadSelectOnExact?l.$eval(n.typeaheadSelectOnExact):!1,E=b(n.ngModel).assign,F=i.parse(n.typeahead),G=l.$new();l.$on("$destroy",function(){G.$destroy()});var H="typeahead-"+G.$id+"-"+Math.floor(1e4*Math.random());m.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":H});var I=angular.element("<div typeahead-popup></div>");I.attr({id:H,matches:"matches",active:"activeIdx",select:"select(activeIdx)","move-in-progress":"moveInProgress",query:"query",position:"position"}),angular.isDefined(n.typeaheadTemplateUrl)&&I.attr("template-url",n.typeaheadTemplateUrl);var J=function(){G.matches=[],G.activeIdx=-1,m.attr("aria-expanded",!1)},K=function(a){return H+"-option-"+a};G.$watch("activeIdx",function(a){0>a?m.removeAttr("aria-activedescendant"):m.attr("aria-activedescendant",K(a))});var L=function(a,b){return G.matches.length>b&&a?a.toUpperCase()===G.matches[b].label.toUpperCase():!1},M=function(a){var b={$viewValue:a};w(l,!0),z(l,!1),c.when(F.source(l,b)).then(function(c){var d=a===o.$viewValue;if(d&&s)if(c&&c.length>0){G.activeIdx=C?0:-1,z(l,!1),G.matches.length=0;for(var e=0;e<c.length;e++)b[F.itemName]=c[e],G.matches.push({id:K(e),label:F.viewMapper(G,b),model:c[e]});G.query=a,q(),m.attr("aria-expanded",!0),D&&1===G.matches.length&&L(a,0)&&G.select(0)}else J(),z(l,!0);d&&w(l,!1)},function(){J(),w(l,!1),z(l,!0)})};B&&(angular.element(f).bind("resize",p),e.find("body").bind("scroll",p));var N;G.moveInProgress=!1,J(),G.query=void 0;var O,P=function(a){O=d(function(){M(a)},u)},Q=function(){O&&d.cancel(O)};o.$parsers.unshift(function(a){return s=!0,0===r||a&&a.length>=r?u>0?(Q(),P(a)):M(a):(w(l,!1),Q(),J()),v?a:a?void o.$setValidity("editable",!1):(o.$setValidity("editable",!0),a)}),o.$formatters.push(function(a){var b,c,d={};return v||o.$setValidity("editable",!0),A?(d.$model=a,A(l,d)):(d[F.itemName]=a,b=F.viewMapper(l,d),d[F.itemName]=void 0,c=F.viewMapper(l,d),b!==c?b:a)}),G.select=function(a){var b,c,e={};t=!0,e[F.itemName]=c=G.matches[a].model,b=F.modelMapper(l,e),E(l,b),o.$setValidity("editable",!0),o.$setValidity("parse",!0),x(l,{$item:c,$model:b,$label:F.viewMapper(l,e)}),J(),d(function(){m[0].focus()},0,!1)},m.bind("keydown",function(a){if(0!==G.matches.length&&-1!==j.indexOf(a.which)){if(-1===G.activeIdx&&(9===a.which||13===a.which))return J(),void G.$digest();a.preventDefault(),40===a.which?(G.activeIdx=(G.activeIdx+1)%G.matches.length,G.$digest()):38===a.which?(G.activeIdx=(G.activeIdx>0?G.activeIdx:G.matches.length)-1,G.$digest()):13===a.which||9===a.which?G.$apply(function(){G.select(G.activeIdx)}):27===a.which&&(a.stopPropagation(),J(),G.$digest())}}),m.bind("blur",function(){y&&G.matches.length&&-1!==G.activeIdx&&!t&&(t=!0,G.$apply(function(){G.select(G.activeIdx)})),s=!1,t=!1});var R=function(a){m[0]!==a.target&&3!==a.which&&0!==G.matches.length&&(J(),g.$$phase||G.$digest())};e.bind("click",R),l.$on("$destroy",function(){e.unbind("click",R),B&&S.remove(),I.remove()});var S=a(I)(G);B?e.find("body").append(S):m.after(S)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(a,b,c){a.templateUrl=c.templateUrl,a.isOpen=function(){return a.matches.length>0},a.isActive=function(b){return a.active==b},a.selectActive=function(b){a.active=b},a.selectMatch=function(b){a.select({activeIdx:b})}}}}).directive("typeaheadMatch",["$templateRequest","$compile","$parse",function(a,b,c){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(d,e,f){var g=c(f.templateUrl)(d.$parent)||"template/typeahead/typeahead-match.html";a(g).then(function(a){b(a.trim())(d,function(a){e.replaceWith(a)})})}}}]).filter("typeaheadHighlight",function(){function a(a){return a.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(b,c){return c?(""+b).replace(new RegExp(a(c),"gi"),"<strong>$&</strong>"):b}}),!angular.$$csp()&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>');

